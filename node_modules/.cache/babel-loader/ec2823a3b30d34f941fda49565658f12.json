{"ast":null,"code":"import { createElement, Browser, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { ContextMenu as Context } from '@syncfusion/ej2-navigations';\nimport { ContextMenuItem } from './types';\n/**\n * ContextMenu module is used to handle the context menus used in the control.\n *\n * @hidden\n */\n\nvar ContextMenu =\n/** @class */\nfunction () {\n  /**\n   * Initialize the constructor of ontextmenu\n   *\n   * @param { PdfViewer } pdfViewer - Specified PdfViewer class.\n   * @param { PdfViewerBase } pdfViewerBase - The pdfViewerBase.\n   */\n  function ContextMenu(pdfViewer, pdfViewerBase) {\n    this.copyContextMenu = [];\n    this.contextMenuList = [];\n    this.pdfViewer = pdfViewer;\n    this.pdfViewerBase = pdfViewerBase;\n    this.copyContextMenu = [{\n      text: this.pdfViewer.localeObj.getConstant('Cut'),\n      iconCss: 'e-pv-cut-icon'\n    }, {\n      text: this.pdfViewer.localeObj.getConstant('Copy'),\n      iconCss: 'e-pv-copy-icon'\n    }, {\n      text: this.pdfViewer.localeObj.getConstant('Highlight context'),\n      iconCss: 'e-pv-highlight-icon'\n    }, {\n      text: this.pdfViewer.localeObj.getConstant('Underline context'),\n      iconCss: 'e-pv-underline-icon'\n    }, {\n      text: this.pdfViewer.localeObj.getConstant('Strikethrough context'),\n      iconCss: 'e-pv-strikethrough-icon'\n    }, {\n      text: this.pdfViewer.localeObj.getConstant('Paste'),\n      iconCss: 'e-pv-paste-icon'\n    }, {\n      text: this.pdfViewer.localeObj.getConstant('Delete Context'),\n      iconCss: 'e-pv-delete-icon'\n    }, {\n      text: this.pdfViewer.localeObj.getConstant('Scale Ratio'),\n      iconCss: 'e-pv-scale-ratio-icon'\n    }, {\n      separator: true,\n      id: pdfViewer.element.id + '_context_menu_comment_separator'\n    }, {\n      text: this.pdfViewer.localeObj.getConstant('Comment'),\n      iconCss: 'e-pv-comment-icon'\n    }, {\n      separator: true,\n      id: pdfViewer.element.id + '_context_menu_separator'\n    }, {\n      text: this.pdfViewer.localeObj.getConstant('Properties'),\n      iconCss: 'e-pv-property-icon'\n    }];\n  }\n  /**\n   * @private\n   * @returns {void}\n   */\n\n\n  ContextMenu.prototype.createContextMenu = function () {\n    this.contextMenuElement = createElement('ul', {\n      id: this.pdfViewer.element.id + '_context_menu',\n      className: 'e-pv-context-menu'\n    });\n    this.pdfViewer.element.appendChild(this.contextMenuElement);\n    this.contextMenuObj = new Context({\n      target: '#' + this.pdfViewerBase.viewerContainer.id,\n      items: this.copyContextMenu,\n      beforeOpen: this.contextMenuOnBeforeOpen.bind(this),\n      select: this.onMenuItemSelect.bind(this),\n      created: this.contextMenuOnCreated.bind(this)\n    });\n\n    if (this.pdfViewer.enableRtl) {\n      this.contextMenuObj.enableRtl = true;\n    }\n\n    this.contextMenuObj.appendTo(this.contextMenuElement);\n\n    if (Browser.isDevice && !this.pdfViewer.enableDesktopMode) {\n      this.contextMenuObj.animationSettings.effect = 'ZoomIn';\n    } else {\n      this.contextMenuObj.animationSettings.effect = 'SlideDown';\n    }\n  };\n\n  ContextMenu.prototype.contextMenuOnCreated = function (args) {\n    // eslint-disable-next-line max-len\n    var items = [this.pdfViewer.localeObj.getConstant('Highlight context'), this.pdfViewer.localeObj.getConstant('Underline context'), this.pdfViewer.localeObj.getConstant('Strikethrough context')];\n\n    if (this.pdfViewer.annotationModule) {\n      if (!this.pdfViewer.annotationModule.textMarkupAnnotationModule) {\n        this.contextMenuObj.enableItems(items, false);\n      }\n    } else {\n      this.contextMenuObj.enableItems(items, false);\n    }\n  };\n\n  ContextMenu.prototype.setTarget = function (args) {\n    var target = null;\n\n    if (args.event && args.event.target) {\n      target = args.event.target;\n      this.currentTarget = target;\n    }\n\n    return target;\n  };\n\n  ContextMenu.prototype.contextMenuOnBeforeOpen = function (args) {\n    var target = this.setTarget(args);\n    var currentAnnotSettings = this.pdfViewer.selectedItems.annotations.length !== 0 ? this.pdfViewer.selectedItems.annotations[0].annotationSettings : null; // eslint-disable-next-line max-len\n\n    if (this.pdfViewer.annotationModule && this.pdfViewer.annotationModule.freeTextAnnotationModule && this.pdfViewer.annotationModule.freeTextAnnotationModule.isInuptBoxInFocus && target && target.className === 'free-text-input' && target.tagName === 'TEXTAREA') {\n      this.pdfViewerBase.isFreeTextContextMenu = true;\n    } // eslint-disable-next-line max-len\n\n\n    this.contextMenuObj.showItems([this.pdfViewer.localeObj.getConstant('Cut'), this.pdfViewer.localeObj.getConstant('Copy'), this.pdfViewer.localeObj.getConstant('Paste'), // eslint-disable-next-line max-len\n    this.pdfViewer.localeObj.getConstant('Highlight context'), this.pdfViewer.localeObj.getConstant('Underline context'), this.pdfViewer.localeObj.getConstant('Strikethrough context'), // eslint-disable-next-line max-len\n    this.pdfViewer.localeObj.getConstant('Delete Context'), this.pdfViewer.localeObj.getConstant('Scale Ratio'), this.pdfViewer.localeObj.getConstant('Comment'), this.pdfViewer.localeObj.getConstant('Properties')]);\n    this.pdfViewerBase.getElement('_context_menu_separator').classList.remove('e-menu-hide');\n    this.pdfViewerBase.getElement('_context_menu_comment_separator').classList.remove('e-menu-hide'); // eslint-disable-next-line max-len\n\n    this.contextMenuObj.enableItems([this.pdfViewer.localeObj.getConstant('Cut'), this.pdfViewer.localeObj.getConstant('Copy'), this.pdfViewer.localeObj.getConstant('Paste'), this.pdfViewer.localeObj.getConstant('Delete Context')], true);\n\n    if (this.pdfViewer.annotationModule) {\n      this.pdfViewer.annotationModule.checkContextMenuDeleteItem(this.contextMenuObj);\n    }\n\n    if (this.pdfViewer.textSelectionModule || this.pdfViewerBase.isShapeBasedAnnotationsEnabled()) {\n      if (args.event || this.pdfViewerBase.isTouchDesignerMode) {\n        var isClickWithinSelectionBounds = this.pdfViewerBase.isClickWithinSelectionBounds(args.event); // eslint-disable-next-line max-len\n\n        if (this.pdfViewerBase.isFreeTextContextMenu) {\n          this.contextMenuObj.hideItems([this.pdfViewer.localeObj.getConstant('Highlight context'), this.pdfViewer.localeObj.getConstant('Underline context'), this.pdfViewer.localeObj.getConstant('Strikethrough context'), this.pdfViewer.localeObj.getConstant('Properties'), this.pdfViewer.localeObj.getConstant('Comment'), this.pdfViewer.localeObj.getConstant('Scale Ratio'), this.pdfViewer.localeObj.getConstant('Delete Context')]);\n          this.pdfViewerBase.getElement('_context_menu_separator').classList.add('e-menu-hide');\n          this.pdfViewerBase.getElement('_context_menu_comment_separator').classList.add('e-menu-hide'); // eslint-disable-next-line max-len\n\n          if (this.pdfViewer.annotation.freeTextAnnotationModule && this.pdfViewer.annotation.freeTextAnnotationModule.isTextSelected) {\n            this.contextMenuObj.enableItems([this.pdfViewer.localeObj.getConstant('Copy')], true);\n            this.contextMenuObj.enableItems([this.pdfViewer.localeObj.getConstant('Cut')], true);\n          } else {\n            this.contextMenuObj.enableItems([this.pdfViewer.localeObj.getConstant('Copy')], false);\n            this.contextMenuObj.enableItems([this.pdfViewer.localeObj.getConstant('Cut')], false);\n            window.getSelection().removeAllRanges();\n          } // eslint-disable-next-line max-len\n\n\n          if (this.pdfViewer.annotation.freeTextAnnotationModule && this.pdfViewer.annotation.freeTextAnnotationModule.selectedText !== '') {\n            this.contextMenuObj.enableItems([this.pdfViewer.localeObj.getConstant('Paste')], true);\n          } else {\n            this.contextMenuObj.enableItems([this.pdfViewer.localeObj.getConstant('Paste')], false);\n          }\n        } else if (isClickWithinSelectionBounds && this.pdfViewer.textSelectionModule) {\n          // eslint-disable-next-line max-len\n          if (!args.event.target.classList.contains('e-pv-maintaincontent') && args.event.target.classList.contains('e-pv-text') || args.event.target.classList.contains('e-pv-text-layer')) {\n            if (this.pdfViewerBase.checkIsNormalText()) {\n              args.cancel = true;\n            } // eslint-disable-next-line max-len\n\n          } else if ((Browser.isIE || Browser.info.name === 'edge') && args.event.target.classList.contains('e-pv-page-container')) {\n            args.cancel = true;\n          } // eslint-disable-next-line max-len\n\n\n          this.contextMenuObj.hideItems([this.pdfViewer.localeObj.getConstant('Cut'), this.pdfViewer.localeObj.getConstant('Paste'), this.pdfViewer.localeObj.getConstant('Delete Context'), this.pdfViewer.localeObj.getConstant('Scale Ratio'), this.pdfViewer.localeObj.getConstant('Comment'), this.pdfViewer.localeObj.getConstant('Properties')]);\n          this.pdfViewerBase.getElement('_context_menu_separator').classList.add('e-menu-hide');\n          this.pdfViewerBase.getElement('_context_menu_comment_separator').classList.add('e-menu-hide'); // eslint-disable-next-line max-len\n        } else if (this.pdfViewer.selectedItems.annotations.length !== 0 && (this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType === 'HandWrittenSignature' || this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType === 'SignatureText' || this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType === 'SignatureImage')) {\n          this.onOpeningForShape(false, true); // eslint-disable-next-line max-len\n        } else if (this.pdfViewer.selectedItems.annotations.length !== 0 && this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType !== 'Path' && !currentAnnotSettings.isLock) {\n          this.onOpeningForShape(true); // eslint-disable-next-line max-len\n        } else if (this.pdfViewer.selectedItems.formFields.length !== 0 && this.pdfViewer.selectedItems.formFields[0].formFieldAnnotationType && this.pdfViewer.designerMode) {\n          this.onOpeningForShape(true); // eslint-disable-next-line max-len\n\n          if (!isNullOrUndefined(this.pdfViewer.toolbar) && !isNullOrUndefined(this.pdfViewer.toolbar.formDesignerToolbarModule)) {\n            this.pdfViewer.toolbar.formDesignerToolbarModule.showHideDeleteIcon(true);\n          }\n        } else {\n          // eslint-disable-next-line\n          var target_1 = this.pdfViewerBase.designerModetarget;\n          var annotationModule = this.pdfViewer.annotationModule;\n\n          if (args.event && args.event.target) {\n            target_1 = args.event.target;\n          } // eslint-disable-next-line max-len\n\n\n          if (this.pdfViewer.annotation && this.pdfViewer.annotation.isShapeCopied && (target_1.classList.contains('e-pv-text-layer') || target_1.classList.contains('e-pv-text')) && !this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAnnotation) {\n            this.onOpeningForShape(false); // eslint-disable-next-line max-len\n          } else if (this.pdfViewer.formDesigner && this.pdfViewer.formDesigner.isShapeCopied && (target_1.classList.contains('e-pv-text-layer') || target_1.classList.contains('e-pv-text'))) {\n            this.onOpeningForShape(false); // eslint-disable-next-line max-len\n          } else if (this.pdfViewerBase.isCalibrateAnnotationModule() && this.pdfViewer.annotationModule.measureAnnotationModule.currentAnnotationMode && !currentAnnotSettings) {\n            // eslint-disable-next-line max-len\n            this.contextMenuObj.hideItems([this.pdfViewer.localeObj.getConstant('Highlight context'), this.pdfViewer.localeObj.getConstant('Underline context'), this.pdfViewer.localeObj.getConstant('Strikethrough context'), this.pdfViewer.localeObj.getConstant('Properties')]);\n            this.pdfViewerBase.getElement('_context_menu_separator').classList.add('e-menu-hide');\n            this.pdfViewerBase.getElement('_context_menu_comment_separator').classList.remove('e-menu-hide'); // eslint-disable-next-line max-len\n\n            this.contextMenuObj.enableItems([this.pdfViewer.localeObj.getConstant('Cut'), this.pdfViewer.localeObj.getConstant('Copy'), this.pdfViewer.localeObj.getConstant('Paste'), this.pdfViewer.localeObj.getConstant('Delete Context'), this.pdfViewer.localeObj.getConstant('Comment')], false); // eslint-disable-next-line max-len\n          } else if (annotationModule && annotationModule.textMarkupAnnotationModule && annotationModule.textMarkupAnnotationModule.currentTextMarkupAnnotation && !annotationModule.textMarkupAnnotationModule.currentTextMarkupAnnotation.annotationSettings.isLock) {\n            // eslint-disable-next-line max-len\n            this.contextMenuObj.hideItems([this.pdfViewer.localeObj.getConstant('Highlight context'), this.pdfViewer.localeObj.getConstant('Underline context'), this.pdfViewer.localeObj.getConstant('Strikethrough context'), this.pdfViewer.localeObj.getConstant('Properties'), this.pdfViewer.localeObj.getConstant('Cut'), this.pdfViewer.localeObj.getConstant('Copy'), this.pdfViewer.localeObj.getConstant('Paste'), this.pdfViewer.localeObj.getConstant('Scale Ratio')]);\n            this.pdfViewerBase.getElement('_context_menu_separator').classList.add('e-menu-hide');\n            this.pdfViewerBase.getElement('_context_menu_comment_separator').classList.remove('e-menu-hide'); // eslint-disable-next-line max-len\n\n            this.contextMenuObj.showItems([this.pdfViewer.localeObj.getConstant('Delete Context'), this.pdfViewer.localeObj.getConstant('Comment')], false);\n          } else {\n            args.cancel = true;\n          }\n        }\n      } else if (this.pdfViewer.textSelectionModule && this.pdfViewer.contextMenuOption === 'MouseUp') {\n        // eslint-disable-next-line max-len\n        this.contextMenuObj.hideItems([this.pdfViewer.localeObj.getConstant('Cut'), this.pdfViewer.localeObj.getConstant('Paste'), this.pdfViewer.localeObj.getConstant('Delete Context'), this.pdfViewer.localeObj.getConstant('Scale Ratio'), this.pdfViewer.localeObj.getConstant('Comment'), this.pdfViewer.localeObj.getConstant('Properties')]);\n        this.pdfViewerBase.getElement('_context_menu_separator').classList.add('e-menu-hide');\n        this.pdfViewerBase.getElement('_context_menu_comment_separator').classList.add('e-menu-hide');\n      } else {\n        this.hideContextItems();\n      }\n\n      this.enableCommentPanelItem();\n    } else {\n      args.cancel = true;\n    }\n\n    if (this.pdfViewer.contextMenuOption === 'None') {\n      args.cancel = true;\n    } else {\n      this.contextMenuItems(args);\n    }\n\n    if (this.pdfViewer.annotationModule && this.pdfViewer.annotationModule.restrictContextMenu()) {\n      args.cancel = true;\n    }\n\n    this.pdfViewerBase.isTouchDesignerMode = false;\n  };\n\n  ContextMenu.prototype.contextMenuItems = function (args) {\n    if (this.pdfViewer.contextMenuSettings.contextMenuItems.length) {\n      var hideMenuItems = [];\n      var contextMenuList = this.contextMenuCollection();\n      var ul = this.contextMenuObj.getRootElement();\n\n      for (var j = 0; j < this.pdfViewer.contextMenuSettings.contextMenuItems.length; j++) {\n        for (var i = 0; i < this.contextMenuList.length; i++) {\n          var menuItem = this.contextMenuList[i].text;\n\n          switch (menuItem) {\n            case 'Highlight':\n              menuItem = 'Highlight context';\n              break;\n\n            case 'Underline':\n              menuItem = 'Underline context';\n              break;\n\n            case 'Strikethrough':\n              menuItem = 'Strikethrough context';\n              break;\n\n            case 'Delete':\n              menuItem = 'Delete Context';\n              break;\n\n            case 'Scale Ratio':\n              menuItem = 'Scale Ratio';\n              break;\n\n            case 'Comment':\n              this.pdfViewerBase.getElement('_context_menu_comment_separator').classList.add('e-menu-hide');\n              break;\n\n            case 'Properties':\n              this.pdfViewerBase.getElement('_context_menu_separator').classList.add('e-menu-hide');\n              break;\n          }\n\n          var menuName = this.contextMenuList[i].text;\n\n          if (j === 0 && menuName !== ContextMenuItem[this.pdfViewer.contextMenuSettings.contextMenuItems[j]]) {\n            hideMenuItems.push(menuName);\n          }\n\n          if (j > 0 && menuName === ContextMenuItem[this.pdfViewer.contextMenuSettings.contextMenuItems[j]]) {\n            for (var k = 0; k < hideMenuItems.length; k++) {\n              if (hideMenuItems[k] === menuName) {\n                if (this.pdfViewer.disableContextMenuItems && this.pdfViewer.disableContextMenuItems.length > 0) {\n                  var isDisabled = false;\n\n                  for (var l = 0; l < this.pdfViewer.disableContextMenuItems.length; l++) {\n                    if (hideMenuItems[k] === ContextMenuItem[this.pdfViewer.disableContextMenuItems[l]]) {\n                      isDisabled = true;\n                    }\n                  }\n\n                  if (!isDisabled) {\n                    hideMenuItems.splice(k, 1);\n                  }\n                } else {\n                  hideMenuItems.splice(k, 1);\n                }\n              }\n            }\n          }\n        }\n      }\n\n      var hideLocaleItem = this.processLocaleContent(hideMenuItems);\n      this.contextMenuObj.hideItems(hideLocaleItem);\n\n      if (this.getEnabledItemCount(ul) === 0) {\n        args.cancel = true;\n      }\n    }\n  };\n\n  ContextMenu.prototype.processLocaleContent = function (hideMenuItems) {\n    var contextMenuLocaleContent = [];\n\n    if (hideMenuItems.length > 0) {\n      for (var i = 0; i < hideMenuItems.length; i++) {\n        var menuItem = hideMenuItems[i];\n\n        switch (menuItem) {\n          case 'Highlight':\n            menuItem = 'Highlight context';\n            break;\n\n          case 'Underline':\n            menuItem = 'Underline context';\n            break;\n\n          case 'Strikethrough':\n            menuItem = 'Strikethrough context';\n            break;\n\n          case 'Delete':\n            menuItem = 'Delete Context';\n            break;\n\n          case 'ScaleRatio':\n            menuItem = 'Scale Ratio';\n            break;\n        }\n\n        contextMenuLocaleContent.push(this.pdfViewer.localeObj.getConstant(menuItem));\n      }\n    }\n\n    return contextMenuLocaleContent;\n  };\n\n  ContextMenu.prototype.contextMenuCollection = function () {\n    return this.contextMenuList = [{\n      text: 'Cut'\n    }, {\n      text: 'Copy'\n    }, {\n      text: 'Highlight'\n    }, {\n      text: 'Underline'\n    }, {\n      text: 'Strikethrough'\n    }, {\n      text: 'Paste'\n    }, {\n      text: 'Delete'\n    }, {\n      text: 'ScaleRatio'\n    }, {\n      text: 'Comment'\n    }, {\n      text: 'Properties'\n    }];\n  };\n\n  ContextMenu.prototype.getEnabledItemCount = function (ul) {\n    var enabledItemCount = this.copyContextMenu.length;\n    var liCollection = ul.children;\n\n    for (var i = 0; i < liCollection.length; i++) {\n      // eslint-disable-next-line\n      var li = liCollection[i];\n\n      if (li.classList.contains('e-menu-hide') || li.classList.contains('e-disabled')) {\n        enabledItemCount = enabledItemCount - 1;\n      }\n    }\n\n    return enabledItemCount;\n  };\n\n  ContextMenu.prototype.hideContextItems = function () {\n    if (this.pdfViewer.selectedItems.annotations.length === 0) {\n      // eslint-disable-next-line max-len\n      this.contextMenuObj.hideItems([this.pdfViewer.localeObj.getConstant('Cut'), this.pdfViewer.localeObj.getConstant('Paste'), this.pdfViewer.localeObj.getConstant('Delete Context'), this.pdfViewer.localeObj.getConstant('Scale Ratio'), this.pdfViewer.localeObj.getConstant('Properties')]);\n      this.pdfViewerBase.getElement('_context_menu_separator').classList.add('e-menu-hide');\n    }\n  };\n\n  ContextMenu.prototype.enableCommentPanelItem = function () {\n    if (this.pdfViewer.enableCommentPanel) {\n      this.contextMenuObj.enableItems([this.pdfViewer.localeObj.getConstant('Comment')], true);\n    } else {\n      this.contextMenuObj.enableItems([this.pdfViewer.localeObj.getConstant('Comment')], false);\n    }\n\n    if (this.pdfViewer.selectedItems.formFields.length !== 0) {\n      this.contextMenuObj.enableItems([this.pdfViewer.localeObj.getConstant('Comment')], false);\n    }\n  };\n\n  ContextMenu.prototype.onOpeningForShape = function (isProp, isSignature) {\n    if (this.pdfViewer.annotation && this.pdfViewer.annotation.isShapeCopied) {\n      this.contextMenuObj.enableItems([this.pdfViewer.localeObj.getConstant('Paste')], true);\n    } else if (this.pdfViewer.formDesigner && this.pdfViewer.formDesigner.isShapeCopied) {\n      this.contextMenuObj.enableItems([this.pdfViewer.localeObj.getConstant('Paste')], true);\n    } else {\n      this.contextMenuObj.enableItems([this.pdfViewer.localeObj.getConstant('Paste')], false);\n    } // eslint-disable-next-line max-len\n\n\n    this.contextMenuObj.hideItems([this.pdfViewer.localeObj.getConstant('Highlight context'), this.pdfViewer.localeObj.getConstant('Underline context'), this.pdfViewer.localeObj.getConstant('Strikethrough context'), this.pdfViewer.localeObj.getConstant('Scale Ratio')]);\n\n    if (isProp) {\n      // eslint-disable-next-line max-len\n      if (this.pdfViewer.selectedItems.annotations.length !== 0 && (this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType === 'Line' || this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType === 'LineWidthArrowHead' || this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType === 'Distance')) {\n        this.contextMenuObj.showItems([this.pdfViewer.localeObj.getConstant('Properties')]); // eslint-disable-next-line max-len\n      } else if (this.pdfViewer.selectedItems.formFields.length !== 0 && this.pdfViewer.selectedItems.formFields[0].formFieldAnnotationType) {\n        this.contextMenuObj.hideItems([this.pdfViewer.localeObj.getConstant('Comment')]);\n        this.pdfViewerBase.getElement('_context_menu_separator').classList.add('e-menu-hide');\n        this.contextMenuObj.showItems([this.pdfViewer.localeObj.getConstant('Properties')]);\n      } else {\n        this.contextMenuObj.hideItems([this.pdfViewer.localeObj.getConstant('Properties')]);\n        this.pdfViewerBase.getElement('_context_menu_separator').classList.add('e-menu-hide');\n      }\n    } else if (isSignature) {\n      // eslint-disable-next-line max-len\n      this.contextMenuObj.hideItems([this.pdfViewer.localeObj.getConstant('Properties'), this.pdfViewer.localeObj.getConstant('Comment')]); // eslint-disable-next-line max-len\n\n      this.pdfViewerBase.getElement('_context_menu_separator').classList.add('e-menu-hide');\n      this.pdfViewerBase.getElement('_context_menu_comment_separator').classList.add('e-menu-hide');\n    } else {\n      this.contextMenuObj.hideItems([this.pdfViewer.localeObj.getConstant('Cut'), this.pdfViewer.localeObj.getConstant('Copy'), // eslint-disable-next-line max-len\n      this.pdfViewer.localeObj.getConstant('Delete Context'), this.pdfViewer.localeObj.getConstant('Properties'), this.pdfViewer.localeObj.getConstant('Comment')]);\n      this.pdfViewerBase.getElement('_context_menu_separator').classList.add('e-menu-hide');\n      this.pdfViewerBase.getElement('_context_menu_comment_separator').classList.add('e-menu-hide');\n    }\n  };\n\n  ContextMenu.prototype.OnItemSelected = function (selectedMenu) {\n    this.pdfViewerBase.OnItemSelected(selectedMenu);\n  };\n\n  ContextMenu.prototype.onMenuItemSelect = function (args) {\n    this.pdfViewerBase.OnItemSelected(args.item.text);\n  };\n  /**\n   * @private\n   * @returns {void}\n   */\n\n\n  ContextMenu.prototype.destroy = function () {\n    if (this.contextMenuObj) {\n      this.previousAction = '';\n      this.contextMenuObj.destroy();\n    }\n  };\n  /**\n   * @private\n   * @returns {void}\n   */\n\n\n  ContextMenu.prototype.close = function () {\n    this.contextMenuObj.close();\n  };\n  /**\n   * open the context menu.\n   * @param {number} top - The top.\n   * @param {number} left - The left.\n   * @param {HTMLElement} target - The target.\n   * @returns {void}\n   */\n\n\n  ContextMenu.prototype.open = function (top, left, target) {\n    this.contextMenuObj.open(top, left, target);\n  };\n\n  return ContextMenu;\n}();\n\nexport { ContextMenu };","map":{"version":3,"names":["createElement","Browser","isNullOrUndefined","ContextMenu","Context","ContextMenuItem","pdfViewer","pdfViewerBase","copyContextMenu","contextMenuList","text","localeObj","getConstant","iconCss","separator","id","element","prototype","createContextMenu","contextMenuElement","className","appendChild","contextMenuObj","target","viewerContainer","items","beforeOpen","contextMenuOnBeforeOpen","bind","select","onMenuItemSelect","created","contextMenuOnCreated","enableRtl","appendTo","isDevice","enableDesktopMode","animationSettings","effect","args","annotationModule","textMarkupAnnotationModule","enableItems","setTarget","event","currentTarget","currentAnnotSettings","selectedItems","annotations","length","annotationSettings","freeTextAnnotationModule","isInuptBoxInFocus","tagName","isFreeTextContextMenu","showItems","getElement","classList","remove","checkContextMenuDeleteItem","textSelectionModule","isShapeBasedAnnotationsEnabled","isTouchDesignerMode","isClickWithinSelectionBounds","hideItems","add","annotation","isTextSelected","window","getSelection","removeAllRanges","selectedText","contains","checkIsNormalText","cancel","isIE","info","name","shapeAnnotationType","onOpeningForShape","isLock","formFields","formFieldAnnotationType","designerMode","toolbar","formDesignerToolbarModule","showHideDeleteIcon","target_1","designerModetarget","isShapeCopied","currentTextMarkupAnnotation","formDesigner","isCalibrateAnnotationModule","measureAnnotationModule","currentAnnotationMode","contextMenuOption","hideContextItems","enableCommentPanelItem","contextMenuItems","restrictContextMenu","contextMenuSettings","hideMenuItems","contextMenuCollection","ul","getRootElement","j","i","menuItem","menuName","push","k","disableContextMenuItems","isDisabled","l","splice","hideLocaleItem","processLocaleContent","getEnabledItemCount","contextMenuLocaleContent","enabledItemCount","liCollection","children","li","enableCommentPanel","isProp","isSignature","OnItemSelected","selectedMenu","item","destroy","previousAction","close","open","top","left"],"sources":["/home/morgan/Desktop/Projets/ENT4/Jwt-Auth-pdf/react-jwt-auth/react-jwt-auth/node_modules/@syncfusion/ej2-pdfviewer/src/pdfviewer/base/context-menu.js"],"sourcesContent":["import { createElement, Browser, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { ContextMenu as Context } from '@syncfusion/ej2-navigations';\nimport { ContextMenuItem } from './types';\n/**\n * ContextMenu module is used to handle the context menus used in the control.\n *\n * @hidden\n */\nvar ContextMenu = /** @class */ (function () {\n    /**\n     * Initialize the constructor of ontextmenu\n     *\n     * @param { PdfViewer } pdfViewer - Specified PdfViewer class.\n     * @param { PdfViewerBase } pdfViewerBase - The pdfViewerBase.\n     */\n    function ContextMenu(pdfViewer, pdfViewerBase) {\n        this.copyContextMenu = [];\n        this.contextMenuList = [];\n        this.pdfViewer = pdfViewer;\n        this.pdfViewerBase = pdfViewerBase;\n        this.copyContextMenu = [{ text: this.pdfViewer.localeObj.getConstant('Cut'), iconCss: 'e-pv-cut-icon' },\n            { text: this.pdfViewer.localeObj.getConstant('Copy'), iconCss: 'e-pv-copy-icon' },\n            { text: this.pdfViewer.localeObj.getConstant('Highlight context'), iconCss: 'e-pv-highlight-icon' },\n            { text: this.pdfViewer.localeObj.getConstant('Underline context'), iconCss: 'e-pv-underline-icon' },\n            { text: this.pdfViewer.localeObj.getConstant('Strikethrough context'), iconCss: 'e-pv-strikethrough-icon' },\n            { text: this.pdfViewer.localeObj.getConstant('Paste'), iconCss: 'e-pv-paste-icon' },\n            { text: this.pdfViewer.localeObj.getConstant('Delete Context'), iconCss: 'e-pv-delete-icon' },\n            { text: this.pdfViewer.localeObj.getConstant('Scale Ratio'), iconCss: 'e-pv-scale-ratio-icon' },\n            { separator: true, id: pdfViewer.element.id + '_context_menu_comment_separator' },\n            { text: this.pdfViewer.localeObj.getConstant('Comment'), iconCss: 'e-pv-comment-icon' },\n            { separator: true, id: pdfViewer.element.id + '_context_menu_separator' },\n            { text: this.pdfViewer.localeObj.getConstant('Properties'), iconCss: 'e-pv-property-icon' }\n        ];\n    }\n    /**\n     * @private\n     * @returns {void}\n     */\n    ContextMenu.prototype.createContextMenu = function () {\n        this.contextMenuElement = createElement('ul', { id: this.pdfViewer.element.id + '_context_menu', className: 'e-pv-context-menu' });\n        this.pdfViewer.element.appendChild(this.contextMenuElement);\n        this.contextMenuObj = new Context({\n            target: '#' + this.pdfViewerBase.viewerContainer.id, items: this.copyContextMenu,\n            beforeOpen: this.contextMenuOnBeforeOpen.bind(this), select: this.onMenuItemSelect.bind(this),\n            created: this.contextMenuOnCreated.bind(this)\n        });\n        if (this.pdfViewer.enableRtl) {\n            this.contextMenuObj.enableRtl = true;\n        }\n        this.contextMenuObj.appendTo(this.contextMenuElement);\n        if (Browser.isDevice && !this.pdfViewer.enableDesktopMode) {\n            this.contextMenuObj.animationSettings.effect = 'ZoomIn';\n        }\n        else {\n            this.contextMenuObj.animationSettings.effect = 'SlideDown';\n        }\n    };\n    ContextMenu.prototype.contextMenuOnCreated = function (args) {\n        // eslint-disable-next-line max-len\n        var items = [this.pdfViewer.localeObj.getConstant('Highlight context'), this.pdfViewer.localeObj.getConstant('Underline context'),\n            this.pdfViewer.localeObj.getConstant('Strikethrough context')];\n        if (this.pdfViewer.annotationModule) {\n            if (!this.pdfViewer.annotationModule.textMarkupAnnotationModule) {\n                this.contextMenuObj.enableItems(items, false);\n            }\n        }\n        else {\n            this.contextMenuObj.enableItems(items, false);\n        }\n    };\n    ContextMenu.prototype.setTarget = function (args) {\n        var target = null;\n        if (args.event && args.event.target) {\n            target = args.event.target;\n            this.currentTarget = target;\n        }\n        return target;\n    };\n    ContextMenu.prototype.contextMenuOnBeforeOpen = function (args) {\n        var target = this.setTarget(args);\n        var currentAnnotSettings = this.pdfViewer.selectedItems.annotations.length !== 0 ? this.pdfViewer.selectedItems.annotations[0].annotationSettings : null;\n        // eslint-disable-next-line max-len\n        if (this.pdfViewer.annotationModule && this.pdfViewer.annotationModule.freeTextAnnotationModule && this.pdfViewer.annotationModule.freeTextAnnotationModule.isInuptBoxInFocus && target && target.className === 'free-text-input' && target.tagName === 'TEXTAREA') {\n            this.pdfViewerBase.isFreeTextContextMenu = true;\n        }\n        // eslint-disable-next-line max-len\n        this.contextMenuObj.showItems([this.pdfViewer.localeObj.getConstant('Cut'), this.pdfViewer.localeObj.getConstant('Copy'), this.pdfViewer.localeObj.getConstant('Paste'),\n            // eslint-disable-next-line max-len\n            this.pdfViewer.localeObj.getConstant('Highlight context'), this.pdfViewer.localeObj.getConstant('Underline context'), this.pdfViewer.localeObj.getConstant('Strikethrough context'),\n            // eslint-disable-next-line max-len\n            this.pdfViewer.localeObj.getConstant('Delete Context'), this.pdfViewer.localeObj.getConstant('Scale Ratio'), this.pdfViewer.localeObj.getConstant('Comment'), this.pdfViewer.localeObj.getConstant('Properties')]);\n        this.pdfViewerBase.getElement('_context_menu_separator').classList.remove('e-menu-hide');\n        this.pdfViewerBase.getElement('_context_menu_comment_separator').classList.remove('e-menu-hide');\n        // eslint-disable-next-line max-len\n        this.contextMenuObj.enableItems([this.pdfViewer.localeObj.getConstant('Cut'), this.pdfViewer.localeObj.getConstant('Copy'), this.pdfViewer.localeObj.getConstant('Paste'), this.pdfViewer.localeObj.getConstant('Delete Context')], true);\n        if (this.pdfViewer.annotationModule) {\n            this.pdfViewer.annotationModule.checkContextMenuDeleteItem(this.contextMenuObj);\n        }\n        if (this.pdfViewer.textSelectionModule || this.pdfViewerBase.isShapeBasedAnnotationsEnabled()) {\n            if (args.event || this.pdfViewerBase.isTouchDesignerMode) {\n                var isClickWithinSelectionBounds = this.pdfViewerBase.isClickWithinSelectionBounds(args.event);\n                // eslint-disable-next-line max-len\n                if (this.pdfViewerBase.isFreeTextContextMenu) {\n                    this.contextMenuObj.hideItems([this.pdfViewer.localeObj.getConstant('Highlight context'), this.pdfViewer.localeObj.getConstant('Underline context'), this.pdfViewer.localeObj.getConstant('Strikethrough context'), this.pdfViewer.localeObj.getConstant('Properties'), this.pdfViewer.localeObj.getConstant('Comment'),\n                        this.pdfViewer.localeObj.getConstant('Scale Ratio'), this.pdfViewer.localeObj.getConstant('Delete Context')]);\n                    this.pdfViewerBase.getElement('_context_menu_separator').classList.add('e-menu-hide');\n                    this.pdfViewerBase.getElement('_context_menu_comment_separator').classList.add('e-menu-hide');\n                    // eslint-disable-next-line max-len\n                    if (this.pdfViewer.annotation.freeTextAnnotationModule && this.pdfViewer.annotation.freeTextAnnotationModule.isTextSelected) {\n                        this.contextMenuObj.enableItems([this.pdfViewer.localeObj.getConstant('Copy')], true);\n                        this.contextMenuObj.enableItems([this.pdfViewer.localeObj.getConstant('Cut')], true);\n                    }\n                    else {\n                        this.contextMenuObj.enableItems([this.pdfViewer.localeObj.getConstant('Copy')], false);\n                        this.contextMenuObj.enableItems([this.pdfViewer.localeObj.getConstant('Cut')], false);\n                        window.getSelection().removeAllRanges();\n                    }\n                    // eslint-disable-next-line max-len\n                    if (this.pdfViewer.annotation.freeTextAnnotationModule && this.pdfViewer.annotation.freeTextAnnotationModule.selectedText !== '') {\n                        this.contextMenuObj.enableItems([this.pdfViewer.localeObj.getConstant('Paste')], true);\n                    }\n                    else {\n                        this.contextMenuObj.enableItems([this.pdfViewer.localeObj.getConstant('Paste')], false);\n                    }\n                }\n                else if (isClickWithinSelectionBounds && this.pdfViewer.textSelectionModule) {\n                    // eslint-disable-next-line max-len\n                    if ((!args.event.target.classList.contains('e-pv-maintaincontent') && args.event.target.classList.contains('e-pv-text') || args.event.target.classList.contains('e-pv-text-layer'))) {\n                        if (this.pdfViewerBase.checkIsNormalText()) {\n                            args.cancel = true;\n                        }\n                        // eslint-disable-next-line max-len\n                    }\n                    else if ((Browser.isIE || Browser.info.name === 'edge') && args.event.target.classList.contains('e-pv-page-container')) {\n                        args.cancel = true;\n                    }\n                    // eslint-disable-next-line max-len\n                    this.contextMenuObj.hideItems([this.pdfViewer.localeObj.getConstant('Cut'), this.pdfViewer.localeObj.getConstant('Paste'), this.pdfViewer.localeObj.getConstant('Delete Context'), this.pdfViewer.localeObj.getConstant('Scale Ratio'), this.pdfViewer.localeObj.getConstant('Comment'), this.pdfViewer.localeObj.getConstant('Properties')]);\n                    this.pdfViewerBase.getElement('_context_menu_separator').classList.add('e-menu-hide');\n                    this.pdfViewerBase.getElement('_context_menu_comment_separator').classList.add('e-menu-hide');\n                    // eslint-disable-next-line max-len\n                }\n                else if (this.pdfViewer.selectedItems.annotations.length !== 0 && (this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType === 'HandWrittenSignature' || this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType === 'SignatureText' || this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType === 'SignatureImage')) {\n                    this.onOpeningForShape(false, true);\n                    // eslint-disable-next-line max-len\n                }\n                else if (this.pdfViewer.selectedItems.annotations.length !== 0 && this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType !== 'Path' && !currentAnnotSettings.isLock) {\n                    this.onOpeningForShape(true);\n                    // eslint-disable-next-line max-len\n                }\n                else if (this.pdfViewer.selectedItems.formFields.length !== 0 && this.pdfViewer.selectedItems.formFields[0].formFieldAnnotationType && this.pdfViewer.designerMode) {\n                    this.onOpeningForShape(true);\n                    // eslint-disable-next-line max-len\n                    if (!isNullOrUndefined(this.pdfViewer.toolbar) && !isNullOrUndefined(this.pdfViewer.toolbar.formDesignerToolbarModule)) {\n                        this.pdfViewer.toolbar.formDesignerToolbarModule.showHideDeleteIcon(true);\n                    }\n                }\n                else {\n                    // eslint-disable-next-line\n                    var target_1 = this.pdfViewerBase.designerModetarget;\n                    var annotationModule = this.pdfViewer.annotationModule;\n                    if (args.event && args.event.target) {\n                        target_1 = args.event.target;\n                    }\n                    // eslint-disable-next-line max-len\n                    if (this.pdfViewer.annotation && this.pdfViewer.annotation.isShapeCopied && ((target_1).classList.contains('e-pv-text-layer') ||\n                        (target_1).classList.contains('e-pv-text')) && !this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAnnotation) {\n                        this.onOpeningForShape(false);\n                        // eslint-disable-next-line max-len\n                    }\n                    else if (this.pdfViewer.formDesigner && this.pdfViewer.formDesigner.isShapeCopied && ((target_1).classList.contains('e-pv-text-layer') ||\n                        (target_1).classList.contains('e-pv-text'))) {\n                        this.onOpeningForShape(false);\n                        // eslint-disable-next-line max-len\n                    }\n                    else if (this.pdfViewerBase.isCalibrateAnnotationModule() && this.pdfViewer.annotationModule.measureAnnotationModule.currentAnnotationMode && !currentAnnotSettings) {\n                        // eslint-disable-next-line max-len\n                        this.contextMenuObj.hideItems([this.pdfViewer.localeObj.getConstant('Highlight context'), this.pdfViewer.localeObj.getConstant('Underline context'), this.pdfViewer.localeObj.getConstant('Strikethrough context'), this.pdfViewer.localeObj.getConstant('Properties')]);\n                        this.pdfViewerBase.getElement('_context_menu_separator').classList.add('e-menu-hide');\n                        this.pdfViewerBase.getElement('_context_menu_comment_separator').classList.remove('e-menu-hide');\n                        // eslint-disable-next-line max-len\n                        this.contextMenuObj.enableItems([this.pdfViewer.localeObj.getConstant('Cut'), this.pdfViewer.localeObj.getConstant('Copy'), this.pdfViewer.localeObj.getConstant('Paste'), this.pdfViewer.localeObj.getConstant('Delete Context'), this.pdfViewer.localeObj.getConstant('Comment')], false);\n                        // eslint-disable-next-line max-len\n                    }\n                    else if (annotationModule && annotationModule.textMarkupAnnotationModule && annotationModule.textMarkupAnnotationModule.currentTextMarkupAnnotation && !annotationModule.textMarkupAnnotationModule.currentTextMarkupAnnotation.annotationSettings.isLock) {\n                        // eslint-disable-next-line max-len\n                        this.contextMenuObj.hideItems([this.pdfViewer.localeObj.getConstant('Highlight context'), this.pdfViewer.localeObj.getConstant('Underline context'), this.pdfViewer.localeObj.getConstant('Strikethrough context'), this.pdfViewer.localeObj.getConstant('Properties'), this.pdfViewer.localeObj.getConstant('Cut'),\n                            this.pdfViewer.localeObj.getConstant('Copy'), this.pdfViewer.localeObj.getConstant('Paste'), this.pdfViewer.localeObj.getConstant('Scale Ratio')]);\n                        this.pdfViewerBase.getElement('_context_menu_separator').classList.add('e-menu-hide');\n                        this.pdfViewerBase.getElement('_context_menu_comment_separator').classList.remove('e-menu-hide');\n                        // eslint-disable-next-line max-len\n                        this.contextMenuObj.showItems([this.pdfViewer.localeObj.getConstant('Delete Context'), this.pdfViewer.localeObj.getConstant('Comment')], false);\n                    }\n                    else {\n                        args.cancel = true;\n                    }\n                }\n            }\n            else if (this.pdfViewer.textSelectionModule && (this.pdfViewer.contextMenuOption === 'MouseUp')) {\n                // eslint-disable-next-line max-len\n                this.contextMenuObj.hideItems([this.pdfViewer.localeObj.getConstant('Cut'), this.pdfViewer.localeObj.getConstant('Paste'), this.pdfViewer.localeObj.getConstant('Delete Context'), this.pdfViewer.localeObj.getConstant('Scale Ratio'), this.pdfViewer.localeObj.getConstant('Comment'), this.pdfViewer.localeObj.getConstant('Properties')]);\n                this.pdfViewerBase.getElement('_context_menu_separator').classList.add('e-menu-hide');\n                this.pdfViewerBase.getElement('_context_menu_comment_separator').classList.add('e-menu-hide');\n            }\n            else {\n                this.hideContextItems();\n            }\n            this.enableCommentPanelItem();\n        }\n        else {\n            args.cancel = true;\n        }\n        if (this.pdfViewer.contextMenuOption === 'None') {\n            args.cancel = true;\n        }\n        else {\n            this.contextMenuItems(args);\n        }\n        if (this.pdfViewer.annotationModule && this.pdfViewer.annotationModule.restrictContextMenu()) {\n            args.cancel = true;\n        }\n        this.pdfViewerBase.isTouchDesignerMode = false;\n    };\n    ContextMenu.prototype.contextMenuItems = function (args) {\n        if (this.pdfViewer.contextMenuSettings.contextMenuItems.length) {\n            var hideMenuItems = [];\n            var contextMenuList = this.contextMenuCollection();\n            var ul = this.contextMenuObj.getRootElement();\n            for (var j = 0; j < this.pdfViewer.contextMenuSettings.contextMenuItems.length; j++) {\n                for (var i = 0; i < this.contextMenuList.length; i++) {\n                    var menuItem = this.contextMenuList[i].text;\n                    switch (menuItem) {\n                        case 'Highlight':\n                            menuItem = 'Highlight context';\n                            break;\n                        case 'Underline':\n                            menuItem = 'Underline context';\n                            break;\n                        case 'Strikethrough':\n                            menuItem = 'Strikethrough context';\n                            break;\n                        case 'Delete':\n                            menuItem = 'Delete Context';\n                            break;\n                        case 'Scale Ratio':\n                            menuItem = 'Scale Ratio';\n                            break;\n                        case 'Comment':\n                            this.pdfViewerBase.getElement('_context_menu_comment_separator').classList.add('e-menu-hide');\n                            break;\n                        case 'Properties':\n                            this.pdfViewerBase.getElement('_context_menu_separator').classList.add('e-menu-hide');\n                            break;\n                    }\n                    var menuName = this.contextMenuList[i].text;\n                    if (j === 0 && menuName !== ContextMenuItem[this.pdfViewer.contextMenuSettings.contextMenuItems[j]]) {\n                        hideMenuItems.push(menuName);\n                    }\n                    if (j > 0 && menuName === ContextMenuItem[this.pdfViewer.contextMenuSettings.contextMenuItems[j]]) {\n                        for (var k = 0; k < hideMenuItems.length; k++) {\n                            if (hideMenuItems[k] === menuName) {\n                                if (this.pdfViewer.disableContextMenuItems && this.pdfViewer.disableContextMenuItems.length > 0) {\n                                    var isDisabled = false;\n                                    for (var l = 0; l < this.pdfViewer.disableContextMenuItems.length; l++) {\n                                        if (hideMenuItems[k] === ContextMenuItem[this.pdfViewer.disableContextMenuItems[l]]) {\n                                            isDisabled = true;\n                                        }\n                                    }\n                                    if (!isDisabled) {\n                                        hideMenuItems.splice(k, 1);\n                                    }\n                                }\n                                else {\n                                    hideMenuItems.splice(k, 1);\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n            var hideLocaleItem = this.processLocaleContent(hideMenuItems);\n            this.contextMenuObj.hideItems(hideLocaleItem);\n            if (this.getEnabledItemCount(ul) === 0) {\n                args.cancel = true;\n            }\n        }\n    };\n    ContextMenu.prototype.processLocaleContent = function (hideMenuItems) {\n        var contextMenuLocaleContent = [];\n        if (hideMenuItems.length > 0) {\n            for (var i = 0; i < hideMenuItems.length; i++) {\n                var menuItem = hideMenuItems[i];\n                switch (menuItem) {\n                    case 'Highlight':\n                        menuItem = 'Highlight context';\n                        break;\n                    case 'Underline':\n                        menuItem = 'Underline context';\n                        break;\n                    case 'Strikethrough':\n                        menuItem = 'Strikethrough context';\n                        break;\n                    case 'Delete':\n                        menuItem = 'Delete Context';\n                        break;\n                    case 'ScaleRatio':\n                        menuItem = 'Scale Ratio';\n                        break;\n                }\n                contextMenuLocaleContent.push(this.pdfViewer.localeObj.getConstant(menuItem));\n            }\n        }\n        return contextMenuLocaleContent;\n    };\n    ContextMenu.prototype.contextMenuCollection = function () {\n        return this.contextMenuList = [{ text: 'Cut' }, { text: 'Copy' }, { text: 'Highlight' }, { text: 'Underline' }, { text: 'Strikethrough' },\n            { text: 'Paste' }, { text: 'Delete' }, { text: 'ScaleRatio' }, { text: 'Comment' }, { text: 'Properties' }];\n    };\n    ContextMenu.prototype.getEnabledItemCount = function (ul) {\n        var enabledItemCount = this.copyContextMenu.length;\n        var liCollection = ul.children;\n        for (var i = 0; i < liCollection.length; i++) {\n            // eslint-disable-next-line\n            var li = liCollection[i];\n            if (li.classList.contains('e-menu-hide') || li.classList.contains('e-disabled')) {\n                enabledItemCount = enabledItemCount - 1;\n            }\n        }\n        return enabledItemCount;\n    };\n    ContextMenu.prototype.hideContextItems = function () {\n        if (this.pdfViewer.selectedItems.annotations.length === 0) {\n            // eslint-disable-next-line max-len\n            this.contextMenuObj.hideItems([this.pdfViewer.localeObj.getConstant('Cut'), this.pdfViewer.localeObj.getConstant('Paste'), this.pdfViewer.localeObj.getConstant('Delete Context'), this.pdfViewer.localeObj.getConstant('Scale Ratio'), this.pdfViewer.localeObj.getConstant('Properties')]);\n            this.pdfViewerBase.getElement('_context_menu_separator').classList.add('e-menu-hide');\n        }\n    };\n    ContextMenu.prototype.enableCommentPanelItem = function () {\n        if (this.pdfViewer.enableCommentPanel) {\n            this.contextMenuObj.enableItems([this.pdfViewer.localeObj.getConstant('Comment')], true);\n        }\n        else {\n            this.contextMenuObj.enableItems([this.pdfViewer.localeObj.getConstant('Comment')], false);\n        }\n        if (this.pdfViewer.selectedItems.formFields.length !== 0) {\n            this.contextMenuObj.enableItems([this.pdfViewer.localeObj.getConstant('Comment')], false);\n        }\n    };\n    ContextMenu.prototype.onOpeningForShape = function (isProp, isSignature) {\n        if (this.pdfViewer.annotation && this.pdfViewer.annotation.isShapeCopied) {\n            this.contextMenuObj.enableItems([this.pdfViewer.localeObj.getConstant('Paste')], true);\n        }\n        else if (this.pdfViewer.formDesigner && this.pdfViewer.formDesigner.isShapeCopied) {\n            this.contextMenuObj.enableItems([this.pdfViewer.localeObj.getConstant('Paste')], true);\n        }\n        else {\n            this.contextMenuObj.enableItems([this.pdfViewer.localeObj.getConstant('Paste')], false);\n        }\n        // eslint-disable-next-line max-len\n        this.contextMenuObj.hideItems([this.pdfViewer.localeObj.getConstant('Highlight context'), this.pdfViewer.localeObj.getConstant('Underline context'), this.pdfViewer.localeObj.getConstant('Strikethrough context'), this.pdfViewer.localeObj.getConstant('Scale Ratio')]);\n        if (isProp) {\n            // eslint-disable-next-line max-len\n            if (this.pdfViewer.selectedItems.annotations.length !== 0 && (this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType === 'Line' || this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType === 'LineWidthArrowHead' ||\n                this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType === 'Distance')) {\n                this.contextMenuObj.showItems([this.pdfViewer.localeObj.getConstant('Properties')]);\n                // eslint-disable-next-line max-len\n            }\n            else if (this.pdfViewer.selectedItems.formFields.length !== 0 && this.pdfViewer.selectedItems.formFields[0].formFieldAnnotationType) {\n                this.contextMenuObj.hideItems([this.pdfViewer.localeObj.getConstant('Comment')]);\n                this.pdfViewerBase.getElement('_context_menu_separator').classList.add('e-menu-hide');\n                this.contextMenuObj.showItems([this.pdfViewer.localeObj.getConstant('Properties')]);\n            }\n            else {\n                this.contextMenuObj.hideItems([this.pdfViewer.localeObj.getConstant('Properties')]);\n                this.pdfViewerBase.getElement('_context_menu_separator').classList.add('e-menu-hide');\n            }\n        }\n        else if (isSignature) {\n            // eslint-disable-next-line max-len\n            this.contextMenuObj.hideItems([this.pdfViewer.localeObj.getConstant('Properties'), this.pdfViewer.localeObj.getConstant('Comment')]);\n            // eslint-disable-next-line max-len\n            this.pdfViewerBase.getElement('_context_menu_separator').classList.add('e-menu-hide');\n            this.pdfViewerBase.getElement('_context_menu_comment_separator').classList.add('e-menu-hide');\n        }\n        else {\n            this.contextMenuObj.hideItems([this.pdfViewer.localeObj.getConstant('Cut'), this.pdfViewer.localeObj.getConstant('Copy'),\n                // eslint-disable-next-line max-len\n                this.pdfViewer.localeObj.getConstant('Delete Context'), this.pdfViewer.localeObj.getConstant('Properties'), this.pdfViewer.localeObj.getConstant('Comment')]);\n            this.pdfViewerBase.getElement('_context_menu_separator').classList.add('e-menu-hide');\n            this.pdfViewerBase.getElement('_context_menu_comment_separator').classList.add('e-menu-hide');\n        }\n    };\n    ContextMenu.prototype.OnItemSelected = function (selectedMenu) {\n        this.pdfViewerBase.OnItemSelected(selectedMenu);\n    };\n    ContextMenu.prototype.onMenuItemSelect = function (args) {\n        this.pdfViewerBase.OnItemSelected(args.item.text);\n    };\n    /**\n     * @private\n     * @returns {void}\n     */\n    ContextMenu.prototype.destroy = function () {\n        if (this.contextMenuObj) {\n            this.previousAction = '';\n            this.contextMenuObj.destroy();\n        }\n    };\n    /**\n     * @private\n     * @returns {void}\n     */\n    ContextMenu.prototype.close = function () {\n        this.contextMenuObj.close();\n    };\n    /**\n     * open the context menu.\n     * @param {number} top - The top.\n     * @param {number} left - The left.\n     * @param {HTMLElement} target - The target.\n     * @returns {void}\n     */\n    ContextMenu.prototype.open = function (top, left, target) {\n        this.contextMenuObj.open(top, left, target);\n    };\n    return ContextMenu;\n}());\nexport { ContextMenu };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}