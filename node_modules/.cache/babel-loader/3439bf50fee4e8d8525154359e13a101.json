{"ast":null,"code":"var _jsxFileName = \"/home/morgan/Desktop/Projets/ENT4/Jwt-Auth-pdf/react-jwt-auth/react-jwt-auth/src/components2/DataFetching.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport \"../styles/DataFetching.css\";\nimport S1 from \"./S1\";\nimport UpdateComponent from \"./Update.component\";\nimport CreateComponent from \"./Create.component\";\nimport DeleteComponent from \"./Delete.component\";\nimport Searche from \"./search/Search\"; // import AuthService from \"../services/auth.service\";\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction DataFetching(_ref) {\n  _s();\n\n  let {\n    admin\n  } = _ref;\n  const [isSet, setisSet] = useState(false);\n  const [focusedlist, setfocusedlist] = useState();\n  const [posts, setPosts] = useState([]);\n  const [isModify, setisModify] = useState(false);\n  const [a, setA] = useState([]);\n  useEffect(() => {\n    axios.get(\"http://localhost:8080/pb/\").then(res => {\n      setPosts(res.data);\n    }).catch(err => {\n      console.log(err);\n    });\n  }, []);\n\n  function choixPb(e, i) {\n    setisSet(!isSet);\n    setfocusedlist(e.target.value);\n    const newA = a;\n\n    if (newA[i] === e.target.value) {\n      newA[i] = 0;\n    } else {\n      newA[i] = e.target.value;\n      setA(newA);\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"master\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"faq-list-pb\",\n      children: [/*#__PURE__*/_jsxDEV(Searche, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this), posts.map((_ref2, i) => {\n        let {\n          id,\n          title_pb\n        } = _ref2;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mainpb\",\n          children: [\" \", /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"container-pb\",\n            children: [title_pb, /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"fleche\",\n              value: id,\n              onClick: e => choixPb(e, i)\n            }, id + \"button\", false, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 15\n            }, this), admin && /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"ecrou\",\n              value: id,\n              onClick: e => {\n                setisModify(!isModify);\n                setfocusedlist(e.target.value);\n              }\n            }, id + \"button2\", false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 17\n            }, this), isModify && focusedlist === `${id}` && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"main_crud\",\n              children: [/*#__PURE__*/_jsxDEV(UpdateComponent, {\n                id: id,\n                title: title_pb,\n                base: \"pb\",\n                champ: \"title_pb\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 69,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(CreateComponent, {\n                id: id,\n                base: \"s1\",\n                champ: \"title_s1\",\n                champ2: \"ind_pb\",\n                title: title_pb\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(DeleteComponent, {\n                id: id,\n                base: \"pb\",\n                champ: \"id\",\n                name: title_pb\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 19\n              }, this)]\n            }, id + \"divModify\", true, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 17\n            }, this)]\n          }, id + \"div2\", true, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 13\n          }, this), a[i] === `${id}` ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"choix-main\",\n            children: /*#__PURE__*/_jsxDEV(S1, {\n              id: id,\n              admin: admin\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 17\n            }, this)\n          }, id + \"divs1\", false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 15\n          }, this) : null]\n        }, id + \"div\", true, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 11\n        }, this);\n      }), admin && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"main-create\",\n        children: /*#__PURE__*/_jsxDEV(CreateComponent, {\n          id: \"1\",\n          base: \"pb\",\n          champ: \"title_pb\",\n          champ2: \"null\",\n          title: \"a\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 13\n        }, this)\n      }, \"div\", false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"faq-list-pb2\"\n    }, id + \"div3\", false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this);\n}\n\n_s(DataFetching, \"kZHm2rHMndVk6NiwIIhwcOuTMy0=\");\n\n_c = DataFetching;\nexport default DataFetching;\n\nvar _c;\n\n$RefreshReg$(_c, \"DataFetching\");","map":{"version":3,"names":["React","useState","useEffect","axios","S1","UpdateComponent","CreateComponent","DeleteComponent","Searche","DataFetching","admin","isSet","setisSet","focusedlist","setfocusedlist","posts","setPosts","isModify","setisModify","a","setA","get","then","res","data","catch","err","console","log","choixPb","e","i","target","value","newA","map","id","title_pb"],"sources":["/home/morgan/Desktop/Projets/ENT4/Jwt-Auth-pdf/react-jwt-auth/react-jwt-auth/src/components2/DataFetching.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport \"../styles/DataFetching.css\";\nimport S1 from \"./S1\";\nimport UpdateComponent from \"./Update.component\";\nimport CreateComponent from \"./Create.component\";\nimport DeleteComponent from \"./Delete.component\";\nimport Searche from \"./search/Search\";\n// import AuthService from \"../services/auth.service\";\n\nfunction DataFetching({ admin }) {\n  const [isSet, setisSet] = useState(false);\n  const [focusedlist, setfocusedlist] = useState();\n  const [posts, setPosts] = useState([]);\n  const [isModify, setisModify] = useState(false);\n  const [a, setA] = useState([]);\n\n  useEffect(() => {\n    axios\n      .get(\"http://localhost:8080/pb/\")\n      .then((res) => {\n        setPosts(res.data);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  function choixPb(e, i) {\n    setisSet(!isSet);\n    setfocusedlist(e.target.value);\n    const newA = a;\n    if (newA[i] === e.target.value) {\n      newA[i] = 0;\n    } else {\n      newA[i] = e.target.value;\n      setA(newA);\n    }\n  }\n\n  return (\n    <div className=\"master\">\n      <div className=\"faq-list-pb\">\n        <Searche />\n        {posts.map(({ id, title_pb }, i) => (\n          <div key={id + \"div\"} className=\"mainpb\">\n            {\" \"}\n            <div key={id + \"div2\"} className=\"container-pb\">\n              {title_pb}\n              <button\n                key={id + \"button\"}\n                className=\"fleche\"\n                value={id}\n                onClick={(e) => choixPb(e, i)}\n              ></button>\n              {admin && (\n                <button\n                  key={id + \"button2\"}\n                  className=\"ecrou\"\n                  value={id}\n                  onClick={(e) => {\n                    setisModify(!isModify);\n                    setfocusedlist(e.target.value);\n                  }}\n                ></button>\n              )}\n              {isModify && focusedlist === `${id}` && (\n                <div key={id + \"divModify\"} className=\"main_crud\">\n                  <UpdateComponent\n                    id={id}\n                    title={title_pb}\n                    base={\"pb\"}\n                    champ={\"title_pb\"}\n                  />\n                  <CreateComponent\n                    id={id}\n                    base={\"s1\"}\n                    champ={\"title_s1\"}\n                    champ2={\"ind_pb\"}\n                    title={title_pb}\n                  />\n                  <DeleteComponent\n                    id={id}\n                    base={\"pb\"}\n                    champ={\"id\"}\n                    name={title_pb}\n                  />\n                </div>\n              )}\n            </div>\n            {a[i] === `${id}` ? (\n              <div key={id + \"divs1\"} className=\"choix-main\">\n                <S1 id={id} admin={admin} />\n              </div>\n            ) : null}\n          </div>\n        ))}\n        {admin && (\n          <div key={\"div\"} className=\"main-create\">\n            <CreateComponent\n              id={\"1\"}\n              base={\"pb\"}\n              champ={\"title_pb\"}\n              champ2={\"null\"}\n              title={\"a\"}\n            />\n          </div>\n        )}\n      </div>\n      <div key={id + \"div3\"} className=\"faq-list-pb2\"></div>\n    </div>\n  );\n}\n\nexport default DataFetching;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}