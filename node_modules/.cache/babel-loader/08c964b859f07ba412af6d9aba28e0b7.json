{"ast":null,"code":"import { ChildProperty, compile as baseTemplateComplier, setValue, Internationalization, isUndefined, closest } from '@syncfusion/ej2-base';\nimport { extend as baseExtend, isNullOrUndefined, getValue, classList } from '@syncfusion/ej2-base';\nimport { setStyleAttribute, addClass, attributes, remove, createElement, removeClass } from '@syncfusion/ej2-base';\nimport { isObject, select, selectAll } from '@syncfusion/ej2-base';\nimport { DataUtil, Query, DataManager, Predicate, UrlAdaptor, Deferred } from '@syncfusion/ej2-data';\nimport { Column } from '../models/column';\nimport { calculateRelativeBasedPosition } from '@syncfusion/ej2-popups';\nimport { Print } from '../actions/print';\nimport { CheckBoxFilterBase } from '../common/checkbox-filter-base';\nimport * as literals from '../base/string-literals'; //https://typescript.codeplex.com/discussions/401501\n\n/**\n * Function to check whether target object implement specific interface\n *\n * @param  {Object} target - specifies the target\n * @param  {string} checkFor - specifies the checkfors\n * @returns {boolean} returns the boolean\n * @hidden\n */\n\nexport function doesImplementInterface(target, checkFor) {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  return target.prototype && checkFor in target.prototype;\n}\n/**\n * Function to get value from provided data\n *\n * @param  {string} field - specifies the field\n * @param  {Object} data - specifies the data\n * @param  {ColumnModel} column - specifies the column\n * @returns {Object} returns the object\n * @hidden\n */\n// eslint-disable-next-line\n\nexport function valueAccessor(field, data, column) {\n  return isNullOrUndefined(field) || field === '' ? '' : DataUtil.getObject(field, data);\n}\n/**\n * Defines the method used to apply custom header cell values from external function and display this on each header cell rendered.\n *\n * @param  {string} field - specifies the field\n * @param  {ColumnModel} column - specifies the column\n * @returns {object} headerValueAccessor\n * @hidden\n */\n\nexport function headerValueAccessor(field, column) {\n  return isNullOrUndefined(field) || field === '' ? '' : DataUtil.getObject(field, column);\n}\n/**\n * The function used to update Dom using requestAnimationFrame.\n *\n * @param {Function} updateFunction - Function that contains the actual action\n * @param {object} callBack - defines the callback\n * @returns {void}\n * @hidden\n */\n// eslint-disable-next-line\n\nexport function getUpdateUsingRaf(updateFunction, callBack) {\n  requestAnimationFrame(function () {\n    try {\n      callBack(null, updateFunction());\n    } catch (e) {\n      callBack(e);\n    }\n  });\n}\n/**\n * @hidden\n * @param {PdfExportProperties | ExcelExportProperties} exportProperties - Defines the export properties\n * @returns {boolean} Returns isExportColumns\n */\n\nexport function isExportColumns(exportProperties) {\n  return !isNullOrUndefined(exportProperties) && !isNullOrUndefined(exportProperties.columns) && exportProperties.columns.length > 0;\n}\n/**\n * @param {PdfExportProperties | ExcelExportProperties} exportProperties - Defines the export properties\n * @param {IGrid} gObj - Defines the grid object\n * @returns {void}\n * @hidden\n */\n\nexport function updateColumnTypeForExportColumns(exportProperties, gObj) {\n  var exportColumns = exportProperties.columns;\n  var gridColumns = gObj.columns;\n\n  for (var i = 0; i < exportColumns.length; i++) {\n    if (gridColumns.length - 1 >= i) {\n      if (gridColumns[i].columns) {\n        for (var j = 0; j < gridColumns[i].columns.length; j++) {\n          exportColumns[i].columns[j].type = gridColumns[i].columns[j].type;\n        }\n      } else {\n        exportColumns[i].type = gridColumns[i].type;\n      }\n    }\n  }\n}\n/**\n * @hidden\n * @param {IGrid} grid - Defines the grid\n * @returns {void}\n */\n\nexport function updatecloneRow(grid) {\n  var nRows = [];\n  var actualRows = grid.vRows;\n\n  for (var i = 0; i < actualRows.length; i++) {\n    if (actualRows[i].isDataRow) {\n      nRows.push(actualRows[i]);\n    } else if (!actualRows[i].isDataRow) {\n      nRows.push(actualRows[i]);\n\n      if (!actualRows[i].isExpand && actualRows[i].isCaptionRow) {\n        i += getCollapsedRowsCount(actualRows[i], grid);\n      }\n    }\n  }\n\n  grid.vcRows = nRows;\n}\nvar count = 0;\n/**\n * @hidden\n * @param {Row<Column>} val - Defines the value\n * @param {IGrid} grid - Defines the grid\n * @returns {number} Returns the collapsed row count\n */\n\nexport function getCollapsedRowsCount(val, grid) {\n  count = 0;\n  var gSummary = 'gSummary';\n  var total = 'count';\n  var gLen = grid.groupSettings.columns.length;\n  var records = 'records';\n  var items = 'items';\n  var value = val[gSummary];\n  var dataRowCnt = 0;\n  var agrCnt = 'aggregatesCount';\n\n  if (value === val.data[total]) {\n    if (grid.groupSettings.columns.length && !isNullOrUndefined(val[agrCnt]) && val[agrCnt]) {\n      if (grid.groupSettings.columns.length !== 1) {\n        count += val.indent !== 0 && value < 2 ? val[gSummary] * (gLen - val.indent + (gLen - val.indent) * val[agrCnt]) : val[gSummary] * (gLen - val.indent + (gLen - val.indent - 1) * val[agrCnt]) + val[agrCnt];\n      } else if (grid.groupSettings.columns.length === 1) {\n        count += val[gSummary] * (gLen - val.indent) + val[agrCnt];\n      }\n    } else if (grid.groupSettings.columns.length) {\n      if (grid.groupSettings.columns.length !== 1) {\n        count += val[gSummary] * (grid.groupSettings.columns.length - val.indent);\n      } else {\n        count += val[gSummary];\n      }\n    }\n\n    return count;\n  } else {\n    for (var i = 0, len = val.data[items].length; i < len; i++) {\n      var gLevel = val.data[items][i];\n      count += gLevel[items].length + (gLen !== grid.columns.length && !isNullOrUndefined(gLevel[items][records]) ? gLevel[items][records].length : 0);\n      dataRowCnt += !isNullOrUndefined(gLevel[items][records]) && !isNullOrUndefined(val[agrCnt]) ? gLevel[items][records].length : gLevel[items].length;\n\n      if (gLevel[items].GroupGuid && gLevel[items].childLevels !== 0) {\n        recursive(gLevel);\n      }\n    }\n\n    count += val.data[items].length;\n\n    if (!isNullOrUndefined(val[agrCnt])) {\n      if (val[agrCnt] && count && dataRowCnt !== 0) {\n        count += (count - dataRowCnt) * val[agrCnt] + val[agrCnt];\n      }\n    }\n  }\n\n  return count;\n}\n/**\n * @param {Object[]} row - Defines the row\n * @returns {void}\n * @hidden\n */\n\nexport function recursive(row) {\n  var items = 'items';\n  var rCount = 'count';\n\n  for (var j = 0, length_1 = row[items].length; j < length_1; j++) {\n    var nLevel = row[items][j];\n    count += nLevel[rCount];\n\n    if (nLevel[items].childLevels !== 0) {\n      recursive(nLevel);\n    }\n  }\n}\n/**\n * @param {Object[]} collection - Defines the array\n * @param {Object} predicate - Defines the predicate\n * @returns {Object} Returns the object\n * @hidden\n */\n\nexport function iterateArrayOrObject(collection, predicate) {\n  var result = [];\n\n  for (var i = 0, len = collection.length; i < len; i++) {\n    var pred = predicate(collection[i], i);\n\n    if (!isNullOrUndefined(pred)) {\n      result.push(pred);\n    }\n  }\n\n  return result;\n}\n/**\n * @param {Object[]} array - Defines the array\n * @returns {Object} Returns the object\n * @hidden\n */\n\nexport function iterateExtend(array) {\n  var obj = [];\n\n  for (var i = 0; i < array.length; i++) {\n    obj.push(baseExtend({}, getActualProperties(array[i]), {}, true));\n  }\n\n  return obj;\n}\n/**\n * @param {string} template - Defines the template\n * @returns {Function} Returns the function\n * @hidden\n */\n\nexport function templateCompiler(template) {\n  if (template) {\n    try {\n      if (document.querySelectorAll(template).length) {\n        return baseTemplateComplier(document.querySelector(template).innerHTML.trim());\n      } else {\n        return baseTemplateComplier(template);\n      }\n    } catch (e) {\n      return baseTemplateComplier(template);\n    }\n  }\n\n  return undefined;\n}\n/**\n * @param {Element} node - Defines the column\n * @param {Object} customAttributes - Defines the index\n * @returns {void}\n * @hidden\n */\n\nexport function setStyleAndAttributes(node, customAttributes) {\n  var copyAttr = {};\n  var literals = ['style', 'class']; //Dont touch the original object - make a copy\n\n  baseExtend(copyAttr, customAttributes, {});\n\n  if ('style' in copyAttr) {\n    setStyleAttribute(node, copyAttr[literals[0]]);\n    delete copyAttr[literals[0]];\n  }\n\n  if ('class' in copyAttr) {\n    addClass([node], copyAttr[literals[1]]);\n    delete copyAttr[literals[1]];\n  }\n\n  attributes(node, copyAttr);\n}\n/**\n * @param {Object} copied - Defines the column\n * @param {Object} first - Defines the inndex\n * @param {Object} second - Defines the second object\n * @param {string[]} exclude - Defines the exclude\n * @returns {Object} Returns the object\n * @hidden\n */\n\nexport function extend(copied, first, second, exclude) {\n  var moved = baseExtend(copied, first, second);\n  var values = Object.keys(moved);\n\n  for (var i = 0; i < values.length; i++) {\n    if (exclude && exclude.indexOf(values[i]) !== -1) {\n      delete moved[values[i]];\n    }\n  }\n\n  return moved;\n}\n/**\n * @param {Column[]} columnModel - Defines the column\n * @param {number} ind - Defines the inndex\n * @returns {number} - Returns the columnindex\n * @hidden\n */\n\nexport function setColumnIndex(columnModel, ind) {\n  if (ind === void 0) {\n    ind = 0;\n  }\n\n  for (var i = 0, len = columnModel.length; i < len; i++) {\n    if (columnModel[i].columns) {\n      columnModel[i].index = isNullOrUndefined(columnModel[i].index) ? ind : columnModel[i].index;\n      ind++;\n      ind = setColumnIndex(columnModel[i].columns, ind);\n    } else {\n      columnModel[i].index = isNullOrUndefined(columnModel[i].index) ? ind : columnModel[i].index;\n      ind++;\n    }\n  }\n\n  return ind;\n}\n/**\n * @param {Column[] | string[] | ColumnModel[]} columns - Defines the column\n * @param {boolean} autoWidth - Defines the autowidth\n * @param {IGrid} gObj - Defines the class name\n * @returns {Column} - Returns the columns\n * @hidden\n */\n\nexport function prepareColumns(columns, autoWidth, gObj) {\n  for (var c = 0, len = columns.length; c < len; c++) {\n    var column = void 0;\n\n    if (typeof columns[c] === 'string') {\n      column = new Column({\n        field: columns[c]\n      }, gObj);\n    } else if (!(columns[c] instanceof Column) || columns[c].columns) {\n      if (!columns[c].columns) {\n        column = new Column(columns[c], gObj);\n      } else {\n        columns[c].columns = prepareColumns(columns[c].columns, null, gObj);\n        column = new Column(columns[c], gObj);\n      }\n    } else {\n      column = columns[c];\n    }\n\n    if (column.type && column.type.toLowerCase() === 'checkbox') {\n      column.allowReordering = false;\n    }\n\n    column.headerText = isNullOrUndefined(column.headerText) ? column.foreignKeyValue || column.field || '' : column.headerText;\n    column.foreignKeyField = column.foreignKeyField || column.field;\n    column.valueAccessor = (typeof column.valueAccessor === 'string' ? getValue(column.valueAccessor, window) : column.valueAccessor) || valueAccessor;\n    column.width = autoWidth && isNullOrUndefined(column.width) ? 200 : column.width;\n\n    if (isNullOrUndefined(column.visible)) {\n      column.visible = true;\n    }\n\n    columns[c] = column;\n  }\n\n  return columns;\n}\n/**\n * @param {HTMLElement} popUp - Defines the popup element\n * @param {MouseEvent | TouchEvent} e - Defines the moouse event\n * @param {string} className - Defines the class name\n * @returns {void}\n * @hidden\n */\n\nexport function setCssInGridPopUp(popUp, e, className) {\n  var popUpSpan = popUp.querySelector('span');\n  var position = popUp.parentElement.getBoundingClientRect();\n  var targetPosition = e.target.getBoundingClientRect();\n  popUpSpan.className = className;\n  popUp.style.display = '';\n  var isBottomTail = (isNullOrUndefined(e.clientY) ? e.changedTouches[0].clientY : e.clientY) > popUp.offsetHeight + 10;\n  popUp.style.top = targetPosition.top - position.top + (isBottomTail ? -(popUp.offsetHeight + 10) : popUp.offsetHeight + 10) + 'px'; //10px for tail element\n\n  popUp.style.left = getPopupLeftPosition(popUp, e, targetPosition, position.left) + 'px';\n\n  if (isBottomTail) {\n    popUp.querySelector('.e-downtail').style.display = '';\n    popUp.querySelector('.e-uptail').style.display = 'none';\n  } else {\n    popUp.querySelector('.e-downtail').style.display = 'none';\n    popUp.querySelector('.e-uptail').style.display = '';\n  }\n}\n/**\n * @param {HTMLElement} popup - Defines the popup element\n * @param {MouseEvent | TouchEvent} e  - Defines the mouse event\n * @param {Object} targetPosition - Defines the target position\n * @param {number} targetPosition.top - Defines the top position\n * @param {number} targetPosition.left  - Defines the left position\n * @param {number} targetPosition.right  - Defines the right position\n * @param {number} left - Defines the left position\n * @returns {number} Returns the popup left position\n * @hidden\n */\n\nfunction getPopupLeftPosition(popup, e, targetPosition, left) {\n  var width = popup.offsetWidth / 2;\n  var x = getPosition(e).x;\n\n  if (x - targetPosition.left < width) {\n    return targetPosition.left - left;\n  } else if (targetPosition.right - x < width) {\n    return targetPosition.right - left - width * 2;\n  } else {\n    return x - left - width;\n  }\n}\n/**\n * @param {Object} obj - Defines the object\n * @returns {Object} Returns the Properties\n * @hidden\n */\n\n\nexport function getActualProperties(obj) {\n  if (obj instanceof ChildProperty) {\n    return getValue('properties', obj);\n  } else {\n    return obj;\n  }\n}\n/**\n * @param {Element} elem - Defines the element\n * @param {string} selector - Defines the string selector\n * @param {boolean} isID - Defines the isID\n * @returns {Element} Returns the element\n * @hidden\n */\n\nexport function parentsUntil(elem, selector, isID) {\n  var parent = elem;\n\n  while (parent) {\n    if (isID ? parent.id === selector : parent.classList.contains(selector)) {\n      break;\n    }\n\n    parent = parent.parentElement;\n  }\n\n  return parent;\n}\n/**\n * @param {Element} element - Defines the element\n * @param {Element} elements - Defines the element\n * @returns {number} Returns the element index\n * @hidden\n */\n\nexport function getElementIndex(element, elements) {\n  var index = -1;\n\n  for (var i = 0, len = elements.length; i < len; i++) {\n    if (elements[i].isEqualNode(element)) {\n      index = i;\n      break;\n    }\n  }\n\n  return index;\n}\n/**\n * @param {Object} value - Defines the value\n * @param {Object} collection - defines the collection\n * @returns {number} Returns the array\n * @hidden\n */\n\nexport function inArray(value, collection) {\n  for (var i = 0, len = collection.length; i < len; i++) {\n    if (collection[i] === value) {\n      return i;\n    }\n  }\n\n  return -1;\n}\n/**\n * @param {Object} collection - Defines the collection\n * @returns {Object} Returns the object\n * @hidden\n */\n\nexport function getActualPropFromColl(collection) {\n  var coll = [];\n\n  for (var i = 0, len = collection.length; i < len; i++) {\n    // eslint-disable-next-line no-prototype-builtins\n    if (collection[i].hasOwnProperty('properties')) {\n      coll.push(collection[i].properties);\n    } else {\n      coll.push(collection[i]);\n    }\n  }\n\n  return coll;\n}\n/**\n * @param {Element} target - Defines the target element\n * @param {string} selector - Defines the selector\n * @returns {void}\n * @hidden\n */\n\nexport function removeElement(target, selector) {\n  var elements = [].slice.call(target.querySelectorAll(selector));\n\n  for (var i = 0; i < elements.length; i++) {\n    remove(elements[i]);\n  }\n}\n/**\n * @param {MouseEvent | TouchEvent} e Defines the mouse event\n * @returns {IPosition} Returns the position\n * @hidden\n */\n\nexport function getPosition(e) {\n  var position = {};\n  position.x = isNullOrUndefined(e.clientX) ? e.changedTouches[0].clientX : e.clientX;\n  position.y = isNullOrUndefined(e.clientY) ? e.changedTouches[0].clientY : e.clientY;\n  return position;\n}\nvar uid = 0;\n/**\n * @param {string} prefix - Defines the prefix string\n * @returns {string} Returns the uid\n * @hidden\n */\n\nexport function getUid(prefix) {\n  return prefix + uid++;\n}\n/**\n * @param {Element | DocumentFragment} elem - Defines the element\n * @param {Element[] | NodeList} children - Defines the Element\n * @returns {Element} Returns the element\n * @hidden\n */\n\nexport function appendChildren(elem, children) {\n  for (var i = 0, len = children.length; i < len; i++) {\n    if (len === children.length) {\n      elem.appendChild(children[i]);\n    } else {\n      elem.appendChild(children[0]);\n    }\n  }\n\n  return elem;\n}\n/**\n * @param {Element} elem - Defines the element\n * @param {string} selector - Defines the selector\n * @param {boolean} isID - Defines isID\n * @returns {Element} Return the element\n * @hidden\n */\n\nexport function parents(elem, selector, isID) {\n  var parent = elem;\n  var parents = [];\n\n  while (parent) {\n    if (isID ? parent.id === selector : parent.classList.contains(selector)) {\n      parents.push(parent);\n    }\n\n    parent = parent.parentElement;\n  }\n\n  return parents;\n}\n/**\n * @param {AggregateType | string} type - Defines the type\n * @param {Object} data - Defines the data\n * @param {AggregateColumnModel} column - Defines the column\n * @param {Object} context - Defines the context\n * @returns {Object} Returns the calculated aggragate\n * @hidden\n */\n\nexport function calculateAggregate(type, data, column, context) {\n  if (type === 'Custom') {\n    var temp = column.customAggregate;\n\n    if (typeof temp === 'string') {\n      temp = getValue(temp, window);\n    }\n\n    return temp ? temp.call(context, data, column) : '';\n  }\n\n  return column.field in data || data instanceof Array ? DataUtil.aggregates[type.toLowerCase()](data, column.field) : null;\n}\n/** @hidden */\n\nvar scrollWidth = null;\n/** @hidden\n * @returns {number} - Returns the scrollbarwidth\n */\n\nexport function getScrollBarWidth() {\n  if (scrollWidth !== null) {\n    return scrollWidth;\n  }\n\n  var divNode = document.createElement('div');\n  var value = 0;\n  divNode.style.cssText = 'width:100px;height: 100px;overflow: scroll;position: absolute;top: -9999px;';\n  document.body.appendChild(divNode);\n  value = divNode.offsetWidth - divNode.clientWidth | 0;\n  document.body.removeChild(divNode);\n  return scrollWidth = value;\n}\n/** @hidden */\n\nvar rowHeight;\n/**\n * @param {HTMLElement} element - Defines the element\n * @returns {number} Returns the roww height\n * @hidden\n */\n\nexport function getRowHeight(element) {\n  if (rowHeight !== undefined) {\n    return rowHeight;\n  }\n\n  var table = createElement('table', {\n    className: literals.table,\n    styles: 'visibility: hidden',\n    attrs: {\n      role: 'grid'\n    }\n  });\n  table.innerHTML = '<tr><td class=\"e-rowcell\">A<td></tr>';\n  element.appendChild(table);\n  var rect = table.querySelector('td').getBoundingClientRect();\n  element.removeChild(table);\n  rowHeight = Math.ceil(rect.height);\n  return rowHeight;\n}\n/** @hidden */\n\nvar actualRowHeight;\n/**\n * @param {HTMLElement} element - Defines the HTMl element\n * @returns {number} Returns the row height\n * @hidden\n */\n\nexport function getActualRowHeight(element) {\n  if (actualRowHeight !== undefined) {\n    return rowHeight;\n  }\n\n  var table = createElement('table', {\n    className: literals.table,\n    styles: 'visibility: hidden',\n    attrs: {\n      role: 'grid'\n    }\n  });\n  table.innerHTML = '<tr><td class=\"e-rowcell\">A<td></tr>';\n  element.appendChild(table);\n  var rect = table.querySelector('tr').getBoundingClientRect();\n  element.removeChild(table);\n  return rect.height;\n}\n/**\n * @param {string} field - Defines the field\n * @returns {boolean} - Returns is complex field\n * @hidden\n */\n\nexport function isComplexField(field) {\n  return field.split('.').length > 1;\n}\n/**\n * @param {string} field - Defines the field\n * @returns {string} - Returns the get complex field ID\n * @hidden\n */\n\nexport function getComplexFieldID(field) {\n  if (field === void 0) {\n    field = '';\n  }\n\n  return field.replace(/\\./g, '___');\n}\n/**\n * @param {string} field - Defines the field\n * @returns {string} - Returns the set complex field ID\n * @hidden\n */\n\nexport function setComplexFieldID(field) {\n  if (field === void 0) {\n    field = '';\n  }\n\n  return field.replace(/___/g, '.');\n}\n/**\n * @param {Column} col - Defines the column\n * @param {string} type - Defines the type\n * @param {Element} elem - Defines th element\n * @returns {boolean} Returns is Editable\n * @hidden\n */\n\nexport function isEditable(col, type, elem) {\n  var row = parentsUntil(elem, literals.row);\n  var isOldRow = !row ? true : row && !row.classList.contains('e-insertedrow');\n\n  if (type === 'beginEdit' && isOldRow) {\n    if (col.isIdentity || col.isPrimaryKey || !col.allowEditing) {\n      return false;\n    }\n\n    return true;\n  } else if (type === 'add' && col.isIdentity) {\n    return false;\n  } else {\n    if (isOldRow && !col.allowEditing && !col.isIdentity && !col.isPrimaryKey) {\n      return false;\n    }\n\n    return true;\n  }\n}\n/**\n * @param {IGrid} inst - Defines the IGrid\n * @returns {boolean} Returns is action prevent in boolean\n * @hidden\n */\n\nexport function isActionPrevent(inst) {\n  var dlg = select('#' + inst.element.id + 'EditConfirm', inst.element);\n  return inst.editSettings.mode === 'Batch' && selectAll('.e-updatedtd', inst.element).length && inst.editSettings.showConfirmDialog && (dlg ? dlg.classList.contains('e-popup-close') : true);\n}\n/**\n * @param {any} elem - Defines the element\n * @param {boolean} action - Defines the boolean for action\n * @returns {void}\n * @hidden\n */\n// eslint-disable-next-line\n\nexport function wrap(elem, action) {\n  var clName = 'e-wrap';\n  elem = elem instanceof Array ? elem : [elem];\n\n  for (var i = 0; i < elem.length; i++) {\n    if (action) {\n      elem[i].classList.add(clName);\n    } else {\n      elem[i].classList.remove(clName);\n    }\n  }\n}\n/**\n * @param {ServiceLocator} serviceLocator - Defines the service locator\n * @param {Column} column  - Defines the column\n * @returns {void}\n * @hidden\n */\n\nexport function setFormatter(serviceLocator, column) {\n  var fmtr = serviceLocator.getService('valueFormatter');\n  var format = 'format';\n  var args;\n\n  if (column.type === 'date' || column.type === 'datetime') {\n    args = {\n      type: column.type,\n      skeleton: column.format\n    };\n\n    if (typeof column.format === 'string' && column.format !== 'yMd') {\n      args[format] = column.format;\n    }\n  }\n\n  switch (column.type) {\n    case 'date':\n      column.setFormatter(fmtr.getFormatFunction(args));\n      column.setParser(fmtr.getParserFunction(args));\n      break;\n\n    case 'datetime':\n      column.setFormatter(fmtr.getFormatFunction(args));\n      column.setParser(fmtr.getParserFunction(args));\n      break;\n\n    case 'number':\n      column.setFormatter(fmtr.getFormatFunction({\n        format: column.format\n      }));\n      column.setParser(fmtr.getParserFunction({\n        format: column.format\n      }));\n      break;\n  }\n}\n/**\n * @param {Element} cells - Defines the cell element\n * @param {boolean} add - Defines the add\n * @param {string} args - Defines the args\n * @returns {void}\n * @hidden\n */\n\nexport function addRemoveActiveClasses(cells, add) {\n  var args = [];\n\n  for (var _i = 2; _i < arguments.length; _i++) {\n    args[_i - 2] = arguments[_i];\n  }\n\n  for (var i = 0, len = cells.length; i < len; i++) {\n    if (add) {\n      classList(cells[i], args.slice(), []);\n      cells[i].setAttribute('aria-selected', 'true');\n    } else {\n      classList(cells[i], [], args.slice());\n      cells[i].removeAttribute('aria-selected');\n    }\n  }\n}\n/**\n * @param {string} result - Defines th string\n * @returns {string} Returns the distinct staing values\n * @hidden\n */\n\nexport function distinctStringValues(result) {\n  var temp = {};\n  var res = [];\n\n  for (var i = 0; i < result.length; i++) {\n    if (!(result[i] in temp)) {\n      res.push(result[i].toString());\n      temp[result[i]] = 1;\n    }\n  }\n\n  return res;\n}\n/**\n * @param {Element} target - Defines the target\n * @param {Dialog} dialogObj - Defines the dialog\n * @returns {void}\n * @hidden\n */\n\nexport function getFilterMenuPostion(target, dialogObj) {\n  var elementVisible = dialogObj.element.style.display;\n  dialogObj.element.style.display = 'block';\n  var dlgWidth = dialogObj.width;\n  var newpos = calculateRelativeBasedPosition(target, dialogObj.element);\n  dialogObj.element.style.display = elementVisible;\n  dialogObj.element.style.top = newpos.top + target.getBoundingClientRect().height - 5 + 'px';\n  var leftPos = newpos.left - dlgWidth + target.clientWidth;\n\n  if (leftPos < 1) {\n    dialogObj.element.style.left = dlgWidth + leftPos - 16 + 'px'; // right calculation\n  } else {\n    dialogObj.element.style.left = leftPos + -4 + 'px';\n  }\n}\n/**\n * @param {Object} args - Defines the args\n * @param {Popup} args.popup - Defines the args for popup\n * @param {Dialog} dialogObj - Defines the dialog obj\n * @returns {void}\n * @hidden\n */\n\nexport function getZIndexCalcualtion(args, dialogObj) {\n  args.popup.element.style.zIndex = (dialogObj.zIndex + 1).toString();\n}\n/**\n * @param {Element} elem - Defines the element\n * @returns {void}\n * @hidden\n */\n\nexport function toogleCheckbox(elem) {\n  var span = elem.querySelector('.e-frame');\n  var input = span.previousSibling;\n\n  if (span.classList.contains('e-check')) {\n    input.checked = false;\n    classList(span, ['e-uncheck'], ['e-check']);\n  } else {\n    input.checked = true;\n    classList(span, ['e-check'], ['e-uncheck']);\n  }\n}\n/**\n * @param {HTMLInputElement} elem - Defines the element\n * @param {boolean} checked - Defines is checked\n * @returns {void}\n * @hidden\n */\n\nexport function setChecked(elem, checked) {\n  elem.checked = checked;\n}\n/**\n * @param {string} uid - Defines the string\n * @param {Element} elem - Defines the Element\n * @param {string} className - Defines the classname\n * @returns {Element} Returns the box wrap\n * @hidden\n */\n\nexport function createCboxWithWrap(uid, elem, className) {\n  var div = createElement('div', {\n    className: className\n  });\n  div.appendChild(elem);\n  div.setAttribute('uid', uid);\n  return div;\n}\n/**\n * @param {Element} elem - Defines the element\n * @param {boolean} checked - Defines is checked\n * @returns {void}\n * @hidden\n */\n\nexport function removeAddCboxClasses(elem, checked) {\n  removeClass([elem], ['e-check', 'e-stop', 'e-uncheck']);\n\n  if (checked) {\n    elem.classList.add('e-check');\n  } else {\n    elem.classList.add('e-uncheck');\n  }\n}\n/**\n * Refresh the Row model's foreign data.\n *\n * @param {IRow<Column>} row - Grid Row model object.\n * @param {Column[]} columns - Foreign columns array.\n * @param {Object} data - Updated Row data.\n * @returns {void}\n * @hidden\n */\n\nexport function refreshForeignData(row, columns, data) {\n  for (var i = 0; i < columns.length; i++) {\n    setValue(columns[i].field, getForeignData(columns[i], data), row.foreignKeyData);\n  }\n\n  var cells = row.cells;\n\n  for (var i = 0; i < cells.length; i++) {\n    if (cells[i].isForeignKey) {\n      setValue('foreignKeyData', getValue(cells[i].column.field, row.foreignKeyData), cells[i]);\n    }\n  }\n}\n/**\n * Get the foreign data for the corresponding cell value.\n *\n * @param {Column} column - Foreign Key column\n * @param {Object} data - Row data.\n * @param {string | number} lValue - cell value.\n * @param {Object} foreignKeyData - foreign data source.\n * @returns {Object} Returns the object\n * @hidden\n */\n\nexport function getForeignData(column, data, lValue, foreignKeyData) {\n  var fField = column.foreignKeyField;\n  var key = !isNullOrUndefined(lValue) ? lValue : valueAccessor(column.field, data, column);\n  key = isNullOrUndefined(key) ? '' : key;\n  var query = new Query();\n  var fdata = foreignKeyData || (column.dataSource instanceof DataManager && column.dataSource.dataSource.json.length ? column.dataSource.dataSource.json : column.columnData);\n\n  if (key.getDay) {\n    query.where(getDatePredicate({\n      field: fField,\n      operator: 'equal',\n      value: key,\n      matchCase: false\n    }));\n  } else {\n    query.where(fField, '==', key, false);\n  }\n\n  return new DataManager(fdata).executeLocal(query);\n}\n/**\n * To use to get the column's object by the foreign key value.\n *\n * @param {string} foreignKeyValue - Defines ForeignKeyValue.\n * @param {Column[]} columns - Array of column object.\n * @returns {Column} Returns the element\n * @hidden\n */\n\nexport function getColumnByForeignKeyValue(foreignKeyValue, columns) {\n  var column;\n  return columns.some(function (col) {\n    column = col;\n    return col.foreignKeyValue === foreignKeyValue;\n  }) && column;\n}\n/**\n * @param {PredicateModel} filterObject - Defines the filterObject\n * @param {string} type - Defines the type\n * @returns {Predicate} Returns the Predicate\n * @hidden\n */\n\nexport function getDatePredicate(filterObject, type) {\n  var datePredicate;\n  var prevDate;\n  var nextDate;\n  var prevObj = baseExtend({}, getActualProperties(filterObject));\n  var nextObj = baseExtend({}, getActualProperties(filterObject));\n\n  if (isNullOrUndefined(filterObject.value) || filterObject.value === '') {\n    datePredicate = new Predicate(prevObj.field, prevObj.operator, prevObj.value, false);\n    return datePredicate;\n  }\n\n  var value = new Date(filterObject.value);\n\n  if (filterObject.operator === 'equal' || filterObject.operator === 'notequal') {\n    if (type === 'datetime') {\n      prevDate = new Date(value.setSeconds(value.getSeconds() - 1));\n      nextDate = new Date(value.setSeconds(value.getSeconds() + 2));\n      filterObject.value = new Date(value.setSeconds(nextDate.getSeconds() - 1));\n    } else {\n      prevDate = new Date(value.setHours(0) - 1);\n      nextDate = new Date(value.setHours(24));\n    }\n\n    prevObj.value = prevDate;\n    nextObj.value = nextDate;\n\n    if (filterObject.operator === 'equal') {\n      prevObj.operator = 'greaterthan';\n      nextObj.operator = 'lessthan';\n    } else if (filterObject.operator === 'notequal') {\n      prevObj.operator = 'lessthanorequal';\n      nextObj.operator = 'greaterthanorequal';\n    }\n\n    var predicateSt = new Predicate(prevObj.field, prevObj.operator, prevObj.value, false);\n    var predicateEnd = new Predicate(nextObj.field, nextObj.operator, nextObj.value, false);\n    datePredicate = filterObject.operator === 'equal' ? predicateSt.and(predicateEnd) : predicateSt.or(predicateEnd);\n  } else {\n    if (type === 'date' && (filterObject.operator === 'lessthanorequal' || filterObject.operator === 'greaterthan')) {\n      prevObj.value = new Date(value.setHours(24) - 1);\n    }\n\n    if (typeof prevObj.value === 'string') {\n      prevObj.value = new Date(prevObj.value);\n    }\n\n    var predicates = new Predicate(prevObj.field, prevObj.operator, prevObj.value, false);\n    datePredicate = predicates;\n  }\n\n  if (filterObject.setProperties) {\n    filterObject.setProperties({\n      ejpredicate: datePredicate\n    }, true);\n  } else {\n    filterObject.ejpredicate = datePredicate;\n  }\n\n  return datePredicate;\n}\n/**\n * @param {Element} ele - Defines the element\n * @param {number} frzCols - Defines the frozen columns\n * @param {IGrid} gObj - Defines the IGrid\n * @returns {Element} Returns the element\n * @hidden\n */\n\nexport function renderMovable(ele, frzCols, gObj) {\n  frzCols = frzCols && gObj && gObj.isRowDragable() ? frzCols + 1 : frzCols;\n  var mEle = ele.cloneNode(true);\n\n  for (var i = 0; i < frzCols; i++) {\n    mEle.removeChild(mEle.children[0]);\n  }\n\n  for (var i = frzCols, len = ele.childElementCount; i < len; i++) {\n    ele.removeChild(ele.children[ele.childElementCount - 1]);\n  }\n\n  return mEle;\n}\n/**\n * @param {IGrid} grid - Defines the IGrid\n * @returns {boolean} Returns true if group adaptive is true\n * @hidden\n */\n\nexport function isGroupAdaptive(grid) {\n  return grid.enableVirtualization && grid.groupSettings.columns.length > 0 && grid.isVirtualAdaptive;\n}\n/**\n * @param {string} field - Defines the Field\n * @param {Object} object - Defines the objec\n * @returns {any} Returns the object\n * @hidden\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\nexport function getObject(field, object) {\n  if (field === void 0) {\n    field = '';\n  }\n\n  if (field) {\n    var value = object;\n    var splits = field.split('.');\n\n    for (var i = 0; i < splits.length && !isNullOrUndefined(value); i++) {\n      value = value[splits[i]];\n    }\n\n    return value;\n  }\n}\n/**\n * @param {string | Object} format - defines the format\n * @param {string} colType - Defines the coltype\n * @returns {string} Returns the custom Data format\n * @hidden\n */\n\nexport function getCustomDateFormat(format, colType) {\n  var intl = new Internationalization();\n  var formatvalue;\n  var formatter = 'format';\n  var type = 'type';\n\n  if (colType === 'date') {\n    formatvalue = typeof format === 'object' ? intl.getDatePattern({\n      type: format[type] ? format[type] : 'date',\n      format: format[formatter]\n    }, false) : intl.getDatePattern({\n      type: 'dateTime',\n      skeleton: format\n    }, false);\n  } else {\n    formatvalue = typeof format === 'object' ? intl.getDatePattern({\n      type: format[type] ? format[type] : 'dateTime',\n      format: format[formatter]\n    }, false) : intl.getDatePattern({\n      type: 'dateTime',\n      skeleton: format\n    }, false);\n  }\n\n  return formatvalue;\n}\n/**\n * @param {IGrid} gObj - Defines the IGrid\n * @param {HierarchyGridPrintMode} hierarchyPrintMode - Defines the hierarchyPrintMode\n * @returns {Object} Returns the object\n * @hidden\n */\n\nexport function getExpandedState(gObj, hierarchyPrintMode) {\n  var rows = gObj.getRowsObject();\n  var obj = {};\n\n  for (var _i = 0, rows_1 = rows; _i < rows_1.length; _i++) {\n    var row = rows_1[_i];\n\n    if (row.isExpand && !row.isDetailRow) {\n      var index = gObj.allowPaging && gObj.printMode === 'AllPages' ? row.index + gObj.pageSettings.currentPage * gObj.pageSettings.pageSize - gObj.pageSettings.pageSize : row.index;\n      obj[index] = {};\n      obj[index].isExpand = true;\n      obj[index].gridModel = getPrintGridModel(row.childGrid, hierarchyPrintMode);\n      obj[index].gridModel.query = gObj.childGrid.query;\n    }\n  }\n\n  return obj;\n}\n/**\n * @param {IGrid} gObj - Defines the grid objct\n * @param {HierarchyGridPrintMode} hierarchyPrintMode - Defines the hierarchyPrintMode\n * @returns {IGrid} Returns the IGrid\n * @hidden\n */\n\nexport function getPrintGridModel(gObj, hierarchyPrintMode) {\n  if (hierarchyPrintMode === void 0) {\n    hierarchyPrintMode = 'Expanded';\n  }\n\n  var printGridModel = {};\n\n  if (!gObj) {\n    return printGridModel;\n  }\n\n  var isFrozen = gObj.isFrozenGrid() && !gObj.getFrozenColumns();\n\n  for (var _i = 0, _a = Print.printGridProp; _i < _a.length; _i++) {\n    var key = _a[_i];\n\n    if (key === 'columns') {\n      printGridModel[key] = getActualPropFromColl(isFrozen ? gObj.getColumns() : gObj[key]);\n    } else if (key === 'allowPaging') {\n      printGridModel[key] = gObj.printMode === 'CurrentPage';\n    } else {\n      printGridModel[key] = getActualProperties(gObj[key]);\n    }\n  }\n\n  printGridModel['enableHover'] = false;\n\n  if (gObj.childGrid && hierarchyPrintMode !== 'None') {\n    printGridModel.expandedRows = getExpandedState(gObj, hierarchyPrintMode);\n  }\n\n  return printGridModel;\n}\n/**\n * @param {Object} copied - Defines the copied object\n * @param {Object} first - Defines the first object\n * @param {Object} second - Defines the second object\n * @param {boolean} deep - Defines the deep\n * @returns {Object} Returns the extended object\n * @hidden\n */\n\nexport function extendObjWithFn(copied, first, second, deep) {\n  var res = copied || {};\n  var len = arguments.length;\n\n  if (deep) {\n    len = len - 1;\n  }\n\n  for (var i = 1; i < len; i++) {\n    // eslint-disable-next-line prefer-rest-params\n    if (!arguments[i]) {\n      continue;\n    } // eslint-disable-next-line prefer-rest-params\n\n\n    var obj1 = arguments[i];\n    var keys = Object.keys(Object.getPrototypeOf(obj1)).length ? Object.keys(obj1).concat(getPrototypesOfObj(obj1)) : Object.keys(obj1);\n\n    for (var i_1 = 0; i_1 < keys.length; i_1++) {\n      var source = res[keys[i_1]];\n      var cpy = obj1[keys[i_1]];\n      var cln = void 0;\n\n      if (deep && (isObject(cpy) || Array.isArray(cpy))) {\n        if (isObject(cpy)) {\n          cln = source ? source : {};\n          res[keys[i_1]] = baseExtend({}, cln, cpy, deep);\n        } else {\n          cln = source ? source : [];\n          res[keys[i_1]] = baseExtend([], cln, cpy, deep);\n        }\n      } else {\n        res[keys[i_1]] = cpy;\n      }\n    }\n  }\n\n  return res;\n}\n/**\n * @param {Object} obj - Defines the obj\n * @returns {string[]} Returns the string\n * @hidden\n */\n\nfunction getPrototypesOfObj(obj) {\n  var keys = [];\n\n  while (Object.getPrototypeOf(obj) && Object.keys(Object.getPrototypeOf(obj)).length) {\n    keys = keys.concat(Object.keys(Object.getPrototypeOf(obj)));\n    obj = Object.getPrototypeOf(obj);\n  }\n\n  return keys;\n}\n/**\n * @param {Column[]} column - Defines the Column\n * @returns {number} Returns the column Depth\n * @hidden\n */\n\n\nexport function measureColumnDepth(column) {\n  var max = 0;\n\n  for (var i = 0; i < column.length; i++) {\n    var depth = checkDepth(column[i], 0);\n\n    if (max < depth) {\n      max = depth;\n    }\n  }\n\n  return max + 1;\n}\n/**\n * @param {Column} col - Defines the Column\n * @param {number} index - Defines the index\n * @returns {number} Returns the depth\n * @hidden\n */\n\nexport function checkDepth(col, index) {\n  var max = index;\n  var indices = [];\n\n  if (col.columns) {\n    index++;\n\n    for (var i = 0; i < col.columns.length; i++) {\n      indices[i] = checkDepth(col.columns[i], index);\n    }\n\n    for (var j = 0; j < indices.length; j++) {\n      if (max < indices[j]) {\n        max = indices[j];\n      }\n    }\n\n    index = max;\n  }\n\n  return index;\n}\n/**\n * @param {IGrid} gObj - Defines the IGrid\n * @param {PredicateModel[]} filteredCols - Defines the PredicateModel\n * @returns {void}\n * @hidden\n */\n\nexport function refreshFilteredColsUid(gObj, filteredCols) {\n  for (var i = 0; i < filteredCols.length; i++) {\n    filteredCols[i].uid = filteredCols[i].isForeignKey ? getColumnByForeignKeyValue(filteredCols[i].field, gObj.getForeignKeyColumns()).uid : gObj.enableColumnVirtualization ? getColumnModelByFieldName(gObj, filteredCols[i].field).uid : gObj.getColumnByField(filteredCols[i].field).uid;\n  }\n}\n/** @hidden */\n// eslint-disable-next-line @typescript-eslint/no-namespace\n\nexport var Global;\n\n(function (Global) {\n  // eslint-disable-next-line prefer-const\n  Global.timer = null;\n})(Global || (Global = {}));\n/**\n * @param {Element} element - Defines the element\n * @returns {Object} Returns the transform values\n * @hidden\n */\n\n\nexport function getTransformValues(element) {\n  var style = document.defaultView.getComputedStyle(element, null);\n  var transformV = style.getPropertyValue('transform');\n  var replacedTv = transformV.replace(/,/g, '');\n  var translateX = parseFloat(replacedTv.split(' ')[4]);\n  var translateY = parseFloat(replacedTv.split(' ')[5]);\n  return {\n    width: translateX,\n    height: translateY\n  };\n}\n/**\n * @param {Element} rootElement - Defines the root Element\n * @param {Element} element - Defines the element\n * @returns {void}\n * @hidden\n */\n\nexport function applyBiggerTheme(rootElement, element) {\n  if (rootElement.classList.contains('e-bigger')) {\n    element.classList.add('e-bigger');\n  }\n}\n/**\n * @param {HTMLElement} mTD - Defines the movable TD\n * @param {HTMLElement} fTD  - Defines the Frozen TD\n * @returns {void}\n * @hidden\n */\n\nexport function alignFrozenEditForm(mTD, fTD) {\n  if (mTD && fTD) {\n    var mHeight = closest(mTD, '.' + literals.row).getBoundingClientRect().height;\n    var fHeight = closest(fTD, '.' + literals.row).getBoundingClientRect().height;\n\n    if (mHeight > fHeight) {\n      fTD.style.height = mHeight + 'px';\n    } else {\n      mTD.style.height = fHeight + 'px';\n    }\n  }\n}\n/**\n * @param {Element} row - Defines row element\n * @param {IGrid} gridObj - Defines grid object\n * @returns {boolean} Returns isRowEnteredInGrid\n * @hidden\n */\n\nexport function ensureLastRow(row, gridObj) {\n  var cntOffset = gridObj.getContent().firstElementChild.offsetHeight;\n  return row && row.getBoundingClientRect().top > cntOffset;\n}\n/**\n * @param {Element} row - Defines row element\n * @param {number} rowTop - Defines row top number\n * @returns {boolean} Returns first row is true\n * @hidden\n */\n\nexport function ensureFirstRow(row, rowTop) {\n  return row && row.getBoundingClientRect().top < rowTop;\n}\n/**\n * @param {number} index - Defines index\n * @param {IGrid} gObj - Defines grid object\n * @returns {boolean} Returns isRowEnteredInGrid\n * @hidden\n */\n\nexport function isRowEnteredInGrid(index, gObj) {\n  var rowHeight = gObj.getRowHeight();\n  var startIndex = gObj.getContent().firstElementChild.scrollTop / rowHeight;\n  var endIndex = startIndex + gObj.getContent().firstElementChild.offsetHeight / rowHeight;\n  return index < endIndex && index > startIndex;\n}\n/**\n * @param {IGrid} gObj - Defines the grid object\n * @param {Object} data - Defines the query\n * @returns {number} Returns the edited data index\n * @hidden\n */\n\nexport function getEditedDataIndex(gObj, data) {\n  var keyField = gObj.getPrimaryKeyFieldNames()[0];\n  var dataIndex;\n  gObj.getCurrentViewRecords().filter(function (e, index) {\n    if (e[keyField] === data[keyField]) {\n      dataIndex = index;\n    }\n  });\n  return dataIndex;\n}\n/**\n * @param {Object} args - Defines the argument\n * @param {Query} query - Defines the query\n * @returns {FilterStateObj} Returns the filter state object\n * @hidden\n */\n\nexport function eventPromise(args, query) {\n  var state = getStateEventArgument(query);\n  var def = new Deferred();\n  state.dataSource = def.resolve;\n  state.action = args;\n  return {\n    state: state,\n    deffered: def\n  };\n}\n/**\n * @param {Query} query - Defines the query\n * @returns {Object} Returns the state event argument\n * @hidden\n */\n\nexport function getStateEventArgument(query) {\n  var adaptr = new UrlAdaptor();\n  var dm = new DataManager({\n    url: '',\n    adaptor: new UrlAdaptor()\n  });\n  var state = adaptr.processQuery(dm, query);\n  var data = JSON.parse(state.data);\n  return data;\n}\n/**\n * @param {IGrid} gObj - Defines the Igrid\n * @returns {boolean} Returns the ispercentageWidth\n * @hidden\n */\n\nexport function ispercentageWidth(gObj) {\n  var columns = gObj.getVisibleColumns();\n  var percentageCol = 0;\n  var undefinedWidthCol = 0;\n\n  for (var i = 0; i < columns.length; i++) {\n    if (isUndefined(columns[i].width)) {\n      undefinedWidthCol++;\n    } else if (columns[i].width.toString().indexOf('%') !== -1) {\n      percentageCol++;\n    }\n  }\n\n  return (gObj.width === 'auto' || typeof gObj.width === 'string' && gObj.width.indexOf('%') !== -1) && !gObj.groupSettings.showGroupedColumn && gObj.groupSettings.columns.length && percentageCol && !undefinedWidthCol;\n}\n/**\n * @param {IGrid} gObj - Defines the IGrid\n * @param {Row<Column>[]} rows - Defines the row\n * @param {HTMLTableRowElement[]} rowElms - Row elements\n * @param {number} index - Row index\n * @param {number} startRowIndex - Start Row Index\n * @returns {void}\n * @hidden\n */\n\nexport function resetRowIndex(gObj, rows, rowElms, index, startRowIndex) {\n  var startIndex = index ? index : 0;\n\n  for (var i = startRowIndex ? startRowIndex : 0; i < rows.length; i++) {\n    if (rows[i].isDataRow) {\n      rows[i].index = startIndex;\n      rows[i].isAltRow = gObj.enableAltRow ? startIndex % 2 !== 0 : false;\n      rowElms[i].setAttribute(literals.ariaRowIndex, startIndex.toString());\n\n      if (rows[i].isAltRow) {\n        rowElms[i].classList.add('e-altrow');\n      } else {\n        rowElms[i].classList.remove('e-altrow');\n      }\n\n      for (var j = 0; j < rowElms[i].cells.length; j++) {\n        rowElms[i].cells[j].setAttribute('index', startIndex.toString());\n      }\n\n      startIndex++;\n    }\n  }\n\n  if (!rows.length) {\n    gObj.renderModule.emptyRow(true);\n  }\n}\n/**\n * @param {IGrid} gObj - Defines the grid object\n * @param {Object} changes - Defines the changes\n * @param {string} type - Defines the type\n * @param {string} keyField - Defines the keyfield\n * @returns {void}\n * @hidden\n */\n\nexport function compareChanges(gObj, changes, type, keyField) {\n  var newArray = gObj.dataToBeUpdated[type].concat(changes[type]).reduce(function (r, o) {\n    r[o[keyField]] = r[o[keyField]] === undefined ? o : Object.assign(r[o[keyField]], o);\n    return r;\n  }, {});\n  gObj.dataToBeUpdated[type] = Object.keys(newArray).map(function (k) {\n    return newArray[k];\n  });\n}\n/**\n * @param {IGrid} gObj - Defines the grid object\n * @returns {void}\n * @hidden\n */\n\nexport function setRowElements(gObj) {\n  if (gObj.isFrozenGrid()) {\n    gObj.contentModule.rowElements = [].slice.call(gObj.element.querySelectorAll('.e-movableheader .e-row, .e-movablecontent .e-row'));\n    var cls = gObj.getFrozenMode() === literals.leftRight ? '.e-frozen-left-header .e-row, .e-frozen-left-content .e-row' : '.e-frozenheader .e-row, .e-frozencontent .e-row';\n    gObj.contentModule.freezeRowElements = [].slice.call(gObj.element.querySelectorAll(cls));\n\n    if (gObj.getFrozenMode() === literals.leftRight) {\n      gObj.contentModule.frozenRightRowElements = [].slice.call(gObj.element.querySelectorAll('.e-frozen-right-header .e-row, .e-frozen-right-content .e-row'));\n    }\n  } else {\n    gObj.contentModule.rowElements = [].slice.call(gObj.element.querySelectorAll('.e-row:not(.e-addedrow)'));\n  }\n}\n/**\n * @param {IGrid} gObj - Defines the grid object\n * @param {Cell<Column>} cells - Defines the callback function\n * @param {freezeTable} tableName - Defines the row\n * @returns {Cell<Column>[]} Returns the cell\n * @hidden\n */\n\nexport function splitFrozenRowObjectCells(gObj, cells, tableName) {\n  var left = gObj.getFrozenLeftCount();\n  var movable = gObj.getMovableColumnsCount();\n  var right = gObj.getFrozenRightColumnsCount();\n  var frozenMode = gObj.getFrozenMode();\n  var drag = gObj.isRowDragable() ? 1 : 0;\n  var rightIndex = frozenMode === 'Right' ? left + movable : left + movable + drag;\n  var mvblIndex = frozenMode === 'Right' ? left : left + drag;\n  var mvblEndIdx = frozenMode === 'Right' ? cells.length - right - drag : right ? cells.length - right : cells.length;\n\n  if (tableName === literals.frozenLeft) {\n    cells = cells.slice(0, left ? left + drag : cells.length);\n  } else if (tableName === literals.frozenRight) {\n    cells = cells.slice(rightIndex, cells.length);\n  } else if (tableName === 'movable') {\n    cells = cells.slice(mvblIndex, mvblEndIdx);\n  }\n\n  return cells;\n} // eslint-disable-next-line\n\n/** @hidden */\n\nexport function gridActionHandler(gObj, callBack, rows, force, rowObj) {\n  if (rows[0].length || force) {\n    if (rowObj) {\n      callBack(literals.frozenLeft, rows[0], rowObj[0]);\n    } else {\n      callBack(literals.frozenLeft, rows[0]);\n    }\n  }\n\n  if (gObj.isFrozenGrid() && (rows[1].length || force)) {\n    if (rowObj) {\n      callBack('movable', rows[1], rowObj[1]);\n    } else {\n      callBack('movable', rows[1]);\n    }\n  }\n\n  if ((gObj.getFrozenMode() === literals.leftRight || gObj.getFrozenMode() === 'Right') && (rows[2].length || force)) {\n    if (rowObj) {\n      callBack(literals.frozenRight, rows[2], rowObj[2]);\n    } else {\n      callBack(literals.frozenRight, rows[2]);\n    }\n  }\n}\n/**\n * @param {IGrid} gObj - Defines the grid\n * @returns {Row<Column>} Returns the row\n * @hidden\n */\n\nexport function getGridRowObjects(gObj) {\n  return [gObj.getFrozenMode() !== 'Right' ? gObj.getRowsObject() : [], gObj.getMovableRowsObject(), gObj.getFrozenRightRowsObject()];\n}\n/**\n * @param {IGrid} gObj - Defines the grid\n * @returns {Element} Returns the element\n * @hidden\n */\n\nexport function getGridRowElements(gObj) {\n  return [gObj.getFrozenMode() !== 'Right' ? gObj.getAllDataRows(true) : [], gObj.getAllMovableDataRows(true), gObj.getAllFrozenRightDataRows(true)];\n}\n/**\n * @param {Element} row - Defines the row\n * @param {number} start - Defines the start index\n * @param {number} end - Defines the end index\n * @returns {void}\n * @hidden\n */\n\nexport function sliceElements(row, start, end) {\n  var cells = row.children;\n  var len = cells.length;\n  var k = 0;\n\n  for (var i = 0; i < len; i++, k++) {\n    if (i >= start && i < end) {\n      continue;\n    }\n\n    row.removeChild(row.children[k]);\n    k--;\n  }\n}\n/**\n * @param {IGrid} gObj - Defines the grid Object\n * @param {Column} col - Defines the column\n * @param {number} rowIndex - Defines the rowindex\n * @returns {Element} Returns the element\n * @hidden\n */\n\nexport function getCellsByTableName(gObj, col, rowIndex) {\n  if (col.getFreezeTableName() === 'movable') {\n    return [].slice.call(gObj.getMovableDataRows()[rowIndex].getElementsByClassName(literals.rowCell));\n  } else if (col.getFreezeTableName() === literals.frozenRight) {\n    return [].slice.call(gObj.getFrozenRightDataRows()[rowIndex].getElementsByClassName(literals.rowCell));\n  } else {\n    return [].slice.call(gObj.getDataRows()[rowIndex].getElementsByClassName(literals.rowCell));\n  }\n}\n/**\n * @param {IGrid} gObj - Defines the column\n * @param {Column} col - Defines the index\n * @param {number} rowIndex - Defines the rules\n * @param {number} index - Defines the movable column rules\n * @returns {Element} Returns the Element\n * @hidden\n */\n\nexport function getCellByColAndRowIndex(gObj, col, rowIndex, index) {\n  var left = gObj.getFrozenLeftCount();\n  var movable = gObj.getMovableColumnsCount();\n  index = col.getFreezeTableName() === 'movable' ? index - left : col.getFreezeTableName() === literals.frozenRight ? index - (left + movable) : index;\n  return getCellsByTableName(gObj, col, rowIndex)[index];\n}\n/**\n * @param {Column} col - Defines the column\n * @param {number} index - Defines the index\n * @param {Object} rules - Defines the rules\n * @param {Object} mRules - Defines the movable column rules\n * @param {Object} frRules - Defines the Frozen rules\n * @param {number} len - Defines the length\n * @param {boolean} isCustom - Defines custom form validation\n * @returns {void}\n * @hidden\n */\n\nexport function setValidationRuels(col, index, rules, mRules, frRules, len, isCustom) {\n  if (isCustom) {\n    rules[getComplexFieldID(col.field)] = col.validationRules;\n  } else {\n    if (col.getFreezeTableName() === literals.frozenLeft || !index && col.getFreezeTableName() === literals.frozenRight || len === 1) {\n      rules[getComplexFieldID(col.field)] = col.validationRules;\n    } else if (col.getFreezeTableName() === 'movable' || !col.getFreezeTableName()) {\n      mRules[getComplexFieldID(col.field)] = col.validationRules;\n    } else if (col.getFreezeTableName() === literals.frozenRight) {\n      frRules[getComplexFieldID(col.field)] = col.validationRules;\n    }\n  }\n}\n/**\n * @param {IGrid} gObj - Defines the grid object\n * @returns {Element} Returns the Element\n * @hidden\n */\n\nexport function getMovableTbody(gObj) {\n  var tbody;\n\n  if (gObj.isFrozenGrid()) {\n    tbody = gObj.frozenRows && gObj.editSettings.newRowPosition === 'Top' ? gObj.getMovableHeaderTbody() : gObj.getMovableContentTbody();\n  }\n\n  return tbody;\n}\n/**\n * @param {IGrid} gObj - Defines the grid object\n * @returns {Element} Returns the Element\n * @hidden\n */\n\nexport function getFrozenRightTbody(gObj) {\n  var tbody;\n\n  if (gObj.getFrozenMode() === literals.leftRight) {\n    tbody = gObj.frozenRows && gObj.editSettings.newRowPosition === 'Top' ? gObj.getFrozenRightHeaderTbody() : gObj.getFrozenRightContentTbody();\n  }\n\n  return tbody;\n}\n/**\n * @param {Element} tbody - Table body\n * @param {Element} mTbody - Movanle table body\n * @param {Element} frTbody - Frozen right table body\n * @param {Element[]} tr - Table rows\n * @param {Element[]} mTr - Movable table rows\n * @param {Element[]} frTr - Frozen right table rows\n * @param {Function} callBack - Callback function\n * @returns {void}\n * @hidden\n */\n\nexport function setRowsInTbody(tbody, mTbody, frTbody, tr, mTr, frTr, callBack) {\n  if (tbody && tr) {\n    callBack(tbody, tr);\n  }\n\n  if (mTbody && mTr) {\n    callBack(mTbody, mTr);\n  }\n\n  if (frTbody && frTr) {\n    callBack(frTbody, frTr);\n  }\n}\n/**\n * @param {string} numberFormat - Format\n * @param {string} type - Value type\n * @param {boolean} isExcel - Boolean property\n * @returns {string} returns formated value\n * @hidden\n */\n\nexport function getNumberFormat(numberFormat, type, isExcel) {\n  var format;\n  var intl = new Internationalization();\n\n  if (type === 'number') {\n    try {\n      format = intl.getNumberPattern({\n        format: numberFormat,\n        currency: this.currency,\n        useGrouping: true\n      }, true);\n    } catch (error) {\n      format = numberFormat;\n    }\n  } else if (type === 'date' || type === 'time' || type === 'datetime') {\n    try {\n      format = intl.getDatePattern({\n        skeleton: numberFormat,\n        type: type\n      }, isExcel);\n\n      if (isNullOrUndefined(format)) {\n        // eslint-disable-next-line\n        throw 'error';\n      }\n    } catch (error) {\n      try {\n        format = intl.getDatePattern({\n          format: numberFormat,\n          type: type\n        }, isExcel);\n      } catch (error) {\n        format = numberFormat;\n      }\n    }\n  } else {\n    format = numberFormat;\n  }\n\n  if (type !== 'number') {\n    var patternRegex = /G|H|c|'| a|yy|y|EEEE|E/g;\n    var mtch_1 = {\n      'G': '',\n      'H': 'h',\n      'c': 'd',\n      '\\'': '\"',\n      ' a': ' AM/PM',\n      'yy': 'yy',\n      'y': 'yyyy',\n      'EEEE': 'dddd',\n      'E': 'ddd'\n    };\n    format = format.replace(patternRegex, function (pattern) {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      return mtch_1[pattern];\n    });\n  }\n\n  return format;\n}\n/**\n * @param {IGrid} gObj - Grid instance\n * @returns {void}\n * @hidden\n */\n\nexport function addBiggerDialog(gObj) {\n  if (gObj.enableAdaptiveUI) {\n    var dialogs = document.getElementsByClassName('e-responsive-dialog');\n\n    for (var i = 0; i < dialogs.length; i++) {\n      dialogs[i].classList.add('e-bigger');\n    }\n  }\n}\n/**\n * @param {string} value - specifies the trr\n * @param {Object} mapObject - specifies the idx\n * @returns {Object | string} returns object or string\n * @hidden\n */\n\nexport function performComplexDataOperation(value, mapObject) {\n  var returnObj;\n  var length = value.split('.').length;\n  var splits = value.split('.');\n  var duplicateMap = mapObject;\n\n  for (var i = 0; i < length; i++) {\n    returnObj = duplicateMap[splits[i]];\n    duplicateMap = returnObj;\n  }\n\n  return returnObj;\n}\n/**\n * @param {Object} tr - specifies the trr\n * @param {number} idx - specifies the idx\n * @param {string} displayVal - specifies the displayval\n * @param {Row<Column>} rows - specifies the rows\n * @param {IGrid} parent - Grid instance\n * @param {boolean} isContent - check for content renderer\n * @returns {void}\n * @hidden\n */\n\nexport function setDisplayValue(tr, idx, displayVal, rows, parent, isContent) {\n  var trs = Object.keys(tr);\n\n  for (var i = 0; i < trs.length; i++) {\n    var td = tr[trs[i]].querySelectorAll('td.e-rowcell')[idx];\n\n    if (tr[trs[i]].querySelectorAll('td.e-rowcell').length && td) {\n      setStyleAttribute(tr[trs[i]].querySelectorAll('td.e-rowcell')[idx], {\n        'display': displayVal\n      });\n\n      if (tr[trs[i]].querySelectorAll('td.e-rowcell')[idx].classList.contains('e-hide')) {\n        removeClass([tr[trs[i]].querySelectorAll('td.e-rowcell')[idx]], ['e-hide']);\n      }\n\n      if (isContent && parent.isRowDragable()) {\n        var index = parent.getFrozenColumns() ? idx : idx + 1;\n        rows[trs[i]].cells[index].visible = displayVal === '' ? true : false;\n      } else {\n        rows[trs[i]].cells[idx].visible = displayVal === '' ? true : false;\n      }\n    }\n  }\n} // eslint-disable-next-line\n\n/** @hidden */\n\nexport function addRemoveEventListener(parent, evt, isOn, module) {\n  for (var _i = 0, evt_1 = evt; _i < evt_1.length; _i++) {\n    var inst = evt_1[_i];\n\n    if (isOn) {\n      parent.on(inst.event, inst.handler, module);\n    } else {\n      parent.off(inst.event, inst.handler);\n    }\n  }\n} // eslint-disable-next-line\n\n/** @hidden */\n\nexport function createEditElement(parent, column, classNames, attr) {\n  var complexFieldName = getComplexFieldID(column.field);\n  attr = Object.assign(attr, {\n    id: parent.element.id + complexFieldName,\n    name: complexFieldName,\n    'e-mappinguid': column.uid\n  });\n  return parent.createElement('input', {\n    className: classNames,\n    attrs: attr\n  });\n}\n/**\n * @param {IGrid} gObj - Grid instance\n * @param {string} uid - Defines column's uid\n * @returns {Column} returns column model\n * @hidden\n */\n\nexport function getColumnModelByUid(gObj, uid) {\n  var column;\n\n  for (var _i = 0, _a = gObj.columnModel; _i < _a.length; _i++) {\n    var col = _a[_i];\n\n    if (col.uid === uid) {\n      column = col;\n      break;\n    }\n  }\n\n  return column;\n}\n/**\n * @param {IGrid} gObj - Grid instance\n * @param {string} field - Defines column's uid\n * @returns {Column} returns column model\n * @hidden\n */\n\nexport function getColumnModelByFieldName(gObj, field) {\n  var column;\n\n  if (!gObj.columnModel) {\n    gObj.getColumns();\n  }\n\n  for (var _i = 0, _a = gObj.columnModel; _i < _a.length; _i++) {\n    var col = _a[_i];\n\n    if (col.field === field) {\n      column = col;\n      break;\n    }\n  }\n\n  return column;\n}\n/**\n * @param {string} id - Defines component id\n * @param {string[]} evts - Defines events\n * @param {object} handlers - Defines event handlers\n * @param {any} instance - Defines class instance\n * @returns {void}\n * @hidden\n */\n// eslint-disable-next-line\n\nexport function registerEventHandlers(id, evts, handlers, instance) {\n  instance.eventHandlers[id] = {};\n\n  for (var i = 0; i < evts.length; i++) {\n    instance.eventHandlers[id][evts[i]] = handlers[evts[i]];\n  }\n}\n/**\n * @param {any} component - Defines component instance\n * @param {string[]} evts - Defines events\n * @param {any} instance - Defines class instance\n * @returns {void}\n * @hidden\n */\n// eslint-disable-next-line\n\nexport function removeEventHandlers(component, evts, instance) {\n  for (var i = 0; i < evts.length; i++) {\n    if (component.isDestroyed) {\n      break;\n    }\n\n    component.removeEventListener(evts[i], instance.eventHandlers[component.element.id][evts[i]]);\n  }\n}\n/**\n * @param {IGrid | IXLFilter} parent - Defines parent instance\n * @param {string[]} templates - Defines the templates name which are needs to clear\n * @returns {void}\n * @hidden\n */\n\nexport function clearReactVueTemplates(parent, templates) {\n  parent.destroyTemplate(templates);\n\n  if (parent.isReact) {\n    parent.renderTemplates();\n  }\n}\n/**\n *\n * @param { Element } row - Defines row element\n * @returns { number } row index\n */\n\nexport function getRowIndexFromElement(row) {\n  return parseInt(row.getAttribute(literals.ariaRowIndex), 10);\n}\n/**\n *\n * @param { string[] } fields - Defines grouped fields\n * @param { values } values - Defines caption keys\n * @param { any } instance - Defines dynamic class instance\n * @returns { Predicate } returns filter predicate\n */\n// eslint-disable-next-line\n\nexport function generateExpandPredicates(fields, values, instance) {\n  var filterCols = [];\n\n  for (var i = 0; i < fields.length; i++) {\n    var column = instance.parent.getColumnByField(fields[i]);\n    var value = values[i] === 'null' ? null : values[i];\n    var pred = {\n      field: fields[i],\n      predicate: 'or',\n      uid: column.uid,\n      operator: 'equal',\n      type: column.type,\n      matchCase: instance.allowCaseSensitive,\n      ignoreAccent: instance.parent.filterSettings.ignoreAccent\n    };\n\n    if (value === '' || isNullOrUndefined(value)) {\n      filterCols = filterCols.concat(CheckBoxFilterBase.generateNullValuePredicates(pred));\n    } else {\n      filterCols.push(extend({}, {\n        value: value\n      }, pred));\n    }\n  }\n\n  return CheckBoxFilterBase.getPredicate(filterCols);\n}\n/**\n *\n * @param { Predicate } pred - Defines filter predicate\n * @returns { Predicate[] } Returns formed predicate\n */\n\nexport function getPredicates(pred) {\n  var predicateList = [];\n\n  for (var _i = 0, _a = Object.keys(pred); _i < _a.length; _i++) {\n    var prop = _a[_i];\n    predicateList.push(pred[prop]);\n  }\n\n  return predicateList;\n}\n/**\n *\n * @param { number } index - Defines group caption indent\n * @param { Row<Column>[] } rowsObject - Defines rows object\n * @returns { { fields: string[], keys: string[] } } Returns grouped keys and values\n */\n\nexport function getGroupKeysAndFields(index, rowsObject) {\n  var fields = [];\n  var keys = [];\n\n  for (var i = index; i >= 0; i--) {\n    if (rowsObject[i].isCaptionRow && fields.indexOf(rowsObject[i].data.field) === -1 && (rowsObject[i].indent < rowsObject[index].indent || i === index)) {\n      fields.push(rowsObject[i].data.field);\n      keys.push(rowsObject[i].data.key);\n\n      if (rowsObject[i].indent === 0) {\n        break;\n      }\n    }\n  }\n\n  return {\n    fields: fields,\n    keys: keys\n  };\n} // eslint-disable-next-line\n\n/**\n *\n * @param { number[][] } checkActiveMatrix - Defines matrix to check\n * @param { number[] } checkCellIndex - Defines index to check\n * @param { boolean } next - Defines select next or previous index\n * @returns { number[] } - Returns next active current index\n */\n\nexport function findCellIndex(checkActiveMatrix, checkCellIndex, next) {\n  var activeMatrix = checkActiveMatrix;\n  var cellIndex = checkCellIndex;\n  var currentCellIndexPass = false;\n\n  if (next) {\n    for (var i = cellIndex[0]; i < activeMatrix.length; i++) {\n      var rowCell = activeMatrix[i];\n\n      for (var j = 0; j < rowCell.length; j++) {\n        if (currentCellIndexPass && activeMatrix[i][j] === 1) {\n          cellIndex = [i, j];\n          return cellIndex;\n        }\n\n        if (!currentCellIndexPass && cellIndex.toString() === [i, j].toString()) {\n          currentCellIndexPass = true;\n        }\n      }\n    }\n  } else {\n    for (var i = cellIndex[0]; i >= 0; i--) {\n      var rowCell = activeMatrix[i];\n\n      for (var j = rowCell.length - 1; j >= 0; j--) {\n        if (currentCellIndexPass && activeMatrix[i][j] === 1) {\n          cellIndex = [i, j];\n          return cellIndex;\n        }\n\n        if (!currentCellIndexPass && cellIndex.toString() === [i, j].toString()) {\n          currentCellIndexPass = true;\n        }\n      }\n    }\n  }\n\n  return cellIndex;\n}","map":{"version":3,"names":["ChildProperty","compile","baseTemplateComplier","setValue","Internationalization","isUndefined","closest","extend","baseExtend","isNullOrUndefined","getValue","classList","setStyleAttribute","addClass","attributes","remove","createElement","removeClass","isObject","select","selectAll","DataUtil","Query","DataManager","Predicate","UrlAdaptor","Deferred","Column","calculateRelativeBasedPosition","Print","CheckBoxFilterBase","literals","doesImplementInterface","target","checkFor","prototype","valueAccessor","field","data","column","getObject","headerValueAccessor","getUpdateUsingRaf","updateFunction","callBack","requestAnimationFrame","e","isExportColumns","exportProperties","columns","length","updateColumnTypeForExportColumns","gObj","exportColumns","gridColumns","i","j","type","updatecloneRow","grid","nRows","actualRows","vRows","isDataRow","push","isExpand","isCaptionRow","getCollapsedRowsCount","vcRows","count","val","gSummary","total","gLen","groupSettings","records","items","value","dataRowCnt","agrCnt","indent","len","gLevel","GroupGuid","childLevels","recursive","row","rCount","length_1","nLevel","iterateArrayOrObject","collection","predicate","result","pred","iterateExtend","array","obj","getActualProperties","templateCompiler","template","document","querySelectorAll","querySelector","innerHTML","trim","undefined","setStyleAndAttributes","node","customAttributes","copyAttr","copied","first","second","exclude","moved","values","Object","keys","indexOf","setColumnIndex","columnModel","ind","index","prepareColumns","autoWidth","c","toLowerCase","allowReordering","headerText","foreignKeyValue","foreignKeyField","window","width","visible","setCssInGridPopUp","popUp","className","popUpSpan","position","parentElement","getBoundingClientRect","targetPosition","style","display","isBottomTail","clientY","changedTouches","offsetHeight","top","left","getPopupLeftPosition","popup","offsetWidth","x","getPosition","right","parentsUntil","elem","selector","isID","parent","id","contains","getElementIndex","element","elements","isEqualNode","inArray","getActualPropFromColl","coll","hasOwnProperty","properties","removeElement","slice","call","clientX","y","uid","getUid","prefix","appendChildren","children","appendChild","parents","calculateAggregate","context","temp","customAggregate","Array","aggregates","scrollWidth","getScrollBarWidth","divNode","cssText","body","clientWidth","removeChild","rowHeight","getRowHeight","table","styles","attrs","role","rect","Math","ceil","height","actualRowHeight","getActualRowHeight","isComplexField","split","getComplexFieldID","replace","setComplexFieldID","isEditable","col","isOldRow","isIdentity","isPrimaryKey","allowEditing","isActionPrevent","inst","dlg","editSettings","mode","showConfirmDialog","wrap","action","clName","add","setFormatter","serviceLocator","fmtr","getService","format","args","skeleton","getFormatFunction","setParser","getParserFunction","addRemoveActiveClasses","cells","_i","arguments","setAttribute","removeAttribute","distinctStringValues","res","toString","getFilterMenuPostion","dialogObj","elementVisible","dlgWidth","newpos","leftPos","getZIndexCalcualtion","zIndex","toogleCheckbox","span","input","previousSibling","checked","setChecked","createCboxWithWrap","div","removeAddCboxClasses","refreshForeignData","getForeignData","foreignKeyData","isForeignKey","lValue","fField","key","query","fdata","dataSource","json","columnData","getDay","where","getDatePredicate","operator","matchCase","executeLocal","getColumnByForeignKeyValue","some","filterObject","datePredicate","prevDate","nextDate","prevObj","nextObj","Date","setSeconds","getSeconds","setHours","predicateSt","predicateEnd","and","or","predicates","setProperties","ejpredicate","renderMovable","ele","frzCols","isRowDragable","mEle","cloneNode","childElementCount","isGroupAdaptive","enableVirtualization","isVirtualAdaptive","object","splits","getCustomDateFormat","colType","intl","formatvalue","formatter","getDatePattern","getExpandedState","hierarchyPrintMode","rows","getRowsObject","rows_1","isDetailRow","allowPaging","printMode","pageSettings","currentPage","pageSize","gridModel","getPrintGridModel","childGrid","printGridModel","isFrozen","isFrozenGrid","getFrozenColumns","_a","printGridProp","getColumns","expandedRows","extendObjWithFn","deep","obj1","getPrototypeOf","concat","getPrototypesOfObj","i_1","source","cpy","cln","isArray","measureColumnDepth","max","depth","checkDepth","indices","refreshFilteredColsUid","filteredCols","getForeignKeyColumns","enableColumnVirtualization","getColumnModelByFieldName","getColumnByField","Global","timer","getTransformValues","defaultView","getComputedStyle","transformV","getPropertyValue","replacedTv","translateX","parseFloat","translateY","applyBiggerTheme","rootElement","alignFrozenEditForm","mTD","fTD","mHeight","fHeight","ensureLastRow","gridObj","cntOffset","getContent","firstElementChild","ensureFirstRow","rowTop","isRowEnteredInGrid","startIndex","scrollTop","endIndex","getEditedDataIndex","keyField","getPrimaryKeyFieldNames","dataIndex","getCurrentViewRecords","filter","eventPromise","state","getStateEventArgument","def","resolve","deffered","adaptr","dm","url","adaptor","processQuery","JSON","parse","ispercentageWidth","getVisibleColumns","percentageCol","undefinedWidthCol","showGroupedColumn","resetRowIndex","rowElms","startRowIndex","isAltRow","enableAltRow","ariaRowIndex","renderModule","emptyRow","compareChanges","changes","newArray","dataToBeUpdated","reduce","r","o","assign","map","k","setRowElements","contentModule","rowElements","cls","getFrozenMode","leftRight","freezeRowElements","frozenRightRowElements","splitFrozenRowObjectCells","tableName","getFrozenLeftCount","movable","getMovableColumnsCount","getFrozenRightColumnsCount","frozenMode","drag","rightIndex","mvblIndex","mvblEndIdx","frozenLeft","frozenRight","gridActionHandler","force","rowObj","getGridRowObjects","getMovableRowsObject","getFrozenRightRowsObject","getGridRowElements","getAllDataRows","getAllMovableDataRows","getAllFrozenRightDataRows","sliceElements","start","end","getCellsByTableName","rowIndex","getFreezeTableName","getMovableDataRows","getElementsByClassName","rowCell","getFrozenRightDataRows","getDataRows","getCellByColAndRowIndex","setValidationRuels","rules","mRules","frRules","isCustom","validationRules","getMovableTbody","tbody","frozenRows","newRowPosition","getMovableHeaderTbody","getMovableContentTbody","getFrozenRightTbody","getFrozenRightHeaderTbody","getFrozenRightContentTbody","setRowsInTbody","mTbody","frTbody","tr","mTr","frTr","getNumberFormat","numberFormat","isExcel","getNumberPattern","currency","useGrouping","error","patternRegex","mtch_1","pattern","addBiggerDialog","enableAdaptiveUI","dialogs","performComplexDataOperation","mapObject","returnObj","duplicateMap","setDisplayValue","idx","displayVal","isContent","trs","td","addRemoveEventListener","evt","isOn","module","evt_1","on","event","handler","off","createEditElement","classNames","attr","complexFieldName","name","getColumnModelByUid","registerEventHandlers","evts","handlers","instance","eventHandlers","removeEventHandlers","component","isDestroyed","removeEventListener","clearReactVueTemplates","templates","destroyTemplate","isReact","renderTemplates","getRowIndexFromElement","parseInt","getAttribute","generateExpandPredicates","fields","filterCols","allowCaseSensitive","ignoreAccent","filterSettings","generateNullValuePredicates","getPredicate","getPredicates","predicateList","prop","getGroupKeysAndFields","rowsObject","findCellIndex","checkActiveMatrix","checkCellIndex","next","activeMatrix","cellIndex","currentCellIndexPass"],"sources":["/home/morgan/Desktop/Projets/ENT4/Jwt-Auth-pdf/react-jwt-auth/react-jwt-auth/node_modules/@syncfusion/ej2-grids/src/grid/base/util.js"],"sourcesContent":["import { ChildProperty, compile as baseTemplateComplier, setValue, Internationalization, isUndefined, closest } from '@syncfusion/ej2-base';\nimport { extend as baseExtend, isNullOrUndefined, getValue, classList } from '@syncfusion/ej2-base';\nimport { setStyleAttribute, addClass, attributes, remove, createElement, removeClass } from '@syncfusion/ej2-base';\nimport { isObject, select, selectAll } from '@syncfusion/ej2-base';\nimport { DataUtil, Query, DataManager, Predicate, UrlAdaptor, Deferred } from '@syncfusion/ej2-data';\nimport { Column } from '../models/column';\nimport { calculateRelativeBasedPosition } from '@syncfusion/ej2-popups';\nimport { Print } from '../actions/print';\nimport { CheckBoxFilterBase } from '../common/checkbox-filter-base';\nimport * as literals from '../base/string-literals';\n//https://typescript.codeplex.com/discussions/401501\n/**\n * Function to check whether target object implement specific interface\n *\n * @param  {Object} target - specifies the target\n * @param  {string} checkFor - specifies the checkfors\n * @returns {boolean} returns the boolean\n * @hidden\n */\nexport function doesImplementInterface(target, checkFor) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return target.prototype && checkFor in target.prototype;\n}\n/**\n * Function to get value from provided data\n *\n * @param  {string} field - specifies the field\n * @param  {Object} data - specifies the data\n * @param  {ColumnModel} column - specifies the column\n * @returns {Object} returns the object\n * @hidden\n */\n// eslint-disable-next-line\nexport function valueAccessor(field, data, column) {\n    return (isNullOrUndefined(field) || field === '') ? '' : DataUtil.getObject(field, data);\n}\n/**\n * Defines the method used to apply custom header cell values from external function and display this on each header cell rendered.\n *\n * @param  {string} field - specifies the field\n * @param  {ColumnModel} column - specifies the column\n * @returns {object} headerValueAccessor\n * @hidden\n */\nexport function headerValueAccessor(field, column) {\n    return (isNullOrUndefined(field) || field === '') ? '' : DataUtil.getObject(field, column);\n}\n/**\n * The function used to update Dom using requestAnimationFrame.\n *\n * @param {Function} updateFunction - Function that contains the actual action\n * @param {object} callBack - defines the callback\n * @returns {void}\n * @hidden\n */\n// eslint-disable-next-line\nexport function getUpdateUsingRaf(updateFunction, callBack) {\n    requestAnimationFrame(function () {\n        try {\n            callBack(null, updateFunction());\n        }\n        catch (e) {\n            callBack(e);\n        }\n    });\n}\n/**\n * @hidden\n * @param {PdfExportProperties | ExcelExportProperties} exportProperties - Defines the export properties\n * @returns {boolean} Returns isExportColumns\n */\nexport function isExportColumns(exportProperties) {\n    return !isNullOrUndefined(exportProperties) &&\n        !isNullOrUndefined(exportProperties.columns) && exportProperties.columns.length > 0;\n}\n/**\n * @param {PdfExportProperties | ExcelExportProperties} exportProperties - Defines the export properties\n * @param {IGrid} gObj - Defines the grid object\n * @returns {void}\n * @hidden\n */\nexport function updateColumnTypeForExportColumns(exportProperties, gObj) {\n    var exportColumns = exportProperties.columns;\n    var gridColumns = gObj.columns;\n    for (var i = 0; i < exportColumns.length; i++) {\n        if (gridColumns.length - 1 >= i) {\n            if (gridColumns[i].columns) {\n                for (var j = 0; j < gridColumns[i].columns.length; j++) {\n                    exportColumns[i].columns[j].type = gridColumns[i].columns[j].type;\n                }\n            }\n            else {\n                exportColumns[i].type = gridColumns[i].type;\n            }\n        }\n    }\n}\n/**\n * @hidden\n * @param {IGrid} grid - Defines the grid\n * @returns {void}\n */\nexport function updatecloneRow(grid) {\n    var nRows = [];\n    var actualRows = grid.vRows;\n    for (var i = 0; i < actualRows.length; i++) {\n        if (actualRows[i].isDataRow) {\n            nRows.push(actualRows[i]);\n        }\n        else if (!actualRows[i].isDataRow) {\n            nRows.push(actualRows[i]);\n            if (!actualRows[i].isExpand && actualRows[i].isCaptionRow) {\n                i += getCollapsedRowsCount(actualRows[i], grid);\n            }\n        }\n    }\n    grid.vcRows = nRows;\n}\nvar count = 0;\n/**\n * @hidden\n * @param {Row<Column>} val - Defines the value\n * @param {IGrid} grid - Defines the grid\n * @returns {number} Returns the collapsed row count\n */\nexport function getCollapsedRowsCount(val, grid) {\n    count = 0;\n    var gSummary = 'gSummary';\n    var total = 'count';\n    var gLen = grid.groupSettings.columns.length;\n    var records = 'records';\n    var items = 'items';\n    var value = val[gSummary];\n    var dataRowCnt = 0;\n    var agrCnt = 'aggregatesCount';\n    if (value === val.data[total]) {\n        if (grid.groupSettings.columns.length && !isNullOrUndefined(val[agrCnt]) && val[agrCnt]) {\n            if (grid.groupSettings.columns.length !== 1) {\n                count += (val.indent !== 0 && (value) < 2) ? (val[gSummary] * ((gLen - val.indent) + (gLen - val.indent) * val[agrCnt])) :\n                    (val[gSummary] * ((gLen - val.indent) + (gLen - val.indent - 1) * val[agrCnt])) + val[agrCnt];\n            }\n            else if (grid.groupSettings.columns.length === 1) {\n                count += (val[gSummary] * (gLen - val.indent)) + val[agrCnt];\n            }\n        }\n        else if (grid.groupSettings.columns.length) {\n            if (grid.groupSettings.columns.length !== 1) {\n                count += val[gSummary] * (grid.groupSettings.columns.length - val.indent);\n            }\n            else {\n                count += val[gSummary];\n            }\n        }\n        return count;\n    }\n    else {\n        for (var i = 0, len = val.data[items].length; i < len; i++) {\n            var gLevel = val.data[items][i];\n            count += gLevel[items].length + ((gLen !== grid.columns.length) &&\n                !isNullOrUndefined(gLevel[items][records]) ? gLevel[items][records].length : 0);\n            dataRowCnt += (!isNullOrUndefined(gLevel[items][records]) && !isNullOrUndefined(val[agrCnt])) ? gLevel[items][records].length :\n                gLevel[items].length;\n            if (gLevel[items].GroupGuid && gLevel[items].childLevels !== 0) {\n                recursive(gLevel);\n            }\n        }\n        count += val.data[items].length;\n        if (!isNullOrUndefined(val[agrCnt])) {\n            if (val[agrCnt] && count && dataRowCnt !== 0) {\n                count += ((count - dataRowCnt) * val[agrCnt]) + val[agrCnt];\n            }\n        }\n    }\n    return count;\n}\n/**\n * @param {Object[]} row - Defines the row\n * @returns {void}\n * @hidden\n */\nexport function recursive(row) {\n    var items = 'items';\n    var rCount = 'count';\n    for (var j = 0, length_1 = row[items].length; j < length_1; j++) {\n        var nLevel = row[items][j];\n        count += nLevel[rCount];\n        if (nLevel[items].childLevels !== 0) {\n            recursive(nLevel);\n        }\n    }\n}\n/**\n * @param {Object[]} collection - Defines the array\n * @param {Object} predicate - Defines the predicate\n * @returns {Object} Returns the object\n * @hidden\n */\nexport function iterateArrayOrObject(collection, predicate) {\n    var result = [];\n    for (var i = 0, len = collection.length; i < len; i++) {\n        var pred = predicate(collection[i], i);\n        if (!isNullOrUndefined(pred)) {\n            result.push(pred);\n        }\n    }\n    return result;\n}\n/**\n * @param {Object[]} array - Defines the array\n * @returns {Object} Returns the object\n * @hidden\n */\nexport function iterateExtend(array) {\n    var obj = [];\n    for (var i = 0; i < array.length; i++) {\n        obj.push(baseExtend({}, getActualProperties(array[i]), {}, true));\n    }\n    return obj;\n}\n/**\n * @param {string} template - Defines the template\n * @returns {Function} Returns the function\n * @hidden\n */\nexport function templateCompiler(template) {\n    if (template) {\n        try {\n            if (document.querySelectorAll(template).length) {\n                return baseTemplateComplier(document.querySelector(template).innerHTML.trim());\n            }\n            else {\n                return baseTemplateComplier(template);\n            }\n        }\n        catch (e) {\n            return baseTemplateComplier(template);\n        }\n    }\n    return undefined;\n}\n/**\n * @param {Element} node - Defines the column\n * @param {Object} customAttributes - Defines the index\n * @returns {void}\n * @hidden\n */\nexport function setStyleAndAttributes(node, customAttributes) {\n    var copyAttr = {};\n    var literals = ['style', 'class'];\n    //Dont touch the original object - make a copy\n    baseExtend(copyAttr, customAttributes, {});\n    if ('style' in copyAttr) {\n        setStyleAttribute(node, copyAttr[literals[0]]);\n        delete copyAttr[literals[0]];\n    }\n    if ('class' in copyAttr) {\n        addClass([node], copyAttr[literals[1]]);\n        delete copyAttr[literals[1]];\n    }\n    attributes(node, copyAttr);\n}\n/**\n * @param {Object} copied - Defines the column\n * @param {Object} first - Defines the inndex\n * @param {Object} second - Defines the second object\n * @param {string[]} exclude - Defines the exclude\n * @returns {Object} Returns the object\n * @hidden\n */\nexport function extend(copied, first, second, exclude) {\n    var moved = baseExtend(copied, first, second);\n    var values = Object.keys(moved);\n    for (var i = 0; i < values.length; i++) {\n        if (exclude && exclude.indexOf(values[i]) !== -1) {\n            delete moved[values[i]];\n        }\n    }\n    return moved;\n}\n/**\n * @param {Column[]} columnModel - Defines the column\n * @param {number} ind - Defines the inndex\n * @returns {number} - Returns the columnindex\n * @hidden\n */\nexport function setColumnIndex(columnModel, ind) {\n    if (ind === void 0) { ind = 0; }\n    for (var i = 0, len = columnModel.length; i < len; i++) {\n        if (columnModel[i].columns) {\n            columnModel[i].index = isNullOrUndefined(columnModel[i].index) ? ind : columnModel[i].index;\n            ind++;\n            ind = setColumnIndex(columnModel[i].columns, ind);\n        }\n        else {\n            columnModel[i].index = isNullOrUndefined(columnModel[i].index) ? ind : columnModel[i].index;\n            ind++;\n        }\n    }\n    return ind;\n}\n/**\n * @param {Column[] | string[] | ColumnModel[]} columns - Defines the column\n * @param {boolean} autoWidth - Defines the autowidth\n * @param {IGrid} gObj - Defines the class name\n * @returns {Column} - Returns the columns\n * @hidden\n */\nexport function prepareColumns(columns, autoWidth, gObj) {\n    for (var c = 0, len = columns.length; c < len; c++) {\n        var column = void 0;\n        if (typeof columns[c] === 'string') {\n            column = new Column({ field: columns[c] }, gObj);\n        }\n        else if (!(columns[c] instanceof Column) || columns[c].columns) {\n            if (!columns[c].columns) {\n                column = new Column(columns[c], gObj);\n            }\n            else {\n                columns[c].columns = prepareColumns(columns[c].columns, null, gObj);\n                column = new Column(columns[c], gObj);\n            }\n        }\n        else {\n            column = columns[c];\n        }\n        if (column.type && column.type.toLowerCase() === 'checkbox') {\n            column.allowReordering = false;\n        }\n        column.headerText = isNullOrUndefined(column.headerText) ? column.foreignKeyValue || column.field || '' : column.headerText;\n        column.foreignKeyField = column.foreignKeyField || column.field;\n        column.valueAccessor = (typeof column.valueAccessor === 'string' ? getValue(column.valueAccessor, window)\n            : column.valueAccessor) || valueAccessor;\n        column.width = autoWidth && isNullOrUndefined(column.width) ? 200 : column.width;\n        if (isNullOrUndefined(column.visible)) {\n            column.visible = true;\n        }\n        columns[c] = column;\n    }\n    return columns;\n}\n/**\n * @param {HTMLElement} popUp - Defines the popup element\n * @param {MouseEvent | TouchEvent} e - Defines the moouse event\n * @param {string} className - Defines the class name\n * @returns {void}\n * @hidden\n */\nexport function setCssInGridPopUp(popUp, e, className) {\n    var popUpSpan = popUp.querySelector('span');\n    var position = popUp.parentElement.getBoundingClientRect();\n    var targetPosition = e.target.getBoundingClientRect();\n    popUpSpan.className = className;\n    popUp.style.display = '';\n    var isBottomTail = (isNullOrUndefined(e.clientY) ? e.changedTouches[0].clientY :\n        e.clientY) > popUp.offsetHeight + 10;\n    popUp.style.top = targetPosition.top - position.top +\n        (isBottomTail ? -(popUp.offsetHeight + 10) : popUp.offsetHeight + 10) + 'px'; //10px for tail element\n    popUp.style.left = getPopupLeftPosition(popUp, e, targetPosition, position.left) + 'px';\n    if (isBottomTail) {\n        popUp.querySelector('.e-downtail').style.display = '';\n        popUp.querySelector('.e-uptail').style.display = 'none';\n    }\n    else {\n        popUp.querySelector('.e-downtail').style.display = 'none';\n        popUp.querySelector('.e-uptail').style.display = '';\n    }\n}\n/**\n * @param {HTMLElement} popup - Defines the popup element\n * @param {MouseEvent | TouchEvent} e  - Defines the mouse event\n * @param {Object} targetPosition - Defines the target position\n * @param {number} targetPosition.top - Defines the top position\n * @param {number} targetPosition.left  - Defines the left position\n * @param {number} targetPosition.right  - Defines the right position\n * @param {number} left - Defines the left position\n * @returns {number} Returns the popup left position\n * @hidden\n */\nfunction getPopupLeftPosition(popup, e, targetPosition, left) {\n    var width = popup.offsetWidth / 2;\n    var x = getPosition(e).x;\n    if (x - targetPosition.left < width) {\n        return targetPosition.left - left;\n    }\n    else if (targetPosition.right - x < width) {\n        return targetPosition.right - left - width * 2;\n    }\n    else {\n        return x - left - width;\n    }\n}\n/**\n * @param {Object} obj - Defines the object\n * @returns {Object} Returns the Properties\n * @hidden\n */\nexport function getActualProperties(obj) {\n    if (obj instanceof ChildProperty) {\n        return getValue('properties', obj);\n    }\n    else {\n        return obj;\n    }\n}\n/**\n * @param {Element} elem - Defines the element\n * @param {string} selector - Defines the string selector\n * @param {boolean} isID - Defines the isID\n * @returns {Element} Returns the element\n * @hidden\n */\nexport function parentsUntil(elem, selector, isID) {\n    var parent = elem;\n    while (parent) {\n        if (isID ? parent.id === selector : parent.classList.contains(selector)) {\n            break;\n        }\n        parent = parent.parentElement;\n    }\n    return parent;\n}\n/**\n * @param {Element} element - Defines the element\n * @param {Element} elements - Defines the element\n * @returns {number} Returns the element index\n * @hidden\n */\nexport function getElementIndex(element, elements) {\n    var index = -1;\n    for (var i = 0, len = elements.length; i < len; i++) {\n        if (elements[i].isEqualNode(element)) {\n            index = i;\n            break;\n        }\n    }\n    return index;\n}\n/**\n * @param {Object} value - Defines the value\n * @param {Object} collection - defines the collection\n * @returns {number} Returns the array\n * @hidden\n */\nexport function inArray(value, collection) {\n    for (var i = 0, len = collection.length; i < len; i++) {\n        if (collection[i] === value) {\n            return i;\n        }\n    }\n    return -1;\n}\n/**\n * @param {Object} collection - Defines the collection\n * @returns {Object} Returns the object\n * @hidden\n */\nexport function getActualPropFromColl(collection) {\n    var coll = [];\n    for (var i = 0, len = collection.length; i < len; i++) {\n        // eslint-disable-next-line no-prototype-builtins\n        if (collection[i].hasOwnProperty('properties')) {\n            coll.push(collection[i].properties);\n        }\n        else {\n            coll.push(collection[i]);\n        }\n    }\n    return coll;\n}\n/**\n * @param {Element} target - Defines the target element\n * @param {string} selector - Defines the selector\n * @returns {void}\n * @hidden\n */\nexport function removeElement(target, selector) {\n    var elements = [].slice.call(target.querySelectorAll(selector));\n    for (var i = 0; i < elements.length; i++) {\n        remove(elements[i]);\n    }\n}\n/**\n * @param {MouseEvent | TouchEvent} e Defines the mouse event\n * @returns {IPosition} Returns the position\n * @hidden\n */\nexport function getPosition(e) {\n    var position = {};\n    position.x = (isNullOrUndefined(e.clientX) ? e.changedTouches[0].clientX :\n        e.clientX);\n    position.y = (isNullOrUndefined(e.clientY) ? e.changedTouches[0].clientY :\n        e.clientY);\n    return position;\n}\nvar uid = 0;\n/**\n * @param {string} prefix - Defines the prefix string\n * @returns {string} Returns the uid\n * @hidden\n */\nexport function getUid(prefix) {\n    return prefix + uid++;\n}\n/**\n * @param {Element | DocumentFragment} elem - Defines the element\n * @param {Element[] | NodeList} children - Defines the Element\n * @returns {Element} Returns the element\n * @hidden\n */\nexport function appendChildren(elem, children) {\n    for (var i = 0, len = children.length; i < len; i++) {\n        if (len === children.length) {\n            elem.appendChild(children[i]);\n        }\n        else {\n            elem.appendChild(children[0]);\n        }\n    }\n    return elem;\n}\n/**\n * @param {Element} elem - Defines the element\n * @param {string} selector - Defines the selector\n * @param {boolean} isID - Defines isID\n * @returns {Element} Return the element\n * @hidden\n */\nexport function parents(elem, selector, isID) {\n    var parent = elem;\n    var parents = [];\n    while (parent) {\n        if (isID ? parent.id === selector : parent.classList.contains(selector)) {\n            parents.push(parent);\n        }\n        parent = parent.parentElement;\n    }\n    return parents;\n}\n/**\n * @param {AggregateType | string} type - Defines the type\n * @param {Object} data - Defines the data\n * @param {AggregateColumnModel} column - Defines the column\n * @param {Object} context - Defines the context\n * @returns {Object} Returns the calculated aggragate\n * @hidden\n */\nexport function calculateAggregate(type, data, column, context) {\n    if (type === 'Custom') {\n        var temp = column.customAggregate;\n        if (typeof temp === 'string') {\n            temp = getValue(temp, window);\n        }\n        return temp ? temp.call(context, data, column) : '';\n    }\n    return (column.field in data || data instanceof Array) ? DataUtil.aggregates[type.toLowerCase()](data, column.field) : null;\n}\n/** @hidden */\nvar scrollWidth = null;\n/** @hidden\n * @returns {number} - Returns the scrollbarwidth\n */\nexport function getScrollBarWidth() {\n    if (scrollWidth !== null) {\n        return scrollWidth;\n    }\n    var divNode = document.createElement('div');\n    var value = 0;\n    divNode.style.cssText = 'width:100px;height: 100px;overflow: scroll;position: absolute;top: -9999px;';\n    document.body.appendChild(divNode);\n    value = (divNode.offsetWidth - divNode.clientWidth) | 0;\n    document.body.removeChild(divNode);\n    return scrollWidth = value;\n}\n/** @hidden */\nvar rowHeight;\n/**\n * @param {HTMLElement} element - Defines the element\n * @returns {number} Returns the roww height\n * @hidden\n */\nexport function getRowHeight(element) {\n    if (rowHeight !== undefined) {\n        return rowHeight;\n    }\n    var table = createElement('table', { className: literals.table, styles: 'visibility: hidden', attrs: { role: 'grid' } });\n    table.innerHTML = '<tr><td class=\"e-rowcell\">A<td></tr>';\n    element.appendChild(table);\n    var rect = table.querySelector('td').getBoundingClientRect();\n    element.removeChild(table);\n    rowHeight = Math.ceil(rect.height);\n    return rowHeight;\n}\n/** @hidden */\nvar actualRowHeight;\n/**\n * @param {HTMLElement} element - Defines the HTMl element\n * @returns {number} Returns the row height\n * @hidden\n */\nexport function getActualRowHeight(element) {\n    if (actualRowHeight !== undefined) {\n        return rowHeight;\n    }\n    var table = createElement('table', { className: literals.table, styles: 'visibility: hidden', attrs: { role: 'grid' } });\n    table.innerHTML = '<tr><td class=\"e-rowcell\">A<td></tr>';\n    element.appendChild(table);\n    var rect = table.querySelector('tr').getBoundingClientRect();\n    element.removeChild(table);\n    return rect.height;\n}\n/**\n * @param {string} field - Defines the field\n * @returns {boolean} - Returns is complex field\n * @hidden\n */\nexport function isComplexField(field) {\n    return field.split('.').length > 1;\n}\n/**\n * @param {string} field - Defines the field\n * @returns {string} - Returns the get complex field ID\n * @hidden\n */\nexport function getComplexFieldID(field) {\n    if (field === void 0) { field = ''; }\n    return field.replace(/\\./g, '___');\n}\n/**\n * @param {string} field - Defines the field\n * @returns {string} - Returns the set complex field ID\n * @hidden\n */\nexport function setComplexFieldID(field) {\n    if (field === void 0) { field = ''; }\n    return field.replace(/___/g, '.');\n}\n/**\n * @param {Column} col - Defines the column\n * @param {string} type - Defines the type\n * @param {Element} elem - Defines th element\n * @returns {boolean} Returns is Editable\n * @hidden\n */\nexport function isEditable(col, type, elem) {\n    var row = parentsUntil(elem, literals.row);\n    var isOldRow = !row ? true : row && !row.classList.contains('e-insertedrow');\n    if (type === 'beginEdit' && isOldRow) {\n        if (col.isIdentity || col.isPrimaryKey || !col.allowEditing) {\n            return false;\n        }\n        return true;\n    }\n    else if (type === 'add' && col.isIdentity) {\n        return false;\n    }\n    else {\n        if (isOldRow && !col.allowEditing && !col.isIdentity && !col.isPrimaryKey) {\n            return false;\n        }\n        return true;\n    }\n}\n/**\n * @param {IGrid} inst - Defines the IGrid\n * @returns {boolean} Returns is action prevent in boolean\n * @hidden\n */\nexport function isActionPrevent(inst) {\n    var dlg = select('#' + inst.element.id + 'EditConfirm', inst.element);\n    return inst.editSettings.mode === 'Batch' &&\n        (selectAll('.e-updatedtd', inst.element).length) && inst.editSettings.showConfirmDialog &&\n        (dlg ? dlg.classList.contains('e-popup-close') : true);\n}\n/**\n * @param {any} elem - Defines the element\n * @param {boolean} action - Defines the boolean for action\n * @returns {void}\n * @hidden\n */\n// eslint-disable-next-line\nexport function wrap(elem, action) {\n    var clName = 'e-wrap';\n    elem = elem instanceof Array ? elem : [elem];\n    for (var i = 0; i < elem.length; i++) {\n        if (action) {\n            elem[i].classList.add(clName);\n        }\n        else {\n            elem[i].classList.remove(clName);\n        }\n    }\n}\n/**\n * @param {ServiceLocator} serviceLocator - Defines the service locator\n * @param {Column} column  - Defines the column\n * @returns {void}\n * @hidden\n */\nexport function setFormatter(serviceLocator, column) {\n    var fmtr = serviceLocator.getService('valueFormatter');\n    var format = 'format';\n    var args;\n    if (column.type === 'date' || column.type === 'datetime') {\n        args = { type: column.type, skeleton: column.format };\n        if ((typeof (column.format) === 'string') && column.format !== 'yMd') {\n            args[format] = column.format;\n        }\n    }\n    switch (column.type) {\n        case 'date':\n            column.setFormatter(fmtr.getFormatFunction(args));\n            column.setParser(fmtr.getParserFunction(args));\n            break;\n        case 'datetime':\n            column.setFormatter(fmtr.getFormatFunction(args));\n            column.setParser(fmtr.getParserFunction(args));\n            break;\n        case 'number':\n            column.setFormatter(fmtr.getFormatFunction({ format: column.format }));\n            column.setParser(fmtr.getParserFunction({ format: column.format }));\n            break;\n    }\n}\n/**\n * @param {Element} cells - Defines the cell element\n * @param {boolean} add - Defines the add\n * @param {string} args - Defines the args\n * @returns {void}\n * @hidden\n */\nexport function addRemoveActiveClasses(cells, add) {\n    var args = [];\n    for (var _i = 2; _i < arguments.length; _i++) {\n        args[_i - 2] = arguments[_i];\n    }\n    for (var i = 0, len = cells.length; i < len; i++) {\n        if (add) {\n            classList(cells[i], args.slice(), []);\n            cells[i].setAttribute('aria-selected', 'true');\n        }\n        else {\n            classList(cells[i], [], args.slice());\n            cells[i].removeAttribute('aria-selected');\n        }\n    }\n}\n/**\n * @param {string} result - Defines th string\n * @returns {string} Returns the distinct staing values\n * @hidden\n */\nexport function distinctStringValues(result) {\n    var temp = {};\n    var res = [];\n    for (var i = 0; i < result.length; i++) {\n        if (!(result[i] in temp)) {\n            res.push(result[i].toString());\n            temp[result[i]] = 1;\n        }\n    }\n    return res;\n}\n/**\n * @param {Element} target - Defines the target\n * @param {Dialog} dialogObj - Defines the dialog\n * @returns {void}\n * @hidden\n */\nexport function getFilterMenuPostion(target, dialogObj) {\n    var elementVisible = dialogObj.element.style.display;\n    dialogObj.element.style.display = 'block';\n    var dlgWidth = dialogObj.width;\n    var newpos = calculateRelativeBasedPosition(target, dialogObj.element);\n    dialogObj.element.style.display = elementVisible;\n    dialogObj.element.style.top = (newpos.top + target.getBoundingClientRect().height) - 5 + 'px';\n    var leftPos = ((newpos.left - dlgWidth) + target.clientWidth);\n    if (leftPos < 1) {\n        dialogObj.element.style.left = (dlgWidth + leftPos) - 16 + 'px'; // right calculation\n    }\n    else {\n        dialogObj.element.style.left = leftPos + -4 + 'px';\n    }\n}\n/**\n * @param {Object} args - Defines the args\n * @param {Popup} args.popup - Defines the args for popup\n * @param {Dialog} dialogObj - Defines the dialog obj\n * @returns {void}\n * @hidden\n */\nexport function getZIndexCalcualtion(args, dialogObj) {\n    args.popup.element.style.zIndex = (dialogObj.zIndex + 1).toString();\n}\n/**\n * @param {Element} elem - Defines the element\n * @returns {void}\n * @hidden\n */\nexport function toogleCheckbox(elem) {\n    var span = elem.querySelector('.e-frame');\n    var input = span.previousSibling;\n    if (span.classList.contains('e-check')) {\n        input.checked = false;\n        classList(span, ['e-uncheck'], ['e-check']);\n    }\n    else {\n        input.checked = true;\n        classList(span, ['e-check'], ['e-uncheck']);\n    }\n}\n/**\n * @param {HTMLInputElement} elem - Defines the element\n * @param {boolean} checked - Defines is checked\n * @returns {void}\n * @hidden\n */\nexport function setChecked(elem, checked) {\n    elem.checked = checked;\n}\n/**\n * @param {string} uid - Defines the string\n * @param {Element} elem - Defines the Element\n * @param {string} className - Defines the classname\n * @returns {Element} Returns the box wrap\n * @hidden\n */\nexport function createCboxWithWrap(uid, elem, className) {\n    var div = createElement('div', { className: className });\n    div.appendChild(elem);\n    div.setAttribute('uid', uid);\n    return div;\n}\n/**\n * @param {Element} elem - Defines the element\n * @param {boolean} checked - Defines is checked\n * @returns {void}\n * @hidden\n */\nexport function removeAddCboxClasses(elem, checked) {\n    removeClass([elem], ['e-check', 'e-stop', 'e-uncheck']);\n    if (checked) {\n        elem.classList.add('e-check');\n    }\n    else {\n        elem.classList.add('e-uncheck');\n    }\n}\n/**\n * Refresh the Row model's foreign data.\n *\n * @param {IRow<Column>} row - Grid Row model object.\n * @param {Column[]} columns - Foreign columns array.\n * @param {Object} data - Updated Row data.\n * @returns {void}\n * @hidden\n */\nexport function refreshForeignData(row, columns, data) {\n    for (var i = 0; i < columns.length; i++) {\n        setValue(columns[i].field, getForeignData(columns[i], data), row.foreignKeyData);\n    }\n    var cells = row.cells;\n    for (var i = 0; i < cells.length; i++) {\n        if (cells[i].isForeignKey) {\n            setValue('foreignKeyData', getValue(cells[i].column.field, row.foreignKeyData), cells[i]);\n        }\n    }\n}\n/**\n * Get the foreign data for the corresponding cell value.\n *\n * @param {Column} column - Foreign Key column\n * @param {Object} data - Row data.\n * @param {string | number} lValue - cell value.\n * @param {Object} foreignKeyData - foreign data source.\n * @returns {Object} Returns the object\n * @hidden\n */\nexport function getForeignData(column, data, lValue, foreignKeyData) {\n    var fField = column.foreignKeyField;\n    var key = (!isNullOrUndefined(lValue) ? lValue : valueAccessor(column.field, data, column));\n    key = isNullOrUndefined(key) ? '' : key;\n    var query = new Query();\n    var fdata = foreignKeyData || ((column.dataSource instanceof DataManager) && column.dataSource.dataSource.json.length ?\n        column.dataSource.dataSource.json : column.columnData);\n    if (key.getDay) {\n        query.where(getDatePredicate({ field: fField, operator: 'equal', value: key, matchCase: false }));\n    }\n    else {\n        query.where(fField, '==', key, false);\n    }\n    return new DataManager(fdata).executeLocal(query);\n}\n/**\n * To use to get the column's object by the foreign key value.\n *\n * @param {string} foreignKeyValue - Defines ForeignKeyValue.\n * @param {Column[]} columns - Array of column object.\n * @returns {Column} Returns the element\n * @hidden\n */\nexport function getColumnByForeignKeyValue(foreignKeyValue, columns) {\n    var column;\n    return columns.some(function (col) {\n        column = col;\n        return col.foreignKeyValue === foreignKeyValue;\n    }) && column;\n}\n/**\n * @param {PredicateModel} filterObject - Defines the filterObject\n * @param {string} type - Defines the type\n * @returns {Predicate} Returns the Predicate\n * @hidden\n */\nexport function getDatePredicate(filterObject, type) {\n    var datePredicate;\n    var prevDate;\n    var nextDate;\n    var prevObj = baseExtend({}, getActualProperties(filterObject));\n    var nextObj = baseExtend({}, getActualProperties(filterObject));\n    if (isNullOrUndefined(filterObject.value) || filterObject.value === '') {\n        datePredicate = new Predicate(prevObj.field, prevObj.operator, prevObj.value, false);\n        return datePredicate;\n    }\n    var value = new Date(filterObject.value);\n    if (filterObject.operator === 'equal' || filterObject.operator === 'notequal') {\n        if (type === 'datetime') {\n            prevDate = new Date(value.setSeconds(value.getSeconds() - 1));\n            nextDate = new Date(value.setSeconds(value.getSeconds() + 2));\n            filterObject.value = new Date(value.setSeconds(nextDate.getSeconds() - 1));\n        }\n        else {\n            prevDate = new Date(value.setHours(0) - 1);\n            nextDate = new Date(value.setHours(24));\n        }\n        prevObj.value = prevDate;\n        nextObj.value = nextDate;\n        if (filterObject.operator === 'equal') {\n            prevObj.operator = 'greaterthan';\n            nextObj.operator = 'lessthan';\n        }\n        else if (filterObject.operator === 'notequal') {\n            prevObj.operator = 'lessthanorequal';\n            nextObj.operator = 'greaterthanorequal';\n        }\n        var predicateSt = new Predicate(prevObj.field, prevObj.operator, prevObj.value, false);\n        var predicateEnd = new Predicate(nextObj.field, nextObj.operator, nextObj.value, false);\n        datePredicate = filterObject.operator === 'equal' ? predicateSt.and(predicateEnd) : predicateSt.or(predicateEnd);\n    }\n    else {\n        if (type === 'date' && (filterObject.operator === 'lessthanorequal' || filterObject.operator === 'greaterthan')) {\n            prevObj.value = new Date(value.setHours(24) - 1);\n        }\n        if (typeof (prevObj.value) === 'string') {\n            prevObj.value = new Date(prevObj.value);\n        }\n        var predicates = new Predicate(prevObj.field, prevObj.operator, prevObj.value, false);\n        datePredicate = predicates;\n    }\n    if (filterObject.setProperties) {\n        filterObject.setProperties({ ejpredicate: datePredicate }, true);\n    }\n    else {\n        filterObject.ejpredicate = datePredicate;\n    }\n    return datePredicate;\n}\n/**\n * @param {Element} ele - Defines the element\n * @param {number} frzCols - Defines the frozen columns\n * @param {IGrid} gObj - Defines the IGrid\n * @returns {Element} Returns the element\n * @hidden\n */\nexport function renderMovable(ele, frzCols, gObj) {\n    frzCols = frzCols && gObj && gObj.isRowDragable() ? frzCols + 1 : frzCols;\n    var mEle = ele.cloneNode(true);\n    for (var i = 0; i < frzCols; i++) {\n        mEle.removeChild(mEle.children[0]);\n    }\n    for (var i = frzCols, len = ele.childElementCount; i < len; i++) {\n        ele.removeChild(ele.children[ele.childElementCount - 1]);\n    }\n    return mEle;\n}\n/**\n * @param {IGrid} grid - Defines the IGrid\n * @returns {boolean} Returns true if group adaptive is true\n * @hidden\n */\nexport function isGroupAdaptive(grid) {\n    return grid.enableVirtualization && grid.groupSettings.columns.length > 0 && grid.isVirtualAdaptive;\n}\n/**\n * @param {string} field - Defines the Field\n * @param {Object} object - Defines the objec\n * @returns {any} Returns the object\n * @hidden\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function getObject(field, object) {\n    if (field === void 0) { field = ''; }\n    if (field) {\n        var value = object;\n        var splits = field.split('.');\n        for (var i = 0; i < splits.length && !isNullOrUndefined(value); i++) {\n            value = value[splits[i]];\n        }\n        return value;\n    }\n}\n/**\n * @param {string | Object} format - defines the format\n * @param {string} colType - Defines the coltype\n * @returns {string} Returns the custom Data format\n * @hidden\n */\nexport function getCustomDateFormat(format, colType) {\n    var intl = new Internationalization();\n    var formatvalue;\n    var formatter = 'format';\n    var type = 'type';\n    if (colType === 'date') {\n        formatvalue = typeof (format) === 'object' ?\n            intl.getDatePattern({ type: format[type] ? format[type] : 'date', format: format[formatter] }, false) :\n            intl.getDatePattern({ type: 'dateTime', skeleton: format }, false);\n    }\n    else {\n        formatvalue = typeof (format) === 'object' ?\n            intl.getDatePattern({ type: format[type] ? format[type] : 'dateTime', format: format[formatter] }, false) :\n            intl.getDatePattern({ type: 'dateTime', skeleton: format }, false);\n    }\n    return formatvalue;\n}\n/**\n * @param {IGrid} gObj - Defines the IGrid\n * @param {HierarchyGridPrintMode} hierarchyPrintMode - Defines the hierarchyPrintMode\n * @returns {Object} Returns the object\n * @hidden\n */\nexport function getExpandedState(gObj, hierarchyPrintMode) {\n    var rows = gObj.getRowsObject();\n    var obj = {};\n    for (var _i = 0, rows_1 = rows; _i < rows_1.length; _i++) {\n        var row = rows_1[_i];\n        if (row.isExpand && !row.isDetailRow) {\n            var index = gObj.allowPaging && gObj.printMode === 'AllPages' ? row.index +\n                (gObj.pageSettings.currentPage * gObj.pageSettings.pageSize) - gObj.pageSettings.pageSize : row.index;\n            obj[index] = {};\n            obj[index].isExpand = true;\n            obj[index].gridModel = getPrintGridModel(row.childGrid, hierarchyPrintMode);\n            obj[index].gridModel.query = gObj.childGrid.query;\n        }\n    }\n    return obj;\n}\n/**\n * @param {IGrid} gObj - Defines the grid objct\n * @param {HierarchyGridPrintMode} hierarchyPrintMode - Defines the hierarchyPrintMode\n * @returns {IGrid} Returns the IGrid\n * @hidden\n */\nexport function getPrintGridModel(gObj, hierarchyPrintMode) {\n    if (hierarchyPrintMode === void 0) { hierarchyPrintMode = 'Expanded'; }\n    var printGridModel = {};\n    if (!gObj) {\n        return printGridModel;\n    }\n    var isFrozen = gObj.isFrozenGrid() && !gObj.getFrozenColumns();\n    for (var _i = 0, _a = Print.printGridProp; _i < _a.length; _i++) {\n        var key = _a[_i];\n        if (key === 'columns') {\n            printGridModel[key] = getActualPropFromColl(isFrozen ? gObj.getColumns() : gObj[key]);\n        }\n        else if (key === 'allowPaging') {\n            printGridModel[key] = gObj.printMode === 'CurrentPage';\n        }\n        else {\n            printGridModel[key] = getActualProperties(gObj[key]);\n        }\n    }\n    printGridModel['enableHover'] = false;\n    if (gObj.childGrid && hierarchyPrintMode !== 'None') {\n        printGridModel.expandedRows = getExpandedState(gObj, hierarchyPrintMode);\n    }\n    return printGridModel;\n}\n/**\n * @param {Object} copied - Defines the copied object\n * @param {Object} first - Defines the first object\n * @param {Object} second - Defines the second object\n * @param {boolean} deep - Defines the deep\n * @returns {Object} Returns the extended object\n * @hidden\n */\nexport function extendObjWithFn(copied, first, second, deep) {\n    var res = copied || {};\n    var len = arguments.length;\n    if (deep) {\n        len = len - 1;\n    }\n    for (var i = 1; i < len; i++) {\n        // eslint-disable-next-line prefer-rest-params\n        if (!arguments[i]) {\n            continue;\n        }\n        // eslint-disable-next-line prefer-rest-params\n        var obj1 = arguments[i];\n        var keys = Object.keys(Object.getPrototypeOf(obj1)).length ?\n            Object.keys(obj1).concat(getPrototypesOfObj(obj1)) : Object.keys(obj1);\n        for (var i_1 = 0; i_1 < keys.length; i_1++) {\n            var source = res[keys[i_1]];\n            var cpy = obj1[keys[i_1]];\n            var cln = void 0;\n            if (deep && (isObject(cpy) || Array.isArray(cpy))) {\n                if (isObject(cpy)) {\n                    cln = source ? source : {};\n                    res[keys[i_1]] = baseExtend({}, cln, cpy, deep);\n                }\n                else {\n                    cln = source ? source : [];\n                    res[keys[i_1]] = baseExtend([], cln, cpy, deep);\n                }\n            }\n            else {\n                res[keys[i_1]] = cpy;\n            }\n        }\n    }\n    return res;\n}\n/**\n * @param {Object} obj - Defines the obj\n * @returns {string[]} Returns the string\n * @hidden\n */\nfunction getPrototypesOfObj(obj) {\n    var keys = [];\n    while (Object.getPrototypeOf(obj) && Object.keys(Object.getPrototypeOf(obj)).length) {\n        keys = keys.concat(Object.keys(Object.getPrototypeOf(obj)));\n        obj = Object.getPrototypeOf(obj);\n    }\n    return keys;\n}\n/**\n * @param {Column[]} column - Defines the Column\n * @returns {number} Returns the column Depth\n * @hidden\n */\nexport function measureColumnDepth(column) {\n    var max = 0;\n    for (var i = 0; i < column.length; i++) {\n        var depth = checkDepth(column[i], 0);\n        if (max < depth) {\n            max = depth;\n        }\n    }\n    return max + 1;\n}\n/**\n * @param {Column} col - Defines the Column\n * @param {number} index - Defines the index\n * @returns {number} Returns the depth\n * @hidden\n */\nexport function checkDepth(col, index) {\n    var max = index;\n    var indices = [];\n    if (col.columns) {\n        index++;\n        for (var i = 0; i < col.columns.length; i++) {\n            indices[i] = checkDepth(col.columns[i], index);\n        }\n        for (var j = 0; j < indices.length; j++) {\n            if (max < indices[j]) {\n                max = indices[j];\n            }\n        }\n        index = max;\n    }\n    return index;\n}\n/**\n * @param {IGrid} gObj - Defines the IGrid\n * @param {PredicateModel[]} filteredCols - Defines the PredicateModel\n * @returns {void}\n * @hidden\n */\nexport function refreshFilteredColsUid(gObj, filteredCols) {\n    for (var i = 0; i < filteredCols.length; i++) {\n        filteredCols[i].uid = filteredCols[i].isForeignKey ?\n            getColumnByForeignKeyValue(filteredCols[i].field, gObj.getForeignKeyColumns()).uid\n            : gObj.enableColumnVirtualization ? getColumnModelByFieldName(gObj, filteredCols[i].field).uid\n                : gObj.getColumnByField(filteredCols[i].field).uid;\n    }\n}\n/** @hidden */\n// eslint-disable-next-line @typescript-eslint/no-namespace\nexport var Global;\n(function (Global) {\n    // eslint-disable-next-line prefer-const\n    Global.timer = null;\n})(Global || (Global = {}));\n/**\n * @param {Element} element - Defines the element\n * @returns {Object} Returns the transform values\n * @hidden\n */\nexport function getTransformValues(element) {\n    var style = document.defaultView.getComputedStyle(element, null);\n    var transformV = style.getPropertyValue('transform');\n    var replacedTv = transformV.replace(/,/g, '');\n    var translateX = parseFloat((replacedTv).split(' ')[4]);\n    var translateY = parseFloat((replacedTv).split(' ')[5]);\n    return { width: translateX, height: translateY };\n}\n/**\n * @param {Element} rootElement - Defines the root Element\n * @param {Element} element - Defines the element\n * @returns {void}\n * @hidden\n */\nexport function applyBiggerTheme(rootElement, element) {\n    if (rootElement.classList.contains('e-bigger')) {\n        element.classList.add('e-bigger');\n    }\n}\n/**\n * @param {HTMLElement} mTD - Defines the movable TD\n * @param {HTMLElement} fTD  - Defines the Frozen TD\n * @returns {void}\n * @hidden\n */\nexport function alignFrozenEditForm(mTD, fTD) {\n    if (mTD && fTD) {\n        var mHeight = closest(mTD, '.' + literals.row).getBoundingClientRect().height;\n        var fHeight = closest(fTD, '.' + literals.row).getBoundingClientRect().height;\n        if (mHeight > fHeight) {\n            fTD.style.height = mHeight + 'px';\n        }\n        else {\n            mTD.style.height = fHeight + 'px';\n        }\n    }\n}\n/**\n * @param {Element} row - Defines row element\n * @param {IGrid} gridObj - Defines grid object\n * @returns {boolean} Returns isRowEnteredInGrid\n * @hidden\n */\nexport function ensureLastRow(row, gridObj) {\n    var cntOffset = gridObj.getContent().firstElementChild.offsetHeight;\n    return row && row.getBoundingClientRect().top > cntOffset;\n}\n/**\n * @param {Element} row - Defines row element\n * @param {number} rowTop - Defines row top number\n * @returns {boolean} Returns first row is true\n * @hidden\n */\nexport function ensureFirstRow(row, rowTop) {\n    return row && row.getBoundingClientRect().top < rowTop;\n}\n/**\n * @param {number} index - Defines index\n * @param {IGrid} gObj - Defines grid object\n * @returns {boolean} Returns isRowEnteredInGrid\n * @hidden\n */\nexport function isRowEnteredInGrid(index, gObj) {\n    var rowHeight = gObj.getRowHeight();\n    var startIndex = gObj.getContent().firstElementChild.scrollTop / rowHeight;\n    var endIndex = startIndex + (gObj.getContent().firstElementChild.offsetHeight / rowHeight);\n    return index < endIndex && index > startIndex;\n}\n/**\n * @param {IGrid} gObj - Defines the grid object\n * @param {Object} data - Defines the query\n * @returns {number} Returns the edited data index\n * @hidden\n */\nexport function getEditedDataIndex(gObj, data) {\n    var keyField = gObj.getPrimaryKeyFieldNames()[0];\n    var dataIndex;\n    gObj.getCurrentViewRecords().filter(function (e, index) {\n        if (e[keyField] === data[keyField]) {\n            dataIndex = index;\n        }\n    });\n    return dataIndex;\n}\n/**\n * @param {Object} args - Defines the argument\n * @param {Query} query - Defines the query\n * @returns {FilterStateObj} Returns the filter state object\n * @hidden\n */\nexport function eventPromise(args, query) {\n    var state = getStateEventArgument(query);\n    var def = new Deferred();\n    state.dataSource = def.resolve;\n    state.action = args;\n    return { state: state, deffered: def };\n}\n/**\n * @param {Query} query - Defines the query\n * @returns {Object} Returns the state event argument\n * @hidden\n */\nexport function getStateEventArgument(query) {\n    var adaptr = new UrlAdaptor();\n    var dm = new DataManager({ url: '', adaptor: new UrlAdaptor });\n    var state = adaptr.processQuery(dm, query);\n    var data = JSON.parse(state.data);\n    return data;\n}\n/**\n * @param {IGrid} gObj - Defines the Igrid\n * @returns {boolean} Returns the ispercentageWidth\n * @hidden\n */\nexport function ispercentageWidth(gObj) {\n    var columns = gObj.getVisibleColumns();\n    var percentageCol = 0;\n    var undefinedWidthCol = 0;\n    for (var i = 0; i < columns.length; i++) {\n        if (isUndefined(columns[i].width)) {\n            undefinedWidthCol++;\n        }\n        else if (columns[i].width.toString().indexOf('%') !== -1) {\n            percentageCol++;\n        }\n    }\n    return (gObj.width === 'auto' || typeof (gObj.width) === 'string' && gObj.width.indexOf('%') !== -1) &&\n        !gObj.groupSettings.showGroupedColumn && gObj.groupSettings.columns.length\n        && percentageCol && !undefinedWidthCol;\n}\n/**\n * @param {IGrid} gObj - Defines the IGrid\n * @param {Row<Column>[]} rows - Defines the row\n * @param {HTMLTableRowElement[]} rowElms - Row elements\n * @param {number} index - Row index\n * @param {number} startRowIndex - Start Row Index\n * @returns {void}\n * @hidden\n */\nexport function resetRowIndex(gObj, rows, rowElms, index, startRowIndex) {\n    var startIndex = index ? index : 0;\n    for (var i = startRowIndex ? startRowIndex : 0; i < rows.length; i++) {\n        if (rows[i].isDataRow) {\n            rows[i].index = startIndex;\n            rows[i].isAltRow = gObj.enableAltRow ? startIndex % 2 !== 0 : false;\n            rowElms[i].setAttribute(literals.ariaRowIndex, startIndex.toString());\n            if (rows[i].isAltRow) {\n                rowElms[i].classList.add('e-altrow');\n            }\n            else {\n                rowElms[i].classList.remove('e-altrow');\n            }\n            for (var j = 0; j < rowElms[i].cells.length; j++) {\n                rowElms[i].cells[j].setAttribute('index', startIndex.toString());\n            }\n            startIndex++;\n        }\n    }\n    if (!rows.length) {\n        gObj.renderModule.emptyRow(true);\n    }\n}\n/**\n * @param {IGrid} gObj - Defines the grid object\n * @param {Object} changes - Defines the changes\n * @param {string} type - Defines the type\n * @param {string} keyField - Defines the keyfield\n * @returns {void}\n * @hidden\n */\nexport function compareChanges(gObj, changes, type, keyField) {\n    var newArray = gObj.dataToBeUpdated[type].concat(changes[type]).reduce(function (r, o) {\n        r[o[keyField]] = r[o[keyField]] === undefined ? o : Object.assign(r[o[keyField]], o);\n        return r;\n    }, {});\n    gObj.dataToBeUpdated[type] = Object.keys(newArray).map(function (k) { return newArray[k]; });\n}\n/**\n * @param {IGrid} gObj - Defines the grid object\n * @returns {void}\n * @hidden\n */\nexport function setRowElements(gObj) {\n    if (gObj.isFrozenGrid()) {\n        (gObj).contentModule.rowElements =\n            [].slice.call(gObj.element.querySelectorAll('.e-movableheader .e-row, .e-movablecontent .e-row'));\n        var cls = gObj.getFrozenMode() === literals.leftRight ? '.e-frozen-left-header .e-row, .e-frozen-left-content .e-row'\n            : '.e-frozenheader .e-row, .e-frozencontent .e-row';\n        (gObj).contentModule.freezeRowElements =\n            [].slice.call(gObj.element.querySelectorAll(cls));\n        if (gObj.getFrozenMode() === literals.leftRight) {\n            gObj.contentModule.frozenRightRowElements =\n                [].slice.call(gObj.element.querySelectorAll('.e-frozen-right-header .e-row, .e-frozen-right-content .e-row'));\n        }\n    }\n    else {\n        (gObj).contentModule.rowElements =\n            [].slice.call(gObj.element.querySelectorAll('.e-row:not(.e-addedrow)'));\n    }\n}\n/**\n * @param {IGrid} gObj - Defines the grid object\n * @param {Cell<Column>} cells - Defines the callback function\n * @param {freezeTable} tableName - Defines the row\n * @returns {Cell<Column>[]} Returns the cell\n * @hidden\n */\nexport function splitFrozenRowObjectCells(gObj, cells, tableName) {\n    var left = gObj.getFrozenLeftCount();\n    var movable = gObj.getMovableColumnsCount();\n    var right = gObj.getFrozenRightColumnsCount();\n    var frozenMode = gObj.getFrozenMode();\n    var drag = gObj.isRowDragable() ? 1 : 0;\n    var rightIndex = frozenMode === 'Right' ? left + movable : left + movable + drag;\n    var mvblIndex = frozenMode === 'Right' ? left : left + drag;\n    var mvblEndIdx = frozenMode === 'Right' ? cells.length - right - drag\n        : right ? cells.length - right : cells.length;\n    if (tableName === literals.frozenLeft) {\n        cells = cells.slice(0, left ? left + drag : cells.length);\n    }\n    else if (tableName === literals.frozenRight) {\n        cells = cells.slice(rightIndex, cells.length);\n    }\n    else if (tableName === 'movable') {\n        cells = cells.slice(mvblIndex, mvblEndIdx);\n    }\n    return cells;\n}\n// eslint-disable-next-line\n/** @hidden */\nexport function gridActionHandler(gObj, callBack, rows, force, rowObj) {\n    if (rows[0].length || force) {\n        if (rowObj) {\n            callBack(literals.frozenLeft, rows[0], rowObj[0]);\n        }\n        else {\n            callBack(literals.frozenLeft, rows[0]);\n        }\n    }\n    if (gObj.isFrozenGrid() && (rows[1].length || force)) {\n        if (rowObj) {\n            callBack('movable', rows[1], rowObj[1]);\n        }\n        else {\n            callBack('movable', rows[1]);\n        }\n    }\n    if ((gObj.getFrozenMode() === literals.leftRight || gObj.getFrozenMode() === 'Right') && (rows[2].length || force)) {\n        if (rowObj) {\n            callBack(literals.frozenRight, rows[2], rowObj[2]);\n        }\n        else {\n            callBack(literals.frozenRight, rows[2]);\n        }\n    }\n}\n/**\n * @param {IGrid} gObj - Defines the grid\n * @returns {Row<Column>} Returns the row\n * @hidden\n */\nexport function getGridRowObjects(gObj) {\n    return [gObj.getFrozenMode() !== 'Right' ? gObj.getRowsObject() : [], gObj.getMovableRowsObject(), gObj.getFrozenRightRowsObject()];\n}\n/**\n * @param {IGrid} gObj - Defines the grid\n * @returns {Element} Returns the element\n * @hidden\n */\nexport function getGridRowElements(gObj) {\n    return [\n        gObj.getFrozenMode() !== 'Right' ? gObj.getAllDataRows(true) : [],\n        gObj.getAllMovableDataRows(true), gObj.getAllFrozenRightDataRows(true)\n    ];\n}\n/**\n * @param {Element} row - Defines the row\n * @param {number} start - Defines the start index\n * @param {number} end - Defines the end index\n * @returns {void}\n * @hidden\n */\nexport function sliceElements(row, start, end) {\n    var cells = row.children;\n    var len = cells.length;\n    var k = 0;\n    for (var i = 0; i < len; i++, k++) {\n        if (i >= start && i < end) {\n            continue;\n        }\n        row.removeChild(row.children[k]);\n        k--;\n    }\n}\n/**\n * @param {IGrid} gObj - Defines the grid Object\n * @param {Column} col - Defines the column\n * @param {number} rowIndex - Defines the rowindex\n * @returns {Element} Returns the element\n * @hidden\n */\nexport function getCellsByTableName(gObj, col, rowIndex) {\n    if (col.getFreezeTableName() === 'movable') {\n        return [].slice.call(gObj.getMovableDataRows()[rowIndex].getElementsByClassName(literals.rowCell));\n    }\n    else if (col.getFreezeTableName() === literals.frozenRight) {\n        return [].slice.call(gObj.getFrozenRightDataRows()[rowIndex].getElementsByClassName(literals.rowCell));\n    }\n    else {\n        return [].slice.call(gObj.getDataRows()[rowIndex].getElementsByClassName(literals.rowCell));\n    }\n}\n/**\n * @param {IGrid} gObj - Defines the column\n * @param {Column} col - Defines the index\n * @param {number} rowIndex - Defines the rules\n * @param {number} index - Defines the movable column rules\n * @returns {Element} Returns the Element\n * @hidden\n */\nexport function getCellByColAndRowIndex(gObj, col, rowIndex, index) {\n    var left = gObj.getFrozenLeftCount();\n    var movable = gObj.getMovableColumnsCount();\n    index = col.getFreezeTableName() === 'movable' ? index - left : col.getFreezeTableName() === literals.frozenRight\n        ? index - (left + movable) : index;\n    return getCellsByTableName(gObj, col, rowIndex)[index];\n}\n/**\n * @param {Column} col - Defines the column\n * @param {number} index - Defines the index\n * @param {Object} rules - Defines the rules\n * @param {Object} mRules - Defines the movable column rules\n * @param {Object} frRules - Defines the Frozen rules\n * @param {number} len - Defines the length\n * @param {boolean} isCustom - Defines custom form validation\n * @returns {void}\n * @hidden\n */\nexport function setValidationRuels(col, index, rules, mRules, frRules, len, isCustom) {\n    if (isCustom) {\n        rules[getComplexFieldID(col.field)] = col.validationRules;\n    }\n    else {\n        if (col.getFreezeTableName() === literals.frozenLeft\n            || (!index && col.getFreezeTableName() === literals.frozenRight) || len === 1) {\n            rules[getComplexFieldID(col.field)] = col.validationRules;\n        }\n        else if (col.getFreezeTableName() === 'movable' || !col.getFreezeTableName()) {\n            mRules[getComplexFieldID(col.field)] = col.validationRules;\n        }\n        else if (col.getFreezeTableName() === literals.frozenRight) {\n            frRules[getComplexFieldID(col.field)] = col.validationRules;\n        }\n    }\n}\n/**\n * @param {IGrid} gObj - Defines the grid object\n * @returns {Element} Returns the Element\n * @hidden\n */\nexport function getMovableTbody(gObj) {\n    var tbody;\n    if (gObj.isFrozenGrid()) {\n        tbody = gObj.frozenRows && gObj.editSettings.newRowPosition === 'Top' ? gObj.getMovableHeaderTbody()\n            : gObj.getMovableContentTbody();\n    }\n    return tbody;\n}\n/**\n * @param {IGrid} gObj - Defines the grid object\n * @returns {Element} Returns the Element\n * @hidden\n */\nexport function getFrozenRightTbody(gObj) {\n    var tbody;\n    if (gObj.getFrozenMode() === literals.leftRight) {\n        tbody = gObj.frozenRows && gObj.editSettings.newRowPosition === 'Top' ? gObj.getFrozenRightHeaderTbody()\n            : gObj.getFrozenRightContentTbody();\n    }\n    return tbody;\n}\n/**\n * @param {Element} tbody - Table body\n * @param {Element} mTbody - Movanle table body\n * @param {Element} frTbody - Frozen right table body\n * @param {Element[]} tr - Table rows\n * @param {Element[]} mTr - Movable table rows\n * @param {Element[]} frTr - Frozen right table rows\n * @param {Function} callBack - Callback function\n * @returns {void}\n * @hidden\n */\nexport function setRowsInTbody(tbody, mTbody, frTbody, tr, mTr, frTr, callBack) {\n    if (tbody && tr) {\n        callBack(tbody, tr);\n    }\n    if (mTbody && mTr) {\n        callBack(mTbody, mTr);\n    }\n    if (frTbody && frTr) {\n        callBack(frTbody, frTr);\n    }\n}\n/**\n * @param {string} numberFormat - Format\n * @param {string} type - Value type\n * @param {boolean} isExcel - Boolean property\n * @returns {string} returns formated value\n * @hidden\n */\nexport function getNumberFormat(numberFormat, type, isExcel) {\n    var format;\n    var intl = new Internationalization();\n    if (type === 'number') {\n        try {\n            format = intl.getNumberPattern({ format: numberFormat, currency: this.currency, useGrouping: true }, true);\n        }\n        catch (error) {\n            format = numberFormat;\n        }\n    }\n    else if (type === 'date' || type === 'time' || type === 'datetime') {\n        try {\n            format = intl.getDatePattern({ skeleton: numberFormat, type: type }, isExcel);\n            if (isNullOrUndefined(format)) {\n                // eslint-disable-next-line\n                throw 'error';\n            }\n        }\n        catch (error) {\n            try {\n                format = intl.getDatePattern({ format: numberFormat, type: type }, isExcel);\n            }\n            catch (error) {\n                format = numberFormat;\n            }\n        }\n    }\n    else {\n        format = numberFormat;\n    }\n    if (type !== 'number') {\n        var patternRegex = /G|H|c|'| a|yy|y|EEEE|E/g;\n        var mtch_1 = { 'G': '', 'H': 'h', 'c': 'd', '\\'': '\"', ' a': ' AM/PM', 'yy': 'yy', 'y': 'yyyy', 'EEEE': 'dddd', 'E': 'ddd' };\n        format = format.replace(patternRegex, function (pattern) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            return mtch_1[pattern];\n        });\n    }\n    return format;\n}\n/**\n * @param {IGrid} gObj - Grid instance\n * @returns {void}\n * @hidden\n */\nexport function addBiggerDialog(gObj) {\n    if (gObj.enableAdaptiveUI) {\n        var dialogs = document.getElementsByClassName('e-responsive-dialog');\n        for (var i = 0; i < dialogs.length; i++) {\n            dialogs[i].classList.add('e-bigger');\n        }\n    }\n}\n/**\n * @param {string} value - specifies the trr\n * @param {Object} mapObject - specifies the idx\n * @returns {Object | string} returns object or string\n * @hidden\n */\nexport function performComplexDataOperation(value, mapObject) {\n    var returnObj;\n    var length = value.split('.').length;\n    var splits = value.split('.');\n    var duplicateMap = mapObject;\n    for (var i = 0; i < length; i++) {\n        returnObj = duplicateMap[splits[i]];\n        duplicateMap = returnObj;\n    }\n    return returnObj;\n}\n/**\n * @param {Object} tr - specifies the trr\n * @param {number} idx - specifies the idx\n * @param {string} displayVal - specifies the displayval\n * @param {Row<Column>} rows - specifies the rows\n * @param {IGrid} parent - Grid instance\n * @param {boolean} isContent - check for content renderer\n * @returns {void}\n * @hidden\n */\nexport function setDisplayValue(tr, idx, displayVal, rows, parent, isContent) {\n    var trs = Object.keys(tr);\n    for (var i = 0; i < trs.length; i++) {\n        var td = tr[trs[i]].querySelectorAll('td.e-rowcell')[idx];\n        if (tr[trs[i]].querySelectorAll('td.e-rowcell').length && td) {\n            setStyleAttribute(tr[trs[i]].querySelectorAll('td.e-rowcell')[idx], { 'display': displayVal });\n            if (tr[trs[i]].querySelectorAll('td.e-rowcell')[idx].classList.contains('e-hide')) {\n                removeClass([tr[trs[i]].querySelectorAll('td.e-rowcell')[idx]], ['e-hide']);\n            }\n            if (isContent && parent.isRowDragable()) {\n                var index = parent.getFrozenColumns() ? idx : idx + 1;\n                rows[trs[i]].cells[index].visible = displayVal === '' ? true : false;\n            }\n            else {\n                rows[trs[i]].cells[idx].visible = displayVal === '' ? true : false;\n            }\n        }\n    }\n}\n// eslint-disable-next-line\n/** @hidden */\nexport function addRemoveEventListener(parent, evt, isOn, module) {\n    for (var _i = 0, evt_1 = evt; _i < evt_1.length; _i++) {\n        var inst = evt_1[_i];\n        if (isOn) {\n            parent.on(inst.event, inst.handler, module);\n        }\n        else {\n            parent.off(inst.event, inst.handler);\n        }\n    }\n}\n// eslint-disable-next-line\n/** @hidden */\nexport function createEditElement(parent, column, classNames, attr) {\n    var complexFieldName = getComplexFieldID(column.field);\n    attr = Object.assign(attr, {\n        id: parent.element.id + complexFieldName,\n        name: complexFieldName, 'e-mappinguid': column.uid\n    });\n    return parent.createElement('input', {\n        className: classNames, attrs: attr\n    });\n}\n/**\n * @param {IGrid} gObj - Grid instance\n * @param {string} uid - Defines column's uid\n * @returns {Column} returns column model\n * @hidden\n */\nexport function getColumnModelByUid(gObj, uid) {\n    var column;\n    for (var _i = 0, _a = (gObj.columnModel); _i < _a.length; _i++) {\n        var col = _a[_i];\n        if (col.uid === uid) {\n            column = col;\n            break;\n        }\n    }\n    return column;\n}\n/**\n * @param {IGrid} gObj - Grid instance\n * @param {string} field - Defines column's uid\n * @returns {Column} returns column model\n * @hidden\n */\nexport function getColumnModelByFieldName(gObj, field) {\n    var column;\n    if (!gObj.columnModel) {\n        gObj.getColumns();\n    }\n    for (var _i = 0, _a = (gObj.columnModel); _i < _a.length; _i++) {\n        var col = _a[_i];\n        if (col.field === field) {\n            column = col;\n            break;\n        }\n    }\n    return column;\n}\n/**\n * @param {string} id - Defines component id\n * @param {string[]} evts - Defines events\n * @param {object} handlers - Defines event handlers\n * @param {any} instance - Defines class instance\n * @returns {void}\n * @hidden\n */\n// eslint-disable-next-line\nexport function registerEventHandlers(id, evts, handlers, instance) {\n    instance.eventHandlers[id] = {};\n    for (var i = 0; i < evts.length; i++) {\n        instance.eventHandlers[id][evts[i]] = handlers[evts[i]];\n    }\n}\n/**\n * @param {any} component - Defines component instance\n * @param {string[]} evts - Defines events\n * @param {any} instance - Defines class instance\n * @returns {void}\n * @hidden\n */\n// eslint-disable-next-line\nexport function removeEventHandlers(component, evts, instance) {\n    for (var i = 0; i < evts.length; i++) {\n        if (component.isDestroyed) {\n            break;\n        }\n        component.removeEventListener(evts[i], instance.eventHandlers[component.element.id][evts[i]]);\n    }\n}\n/**\n * @param {IGrid | IXLFilter} parent - Defines parent instance\n * @param {string[]} templates - Defines the templates name which are needs to clear\n * @returns {void}\n * @hidden\n */\nexport function clearReactVueTemplates(parent, templates) {\n    parent.destroyTemplate(templates);\n    if (parent.isReact) {\n        parent.renderTemplates();\n    }\n}\n/**\n *\n * @param { Element } row - Defines row element\n * @returns { number } row index\n */\nexport function getRowIndexFromElement(row) {\n    return parseInt(row.getAttribute(literals.ariaRowIndex), 10);\n}\n/**\n *\n * @param { string[] } fields - Defines grouped fields\n * @param { values } values - Defines caption keys\n * @param { any } instance - Defines dynamic class instance\n * @returns { Predicate } returns filter predicate\n */\n// eslint-disable-next-line\nexport function generateExpandPredicates(fields, values, instance) {\n    var filterCols = [];\n    for (var i = 0; i < fields.length; i++) {\n        var column = instance.parent.getColumnByField(fields[i]);\n        var value = values[i] === 'null' ? null : values[i];\n        var pred = {\n            field: fields[i], predicate: 'or', uid: column.uid, operator: 'equal', type: column.type,\n            matchCase: instance.allowCaseSensitive, ignoreAccent: instance.parent.filterSettings.ignoreAccent\n        };\n        if (value === '' || isNullOrUndefined(value)) {\n            filterCols = filterCols.concat(CheckBoxFilterBase.generateNullValuePredicates(pred));\n        }\n        else {\n            filterCols.push(extend({}, { value: value }, pred));\n        }\n    }\n    return CheckBoxFilterBase.getPredicate(filterCols);\n}\n/**\n *\n * @param { Predicate } pred - Defines filter predicate\n * @returns { Predicate[] } Returns formed predicate\n */\nexport function getPredicates(pred) {\n    var predicateList = [];\n    for (var _i = 0, _a = Object.keys(pred); _i < _a.length; _i++) {\n        var prop = _a[_i];\n        predicateList.push(pred[prop]);\n    }\n    return predicateList;\n}\n/**\n *\n * @param { number } index - Defines group caption indent\n * @param { Row<Column>[] } rowsObject - Defines rows object\n * @returns { { fields: string[], keys: string[] } } Returns grouped keys and values\n */\nexport function getGroupKeysAndFields(index, rowsObject) {\n    var fields = [];\n    var keys = [];\n    for (var i = index; i >= 0; i--) {\n        if (rowsObject[i].isCaptionRow && fields.indexOf(rowsObject[i].data.field) === -1\n            && (rowsObject[i].indent < rowsObject[index].indent || i === index)) {\n            fields.push(rowsObject[i].data.field);\n            keys.push(rowsObject[i].data.key);\n            if (rowsObject[i].indent === 0) {\n                break;\n            }\n        }\n    }\n    return { fields: fields, keys: keys };\n}\n// eslint-disable-next-line\n/**\n *\n * @param { number[][] } checkActiveMatrix - Defines matrix to check\n * @param { number[] } checkCellIndex - Defines index to check\n * @param { boolean } next - Defines select next or previous index\n * @returns { number[] } - Returns next active current index\n */\nexport function findCellIndex(checkActiveMatrix, checkCellIndex, next) {\n    var activeMatrix = checkActiveMatrix;\n    var cellIndex = checkCellIndex;\n    var currentCellIndexPass = false;\n    if (next) {\n        for (var i = cellIndex[0]; i < activeMatrix.length; i++) {\n            var rowCell = activeMatrix[i];\n            for (var j = 0; j < rowCell.length; j++) {\n                if (currentCellIndexPass && activeMatrix[i][j] === 1) {\n                    cellIndex = [i, j];\n                    return cellIndex;\n                }\n                if (!currentCellIndexPass && cellIndex.toString() === [i, j].toString()) {\n                    currentCellIndexPass = true;\n                }\n            }\n        }\n    }\n    else {\n        for (var i = cellIndex[0]; i >= 0; i--) {\n            var rowCell = activeMatrix[i];\n            for (var j = rowCell.length - 1; j >= 0; j--) {\n                if (currentCellIndexPass && activeMatrix[i][j] === 1) {\n                    cellIndex = [i, j];\n                    return cellIndex;\n                }\n                if (!currentCellIndexPass && cellIndex.toString() === [i, j].toString()) {\n                    currentCellIndexPass = true;\n                }\n            }\n        }\n    }\n    return cellIndex;\n}\n"],"mappings":"AAAA,SAASA,aAAT,EAAwBC,OAAO,IAAIC,oBAAnC,EAAyDC,QAAzD,EAAmEC,oBAAnE,EAAyFC,WAAzF,EAAsGC,OAAtG,QAAqH,sBAArH;AACA,SAASC,MAAM,IAAIC,UAAnB,EAA+BC,iBAA/B,EAAkDC,QAAlD,EAA4DC,SAA5D,QAA6E,sBAA7E;AACA,SAASC,iBAAT,EAA4BC,QAA5B,EAAsCC,UAAtC,EAAkDC,MAAlD,EAA0DC,aAA1D,EAAyEC,WAAzE,QAA4F,sBAA5F;AACA,SAASC,QAAT,EAAmBC,MAAnB,EAA2BC,SAA3B,QAA4C,sBAA5C;AACA,SAASC,QAAT,EAAmBC,KAAnB,EAA0BC,WAA1B,EAAuCC,SAAvC,EAAkDC,UAAlD,EAA8DC,QAA9D,QAA8E,sBAA9E;AACA,SAASC,MAAT,QAAuB,kBAAvB;AACA,SAASC,8BAAT,QAA+C,wBAA/C;AACA,SAASC,KAAT,QAAsB,kBAAtB;AACA,SAASC,kBAAT,QAAmC,gCAAnC;AACA,OAAO,KAAKC,QAAZ,MAA0B,yBAA1B,C,CACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASC,sBAAT,CAAgCC,MAAhC,EAAwCC,QAAxC,EAAkD;EACrD;EACA,OAAOD,MAAM,CAACE,SAAP,IAAoBD,QAAQ,IAAID,MAAM,CAACE,SAA9C;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASC,aAAT,CAAuBC,KAAvB,EAA8BC,IAA9B,EAAoCC,MAApC,EAA4C;EAC/C,OAAQ9B,iBAAiB,CAAC4B,KAAD,CAAjB,IAA4BA,KAAK,KAAK,EAAvC,GAA6C,EAA7C,GAAkDhB,QAAQ,CAACmB,SAAT,CAAmBH,KAAnB,EAA0BC,IAA1B,CAAzD;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASG,mBAAT,CAA6BJ,KAA7B,EAAoCE,MAApC,EAA4C;EAC/C,OAAQ9B,iBAAiB,CAAC4B,KAAD,CAAjB,IAA4BA,KAAK,KAAK,EAAvC,GAA6C,EAA7C,GAAkDhB,QAAQ,CAACmB,SAAT,CAAmBH,KAAnB,EAA0BE,MAA1B,CAAzD;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASG,iBAAT,CAA2BC,cAA3B,EAA2CC,QAA3C,EAAqD;EACxDC,qBAAqB,CAAC,YAAY;IAC9B,IAAI;MACAD,QAAQ,CAAC,IAAD,EAAOD,cAAc,EAArB,CAAR;IACH,CAFD,CAGA,OAAOG,CAAP,EAAU;MACNF,QAAQ,CAACE,CAAD,CAAR;IACH;EACJ,CAPoB,CAArB;AAQH;AACD;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASC,eAAT,CAAyBC,gBAAzB,EAA2C;EAC9C,OAAO,CAACvC,iBAAiB,CAACuC,gBAAD,CAAlB,IACH,CAACvC,iBAAiB,CAACuC,gBAAgB,CAACC,OAAlB,CADf,IAC6CD,gBAAgB,CAACC,OAAjB,CAAyBC,MAAzB,GAAkC,CADtF;AAEH;AACD;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASC,gCAAT,CAA0CH,gBAA1C,EAA4DI,IAA5D,EAAkE;EACrE,IAAIC,aAAa,GAAGL,gBAAgB,CAACC,OAArC;EACA,IAAIK,WAAW,GAAGF,IAAI,CAACH,OAAvB;;EACA,KAAK,IAAIM,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,aAAa,CAACH,MAAlC,EAA0CK,CAAC,EAA3C,EAA+C;IAC3C,IAAID,WAAW,CAACJ,MAAZ,GAAqB,CAArB,IAA0BK,CAA9B,EAAiC;MAC7B,IAAID,WAAW,CAACC,CAAD,CAAX,CAAeN,OAAnB,EAA4B;QACxB,KAAK,IAAIO,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,WAAW,CAACC,CAAD,CAAX,CAAeN,OAAf,CAAuBC,MAA3C,EAAmDM,CAAC,EAApD,EAAwD;UACpDH,aAAa,CAACE,CAAD,CAAb,CAAiBN,OAAjB,CAAyBO,CAAzB,EAA4BC,IAA5B,GAAmCH,WAAW,CAACC,CAAD,CAAX,CAAeN,OAAf,CAAuBO,CAAvB,EAA0BC,IAA7D;QACH;MACJ,CAJD,MAKK;QACDJ,aAAa,CAACE,CAAD,CAAb,CAAiBE,IAAjB,GAAwBH,WAAW,CAACC,CAAD,CAAX,CAAeE,IAAvC;MACH;IACJ;EACJ;AACJ;AACD;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASC,cAAT,CAAwBC,IAAxB,EAA8B;EACjC,IAAIC,KAAK,GAAG,EAAZ;EACA,IAAIC,UAAU,GAAGF,IAAI,CAACG,KAAtB;;EACA,KAAK,IAAIP,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGM,UAAU,CAACX,MAA/B,EAAuCK,CAAC,EAAxC,EAA4C;IACxC,IAAIM,UAAU,CAACN,CAAD,CAAV,CAAcQ,SAAlB,EAA6B;MACzBH,KAAK,CAACI,IAAN,CAAWH,UAAU,CAACN,CAAD,CAArB;IACH,CAFD,MAGK,IAAI,CAACM,UAAU,CAACN,CAAD,CAAV,CAAcQ,SAAnB,EAA8B;MAC/BH,KAAK,CAACI,IAAN,CAAWH,UAAU,CAACN,CAAD,CAArB;;MACA,IAAI,CAACM,UAAU,CAACN,CAAD,CAAV,CAAcU,QAAf,IAA2BJ,UAAU,CAACN,CAAD,CAAV,CAAcW,YAA7C,EAA2D;QACvDX,CAAC,IAAIY,qBAAqB,CAACN,UAAU,CAACN,CAAD,CAAX,EAAgBI,IAAhB,CAA1B;MACH;IACJ;EACJ;;EACDA,IAAI,CAACS,MAAL,GAAcR,KAAd;AACH;AACD,IAAIS,KAAK,GAAG,CAAZ;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASF,qBAAT,CAA+BG,GAA/B,EAAoCX,IAApC,EAA0C;EAC7CU,KAAK,GAAG,CAAR;EACA,IAAIE,QAAQ,GAAG,UAAf;EACA,IAAIC,KAAK,GAAG,OAAZ;EACA,IAAIC,IAAI,GAAGd,IAAI,CAACe,aAAL,CAAmBzB,OAAnB,CAA2BC,MAAtC;EACA,IAAIyB,OAAO,GAAG,SAAd;EACA,IAAIC,KAAK,GAAG,OAAZ;EACA,IAAIC,KAAK,GAAGP,GAAG,CAACC,QAAD,CAAf;EACA,IAAIO,UAAU,GAAG,CAAjB;EACA,IAAIC,MAAM,GAAG,iBAAb;;EACA,IAAIF,KAAK,KAAKP,GAAG,CAAChC,IAAJ,CAASkC,KAAT,CAAd,EAA+B;IAC3B,IAAIb,IAAI,CAACe,aAAL,CAAmBzB,OAAnB,CAA2BC,MAA3B,IAAqC,CAACzC,iBAAiB,CAAC6D,GAAG,CAACS,MAAD,CAAJ,CAAvD,IAAwET,GAAG,CAACS,MAAD,CAA/E,EAAyF;MACrF,IAAIpB,IAAI,CAACe,aAAL,CAAmBzB,OAAnB,CAA2BC,MAA3B,KAAsC,CAA1C,EAA6C;QACzCmB,KAAK,IAAKC,GAAG,CAACU,MAAJ,KAAe,CAAf,IAAqBH,KAAD,GAAU,CAA/B,GAAqCP,GAAG,CAACC,QAAD,CAAH,IAAkBE,IAAI,GAAGH,GAAG,CAACU,MAAZ,GAAsB,CAACP,IAAI,GAAGH,GAAG,CAACU,MAAZ,IAAsBV,GAAG,CAACS,MAAD,CAAhE,CAArC,GACJT,GAAG,CAACC,QAAD,CAAH,IAAkBE,IAAI,GAAGH,GAAG,CAACU,MAAZ,GAAsB,CAACP,IAAI,GAAGH,GAAG,CAACU,MAAX,GAAoB,CAArB,IAA0BV,GAAG,CAACS,MAAD,CAApE,CAAD,GAAkFT,GAAG,CAACS,MAAD,CADzF;MAEH,CAHD,MAIK,IAAIpB,IAAI,CAACe,aAAL,CAAmBzB,OAAnB,CAA2BC,MAA3B,KAAsC,CAA1C,EAA6C;QAC9CmB,KAAK,IAAKC,GAAG,CAACC,QAAD,CAAH,IAAiBE,IAAI,GAAGH,GAAG,CAACU,MAA5B,CAAD,GAAwCV,GAAG,CAACS,MAAD,CAApD;MACH;IACJ,CARD,MASK,IAAIpB,IAAI,CAACe,aAAL,CAAmBzB,OAAnB,CAA2BC,MAA/B,EAAuC;MACxC,IAAIS,IAAI,CAACe,aAAL,CAAmBzB,OAAnB,CAA2BC,MAA3B,KAAsC,CAA1C,EAA6C;QACzCmB,KAAK,IAAIC,GAAG,CAACC,QAAD,CAAH,IAAiBZ,IAAI,CAACe,aAAL,CAAmBzB,OAAnB,CAA2BC,MAA3B,GAAoCoB,GAAG,CAACU,MAAzD,CAAT;MACH,CAFD,MAGK;QACDX,KAAK,IAAIC,GAAG,CAACC,QAAD,CAAZ;MACH;IACJ;;IACD,OAAOF,KAAP;EACH,CAnBD,MAoBK;IACD,KAAK,IAAId,CAAC,GAAG,CAAR,EAAW0B,GAAG,GAAGX,GAAG,CAAChC,IAAJ,CAASsC,KAAT,EAAgB1B,MAAtC,EAA8CK,CAAC,GAAG0B,GAAlD,EAAuD1B,CAAC,EAAxD,EAA4D;MACxD,IAAI2B,MAAM,GAAGZ,GAAG,CAAChC,IAAJ,CAASsC,KAAT,EAAgBrB,CAAhB,CAAb;MACAc,KAAK,IAAIa,MAAM,CAACN,KAAD,CAAN,CAAc1B,MAAd,IAAyBuB,IAAI,KAAKd,IAAI,CAACV,OAAL,CAAaC,MAAvB,IAC7B,CAACzC,iBAAiB,CAACyE,MAAM,CAACN,KAAD,CAAN,CAAcD,OAAd,CAAD,CADW,GACgBO,MAAM,CAACN,KAAD,CAAN,CAAcD,OAAd,EAAuBzB,MADvC,GACgD,CADxE,CAAT;MAEA4B,UAAU,IAAK,CAACrE,iBAAiB,CAACyE,MAAM,CAACN,KAAD,CAAN,CAAcD,OAAd,CAAD,CAAlB,IAA8C,CAAClE,iBAAiB,CAAC6D,GAAG,CAACS,MAAD,CAAJ,CAAjE,GAAkFG,MAAM,CAACN,KAAD,CAAN,CAAcD,OAAd,EAAuBzB,MAAzG,GACVgC,MAAM,CAACN,KAAD,CAAN,CAAc1B,MADlB;;MAEA,IAAIgC,MAAM,CAACN,KAAD,CAAN,CAAcO,SAAd,IAA2BD,MAAM,CAACN,KAAD,CAAN,CAAcQ,WAAd,KAA8B,CAA7D,EAAgE;QAC5DC,SAAS,CAACH,MAAD,CAAT;MACH;IACJ;;IACDb,KAAK,IAAIC,GAAG,CAAChC,IAAJ,CAASsC,KAAT,EAAgB1B,MAAzB;;IACA,IAAI,CAACzC,iBAAiB,CAAC6D,GAAG,CAACS,MAAD,CAAJ,CAAtB,EAAqC;MACjC,IAAIT,GAAG,CAACS,MAAD,CAAH,IAAeV,KAAf,IAAwBS,UAAU,KAAK,CAA3C,EAA8C;QAC1CT,KAAK,IAAK,CAACA,KAAK,GAAGS,UAAT,IAAuBR,GAAG,CAACS,MAAD,CAA3B,GAAuCT,GAAG,CAACS,MAAD,CAAnD;MACH;IACJ;EACJ;;EACD,OAAOV,KAAP;AACH;AACD;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASgB,SAAT,CAAmBC,GAAnB,EAAwB;EAC3B,IAAIV,KAAK,GAAG,OAAZ;EACA,IAAIW,MAAM,GAAG,OAAb;;EACA,KAAK,IAAI/B,CAAC,GAAG,CAAR,EAAWgC,QAAQ,GAAGF,GAAG,CAACV,KAAD,CAAH,CAAW1B,MAAtC,EAA8CM,CAAC,GAAGgC,QAAlD,EAA4DhC,CAAC,EAA7D,EAAiE;IAC7D,IAAIiC,MAAM,GAAGH,GAAG,CAACV,KAAD,CAAH,CAAWpB,CAAX,CAAb;IACAa,KAAK,IAAIoB,MAAM,CAACF,MAAD,CAAf;;IACA,IAAIE,MAAM,CAACb,KAAD,CAAN,CAAcQ,WAAd,KAA8B,CAAlC,EAAqC;MACjCC,SAAS,CAACI,MAAD,CAAT;IACH;EACJ;AACJ;AACD;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASC,oBAAT,CAA8BC,UAA9B,EAA0CC,SAA1C,EAAqD;EACxD,IAAIC,MAAM,GAAG,EAAb;;EACA,KAAK,IAAItC,CAAC,GAAG,CAAR,EAAW0B,GAAG,GAAGU,UAAU,CAACzC,MAAjC,EAAyCK,CAAC,GAAG0B,GAA7C,EAAkD1B,CAAC,EAAnD,EAAuD;IACnD,IAAIuC,IAAI,GAAGF,SAAS,CAACD,UAAU,CAACpC,CAAD,CAAX,EAAgBA,CAAhB,CAApB;;IACA,IAAI,CAAC9C,iBAAiB,CAACqF,IAAD,CAAtB,EAA8B;MAC1BD,MAAM,CAAC7B,IAAP,CAAY8B,IAAZ;IACH;EACJ;;EACD,OAAOD,MAAP;AACH;AACD;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASE,aAAT,CAAuBC,KAAvB,EAA8B;EACjC,IAAIC,GAAG,GAAG,EAAV;;EACA,KAAK,IAAI1C,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGyC,KAAK,CAAC9C,MAA1B,EAAkCK,CAAC,EAAnC,EAAuC;IACnC0C,GAAG,CAACjC,IAAJ,CAASxD,UAAU,CAAC,EAAD,EAAK0F,mBAAmB,CAACF,KAAK,CAACzC,CAAD,CAAN,CAAxB,EAAoC,EAApC,EAAwC,IAAxC,CAAnB;EACH;;EACD,OAAO0C,GAAP;AACH;AACD;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASE,gBAAT,CAA0BC,QAA1B,EAAoC;EACvC,IAAIA,QAAJ,EAAc;IACV,IAAI;MACA,IAAIC,QAAQ,CAACC,gBAAT,CAA0BF,QAA1B,EAAoClD,MAAxC,EAAgD;QAC5C,OAAOhD,oBAAoB,CAACmG,QAAQ,CAACE,aAAT,CAAuBH,QAAvB,EAAiCI,SAAjC,CAA2CC,IAA3C,EAAD,CAA3B;MACH,CAFD,MAGK;QACD,OAAOvG,oBAAoB,CAACkG,QAAD,CAA3B;MACH;IACJ,CAPD,CAQA,OAAOtD,CAAP,EAAU;MACN,OAAO5C,oBAAoB,CAACkG,QAAD,CAA3B;IACH;EACJ;;EACD,OAAOM,SAAP;AACH;AACD;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASC,qBAAT,CAA+BC,IAA/B,EAAqCC,gBAArC,EAAuD;EAC1D,IAAIC,QAAQ,GAAG,EAAf;EACA,IAAI/E,QAAQ,GAAG,CAAC,OAAD,EAAU,OAAV,CAAf,CAF0D,CAG1D;;EACAvB,UAAU,CAACsG,QAAD,EAAWD,gBAAX,EAA6B,EAA7B,CAAV;;EACA,IAAI,WAAWC,QAAf,EAAyB;IACrBlG,iBAAiB,CAACgG,IAAD,EAAOE,QAAQ,CAAC/E,QAAQ,CAAC,CAAD,CAAT,CAAf,CAAjB;IACA,OAAO+E,QAAQ,CAAC/E,QAAQ,CAAC,CAAD,CAAT,CAAf;EACH;;EACD,IAAI,WAAW+E,QAAf,EAAyB;IACrBjG,QAAQ,CAAC,CAAC+F,IAAD,CAAD,EAASE,QAAQ,CAAC/E,QAAQ,CAAC,CAAD,CAAT,CAAjB,CAAR;IACA,OAAO+E,QAAQ,CAAC/E,QAAQ,CAAC,CAAD,CAAT,CAAf;EACH;;EACDjB,UAAU,CAAC8F,IAAD,EAAOE,QAAP,CAAV;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASvG,MAAT,CAAgBwG,MAAhB,EAAwBC,KAAxB,EAA+BC,MAA/B,EAAuCC,OAAvC,EAAgD;EACnD,IAAIC,KAAK,GAAG3G,UAAU,CAACuG,MAAD,EAASC,KAAT,EAAgBC,MAAhB,CAAtB;EACA,IAAIG,MAAM,GAAGC,MAAM,CAACC,IAAP,CAAYH,KAAZ,CAAb;;EACA,KAAK,IAAI5D,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG6D,MAAM,CAAClE,MAA3B,EAAmCK,CAAC,EAApC,EAAwC;IACpC,IAAI2D,OAAO,IAAIA,OAAO,CAACK,OAAR,CAAgBH,MAAM,CAAC7D,CAAD,CAAtB,MAA+B,CAAC,CAA/C,EAAkD;MAC9C,OAAO4D,KAAK,CAACC,MAAM,CAAC7D,CAAD,CAAP,CAAZ;IACH;EACJ;;EACD,OAAO4D,KAAP;AACH;AACD;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASK,cAAT,CAAwBC,WAAxB,EAAqCC,GAArC,EAA0C;EAC7C,IAAIA,GAAG,KAAK,KAAK,CAAjB,EAAoB;IAAEA,GAAG,GAAG,CAAN;EAAU;;EAChC,KAAK,IAAInE,CAAC,GAAG,CAAR,EAAW0B,GAAG,GAAGwC,WAAW,CAACvE,MAAlC,EAA0CK,CAAC,GAAG0B,GAA9C,EAAmD1B,CAAC,EAApD,EAAwD;IACpD,IAAIkE,WAAW,CAAClE,CAAD,CAAX,CAAeN,OAAnB,EAA4B;MACxBwE,WAAW,CAAClE,CAAD,CAAX,CAAeoE,KAAf,GAAuBlH,iBAAiB,CAACgH,WAAW,CAAClE,CAAD,CAAX,CAAeoE,KAAhB,CAAjB,GAA0CD,GAA1C,GAAgDD,WAAW,CAAClE,CAAD,CAAX,CAAeoE,KAAtF;MACAD,GAAG;MACHA,GAAG,GAAGF,cAAc,CAACC,WAAW,CAAClE,CAAD,CAAX,CAAeN,OAAhB,EAAyByE,GAAzB,CAApB;IACH,CAJD,MAKK;MACDD,WAAW,CAAClE,CAAD,CAAX,CAAeoE,KAAf,GAAuBlH,iBAAiB,CAACgH,WAAW,CAAClE,CAAD,CAAX,CAAeoE,KAAhB,CAAjB,GAA0CD,GAA1C,GAAgDD,WAAW,CAAClE,CAAD,CAAX,CAAeoE,KAAtF;MACAD,GAAG;IACN;EACJ;;EACD,OAAOA,GAAP;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASE,cAAT,CAAwB3E,OAAxB,EAAiC4E,SAAjC,EAA4CzE,IAA5C,EAAkD;EACrD,KAAK,IAAI0E,CAAC,GAAG,CAAR,EAAW7C,GAAG,GAAGhC,OAAO,CAACC,MAA9B,EAAsC4E,CAAC,GAAG7C,GAA1C,EAA+C6C,CAAC,EAAhD,EAAoD;IAChD,IAAIvF,MAAM,GAAG,KAAK,CAAlB;;IACA,IAAI,OAAOU,OAAO,CAAC6E,CAAD,CAAd,KAAsB,QAA1B,EAAoC;MAChCvF,MAAM,GAAG,IAAIZ,MAAJ,CAAW;QAAEU,KAAK,EAAEY,OAAO,CAAC6E,CAAD;MAAhB,CAAX,EAAkC1E,IAAlC,CAAT;IACH,CAFD,MAGK,IAAI,EAAEH,OAAO,CAAC6E,CAAD,CAAP,YAAsBnG,MAAxB,KAAmCsB,OAAO,CAAC6E,CAAD,CAAP,CAAW7E,OAAlD,EAA2D;MAC5D,IAAI,CAACA,OAAO,CAAC6E,CAAD,CAAP,CAAW7E,OAAhB,EAAyB;QACrBV,MAAM,GAAG,IAAIZ,MAAJ,CAAWsB,OAAO,CAAC6E,CAAD,CAAlB,EAAuB1E,IAAvB,CAAT;MACH,CAFD,MAGK;QACDH,OAAO,CAAC6E,CAAD,CAAP,CAAW7E,OAAX,GAAqB2E,cAAc,CAAC3E,OAAO,CAAC6E,CAAD,CAAP,CAAW7E,OAAZ,EAAqB,IAArB,EAA2BG,IAA3B,CAAnC;QACAb,MAAM,GAAG,IAAIZ,MAAJ,CAAWsB,OAAO,CAAC6E,CAAD,CAAlB,EAAuB1E,IAAvB,CAAT;MACH;IACJ,CARI,MASA;MACDb,MAAM,GAAGU,OAAO,CAAC6E,CAAD,CAAhB;IACH;;IACD,IAAIvF,MAAM,CAACkB,IAAP,IAAelB,MAAM,CAACkB,IAAP,CAAYsE,WAAZ,OAA8B,UAAjD,EAA6D;MACzDxF,MAAM,CAACyF,eAAP,GAAyB,KAAzB;IACH;;IACDzF,MAAM,CAAC0F,UAAP,GAAoBxH,iBAAiB,CAAC8B,MAAM,CAAC0F,UAAR,CAAjB,GAAuC1F,MAAM,CAAC2F,eAAP,IAA0B3F,MAAM,CAACF,KAAjC,IAA0C,EAAjF,GAAsFE,MAAM,CAAC0F,UAAjH;IACA1F,MAAM,CAAC4F,eAAP,GAAyB5F,MAAM,CAAC4F,eAAP,IAA0B5F,MAAM,CAACF,KAA1D;IACAE,MAAM,CAACH,aAAP,GAAuB,CAAC,OAAOG,MAAM,CAACH,aAAd,KAAgC,QAAhC,GAA2C1B,QAAQ,CAAC6B,MAAM,CAACH,aAAR,EAAuBgG,MAAvB,CAAnD,GAClB7F,MAAM,CAACH,aADU,KACQA,aAD/B;IAEAG,MAAM,CAAC8F,KAAP,GAAeR,SAAS,IAAIpH,iBAAiB,CAAC8B,MAAM,CAAC8F,KAAR,CAA9B,GAA+C,GAA/C,GAAqD9F,MAAM,CAAC8F,KAA3E;;IACA,IAAI5H,iBAAiB,CAAC8B,MAAM,CAAC+F,OAAR,CAArB,EAAuC;MACnC/F,MAAM,CAAC+F,OAAP,GAAiB,IAAjB;IACH;;IACDrF,OAAO,CAAC6E,CAAD,CAAP,GAAavF,MAAb;EACH;;EACD,OAAOU,OAAP;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASsF,iBAAT,CAA2BC,KAA3B,EAAkC1F,CAAlC,EAAqC2F,SAArC,EAAgD;EACnD,IAAIC,SAAS,GAAGF,KAAK,CAACjC,aAAN,CAAoB,MAApB,CAAhB;EACA,IAAIoC,QAAQ,GAAGH,KAAK,CAACI,aAAN,CAAoBC,qBAApB,EAAf;EACA,IAAIC,cAAc,GAAGhG,CAAC,CAACb,MAAF,CAAS4G,qBAAT,EAArB;EACAH,SAAS,CAACD,SAAV,GAAsBA,SAAtB;EACAD,KAAK,CAACO,KAAN,CAAYC,OAAZ,GAAsB,EAAtB;EACA,IAAIC,YAAY,GAAG,CAACxI,iBAAiB,CAACqC,CAAC,CAACoG,OAAH,CAAjB,GAA+BpG,CAAC,CAACqG,cAAF,CAAiB,CAAjB,EAAoBD,OAAnD,GAChBpG,CAAC,CAACoG,OADa,IACFV,KAAK,CAACY,YAAN,GAAqB,EADtC;EAEAZ,KAAK,CAACO,KAAN,CAAYM,GAAZ,GAAkBP,cAAc,CAACO,GAAf,GAAqBV,QAAQ,CAACU,GAA9B,IACbJ,YAAY,GAAG,EAAET,KAAK,CAACY,YAAN,GAAqB,EAAvB,CAAH,GAAgCZ,KAAK,CAACY,YAAN,GAAqB,EADpD,IAC0D,IAD5E,CARmD,CAS+B;;EAClFZ,KAAK,CAACO,KAAN,CAAYO,IAAZ,GAAmBC,oBAAoB,CAACf,KAAD,EAAQ1F,CAAR,EAAWgG,cAAX,EAA2BH,QAAQ,CAACW,IAApC,CAApB,GAAgE,IAAnF;;EACA,IAAIL,YAAJ,EAAkB;IACdT,KAAK,CAACjC,aAAN,CAAoB,aAApB,EAAmCwC,KAAnC,CAAyCC,OAAzC,GAAmD,EAAnD;IACAR,KAAK,CAACjC,aAAN,CAAoB,WAApB,EAAiCwC,KAAjC,CAAuCC,OAAvC,GAAiD,MAAjD;EACH,CAHD,MAIK;IACDR,KAAK,CAACjC,aAAN,CAAoB,aAApB,EAAmCwC,KAAnC,CAAyCC,OAAzC,GAAmD,MAAnD;IACAR,KAAK,CAACjC,aAAN,CAAoB,WAApB,EAAiCwC,KAAjC,CAAuCC,OAAvC,GAAiD,EAAjD;EACH;AACJ;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,SAASO,oBAAT,CAA8BC,KAA9B,EAAqC1G,CAArC,EAAwCgG,cAAxC,EAAwDQ,IAAxD,EAA8D;EAC1D,IAAIjB,KAAK,GAAGmB,KAAK,CAACC,WAAN,GAAoB,CAAhC;EACA,IAAIC,CAAC,GAAGC,WAAW,CAAC7G,CAAD,CAAX,CAAe4G,CAAvB;;EACA,IAAIA,CAAC,GAAGZ,cAAc,CAACQ,IAAnB,GAA0BjB,KAA9B,EAAqC;IACjC,OAAOS,cAAc,CAACQ,IAAf,GAAsBA,IAA7B;EACH,CAFD,MAGK,IAAIR,cAAc,CAACc,KAAf,GAAuBF,CAAvB,GAA2BrB,KAA/B,EAAsC;IACvC,OAAOS,cAAc,CAACc,KAAf,GAAuBN,IAAvB,GAA8BjB,KAAK,GAAG,CAA7C;EACH,CAFI,MAGA;IACD,OAAOqB,CAAC,GAAGJ,IAAJ,GAAWjB,KAAlB;EACH;AACJ;AACD;AACA;AACA;AACA;AACA;;;AACA,OAAO,SAASnC,mBAAT,CAA6BD,GAA7B,EAAkC;EACrC,IAAIA,GAAG,YAAYjG,aAAnB,EAAkC;IAC9B,OAAOU,QAAQ,CAAC,YAAD,EAAeuF,GAAf,CAAf;EACH,CAFD,MAGK;IACD,OAAOA,GAAP;EACH;AACJ;AACD;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAAS4D,YAAT,CAAsBC,IAAtB,EAA4BC,QAA5B,EAAsCC,IAAtC,EAA4C;EAC/C,IAAIC,MAAM,GAAGH,IAAb;;EACA,OAAOG,MAAP,EAAe;IACX,IAAID,IAAI,GAAGC,MAAM,CAACC,EAAP,KAAcH,QAAjB,GAA4BE,MAAM,CAACtJ,SAAP,CAAiBwJ,QAAjB,CAA0BJ,QAA1B,CAApC,EAAyE;MACrE;IACH;;IACDE,MAAM,GAAGA,MAAM,CAACrB,aAAhB;EACH;;EACD,OAAOqB,MAAP;AACH;AACD;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASG,eAAT,CAAyBC,OAAzB,EAAkCC,QAAlC,EAA4C;EAC/C,IAAI3C,KAAK,GAAG,CAAC,CAAb;;EACA,KAAK,IAAIpE,CAAC,GAAG,CAAR,EAAW0B,GAAG,GAAGqF,QAAQ,CAACpH,MAA/B,EAAuCK,CAAC,GAAG0B,GAA3C,EAAgD1B,CAAC,EAAjD,EAAqD;IACjD,IAAI+G,QAAQ,CAAC/G,CAAD,CAAR,CAAYgH,WAAZ,CAAwBF,OAAxB,CAAJ,EAAsC;MAClC1C,KAAK,GAAGpE,CAAR;MACA;IACH;EACJ;;EACD,OAAOoE,KAAP;AACH;AACD;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAAS6C,OAAT,CAAiB3F,KAAjB,EAAwBc,UAAxB,EAAoC;EACvC,KAAK,IAAIpC,CAAC,GAAG,CAAR,EAAW0B,GAAG,GAAGU,UAAU,CAACzC,MAAjC,EAAyCK,CAAC,GAAG0B,GAA7C,EAAkD1B,CAAC,EAAnD,EAAuD;IACnD,IAAIoC,UAAU,CAACpC,CAAD,CAAV,KAAkBsB,KAAtB,EAA6B;MACzB,OAAOtB,CAAP;IACH;EACJ;;EACD,OAAO,CAAC,CAAR;AACH;AACD;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASkH,qBAAT,CAA+B9E,UAA/B,EAA2C;EAC9C,IAAI+E,IAAI,GAAG,EAAX;;EACA,KAAK,IAAInH,CAAC,GAAG,CAAR,EAAW0B,GAAG,GAAGU,UAAU,CAACzC,MAAjC,EAAyCK,CAAC,GAAG0B,GAA7C,EAAkD1B,CAAC,EAAnD,EAAuD;IACnD;IACA,IAAIoC,UAAU,CAACpC,CAAD,CAAV,CAAcoH,cAAd,CAA6B,YAA7B,CAAJ,EAAgD;MAC5CD,IAAI,CAAC1G,IAAL,CAAU2B,UAAU,CAACpC,CAAD,CAAV,CAAcqH,UAAxB;IACH,CAFD,MAGK;MACDF,IAAI,CAAC1G,IAAL,CAAU2B,UAAU,CAACpC,CAAD,CAApB;IACH;EACJ;;EACD,OAAOmH,IAAP;AACH;AACD;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASG,aAAT,CAAuB5I,MAAvB,EAA+B8H,QAA/B,EAAyC;EAC5C,IAAIO,QAAQ,GAAG,GAAGQ,KAAH,CAASC,IAAT,CAAc9I,MAAM,CAACqE,gBAAP,CAAwByD,QAAxB,CAAd,CAAf;;EACA,KAAK,IAAIxG,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG+G,QAAQ,CAACpH,MAA7B,EAAqCK,CAAC,EAAtC,EAA0C;IACtCxC,MAAM,CAACuJ,QAAQ,CAAC/G,CAAD,CAAT,CAAN;EACH;AACJ;AACD;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASoG,WAAT,CAAqB7G,CAArB,EAAwB;EAC3B,IAAI6F,QAAQ,GAAG,EAAf;EACAA,QAAQ,CAACe,CAAT,GAAcjJ,iBAAiB,CAACqC,CAAC,CAACkI,OAAH,CAAjB,GAA+BlI,CAAC,CAACqG,cAAF,CAAiB,CAAjB,EAAoB6B,OAAnD,GACVlI,CAAC,CAACkI,OADN;EAEArC,QAAQ,CAACsC,CAAT,GAAcxK,iBAAiB,CAACqC,CAAC,CAACoG,OAAH,CAAjB,GAA+BpG,CAAC,CAACqG,cAAF,CAAiB,CAAjB,EAAoBD,OAAnD,GACVpG,CAAC,CAACoG,OADN;EAEA,OAAOP,QAAP;AACH;AACD,IAAIuC,GAAG,GAAG,CAAV;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASC,MAAT,CAAgBC,MAAhB,EAAwB;EAC3B,OAAOA,MAAM,GAAGF,GAAG,EAAnB;AACH;AACD;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASG,cAAT,CAAwBvB,IAAxB,EAA8BwB,QAA9B,EAAwC;EAC3C,KAAK,IAAI/H,CAAC,GAAG,CAAR,EAAW0B,GAAG,GAAGqG,QAAQ,CAACpI,MAA/B,EAAuCK,CAAC,GAAG0B,GAA3C,EAAgD1B,CAAC,EAAjD,EAAqD;IACjD,IAAI0B,GAAG,KAAKqG,QAAQ,CAACpI,MAArB,EAA6B;MACzB4G,IAAI,CAACyB,WAAL,CAAiBD,QAAQ,CAAC/H,CAAD,CAAzB;IACH,CAFD,MAGK;MACDuG,IAAI,CAACyB,WAAL,CAAiBD,QAAQ,CAAC,CAAD,CAAzB;IACH;EACJ;;EACD,OAAOxB,IAAP;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAAS0B,OAAT,CAAiB1B,IAAjB,EAAuBC,QAAvB,EAAiCC,IAAjC,EAAuC;EAC1C,IAAIC,MAAM,GAAGH,IAAb;EACA,IAAI0B,OAAO,GAAG,EAAd;;EACA,OAAOvB,MAAP,EAAe;IACX,IAAID,IAAI,GAAGC,MAAM,CAACC,EAAP,KAAcH,QAAjB,GAA4BE,MAAM,CAACtJ,SAAP,CAAiBwJ,QAAjB,CAA0BJ,QAA1B,CAApC,EAAyE;MACrEyB,OAAO,CAACxH,IAAR,CAAaiG,MAAb;IACH;;IACDA,MAAM,GAAGA,MAAM,CAACrB,aAAhB;EACH;;EACD,OAAO4C,OAAP;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASC,kBAAT,CAA4BhI,IAA5B,EAAkCnB,IAAlC,EAAwCC,MAAxC,EAAgDmJ,OAAhD,EAAyD;EAC5D,IAAIjI,IAAI,KAAK,QAAb,EAAuB;IACnB,IAAIkI,IAAI,GAAGpJ,MAAM,CAACqJ,eAAlB;;IACA,IAAI,OAAOD,IAAP,KAAgB,QAApB,EAA8B;MAC1BA,IAAI,GAAGjL,QAAQ,CAACiL,IAAD,EAAOvD,MAAP,CAAf;IACH;;IACD,OAAOuD,IAAI,GAAGA,IAAI,CAACZ,IAAL,CAAUW,OAAV,EAAmBpJ,IAAnB,EAAyBC,MAAzB,CAAH,GAAsC,EAAjD;EACH;;EACD,OAAQA,MAAM,CAACF,KAAP,IAAgBC,IAAhB,IAAwBA,IAAI,YAAYuJ,KAAzC,GAAkDxK,QAAQ,CAACyK,UAAT,CAAoBrI,IAAI,CAACsE,WAAL,EAApB,EAAwCzF,IAAxC,EAA8CC,MAAM,CAACF,KAArD,CAAlD,GAAgH,IAAvH;AACH;AACD;;AACA,IAAI0J,WAAW,GAAG,IAAlB;AACA;AACA;AACA;;AACA,OAAO,SAASC,iBAAT,GAA6B;EAChC,IAAID,WAAW,KAAK,IAApB,EAA0B;IACtB,OAAOA,WAAP;EACH;;EACD,IAAIE,OAAO,GAAG5F,QAAQ,CAACrF,aAAT,CAAuB,KAAvB,CAAd;EACA,IAAI6D,KAAK,GAAG,CAAZ;EACAoH,OAAO,CAAClD,KAAR,CAAcmD,OAAd,GAAwB,6EAAxB;EACA7F,QAAQ,CAAC8F,IAAT,CAAcZ,WAAd,CAA0BU,OAA1B;EACApH,KAAK,GAAIoH,OAAO,CAACxC,WAAR,GAAsBwC,OAAO,CAACG,WAA/B,GAA8C,CAAtD;EACA/F,QAAQ,CAAC8F,IAAT,CAAcE,WAAd,CAA0BJ,OAA1B;EACA,OAAOF,WAAW,GAAGlH,KAArB;AACH;AACD;;AACA,IAAIyH,SAAJ;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASC,YAAT,CAAsBlC,OAAtB,EAA+B;EAClC,IAAIiC,SAAS,KAAK5F,SAAlB,EAA6B;IACzB,OAAO4F,SAAP;EACH;;EACD,IAAIE,KAAK,GAAGxL,aAAa,CAAC,OAAD,EAAU;IAAEyH,SAAS,EAAE1G,QAAQ,CAACyK,KAAtB;IAA6BC,MAAM,EAAE,oBAArC;IAA2DC,KAAK,EAAE;MAAEC,IAAI,EAAE;IAAR;EAAlE,CAAV,CAAzB;EACAH,KAAK,CAAChG,SAAN,GAAkB,sCAAlB;EACA6D,OAAO,CAACkB,WAAR,CAAoBiB,KAApB;EACA,IAAII,IAAI,GAAGJ,KAAK,CAACjG,aAAN,CAAoB,IAApB,EAA0BsC,qBAA1B,EAAX;EACAwB,OAAO,CAACgC,WAAR,CAAoBG,KAApB;EACAF,SAAS,GAAGO,IAAI,CAACC,IAAL,CAAUF,IAAI,CAACG,MAAf,CAAZ;EACA,OAAOT,SAAP;AACH;AACD;;AACA,IAAIU,eAAJ;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASC,kBAAT,CAA4B5C,OAA5B,EAAqC;EACxC,IAAI2C,eAAe,KAAKtG,SAAxB,EAAmC;IAC/B,OAAO4F,SAAP;EACH;;EACD,IAAIE,KAAK,GAAGxL,aAAa,CAAC,OAAD,EAAU;IAAEyH,SAAS,EAAE1G,QAAQ,CAACyK,KAAtB;IAA6BC,MAAM,EAAE,oBAArC;IAA2DC,KAAK,EAAE;MAAEC,IAAI,EAAE;IAAR;EAAlE,CAAV,CAAzB;EACAH,KAAK,CAAChG,SAAN,GAAkB,sCAAlB;EACA6D,OAAO,CAACkB,WAAR,CAAoBiB,KAApB;EACA,IAAII,IAAI,GAAGJ,KAAK,CAACjG,aAAN,CAAoB,IAApB,EAA0BsC,qBAA1B,EAAX;EACAwB,OAAO,CAACgC,WAAR,CAAoBG,KAApB;EACA,OAAOI,IAAI,CAACG,MAAZ;AACH;AACD;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASG,cAAT,CAAwB7K,KAAxB,EAA+B;EAClC,OAAOA,KAAK,CAAC8K,KAAN,CAAY,GAAZ,EAAiBjK,MAAjB,GAA0B,CAAjC;AACH;AACD;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASkK,iBAAT,CAA2B/K,KAA3B,EAAkC;EACrC,IAAIA,KAAK,KAAK,KAAK,CAAnB,EAAsB;IAAEA,KAAK,GAAG,EAAR;EAAa;;EACrC,OAAOA,KAAK,CAACgL,OAAN,CAAc,KAAd,EAAqB,KAArB,CAAP;AACH;AACD;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASC,iBAAT,CAA2BjL,KAA3B,EAAkC;EACrC,IAAIA,KAAK,KAAK,KAAK,CAAnB,EAAsB;IAAEA,KAAK,GAAG,EAAR;EAAa;;EACrC,OAAOA,KAAK,CAACgL,OAAN,CAAc,MAAd,EAAsB,GAAtB,CAAP;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASE,UAAT,CAAoBC,GAApB,EAAyB/J,IAAzB,EAA+BqG,IAA/B,EAAqC;EACxC,IAAIxE,GAAG,GAAGuE,YAAY,CAACC,IAAD,EAAO/H,QAAQ,CAACuD,GAAhB,CAAtB;EACA,IAAImI,QAAQ,GAAG,CAACnI,GAAD,GAAO,IAAP,GAAcA,GAAG,IAAI,CAACA,GAAG,CAAC3E,SAAJ,CAAcwJ,QAAd,CAAuB,eAAvB,CAArC;;EACA,IAAI1G,IAAI,KAAK,WAAT,IAAwBgK,QAA5B,EAAsC;IAClC,IAAID,GAAG,CAACE,UAAJ,IAAkBF,GAAG,CAACG,YAAtB,IAAsC,CAACH,GAAG,CAACI,YAA/C,EAA6D;MACzD,OAAO,KAAP;IACH;;IACD,OAAO,IAAP;EACH,CALD,MAMK,IAAInK,IAAI,KAAK,KAAT,IAAkB+J,GAAG,CAACE,UAA1B,EAAsC;IACvC,OAAO,KAAP;EACH,CAFI,MAGA;IACD,IAAID,QAAQ,IAAI,CAACD,GAAG,CAACI,YAAjB,IAAiC,CAACJ,GAAG,CAACE,UAAtC,IAAoD,CAACF,GAAG,CAACG,YAA7D,EAA2E;MACvE,OAAO,KAAP;IACH;;IACD,OAAO,IAAP;EACH;AACJ;AACD;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASE,eAAT,CAAyBC,IAAzB,EAA+B;EAClC,IAAIC,GAAG,GAAG5M,MAAM,CAAC,MAAM2M,IAAI,CAACzD,OAAL,CAAaH,EAAnB,GAAwB,aAAzB,EAAwC4D,IAAI,CAACzD,OAA7C,CAAhB;EACA,OAAOyD,IAAI,CAACE,YAAL,CAAkBC,IAAlB,KAA2B,OAA3B,IACF7M,SAAS,CAAC,cAAD,EAAiB0M,IAAI,CAACzD,OAAtB,CAAT,CAAwCnH,MADtC,IACiD4K,IAAI,CAACE,YAAL,CAAkBE,iBADnE,KAEFH,GAAG,GAAGA,GAAG,CAACpN,SAAJ,CAAcwJ,QAAd,CAAuB,eAAvB,CAAH,GAA6C,IAF9C,CAAP;AAGH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASgE,IAAT,CAAcrE,IAAd,EAAoBsE,MAApB,EAA4B;EAC/B,IAAIC,MAAM,GAAG,QAAb;EACAvE,IAAI,GAAGA,IAAI,YAAY+B,KAAhB,GAAwB/B,IAAxB,GAA+B,CAACA,IAAD,CAAtC;;EACA,KAAK,IAAIvG,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGuG,IAAI,CAAC5G,MAAzB,EAAiCK,CAAC,EAAlC,EAAsC;IAClC,IAAI6K,MAAJ,EAAY;MACRtE,IAAI,CAACvG,CAAD,CAAJ,CAAQ5C,SAAR,CAAkB2N,GAAlB,CAAsBD,MAAtB;IACH,CAFD,MAGK;MACDvE,IAAI,CAACvG,CAAD,CAAJ,CAAQ5C,SAAR,CAAkBI,MAAlB,CAAyBsN,MAAzB;IACH;EACJ;AACJ;AACD;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASE,YAAT,CAAsBC,cAAtB,EAAsCjM,MAAtC,EAA8C;EACjD,IAAIkM,IAAI,GAAGD,cAAc,CAACE,UAAf,CAA0B,gBAA1B,CAAX;EACA,IAAIC,MAAM,GAAG,QAAb;EACA,IAAIC,IAAJ;;EACA,IAAIrM,MAAM,CAACkB,IAAP,KAAgB,MAAhB,IAA0BlB,MAAM,CAACkB,IAAP,KAAgB,UAA9C,EAA0D;IACtDmL,IAAI,GAAG;MAAEnL,IAAI,EAAElB,MAAM,CAACkB,IAAf;MAAqBoL,QAAQ,EAAEtM,MAAM,CAACoM;IAAtC,CAAP;;IACA,IAAK,OAAQpM,MAAM,CAACoM,MAAf,KAA2B,QAA5B,IAAyCpM,MAAM,CAACoM,MAAP,KAAkB,KAA/D,EAAsE;MAClEC,IAAI,CAACD,MAAD,CAAJ,GAAepM,MAAM,CAACoM,MAAtB;IACH;EACJ;;EACD,QAAQpM,MAAM,CAACkB,IAAf;IACI,KAAK,MAAL;MACIlB,MAAM,CAACgM,YAAP,CAAoBE,IAAI,CAACK,iBAAL,CAAuBF,IAAvB,CAApB;MACArM,MAAM,CAACwM,SAAP,CAAiBN,IAAI,CAACO,iBAAL,CAAuBJ,IAAvB,CAAjB;MACA;;IACJ,KAAK,UAAL;MACIrM,MAAM,CAACgM,YAAP,CAAoBE,IAAI,CAACK,iBAAL,CAAuBF,IAAvB,CAApB;MACArM,MAAM,CAACwM,SAAP,CAAiBN,IAAI,CAACO,iBAAL,CAAuBJ,IAAvB,CAAjB;MACA;;IACJ,KAAK,QAAL;MACIrM,MAAM,CAACgM,YAAP,CAAoBE,IAAI,CAACK,iBAAL,CAAuB;QAAEH,MAAM,EAAEpM,MAAM,CAACoM;MAAjB,CAAvB,CAApB;MACApM,MAAM,CAACwM,SAAP,CAAiBN,IAAI,CAACO,iBAAL,CAAuB;QAAEL,MAAM,EAAEpM,MAAM,CAACoM;MAAjB,CAAvB,CAAjB;MACA;EAZR;AAcH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASM,sBAAT,CAAgCC,KAAhC,EAAuCZ,GAAvC,EAA4C;EAC/C,IAAIM,IAAI,GAAG,EAAX;;EACA,KAAK,IAAIO,EAAE,GAAG,CAAd,EAAiBA,EAAE,GAAGC,SAAS,CAAClM,MAAhC,EAAwCiM,EAAE,EAA1C,EAA8C;IAC1CP,IAAI,CAACO,EAAE,GAAG,CAAN,CAAJ,GAAeC,SAAS,CAACD,EAAD,CAAxB;EACH;;EACD,KAAK,IAAI5L,CAAC,GAAG,CAAR,EAAW0B,GAAG,GAAGiK,KAAK,CAAChM,MAA5B,EAAoCK,CAAC,GAAG0B,GAAxC,EAA6C1B,CAAC,EAA9C,EAAkD;IAC9C,IAAI+K,GAAJ,EAAS;MACL3N,SAAS,CAACuO,KAAK,CAAC3L,CAAD,CAAN,EAAWqL,IAAI,CAAC9D,KAAL,EAAX,EAAyB,EAAzB,CAAT;MACAoE,KAAK,CAAC3L,CAAD,CAAL,CAAS8L,YAAT,CAAsB,eAAtB,EAAuC,MAAvC;IACH,CAHD,MAIK;MACD1O,SAAS,CAACuO,KAAK,CAAC3L,CAAD,CAAN,EAAW,EAAX,EAAeqL,IAAI,CAAC9D,KAAL,EAAf,CAAT;MACAoE,KAAK,CAAC3L,CAAD,CAAL,CAAS+L,eAAT,CAAyB,eAAzB;IACH;EACJ;AACJ;AACD;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASC,oBAAT,CAA8B1J,MAA9B,EAAsC;EACzC,IAAI8F,IAAI,GAAG,EAAX;EACA,IAAI6D,GAAG,GAAG,EAAV;;EACA,KAAK,IAAIjM,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGsC,MAAM,CAAC3C,MAA3B,EAAmCK,CAAC,EAApC,EAAwC;IACpC,IAAI,EAAEsC,MAAM,CAACtC,CAAD,CAAN,IAAaoI,IAAf,CAAJ,EAA0B;MACtB6D,GAAG,CAACxL,IAAJ,CAAS6B,MAAM,CAACtC,CAAD,CAAN,CAAUkM,QAAV,EAAT;MACA9D,IAAI,CAAC9F,MAAM,CAACtC,CAAD,CAAP,CAAJ,GAAkB,CAAlB;IACH;EACJ;;EACD,OAAOiM,GAAP;AACH;AACD;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASE,oBAAT,CAA8BzN,MAA9B,EAAsC0N,SAAtC,EAAiD;EACpD,IAAIC,cAAc,GAAGD,SAAS,CAACtF,OAAV,CAAkBtB,KAAlB,CAAwBC,OAA7C;EACA2G,SAAS,CAACtF,OAAV,CAAkBtB,KAAlB,CAAwBC,OAAxB,GAAkC,OAAlC;EACA,IAAI6G,QAAQ,GAAGF,SAAS,CAACtH,KAAzB;EACA,IAAIyH,MAAM,GAAGlO,8BAA8B,CAACK,MAAD,EAAS0N,SAAS,CAACtF,OAAnB,CAA3C;EACAsF,SAAS,CAACtF,OAAV,CAAkBtB,KAAlB,CAAwBC,OAAxB,GAAkC4G,cAAlC;EACAD,SAAS,CAACtF,OAAV,CAAkBtB,KAAlB,CAAwBM,GAAxB,GAA+ByG,MAAM,CAACzG,GAAP,GAAapH,MAAM,CAAC4G,qBAAP,GAA+BkE,MAA7C,GAAuD,CAAvD,GAA2D,IAAzF;EACA,IAAIgD,OAAO,GAAKD,MAAM,CAACxG,IAAP,GAAcuG,QAAf,GAA2B5N,MAAM,CAACmK,WAAjD;;EACA,IAAI2D,OAAO,GAAG,CAAd,EAAiB;IACbJ,SAAS,CAACtF,OAAV,CAAkBtB,KAAlB,CAAwBO,IAAxB,GAAgCuG,QAAQ,GAAGE,OAAZ,GAAuB,EAAvB,GAA4B,IAA3D,CADa,CACoD;EACpE,CAFD,MAGK;IACDJ,SAAS,CAACtF,OAAV,CAAkBtB,KAAlB,CAAwBO,IAAxB,GAA+ByG,OAAO,GAAG,CAAC,CAAX,GAAe,IAA9C;EACH;AACJ;AACD;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASC,oBAAT,CAA8BpB,IAA9B,EAAoCe,SAApC,EAA+C;EAClDf,IAAI,CAACpF,KAAL,CAAWa,OAAX,CAAmBtB,KAAnB,CAAyBkH,MAAzB,GAAkC,CAACN,SAAS,CAACM,MAAV,GAAmB,CAApB,EAAuBR,QAAvB,EAAlC;AACH;AACD;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASS,cAAT,CAAwBpG,IAAxB,EAA8B;EACjC,IAAIqG,IAAI,GAAGrG,IAAI,CAACvD,aAAL,CAAmB,UAAnB,CAAX;EACA,IAAI6J,KAAK,GAAGD,IAAI,CAACE,eAAjB;;EACA,IAAIF,IAAI,CAACxP,SAAL,CAAewJ,QAAf,CAAwB,SAAxB,CAAJ,EAAwC;IACpCiG,KAAK,CAACE,OAAN,GAAgB,KAAhB;IACA3P,SAAS,CAACwP,IAAD,EAAO,CAAC,WAAD,CAAP,EAAsB,CAAC,SAAD,CAAtB,CAAT;EACH,CAHD,MAIK;IACDC,KAAK,CAACE,OAAN,GAAgB,IAAhB;IACA3P,SAAS,CAACwP,IAAD,EAAO,CAAC,SAAD,CAAP,EAAoB,CAAC,WAAD,CAApB,CAAT;EACH;AACJ;AACD;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASI,UAAT,CAAoBzG,IAApB,EAA0BwG,OAA1B,EAAmC;EACtCxG,IAAI,CAACwG,OAAL,GAAeA,OAAf;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASE,kBAAT,CAA4BtF,GAA5B,EAAiCpB,IAAjC,EAAuCrB,SAAvC,EAAkD;EACrD,IAAIgI,GAAG,GAAGzP,aAAa,CAAC,KAAD,EAAQ;IAAEyH,SAAS,EAAEA;EAAb,CAAR,CAAvB;EACAgI,GAAG,CAAClF,WAAJ,CAAgBzB,IAAhB;EACA2G,GAAG,CAACpB,YAAJ,CAAiB,KAAjB,EAAwBnE,GAAxB;EACA,OAAOuF,GAAP;AACH;AACD;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASC,oBAAT,CAA8B5G,IAA9B,EAAoCwG,OAApC,EAA6C;EAChDrP,WAAW,CAAC,CAAC6I,IAAD,CAAD,EAAS,CAAC,SAAD,EAAY,QAAZ,EAAsB,WAAtB,CAAT,CAAX;;EACA,IAAIwG,OAAJ,EAAa;IACTxG,IAAI,CAACnJ,SAAL,CAAe2N,GAAf,CAAmB,SAAnB;EACH,CAFD,MAGK;IACDxE,IAAI,CAACnJ,SAAL,CAAe2N,GAAf,CAAmB,WAAnB;EACH;AACJ;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASqC,kBAAT,CAA4BrL,GAA5B,EAAiCrC,OAAjC,EAA0CX,IAA1C,EAAgD;EACnD,KAAK,IAAIiB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGN,OAAO,CAACC,MAA5B,EAAoCK,CAAC,EAArC,EAAyC;IACrCpD,QAAQ,CAAC8C,OAAO,CAACM,CAAD,CAAP,CAAWlB,KAAZ,EAAmBuO,cAAc,CAAC3N,OAAO,CAACM,CAAD,CAAR,EAAajB,IAAb,CAAjC,EAAqDgD,GAAG,CAACuL,cAAzD,CAAR;EACH;;EACD,IAAI3B,KAAK,GAAG5J,GAAG,CAAC4J,KAAhB;;EACA,KAAK,IAAI3L,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG2L,KAAK,CAAChM,MAA1B,EAAkCK,CAAC,EAAnC,EAAuC;IACnC,IAAI2L,KAAK,CAAC3L,CAAD,CAAL,CAASuN,YAAb,EAA2B;MACvB3Q,QAAQ,CAAC,gBAAD,EAAmBO,QAAQ,CAACwO,KAAK,CAAC3L,CAAD,CAAL,CAAShB,MAAT,CAAgBF,KAAjB,EAAwBiD,GAAG,CAACuL,cAA5B,CAA3B,EAAwE3B,KAAK,CAAC3L,CAAD,CAA7E,CAAR;IACH;EACJ;AACJ;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASqN,cAAT,CAAwBrO,MAAxB,EAAgCD,IAAhC,EAAsCyO,MAAtC,EAA8CF,cAA9C,EAA8D;EACjE,IAAIG,MAAM,GAAGzO,MAAM,CAAC4F,eAApB;EACA,IAAI8I,GAAG,GAAI,CAACxQ,iBAAiB,CAACsQ,MAAD,CAAlB,GAA6BA,MAA7B,GAAsC3O,aAAa,CAACG,MAAM,CAACF,KAAR,EAAeC,IAAf,EAAqBC,MAArB,CAA9D;EACA0O,GAAG,GAAGxQ,iBAAiB,CAACwQ,GAAD,CAAjB,GAAyB,EAAzB,GAA8BA,GAApC;EACA,IAAIC,KAAK,GAAG,IAAI5P,KAAJ,EAAZ;EACA,IAAI6P,KAAK,GAAGN,cAAc,KAAMtO,MAAM,CAAC6O,UAAP,YAA6B7P,WAA9B,IAA8CgB,MAAM,CAAC6O,UAAP,CAAkBA,UAAlB,CAA6BC,IAA7B,CAAkCnO,MAAhF,GAC3BX,MAAM,CAAC6O,UAAP,CAAkBA,UAAlB,CAA6BC,IADF,GACS9O,MAAM,CAAC+O,UADrB,CAA1B;;EAEA,IAAIL,GAAG,CAACM,MAAR,EAAgB;IACZL,KAAK,CAACM,KAAN,CAAYC,gBAAgB,CAAC;MAAEpP,KAAK,EAAE2O,MAAT;MAAiBU,QAAQ,EAAE,OAA3B;MAAoC7M,KAAK,EAAEoM,GAA3C;MAAgDU,SAAS,EAAE;IAA3D,CAAD,CAA5B;EACH,CAFD,MAGK;IACDT,KAAK,CAACM,KAAN,CAAYR,MAAZ,EAAoB,IAApB,EAA0BC,GAA1B,EAA+B,KAA/B;EACH;;EACD,OAAO,IAAI1P,WAAJ,CAAgB4P,KAAhB,EAAuBS,YAAvB,CAAoCV,KAApC,CAAP;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASW,0BAAT,CAAoC3J,eAApC,EAAqDjF,OAArD,EAA8D;EACjE,IAAIV,MAAJ;EACA,OAAOU,OAAO,CAAC6O,IAAR,CAAa,UAAUtE,GAAV,EAAe;IAC/BjL,MAAM,GAAGiL,GAAT;IACA,OAAOA,GAAG,CAACtF,eAAJ,KAAwBA,eAA/B;EACH,CAHM,KAGD3F,MAHN;AAIH;AACD;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASkP,gBAAT,CAA0BM,YAA1B,EAAwCtO,IAAxC,EAA8C;EACjD,IAAIuO,aAAJ;EACA,IAAIC,QAAJ;EACA,IAAIC,QAAJ;EACA,IAAIC,OAAO,GAAG3R,UAAU,CAAC,EAAD,EAAK0F,mBAAmB,CAAC6L,YAAD,CAAxB,CAAxB;EACA,IAAIK,OAAO,GAAG5R,UAAU,CAAC,EAAD,EAAK0F,mBAAmB,CAAC6L,YAAD,CAAxB,CAAxB;;EACA,IAAItR,iBAAiB,CAACsR,YAAY,CAAClN,KAAd,CAAjB,IAAyCkN,YAAY,CAAClN,KAAb,KAAuB,EAApE,EAAwE;IACpEmN,aAAa,GAAG,IAAIxQ,SAAJ,CAAc2Q,OAAO,CAAC9P,KAAtB,EAA6B8P,OAAO,CAACT,QAArC,EAA+CS,OAAO,CAACtN,KAAvD,EAA8D,KAA9D,CAAhB;IACA,OAAOmN,aAAP;EACH;;EACD,IAAInN,KAAK,GAAG,IAAIwN,IAAJ,CAASN,YAAY,CAAClN,KAAtB,CAAZ;;EACA,IAAIkN,YAAY,CAACL,QAAb,KAA0B,OAA1B,IAAqCK,YAAY,CAACL,QAAb,KAA0B,UAAnE,EAA+E;IAC3E,IAAIjO,IAAI,KAAK,UAAb,EAAyB;MACrBwO,QAAQ,GAAG,IAAII,IAAJ,CAASxN,KAAK,CAACyN,UAAN,CAAiBzN,KAAK,CAAC0N,UAAN,KAAqB,CAAtC,CAAT,CAAX;MACAL,QAAQ,GAAG,IAAIG,IAAJ,CAASxN,KAAK,CAACyN,UAAN,CAAiBzN,KAAK,CAAC0N,UAAN,KAAqB,CAAtC,CAAT,CAAX;MACAR,YAAY,CAAClN,KAAb,GAAqB,IAAIwN,IAAJ,CAASxN,KAAK,CAACyN,UAAN,CAAiBJ,QAAQ,CAACK,UAAT,KAAwB,CAAzC,CAAT,CAArB;IACH,CAJD,MAKK;MACDN,QAAQ,GAAG,IAAII,IAAJ,CAASxN,KAAK,CAAC2N,QAAN,CAAe,CAAf,IAAoB,CAA7B,CAAX;MACAN,QAAQ,GAAG,IAAIG,IAAJ,CAASxN,KAAK,CAAC2N,QAAN,CAAe,EAAf,CAAT,CAAX;IACH;;IACDL,OAAO,CAACtN,KAAR,GAAgBoN,QAAhB;IACAG,OAAO,CAACvN,KAAR,GAAgBqN,QAAhB;;IACA,IAAIH,YAAY,CAACL,QAAb,KAA0B,OAA9B,EAAuC;MACnCS,OAAO,CAACT,QAAR,GAAmB,aAAnB;MACAU,OAAO,CAACV,QAAR,GAAmB,UAAnB;IACH,CAHD,MAIK,IAAIK,YAAY,CAACL,QAAb,KAA0B,UAA9B,EAA0C;MAC3CS,OAAO,CAACT,QAAR,GAAmB,iBAAnB;MACAU,OAAO,CAACV,QAAR,GAAmB,oBAAnB;IACH;;IACD,IAAIe,WAAW,GAAG,IAAIjR,SAAJ,CAAc2Q,OAAO,CAAC9P,KAAtB,EAA6B8P,OAAO,CAACT,QAArC,EAA+CS,OAAO,CAACtN,KAAvD,EAA8D,KAA9D,CAAlB;IACA,IAAI6N,YAAY,GAAG,IAAIlR,SAAJ,CAAc4Q,OAAO,CAAC/P,KAAtB,EAA6B+P,OAAO,CAACV,QAArC,EAA+CU,OAAO,CAACvN,KAAvD,EAA8D,KAA9D,CAAnB;IACAmN,aAAa,GAAGD,YAAY,CAACL,QAAb,KAA0B,OAA1B,GAAoCe,WAAW,CAACE,GAAZ,CAAgBD,YAAhB,CAApC,GAAoED,WAAW,CAACG,EAAZ,CAAeF,YAAf,CAApF;EACH,CAvBD,MAwBK;IACD,IAAIjP,IAAI,KAAK,MAAT,KAAoBsO,YAAY,CAACL,QAAb,KAA0B,iBAA1B,IAA+CK,YAAY,CAACL,QAAb,KAA0B,aAA7F,CAAJ,EAAiH;MAC7GS,OAAO,CAACtN,KAAR,GAAgB,IAAIwN,IAAJ,CAASxN,KAAK,CAAC2N,QAAN,CAAe,EAAf,IAAqB,CAA9B,CAAhB;IACH;;IACD,IAAI,OAAQL,OAAO,CAACtN,KAAhB,KAA2B,QAA/B,EAAyC;MACrCsN,OAAO,CAACtN,KAAR,GAAgB,IAAIwN,IAAJ,CAASF,OAAO,CAACtN,KAAjB,CAAhB;IACH;;IACD,IAAIgO,UAAU,GAAG,IAAIrR,SAAJ,CAAc2Q,OAAO,CAAC9P,KAAtB,EAA6B8P,OAAO,CAACT,QAArC,EAA+CS,OAAO,CAACtN,KAAvD,EAA8D,KAA9D,CAAjB;IACAmN,aAAa,GAAGa,UAAhB;EACH;;EACD,IAAId,YAAY,CAACe,aAAjB,EAAgC;IAC5Bf,YAAY,CAACe,aAAb,CAA2B;MAAEC,WAAW,EAAEf;IAAf,CAA3B,EAA2D,IAA3D;EACH,CAFD,MAGK;IACDD,YAAY,CAACgB,WAAb,GAA2Bf,aAA3B;EACH;;EACD,OAAOA,aAAP;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASgB,aAAT,CAAuBC,GAAvB,EAA4BC,OAA5B,EAAqC9P,IAArC,EAA2C;EAC9C8P,OAAO,GAAGA,OAAO,IAAI9P,IAAX,IAAmBA,IAAI,CAAC+P,aAAL,EAAnB,GAA0CD,OAAO,GAAG,CAApD,GAAwDA,OAAlE;EACA,IAAIE,IAAI,GAAGH,GAAG,CAACI,SAAJ,CAAc,IAAd,CAAX;;EACA,KAAK,IAAI9P,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG2P,OAApB,EAA6B3P,CAAC,EAA9B,EAAkC;IAC9B6P,IAAI,CAAC/G,WAAL,CAAiB+G,IAAI,CAAC9H,QAAL,CAAc,CAAd,CAAjB;EACH;;EACD,KAAK,IAAI/H,CAAC,GAAG2P,OAAR,EAAiBjO,GAAG,GAAGgO,GAAG,CAACK,iBAAhC,EAAmD/P,CAAC,GAAG0B,GAAvD,EAA4D1B,CAAC,EAA7D,EAAiE;IAC7D0P,GAAG,CAAC5G,WAAJ,CAAgB4G,GAAG,CAAC3H,QAAJ,CAAa2H,GAAG,CAACK,iBAAJ,GAAwB,CAArC,CAAhB;EACH;;EACD,OAAOF,IAAP;AACH;AACD;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASG,eAAT,CAAyB5P,IAAzB,EAA+B;EAClC,OAAOA,IAAI,CAAC6P,oBAAL,IAA6B7P,IAAI,CAACe,aAAL,CAAmBzB,OAAnB,CAA2BC,MAA3B,GAAoC,CAAjE,IAAsES,IAAI,CAAC8P,iBAAlF;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASjR,SAAT,CAAmBH,KAAnB,EAA0BqR,MAA1B,EAAkC;EACrC,IAAIrR,KAAK,KAAK,KAAK,CAAnB,EAAsB;IAAEA,KAAK,GAAG,EAAR;EAAa;;EACrC,IAAIA,KAAJ,EAAW;IACP,IAAIwC,KAAK,GAAG6O,MAAZ;IACA,IAAIC,MAAM,GAAGtR,KAAK,CAAC8K,KAAN,CAAY,GAAZ,CAAb;;IACA,KAAK,IAAI5J,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGoQ,MAAM,CAACzQ,MAAX,IAAqB,CAACzC,iBAAiB,CAACoE,KAAD,CAAvD,EAAgEtB,CAAC,EAAjE,EAAqE;MACjEsB,KAAK,GAAGA,KAAK,CAAC8O,MAAM,CAACpQ,CAAD,CAAP,CAAb;IACH;;IACD,OAAOsB,KAAP;EACH;AACJ;AACD;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAAS+O,mBAAT,CAA6BjF,MAA7B,EAAqCkF,OAArC,EAA8C;EACjD,IAAIC,IAAI,GAAG,IAAI1T,oBAAJ,EAAX;EACA,IAAI2T,WAAJ;EACA,IAAIC,SAAS,GAAG,QAAhB;EACA,IAAIvQ,IAAI,GAAG,MAAX;;EACA,IAAIoQ,OAAO,KAAK,MAAhB,EAAwB;IACpBE,WAAW,GAAG,OAAQpF,MAAR,KAAoB,QAApB,GACVmF,IAAI,CAACG,cAAL,CAAoB;MAAExQ,IAAI,EAAEkL,MAAM,CAAClL,IAAD,CAAN,GAAekL,MAAM,CAAClL,IAAD,CAArB,GAA8B,MAAtC;MAA8CkL,MAAM,EAAEA,MAAM,CAACqF,SAAD;IAA5D,CAApB,EAA+F,KAA/F,CADU,GAEVF,IAAI,CAACG,cAAL,CAAoB;MAAExQ,IAAI,EAAE,UAAR;MAAoBoL,QAAQ,EAAEF;IAA9B,CAApB,EAA4D,KAA5D,CAFJ;EAGH,CAJD,MAKK;IACDoF,WAAW,GAAG,OAAQpF,MAAR,KAAoB,QAApB,GACVmF,IAAI,CAACG,cAAL,CAAoB;MAAExQ,IAAI,EAAEkL,MAAM,CAAClL,IAAD,CAAN,GAAekL,MAAM,CAAClL,IAAD,CAArB,GAA8B,UAAtC;MAAkDkL,MAAM,EAAEA,MAAM,CAACqF,SAAD;IAAhE,CAApB,EAAmG,KAAnG,CADU,GAEVF,IAAI,CAACG,cAAL,CAAoB;MAAExQ,IAAI,EAAE,UAAR;MAAoBoL,QAAQ,EAAEF;IAA9B,CAApB,EAA4D,KAA5D,CAFJ;EAGH;;EACD,OAAOoF,WAAP;AACH;AACD;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASG,gBAAT,CAA0B9Q,IAA1B,EAAgC+Q,kBAAhC,EAAoD;EACvD,IAAIC,IAAI,GAAGhR,IAAI,CAACiR,aAAL,EAAX;EACA,IAAIpO,GAAG,GAAG,EAAV;;EACA,KAAK,IAAIkJ,EAAE,GAAG,CAAT,EAAYmF,MAAM,GAAGF,IAA1B,EAAgCjF,EAAE,GAAGmF,MAAM,CAACpR,MAA5C,EAAoDiM,EAAE,EAAtD,EAA0D;IACtD,IAAI7J,GAAG,GAAGgP,MAAM,CAACnF,EAAD,CAAhB;;IACA,IAAI7J,GAAG,CAACrB,QAAJ,IAAgB,CAACqB,GAAG,CAACiP,WAAzB,EAAsC;MAClC,IAAI5M,KAAK,GAAGvE,IAAI,CAACoR,WAAL,IAAoBpR,IAAI,CAACqR,SAAL,KAAmB,UAAvC,GAAoDnP,GAAG,CAACqC,KAAJ,GAC3DvE,IAAI,CAACsR,YAAL,CAAkBC,WAAlB,GAAgCvR,IAAI,CAACsR,YAAL,CAAkBE,QADS,GACGxR,IAAI,CAACsR,YAAL,CAAkBE,QADzE,GACoFtP,GAAG,CAACqC,KADpG;MAEA1B,GAAG,CAAC0B,KAAD,CAAH,GAAa,EAAb;MACA1B,GAAG,CAAC0B,KAAD,CAAH,CAAW1D,QAAX,GAAsB,IAAtB;MACAgC,GAAG,CAAC0B,KAAD,CAAH,CAAWkN,SAAX,GAAuBC,iBAAiB,CAACxP,GAAG,CAACyP,SAAL,EAAgBZ,kBAAhB,CAAxC;MACAlO,GAAG,CAAC0B,KAAD,CAAH,CAAWkN,SAAX,CAAqB3D,KAArB,GAA6B9N,IAAI,CAAC2R,SAAL,CAAe7D,KAA5C;IACH;EACJ;;EACD,OAAOjL,GAAP;AACH;AACD;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAAS6O,iBAAT,CAA2B1R,IAA3B,EAAiC+Q,kBAAjC,EAAqD;EACxD,IAAIA,kBAAkB,KAAK,KAAK,CAAhC,EAAmC;IAAEA,kBAAkB,GAAG,UAArB;EAAkC;;EACvE,IAAIa,cAAc,GAAG,EAArB;;EACA,IAAI,CAAC5R,IAAL,EAAW;IACP,OAAO4R,cAAP;EACH;;EACD,IAAIC,QAAQ,GAAG7R,IAAI,CAAC8R,YAAL,MAAuB,CAAC9R,IAAI,CAAC+R,gBAAL,EAAvC;;EACA,KAAK,IAAIhG,EAAE,GAAG,CAAT,EAAYiG,EAAE,GAAGvT,KAAK,CAACwT,aAA5B,EAA2ClG,EAAE,GAAGiG,EAAE,CAAClS,MAAnD,EAA2DiM,EAAE,EAA7D,EAAiE;IAC7D,IAAI8B,GAAG,GAAGmE,EAAE,CAACjG,EAAD,CAAZ;;IACA,IAAI8B,GAAG,KAAK,SAAZ,EAAuB;MACnB+D,cAAc,CAAC/D,GAAD,CAAd,GAAsBxG,qBAAqB,CAACwK,QAAQ,GAAG7R,IAAI,CAACkS,UAAL,EAAH,GAAuBlS,IAAI,CAAC6N,GAAD,CAApC,CAA3C;IACH,CAFD,MAGK,IAAIA,GAAG,KAAK,aAAZ,EAA2B;MAC5B+D,cAAc,CAAC/D,GAAD,CAAd,GAAsB7N,IAAI,CAACqR,SAAL,KAAmB,aAAzC;IACH,CAFI,MAGA;MACDO,cAAc,CAAC/D,GAAD,CAAd,GAAsB/K,mBAAmB,CAAC9C,IAAI,CAAC6N,GAAD,CAAL,CAAzC;IACH;EACJ;;EACD+D,cAAc,CAAC,aAAD,CAAd,GAAgC,KAAhC;;EACA,IAAI5R,IAAI,CAAC2R,SAAL,IAAkBZ,kBAAkB,KAAK,MAA7C,EAAqD;IACjDa,cAAc,CAACO,YAAf,GAA8BrB,gBAAgB,CAAC9Q,IAAD,EAAO+Q,kBAAP,CAA9C;EACH;;EACD,OAAOa,cAAP;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASQ,eAAT,CAAyBzO,MAAzB,EAAiCC,KAAjC,EAAwCC,MAAxC,EAAgDwO,IAAhD,EAAsD;EACzD,IAAIjG,GAAG,GAAGzI,MAAM,IAAI,EAApB;EACA,IAAI9B,GAAG,GAAGmK,SAAS,CAAClM,MAApB;;EACA,IAAIuS,IAAJ,EAAU;IACNxQ,GAAG,GAAGA,GAAG,GAAG,CAAZ;EACH;;EACD,KAAK,IAAI1B,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG0B,GAApB,EAAyB1B,CAAC,EAA1B,EAA8B;IAC1B;IACA,IAAI,CAAC6L,SAAS,CAAC7L,CAAD,CAAd,EAAmB;MACf;IACH,CAJyB,CAK1B;;;IACA,IAAImS,IAAI,GAAGtG,SAAS,CAAC7L,CAAD,CAApB;IACA,IAAI+D,IAAI,GAAGD,MAAM,CAACC,IAAP,CAAYD,MAAM,CAACsO,cAAP,CAAsBD,IAAtB,CAAZ,EAAyCxS,MAAzC,GACPmE,MAAM,CAACC,IAAP,CAAYoO,IAAZ,EAAkBE,MAAlB,CAAyBC,kBAAkB,CAACH,IAAD,CAA3C,CADO,GAC8CrO,MAAM,CAACC,IAAP,CAAYoO,IAAZ,CADzD;;IAEA,KAAK,IAAII,GAAG,GAAG,CAAf,EAAkBA,GAAG,GAAGxO,IAAI,CAACpE,MAA7B,EAAqC4S,GAAG,EAAxC,EAA4C;MACxC,IAAIC,MAAM,GAAGvG,GAAG,CAAClI,IAAI,CAACwO,GAAD,CAAL,CAAhB;MACA,IAAIE,GAAG,GAAGN,IAAI,CAACpO,IAAI,CAACwO,GAAD,CAAL,CAAd;MACA,IAAIG,GAAG,GAAG,KAAK,CAAf;;MACA,IAAIR,IAAI,KAAKvU,QAAQ,CAAC8U,GAAD,CAAR,IAAiBnK,KAAK,CAACqK,OAAN,CAAcF,GAAd,CAAtB,CAAR,EAAmD;QAC/C,IAAI9U,QAAQ,CAAC8U,GAAD,CAAZ,EAAmB;UACfC,GAAG,GAAGF,MAAM,GAAGA,MAAH,GAAY,EAAxB;UACAvG,GAAG,CAAClI,IAAI,CAACwO,GAAD,CAAL,CAAH,GAAiBtV,UAAU,CAAC,EAAD,EAAKyV,GAAL,EAAUD,GAAV,EAAeP,IAAf,CAA3B;QACH,CAHD,MAIK;UACDQ,GAAG,GAAGF,MAAM,GAAGA,MAAH,GAAY,EAAxB;UACAvG,GAAG,CAAClI,IAAI,CAACwO,GAAD,CAAL,CAAH,GAAiBtV,UAAU,CAAC,EAAD,EAAKyV,GAAL,EAAUD,GAAV,EAAeP,IAAf,CAA3B;QACH;MACJ,CATD,MAUK;QACDjG,GAAG,CAAClI,IAAI,CAACwO,GAAD,CAAL,CAAH,GAAiBE,GAAjB;MACH;IACJ;EACJ;;EACD,OAAOxG,GAAP;AACH;AACD;AACA;AACA;AACA;AACA;;AACA,SAASqG,kBAAT,CAA4B5P,GAA5B,EAAiC;EAC7B,IAAIqB,IAAI,GAAG,EAAX;;EACA,OAAOD,MAAM,CAACsO,cAAP,CAAsB1P,GAAtB,KAA8BoB,MAAM,CAACC,IAAP,CAAYD,MAAM,CAACsO,cAAP,CAAsB1P,GAAtB,CAAZ,EAAwC/C,MAA7E,EAAqF;IACjFoE,IAAI,GAAGA,IAAI,CAACsO,MAAL,CAAYvO,MAAM,CAACC,IAAP,CAAYD,MAAM,CAACsO,cAAP,CAAsB1P,GAAtB,CAAZ,CAAZ,CAAP;IACAA,GAAG,GAAGoB,MAAM,CAACsO,cAAP,CAAsB1P,GAAtB,CAAN;EACH;;EACD,OAAOqB,IAAP;AACH;AACD;AACA;AACA;AACA;AACA;;;AACA,OAAO,SAAS6O,kBAAT,CAA4B5T,MAA5B,EAAoC;EACvC,IAAI6T,GAAG,GAAG,CAAV;;EACA,KAAK,IAAI7S,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGhB,MAAM,CAACW,MAA3B,EAAmCK,CAAC,EAApC,EAAwC;IACpC,IAAI8S,KAAK,GAAGC,UAAU,CAAC/T,MAAM,CAACgB,CAAD,CAAP,EAAY,CAAZ,CAAtB;;IACA,IAAI6S,GAAG,GAAGC,KAAV,EAAiB;MACbD,GAAG,GAAGC,KAAN;IACH;EACJ;;EACD,OAAOD,GAAG,GAAG,CAAb;AACH;AACD;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASE,UAAT,CAAoB9I,GAApB,EAAyB7F,KAAzB,EAAgC;EACnC,IAAIyO,GAAG,GAAGzO,KAAV;EACA,IAAI4O,OAAO,GAAG,EAAd;;EACA,IAAI/I,GAAG,CAACvK,OAAR,EAAiB;IACb0E,KAAK;;IACL,KAAK,IAAIpE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGiK,GAAG,CAACvK,OAAJ,CAAYC,MAAhC,EAAwCK,CAAC,EAAzC,EAA6C;MACzCgT,OAAO,CAAChT,CAAD,CAAP,GAAa+S,UAAU,CAAC9I,GAAG,CAACvK,OAAJ,CAAYM,CAAZ,CAAD,EAAiBoE,KAAjB,CAAvB;IACH;;IACD,KAAK,IAAInE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG+S,OAAO,CAACrT,MAA5B,EAAoCM,CAAC,EAArC,EAAyC;MACrC,IAAI4S,GAAG,GAAGG,OAAO,CAAC/S,CAAD,CAAjB,EAAsB;QAClB4S,GAAG,GAAGG,OAAO,CAAC/S,CAAD,CAAb;MACH;IACJ;;IACDmE,KAAK,GAAGyO,GAAR;EACH;;EACD,OAAOzO,KAAP;AACH;AACD;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAAS6O,sBAAT,CAAgCpT,IAAhC,EAAsCqT,YAAtC,EAAoD;EACvD,KAAK,IAAIlT,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGkT,YAAY,CAACvT,MAAjC,EAAyCK,CAAC,EAA1C,EAA8C;IAC1CkT,YAAY,CAAClT,CAAD,CAAZ,CAAgB2H,GAAhB,GAAsBuL,YAAY,CAAClT,CAAD,CAAZ,CAAgBuN,YAAhB,GAClBe,0BAA0B,CAAC4E,YAAY,CAAClT,CAAD,CAAZ,CAAgBlB,KAAjB,EAAwBe,IAAI,CAACsT,oBAAL,EAAxB,CAA1B,CAA+ExL,GAD7D,GAEhB9H,IAAI,CAACuT,0BAAL,GAAkCC,yBAAyB,CAACxT,IAAD,EAAOqT,YAAY,CAAClT,CAAD,CAAZ,CAAgBlB,KAAvB,CAAzB,CAAuD6I,GAAzF,GACI9H,IAAI,CAACyT,gBAAL,CAAsBJ,YAAY,CAAClT,CAAD,CAAZ,CAAgBlB,KAAtC,EAA6C6I,GAHvD;EAIH;AACJ;AACD;AACA;;AACA,OAAO,IAAI4L,MAAJ;;AACP,CAAC,UAAUA,MAAV,EAAkB;EACf;EACAA,MAAM,CAACC,KAAP,GAAe,IAAf;AACH,CAHD,EAGGD,MAAM,KAAKA,MAAM,GAAG,EAAd,CAHT;AAIA;AACA;AACA;AACA;AACA;;;AACA,OAAO,SAASE,kBAAT,CAA4B3M,OAA5B,EAAqC;EACxC,IAAItB,KAAK,GAAG1C,QAAQ,CAAC4Q,WAAT,CAAqBC,gBAArB,CAAsC7M,OAAtC,EAA+C,IAA/C,CAAZ;EACA,IAAI8M,UAAU,GAAGpO,KAAK,CAACqO,gBAAN,CAAuB,WAAvB,CAAjB;EACA,IAAIC,UAAU,GAAGF,UAAU,CAAC9J,OAAX,CAAmB,IAAnB,EAAyB,EAAzB,CAAjB;EACA,IAAIiK,UAAU,GAAGC,UAAU,CAAEF,UAAD,CAAalK,KAAb,CAAmB,GAAnB,EAAwB,CAAxB,CAAD,CAA3B;EACA,IAAIqK,UAAU,GAAGD,UAAU,CAAEF,UAAD,CAAalK,KAAb,CAAmB,GAAnB,EAAwB,CAAxB,CAAD,CAA3B;EACA,OAAO;IAAE9E,KAAK,EAAEiP,UAAT;IAAqBvK,MAAM,EAAEyK;EAA7B,CAAP;AACH;AACD;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASC,gBAAT,CAA0BC,WAA1B,EAAuCrN,OAAvC,EAAgD;EACnD,IAAIqN,WAAW,CAAC/W,SAAZ,CAAsBwJ,QAAtB,CAA+B,UAA/B,CAAJ,EAAgD;IAC5CE,OAAO,CAAC1J,SAAR,CAAkB2N,GAAlB,CAAsB,UAAtB;EACH;AACJ;AACD;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASqJ,mBAAT,CAA6BC,GAA7B,EAAkCC,GAAlC,EAAuC;EAC1C,IAAID,GAAG,IAAIC,GAAX,EAAgB;IACZ,IAAIC,OAAO,GAAGxX,OAAO,CAACsX,GAAD,EAAM,MAAM7V,QAAQ,CAACuD,GAArB,CAAP,CAAiCuD,qBAAjC,GAAyDkE,MAAvE;IACA,IAAIgL,OAAO,GAAGzX,OAAO,CAACuX,GAAD,EAAM,MAAM9V,QAAQ,CAACuD,GAArB,CAAP,CAAiCuD,qBAAjC,GAAyDkE,MAAvE;;IACA,IAAI+K,OAAO,GAAGC,OAAd,EAAuB;MACnBF,GAAG,CAAC9O,KAAJ,CAAUgE,MAAV,GAAmB+K,OAAO,GAAG,IAA7B;IACH,CAFD,MAGK;MACDF,GAAG,CAAC7O,KAAJ,CAAUgE,MAAV,GAAmBgL,OAAO,GAAG,IAA7B;IACH;EACJ;AACJ;AACD;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASC,aAAT,CAAuB1S,GAAvB,EAA4B2S,OAA5B,EAAqC;EACxC,IAAIC,SAAS,GAAGD,OAAO,CAACE,UAAR,GAAqBC,iBAArB,CAAuChP,YAAvD;EACA,OAAO9D,GAAG,IAAIA,GAAG,CAACuD,qBAAJ,GAA4BQ,GAA5B,GAAkC6O,SAAhD;AACH;AACD;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASG,cAAT,CAAwB/S,GAAxB,EAA6BgT,MAA7B,EAAqC;EACxC,OAAOhT,GAAG,IAAIA,GAAG,CAACuD,qBAAJ,GAA4BQ,GAA5B,GAAkCiP,MAAhD;AACH;AACD;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASC,kBAAT,CAA4B5Q,KAA5B,EAAmCvE,IAAnC,EAAyC;EAC5C,IAAIkJ,SAAS,GAAGlJ,IAAI,CAACmJ,YAAL,EAAhB;EACA,IAAIiM,UAAU,GAAGpV,IAAI,CAAC+U,UAAL,GAAkBC,iBAAlB,CAAoCK,SAApC,GAAgDnM,SAAjE;EACA,IAAIoM,QAAQ,GAAGF,UAAU,GAAIpV,IAAI,CAAC+U,UAAL,GAAkBC,iBAAlB,CAAoChP,YAApC,GAAmDkD,SAAhF;EACA,OAAO3E,KAAK,GAAG+Q,QAAR,IAAoB/Q,KAAK,GAAG6Q,UAAnC;AACH;AACD;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASG,kBAAT,CAA4BvV,IAA5B,EAAkCd,IAAlC,EAAwC;EAC3C,IAAIsW,QAAQ,GAAGxV,IAAI,CAACyV,uBAAL,GAA+B,CAA/B,CAAf;EACA,IAAIC,SAAJ;EACA1V,IAAI,CAAC2V,qBAAL,GAA6BC,MAA7B,CAAoC,UAAUlW,CAAV,EAAa6E,KAAb,EAAoB;IACpD,IAAI7E,CAAC,CAAC8V,QAAD,CAAD,KAAgBtW,IAAI,CAACsW,QAAD,CAAxB,EAAoC;MAChCE,SAAS,GAAGnR,KAAZ;IACH;EACJ,CAJD;EAKA,OAAOmR,SAAP;AACH;AACD;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASG,YAAT,CAAsBrK,IAAtB,EAA4BsC,KAA5B,EAAmC;EACtC,IAAIgI,KAAK,GAAGC,qBAAqB,CAACjI,KAAD,CAAjC;EACA,IAAIkI,GAAG,GAAG,IAAI1X,QAAJ,EAAV;EACAwX,KAAK,CAAC9H,UAAN,GAAmBgI,GAAG,CAACC,OAAvB;EACAH,KAAK,CAAC9K,MAAN,GAAeQ,IAAf;EACA,OAAO;IAAEsK,KAAK,EAAEA,KAAT;IAAgBI,QAAQ,EAAEF;EAA1B,CAAP;AACH;AACD;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASD,qBAAT,CAA+BjI,KAA/B,EAAsC;EACzC,IAAIqI,MAAM,GAAG,IAAI9X,UAAJ,EAAb;EACA,IAAI+X,EAAE,GAAG,IAAIjY,WAAJ,CAAgB;IAAEkY,GAAG,EAAE,EAAP;IAAWC,OAAO,EAAE,IAAIjY,UAAJ;EAApB,CAAhB,CAAT;EACA,IAAIyX,KAAK,GAAGK,MAAM,CAACI,YAAP,CAAoBH,EAApB,EAAwBtI,KAAxB,CAAZ;EACA,IAAI5O,IAAI,GAAGsX,IAAI,CAACC,KAAL,CAAWX,KAAK,CAAC5W,IAAjB,CAAX;EACA,OAAOA,IAAP;AACH;AACD;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASwX,iBAAT,CAA2B1W,IAA3B,EAAiC;EACpC,IAAIH,OAAO,GAAGG,IAAI,CAAC2W,iBAAL,EAAd;EACA,IAAIC,aAAa,GAAG,CAApB;EACA,IAAIC,iBAAiB,GAAG,CAAxB;;EACA,KAAK,IAAI1W,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGN,OAAO,CAACC,MAA5B,EAAoCK,CAAC,EAArC,EAAyC;IACrC,IAAIlD,WAAW,CAAC4C,OAAO,CAACM,CAAD,CAAP,CAAW8E,KAAZ,CAAf,EAAmC;MAC/B4R,iBAAiB;IACpB,CAFD,MAGK,IAAIhX,OAAO,CAACM,CAAD,CAAP,CAAW8E,KAAX,CAAiBoH,QAAjB,GAA4BlI,OAA5B,CAAoC,GAApC,MAA6C,CAAC,CAAlD,EAAqD;MACtDyS,aAAa;IAChB;EACJ;;EACD,OAAO,CAAC5W,IAAI,CAACiF,KAAL,KAAe,MAAf,IAAyB,OAAQjF,IAAI,CAACiF,KAAb,KAAwB,QAAxB,IAAoCjF,IAAI,CAACiF,KAAL,CAAWd,OAAX,CAAmB,GAAnB,MAA4B,CAAC,CAA3F,KACH,CAACnE,IAAI,CAACsB,aAAL,CAAmBwV,iBADjB,IACsC9W,IAAI,CAACsB,aAAL,CAAmBzB,OAAnB,CAA2BC,MADjE,IAEA8W,aAFA,IAEiB,CAACC,iBAFzB;AAGH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASE,aAAT,CAAuB/W,IAAvB,EAA6BgR,IAA7B,EAAmCgG,OAAnC,EAA4CzS,KAA5C,EAAmD0S,aAAnD,EAAkE;EACrE,IAAI7B,UAAU,GAAG7Q,KAAK,GAAGA,KAAH,GAAW,CAAjC;;EACA,KAAK,IAAIpE,CAAC,GAAG8W,aAAa,GAAGA,aAAH,GAAmB,CAA7C,EAAgD9W,CAAC,GAAG6Q,IAAI,CAAClR,MAAzD,EAAiEK,CAAC,EAAlE,EAAsE;IAClE,IAAI6Q,IAAI,CAAC7Q,CAAD,CAAJ,CAAQQ,SAAZ,EAAuB;MACnBqQ,IAAI,CAAC7Q,CAAD,CAAJ,CAAQoE,KAAR,GAAgB6Q,UAAhB;MACApE,IAAI,CAAC7Q,CAAD,CAAJ,CAAQ+W,QAAR,GAAmBlX,IAAI,CAACmX,YAAL,GAAoB/B,UAAU,GAAG,CAAb,KAAmB,CAAvC,GAA2C,KAA9D;MACA4B,OAAO,CAAC7W,CAAD,CAAP,CAAW8L,YAAX,CAAwBtN,QAAQ,CAACyY,YAAjC,EAA+ChC,UAAU,CAAC/I,QAAX,EAA/C;;MACA,IAAI2E,IAAI,CAAC7Q,CAAD,CAAJ,CAAQ+W,QAAZ,EAAsB;QAClBF,OAAO,CAAC7W,CAAD,CAAP,CAAW5C,SAAX,CAAqB2N,GAArB,CAAyB,UAAzB;MACH,CAFD,MAGK;QACD8L,OAAO,CAAC7W,CAAD,CAAP,CAAW5C,SAAX,CAAqBI,MAArB,CAA4B,UAA5B;MACH;;MACD,KAAK,IAAIyC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG4W,OAAO,CAAC7W,CAAD,CAAP,CAAW2L,KAAX,CAAiBhM,MAArC,EAA6CM,CAAC,EAA9C,EAAkD;QAC9C4W,OAAO,CAAC7W,CAAD,CAAP,CAAW2L,KAAX,CAAiB1L,CAAjB,EAAoB6L,YAApB,CAAiC,OAAjC,EAA0CmJ,UAAU,CAAC/I,QAAX,EAA1C;MACH;;MACD+I,UAAU;IACb;EACJ;;EACD,IAAI,CAACpE,IAAI,CAAClR,MAAV,EAAkB;IACdE,IAAI,CAACqX,YAAL,CAAkBC,QAAlB,CAA2B,IAA3B;EACH;AACJ;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASC,cAAT,CAAwBvX,IAAxB,EAA8BwX,OAA9B,EAAuCnX,IAAvC,EAA6CmV,QAA7C,EAAuD;EAC1D,IAAIiC,QAAQ,GAAGzX,IAAI,CAAC0X,eAAL,CAAqBrX,IAArB,EAA2BmS,MAA3B,CAAkCgF,OAAO,CAACnX,IAAD,CAAzC,EAAiDsX,MAAjD,CAAwD,UAAUC,CAAV,EAAaC,CAAb,EAAgB;IACnFD,CAAC,CAACC,CAAC,CAACrC,QAAD,CAAF,CAAD,GAAiBoC,CAAC,CAACC,CAAC,CAACrC,QAAD,CAAF,CAAD,KAAmBlS,SAAnB,GAA+BuU,CAA/B,GAAmC5T,MAAM,CAAC6T,MAAP,CAAcF,CAAC,CAACC,CAAC,CAACrC,QAAD,CAAF,CAAf,EAA8BqC,CAA9B,CAApD;IACA,OAAOD,CAAP;EACH,CAHc,EAGZ,EAHY,CAAf;EAIA5X,IAAI,CAAC0X,eAAL,CAAqBrX,IAArB,IAA6B4D,MAAM,CAACC,IAAP,CAAYuT,QAAZ,EAAsBM,GAAtB,CAA0B,UAAUC,CAAV,EAAa;IAAE,OAAOP,QAAQ,CAACO,CAAD,CAAf;EAAqB,CAA9D,CAA7B;AACH;AACD;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASC,cAAT,CAAwBjY,IAAxB,EAA8B;EACjC,IAAIA,IAAI,CAAC8R,YAAL,EAAJ,EAAyB;IACpB9R,IAAD,CAAOkY,aAAP,CAAqBC,WAArB,GACI,GAAGzQ,KAAH,CAASC,IAAT,CAAc3H,IAAI,CAACiH,OAAL,CAAa/D,gBAAb,CAA8B,mDAA9B,CAAd,CADJ;IAEA,IAAIkV,GAAG,GAAGpY,IAAI,CAACqY,aAAL,OAAyB1Z,QAAQ,CAAC2Z,SAAlC,GAA8C,6DAA9C,GACJ,iDADN;IAECtY,IAAD,CAAOkY,aAAP,CAAqBK,iBAArB,GACI,GAAG7Q,KAAH,CAASC,IAAT,CAAc3H,IAAI,CAACiH,OAAL,CAAa/D,gBAAb,CAA8BkV,GAA9B,CAAd,CADJ;;IAEA,IAAIpY,IAAI,CAACqY,aAAL,OAAyB1Z,QAAQ,CAAC2Z,SAAtC,EAAiD;MAC7CtY,IAAI,CAACkY,aAAL,CAAmBM,sBAAnB,GACI,GAAG9Q,KAAH,CAASC,IAAT,CAAc3H,IAAI,CAACiH,OAAL,CAAa/D,gBAAb,CAA8B,+DAA9B,CAAd,CADJ;IAEH;EACJ,CAXD,MAYK;IACAlD,IAAD,CAAOkY,aAAP,CAAqBC,WAArB,GACI,GAAGzQ,KAAH,CAASC,IAAT,CAAc3H,IAAI,CAACiH,OAAL,CAAa/D,gBAAb,CAA8B,yBAA9B,CAAd,CADJ;EAEH;AACJ;AACD;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASuV,yBAAT,CAAmCzY,IAAnC,EAAyC8L,KAAzC,EAAgD4M,SAAhD,EAA2D;EAC9D,IAAIxS,IAAI,GAAGlG,IAAI,CAAC2Y,kBAAL,EAAX;EACA,IAAIC,OAAO,GAAG5Y,IAAI,CAAC6Y,sBAAL,EAAd;EACA,IAAIrS,KAAK,GAAGxG,IAAI,CAAC8Y,0BAAL,EAAZ;EACA,IAAIC,UAAU,GAAG/Y,IAAI,CAACqY,aAAL,EAAjB;EACA,IAAIW,IAAI,GAAGhZ,IAAI,CAAC+P,aAAL,KAAuB,CAAvB,GAA2B,CAAtC;EACA,IAAIkJ,UAAU,GAAGF,UAAU,KAAK,OAAf,GAAyB7S,IAAI,GAAG0S,OAAhC,GAA0C1S,IAAI,GAAG0S,OAAP,GAAiBI,IAA5E;EACA,IAAIE,SAAS,GAAGH,UAAU,KAAK,OAAf,GAAyB7S,IAAzB,GAAgCA,IAAI,GAAG8S,IAAvD;EACA,IAAIG,UAAU,GAAGJ,UAAU,KAAK,OAAf,GAAyBjN,KAAK,CAAChM,MAAN,GAAe0G,KAAf,GAAuBwS,IAAhD,GACXxS,KAAK,GAAGsF,KAAK,CAAChM,MAAN,GAAe0G,KAAlB,GAA0BsF,KAAK,CAAChM,MAD3C;;EAEA,IAAI4Y,SAAS,KAAK/Z,QAAQ,CAACya,UAA3B,EAAuC;IACnCtN,KAAK,GAAGA,KAAK,CAACpE,KAAN,CAAY,CAAZ,EAAexB,IAAI,GAAGA,IAAI,GAAG8S,IAAV,GAAiBlN,KAAK,CAAChM,MAA1C,CAAR;EACH,CAFD,MAGK,IAAI4Y,SAAS,KAAK/Z,QAAQ,CAAC0a,WAA3B,EAAwC;IACzCvN,KAAK,GAAGA,KAAK,CAACpE,KAAN,CAAYuR,UAAZ,EAAwBnN,KAAK,CAAChM,MAA9B,CAAR;EACH,CAFI,MAGA,IAAI4Y,SAAS,KAAK,SAAlB,EAA6B;IAC9B5M,KAAK,GAAGA,KAAK,CAACpE,KAAN,CAAYwR,SAAZ,EAAuBC,UAAvB,CAAR;EACH;;EACD,OAAOrN,KAAP;AACH,C,CACD;;AACA;;AACA,OAAO,SAASwN,iBAAT,CAA2BtZ,IAA3B,EAAiCR,QAAjC,EAA2CwR,IAA3C,EAAiDuI,KAAjD,EAAwDC,MAAxD,EAAgE;EACnE,IAAIxI,IAAI,CAAC,CAAD,CAAJ,CAAQlR,MAAR,IAAkByZ,KAAtB,EAA6B;IACzB,IAAIC,MAAJ,EAAY;MACRha,QAAQ,CAACb,QAAQ,CAACya,UAAV,EAAsBpI,IAAI,CAAC,CAAD,CAA1B,EAA+BwI,MAAM,CAAC,CAAD,CAArC,CAAR;IACH,CAFD,MAGK;MACDha,QAAQ,CAACb,QAAQ,CAACya,UAAV,EAAsBpI,IAAI,CAAC,CAAD,CAA1B,CAAR;IACH;EACJ;;EACD,IAAIhR,IAAI,CAAC8R,YAAL,OAAwBd,IAAI,CAAC,CAAD,CAAJ,CAAQlR,MAAR,IAAkByZ,KAA1C,CAAJ,EAAsD;IAClD,IAAIC,MAAJ,EAAY;MACRha,QAAQ,CAAC,SAAD,EAAYwR,IAAI,CAAC,CAAD,CAAhB,EAAqBwI,MAAM,CAAC,CAAD,CAA3B,CAAR;IACH,CAFD,MAGK;MACDha,QAAQ,CAAC,SAAD,EAAYwR,IAAI,CAAC,CAAD,CAAhB,CAAR;IACH;EACJ;;EACD,IAAI,CAAChR,IAAI,CAACqY,aAAL,OAAyB1Z,QAAQ,CAAC2Z,SAAlC,IAA+CtY,IAAI,CAACqY,aAAL,OAAyB,OAAzE,MAAsFrH,IAAI,CAAC,CAAD,CAAJ,CAAQlR,MAAR,IAAkByZ,KAAxG,CAAJ,EAAoH;IAChH,IAAIC,MAAJ,EAAY;MACRha,QAAQ,CAACb,QAAQ,CAAC0a,WAAV,EAAuBrI,IAAI,CAAC,CAAD,CAA3B,EAAgCwI,MAAM,CAAC,CAAD,CAAtC,CAAR;IACH,CAFD,MAGK;MACDha,QAAQ,CAACb,QAAQ,CAAC0a,WAAV,EAAuBrI,IAAI,CAAC,CAAD,CAA3B,CAAR;IACH;EACJ;AACJ;AACD;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASyI,iBAAT,CAA2BzZ,IAA3B,EAAiC;EACpC,OAAO,CAACA,IAAI,CAACqY,aAAL,OAAyB,OAAzB,GAAmCrY,IAAI,CAACiR,aAAL,EAAnC,GAA0D,EAA3D,EAA+DjR,IAAI,CAAC0Z,oBAAL,EAA/D,EAA4F1Z,IAAI,CAAC2Z,wBAAL,EAA5F,CAAP;AACH;AACD;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASC,kBAAT,CAA4B5Z,IAA5B,EAAkC;EACrC,OAAO,CACHA,IAAI,CAACqY,aAAL,OAAyB,OAAzB,GAAmCrY,IAAI,CAAC6Z,cAAL,CAAoB,IAApB,CAAnC,GAA+D,EAD5D,EAEH7Z,IAAI,CAAC8Z,qBAAL,CAA2B,IAA3B,CAFG,EAE+B9Z,IAAI,CAAC+Z,yBAAL,CAA+B,IAA/B,CAF/B,CAAP;AAIH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASC,aAAT,CAAuB9X,GAAvB,EAA4B+X,KAA5B,EAAmCC,GAAnC,EAAwC;EAC3C,IAAIpO,KAAK,GAAG5J,GAAG,CAACgG,QAAhB;EACA,IAAIrG,GAAG,GAAGiK,KAAK,CAAChM,MAAhB;EACA,IAAIkY,CAAC,GAAG,CAAR;;EACA,KAAK,IAAI7X,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG0B,GAApB,EAAyB1B,CAAC,IAAI6X,CAAC,EAA/B,EAAmC;IAC/B,IAAI7X,CAAC,IAAI8Z,KAAL,IAAc9Z,CAAC,GAAG+Z,GAAtB,EAA2B;MACvB;IACH;;IACDhY,GAAG,CAAC+G,WAAJ,CAAgB/G,GAAG,CAACgG,QAAJ,CAAa8P,CAAb,CAAhB;IACAA,CAAC;EACJ;AACJ;AACD;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASmC,mBAAT,CAA6Bna,IAA7B,EAAmCoK,GAAnC,EAAwCgQ,QAAxC,EAAkD;EACrD,IAAIhQ,GAAG,CAACiQ,kBAAJ,OAA6B,SAAjC,EAA4C;IACxC,OAAO,GAAG3S,KAAH,CAASC,IAAT,CAAc3H,IAAI,CAACsa,kBAAL,GAA0BF,QAA1B,EAAoCG,sBAApC,CAA2D5b,QAAQ,CAAC6b,OAApE,CAAd,CAAP;EACH,CAFD,MAGK,IAAIpQ,GAAG,CAACiQ,kBAAJ,OAA6B1b,QAAQ,CAAC0a,WAA1C,EAAuD;IACxD,OAAO,GAAG3R,KAAH,CAASC,IAAT,CAAc3H,IAAI,CAACya,sBAAL,GAA8BL,QAA9B,EAAwCG,sBAAxC,CAA+D5b,QAAQ,CAAC6b,OAAxE,CAAd,CAAP;EACH,CAFI,MAGA;IACD,OAAO,GAAG9S,KAAH,CAASC,IAAT,CAAc3H,IAAI,CAAC0a,WAAL,GAAmBN,QAAnB,EAA6BG,sBAA7B,CAAoD5b,QAAQ,CAAC6b,OAA7D,CAAd,CAAP;EACH;AACJ;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASG,uBAAT,CAAiC3a,IAAjC,EAAuCoK,GAAvC,EAA4CgQ,QAA5C,EAAsD7V,KAAtD,EAA6D;EAChE,IAAI2B,IAAI,GAAGlG,IAAI,CAAC2Y,kBAAL,EAAX;EACA,IAAIC,OAAO,GAAG5Y,IAAI,CAAC6Y,sBAAL,EAAd;EACAtU,KAAK,GAAG6F,GAAG,CAACiQ,kBAAJ,OAA6B,SAA7B,GAAyC9V,KAAK,GAAG2B,IAAjD,GAAwDkE,GAAG,CAACiQ,kBAAJ,OAA6B1b,QAAQ,CAAC0a,WAAtC,GAC1D9U,KAAK,IAAI2B,IAAI,GAAG0S,OAAX,CADqD,GAC/BrU,KADjC;EAEA,OAAO4V,mBAAmB,CAACna,IAAD,EAAOoK,GAAP,EAAYgQ,QAAZ,CAAnB,CAAyC7V,KAAzC,CAAP;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASqW,kBAAT,CAA4BxQ,GAA5B,EAAiC7F,KAAjC,EAAwCsW,KAAxC,EAA+CC,MAA/C,EAAuDC,OAAvD,EAAgElZ,GAAhE,EAAqEmZ,QAArE,EAA+E;EAClF,IAAIA,QAAJ,EAAc;IACVH,KAAK,CAAC7Q,iBAAiB,CAACI,GAAG,CAACnL,KAAL,CAAlB,CAAL,GAAsCmL,GAAG,CAAC6Q,eAA1C;EACH,CAFD,MAGK;IACD,IAAI7Q,GAAG,CAACiQ,kBAAJ,OAA6B1b,QAAQ,CAACya,UAAtC,IACI,CAAC7U,KAAD,IAAU6F,GAAG,CAACiQ,kBAAJ,OAA6B1b,QAAQ,CAAC0a,WADpD,IACoExX,GAAG,KAAK,CADhF,EACmF;MAC/EgZ,KAAK,CAAC7Q,iBAAiB,CAACI,GAAG,CAACnL,KAAL,CAAlB,CAAL,GAAsCmL,GAAG,CAAC6Q,eAA1C;IACH,CAHD,MAIK,IAAI7Q,GAAG,CAACiQ,kBAAJ,OAA6B,SAA7B,IAA0C,CAACjQ,GAAG,CAACiQ,kBAAJ,EAA/C,EAAyE;MAC1ES,MAAM,CAAC9Q,iBAAiB,CAACI,GAAG,CAACnL,KAAL,CAAlB,CAAN,GAAuCmL,GAAG,CAAC6Q,eAA3C;IACH,CAFI,MAGA,IAAI7Q,GAAG,CAACiQ,kBAAJ,OAA6B1b,QAAQ,CAAC0a,WAA1C,EAAuD;MACxD0B,OAAO,CAAC/Q,iBAAiB,CAACI,GAAG,CAACnL,KAAL,CAAlB,CAAP,GAAwCmL,GAAG,CAAC6Q,eAA5C;IACH;EACJ;AACJ;AACD;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASC,eAAT,CAAyBlb,IAAzB,EAA+B;EAClC,IAAImb,KAAJ;;EACA,IAAInb,IAAI,CAAC8R,YAAL,EAAJ,EAAyB;IACrBqJ,KAAK,GAAGnb,IAAI,CAACob,UAAL,IAAmBpb,IAAI,CAAC4K,YAAL,CAAkByQ,cAAlB,KAAqC,KAAxD,GAAgErb,IAAI,CAACsb,qBAAL,EAAhE,GACFtb,IAAI,CAACub,sBAAL,EADN;EAEH;;EACD,OAAOJ,KAAP;AACH;AACD;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASK,mBAAT,CAA6Bxb,IAA7B,EAAmC;EACtC,IAAImb,KAAJ;;EACA,IAAInb,IAAI,CAACqY,aAAL,OAAyB1Z,QAAQ,CAAC2Z,SAAtC,EAAiD;IAC7C6C,KAAK,GAAGnb,IAAI,CAACob,UAAL,IAAmBpb,IAAI,CAAC4K,YAAL,CAAkByQ,cAAlB,KAAqC,KAAxD,GAAgErb,IAAI,CAACyb,yBAAL,EAAhE,GACFzb,IAAI,CAAC0b,0BAAL,EADN;EAEH;;EACD,OAAOP,KAAP;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASQ,cAAT,CAAwBR,KAAxB,EAA+BS,MAA/B,EAAuCC,OAAvC,EAAgDC,EAAhD,EAAoDC,GAApD,EAAyDC,IAAzD,EAA+Dxc,QAA/D,EAAyE;EAC5E,IAAI2b,KAAK,IAAIW,EAAb,EAAiB;IACbtc,QAAQ,CAAC2b,KAAD,EAAQW,EAAR,CAAR;EACH;;EACD,IAAIF,MAAM,IAAIG,GAAd,EAAmB;IACfvc,QAAQ,CAACoc,MAAD,EAASG,GAAT,CAAR;EACH;;EACD,IAAIF,OAAO,IAAIG,IAAf,EAAqB;IACjBxc,QAAQ,CAACqc,OAAD,EAAUG,IAAV,CAAR;EACH;AACJ;AACD;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASC,eAAT,CAAyBC,YAAzB,EAAuC7b,IAAvC,EAA6C8b,OAA7C,EAAsD;EACzD,IAAI5Q,MAAJ;EACA,IAAImF,IAAI,GAAG,IAAI1T,oBAAJ,EAAX;;EACA,IAAIqD,IAAI,KAAK,QAAb,EAAuB;IACnB,IAAI;MACAkL,MAAM,GAAGmF,IAAI,CAAC0L,gBAAL,CAAsB;QAAE7Q,MAAM,EAAE2Q,YAAV;QAAwBG,QAAQ,EAAE,KAAKA,QAAvC;QAAiDC,WAAW,EAAE;MAA9D,CAAtB,EAA4F,IAA5F,CAAT;IACH,CAFD,CAGA,OAAOC,KAAP,EAAc;MACVhR,MAAM,GAAG2Q,YAAT;IACH;EACJ,CAPD,MAQK,IAAI7b,IAAI,KAAK,MAAT,IAAmBA,IAAI,KAAK,MAA5B,IAAsCA,IAAI,KAAK,UAAnD,EAA+D;IAChE,IAAI;MACAkL,MAAM,GAAGmF,IAAI,CAACG,cAAL,CAAoB;QAAEpF,QAAQ,EAAEyQ,YAAZ;QAA0B7b,IAAI,EAAEA;MAAhC,CAApB,EAA4D8b,OAA5D,CAAT;;MACA,IAAI9e,iBAAiB,CAACkO,MAAD,CAArB,EAA+B;QAC3B;QACA,MAAM,OAAN;MACH;IACJ,CAND,CAOA,OAAOgR,KAAP,EAAc;MACV,IAAI;QACAhR,MAAM,GAAGmF,IAAI,CAACG,cAAL,CAAoB;UAAEtF,MAAM,EAAE2Q,YAAV;UAAwB7b,IAAI,EAAEA;QAA9B,CAApB,EAA0D8b,OAA1D,CAAT;MACH,CAFD,CAGA,OAAOI,KAAP,EAAc;QACVhR,MAAM,GAAG2Q,YAAT;MACH;IACJ;EACJ,CAhBI,MAiBA;IACD3Q,MAAM,GAAG2Q,YAAT;EACH;;EACD,IAAI7b,IAAI,KAAK,QAAb,EAAuB;IACnB,IAAImc,YAAY,GAAG,yBAAnB;IACA,IAAIC,MAAM,GAAG;MAAE,KAAK,EAAP;MAAW,KAAK,GAAhB;MAAqB,KAAK,GAA1B;MAA+B,MAAM,GAArC;MAA0C,MAAM,QAAhD;MAA0D,MAAM,IAAhE;MAAsE,KAAK,MAA3E;MAAmF,QAAQ,MAA3F;MAAmG,KAAK;IAAxG,CAAb;IACAlR,MAAM,GAAGA,MAAM,CAACtB,OAAP,CAAeuS,YAAf,EAA6B,UAAUE,OAAV,EAAmB;MACrD;MACA,OAAOD,MAAM,CAACC,OAAD,CAAb;IACH,CAHQ,CAAT;EAIH;;EACD,OAAOnR,MAAP;AACH;AACD;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASoR,eAAT,CAAyB3c,IAAzB,EAA+B;EAClC,IAAIA,IAAI,CAAC4c,gBAAT,EAA2B;IACvB,IAAIC,OAAO,GAAG5Z,QAAQ,CAACsX,sBAAT,CAAgC,qBAAhC,CAAd;;IACA,KAAK,IAAIpa,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG0c,OAAO,CAAC/c,MAA5B,EAAoCK,CAAC,EAArC,EAAyC;MACrC0c,OAAO,CAAC1c,CAAD,CAAP,CAAW5C,SAAX,CAAqB2N,GAArB,CAAyB,UAAzB;IACH;EACJ;AACJ;AACD;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAAS4R,2BAAT,CAAqCrb,KAArC,EAA4Csb,SAA5C,EAAuD;EAC1D,IAAIC,SAAJ;EACA,IAAIld,MAAM,GAAG2B,KAAK,CAACsI,KAAN,CAAY,GAAZ,EAAiBjK,MAA9B;EACA,IAAIyQ,MAAM,GAAG9O,KAAK,CAACsI,KAAN,CAAY,GAAZ,CAAb;EACA,IAAIkT,YAAY,GAAGF,SAAnB;;EACA,KAAK,IAAI5c,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGL,MAApB,EAA4BK,CAAC,EAA7B,EAAiC;IAC7B6c,SAAS,GAAGC,YAAY,CAAC1M,MAAM,CAACpQ,CAAD,CAAP,CAAxB;IACA8c,YAAY,GAAGD,SAAf;EACH;;EACD,OAAOA,SAAP;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASE,eAAT,CAAyBpB,EAAzB,EAA6BqB,GAA7B,EAAkCC,UAAlC,EAA8CpM,IAA9C,EAAoDnK,MAApD,EAA4DwW,SAA5D,EAAuE;EAC1E,IAAIC,GAAG,GAAGrZ,MAAM,CAACC,IAAP,CAAY4X,EAAZ,CAAV;;EACA,KAAK,IAAI3b,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGmd,GAAG,CAACxd,MAAxB,EAAgCK,CAAC,EAAjC,EAAqC;IACjC,IAAIod,EAAE,GAAGzB,EAAE,CAACwB,GAAG,CAACnd,CAAD,CAAJ,CAAF,CAAW+C,gBAAX,CAA4B,cAA5B,EAA4Cia,GAA5C,CAAT;;IACA,IAAIrB,EAAE,CAACwB,GAAG,CAACnd,CAAD,CAAJ,CAAF,CAAW+C,gBAAX,CAA4B,cAA5B,EAA4CpD,MAA5C,IAAsDyd,EAA1D,EAA8D;MAC1D/f,iBAAiB,CAACse,EAAE,CAACwB,GAAG,CAACnd,CAAD,CAAJ,CAAF,CAAW+C,gBAAX,CAA4B,cAA5B,EAA4Cia,GAA5C,CAAD,EAAmD;QAAE,WAAWC;MAAb,CAAnD,CAAjB;;MACA,IAAItB,EAAE,CAACwB,GAAG,CAACnd,CAAD,CAAJ,CAAF,CAAW+C,gBAAX,CAA4B,cAA5B,EAA4Cia,GAA5C,EAAiD5f,SAAjD,CAA2DwJ,QAA3D,CAAoE,QAApE,CAAJ,EAAmF;QAC/ElJ,WAAW,CAAC,CAACie,EAAE,CAACwB,GAAG,CAACnd,CAAD,CAAJ,CAAF,CAAW+C,gBAAX,CAA4B,cAA5B,EAA4Cia,GAA5C,CAAD,CAAD,EAAqD,CAAC,QAAD,CAArD,CAAX;MACH;;MACD,IAAIE,SAAS,IAAIxW,MAAM,CAACkJ,aAAP,EAAjB,EAAyC;QACrC,IAAIxL,KAAK,GAAGsC,MAAM,CAACkL,gBAAP,KAA4BoL,GAA5B,GAAkCA,GAAG,GAAG,CAApD;QACAnM,IAAI,CAACsM,GAAG,CAACnd,CAAD,CAAJ,CAAJ,CAAa2L,KAAb,CAAmBvH,KAAnB,EAA0BW,OAA1B,GAAoCkY,UAAU,KAAK,EAAf,GAAoB,IAApB,GAA2B,KAA/D;MACH,CAHD,MAIK;QACDpM,IAAI,CAACsM,GAAG,CAACnd,CAAD,CAAJ,CAAJ,CAAa2L,KAAb,CAAmBqR,GAAnB,EAAwBjY,OAAxB,GAAkCkY,UAAU,KAAK,EAAf,GAAoB,IAApB,GAA2B,KAA7D;MACH;IACJ;EACJ;AACJ,C,CACD;;AACA;;AACA,OAAO,SAASI,sBAAT,CAAgC3W,MAAhC,EAAwC4W,GAAxC,EAA6CC,IAA7C,EAAmDC,MAAnD,EAA2D;EAC9D,KAAK,IAAI5R,EAAE,GAAG,CAAT,EAAY6R,KAAK,GAAGH,GAAzB,EAA8B1R,EAAE,GAAG6R,KAAK,CAAC9d,MAAzC,EAAiDiM,EAAE,EAAnD,EAAuD;IACnD,IAAIrB,IAAI,GAAGkT,KAAK,CAAC7R,EAAD,CAAhB;;IACA,IAAI2R,IAAJ,EAAU;MACN7W,MAAM,CAACgX,EAAP,CAAUnT,IAAI,CAACoT,KAAf,EAAsBpT,IAAI,CAACqT,OAA3B,EAAoCJ,MAApC;IACH,CAFD,MAGK;MACD9W,MAAM,CAACmX,GAAP,CAAWtT,IAAI,CAACoT,KAAhB,EAAuBpT,IAAI,CAACqT,OAA5B;IACH;EACJ;AACJ,C,CACD;;AACA;;AACA,OAAO,SAASE,iBAAT,CAA2BpX,MAA3B,EAAmC1H,MAAnC,EAA2C+e,UAA3C,EAAuDC,IAAvD,EAA6D;EAChE,IAAIC,gBAAgB,GAAGpU,iBAAiB,CAAC7K,MAAM,CAACF,KAAR,CAAxC;EACAkf,IAAI,GAAGla,MAAM,CAAC6T,MAAP,CAAcqG,IAAd,EAAoB;IACvBrX,EAAE,EAAED,MAAM,CAACI,OAAP,CAAeH,EAAf,GAAoBsX,gBADD;IAEvBC,IAAI,EAAED,gBAFiB;IAEC,gBAAgBjf,MAAM,CAAC2I;EAFxB,CAApB,CAAP;EAIA,OAAOjB,MAAM,CAACjJ,aAAP,CAAqB,OAArB,EAA8B;IACjCyH,SAAS,EAAE6Y,UADsB;IACV5U,KAAK,EAAE6U;EADG,CAA9B,CAAP;AAGH;AACD;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASG,mBAAT,CAA6Bte,IAA7B,EAAmC8H,GAAnC,EAAwC;EAC3C,IAAI3I,MAAJ;;EACA,KAAK,IAAI4M,EAAE,GAAG,CAAT,EAAYiG,EAAE,GAAIhS,IAAI,CAACqE,WAA5B,EAA0C0H,EAAE,GAAGiG,EAAE,CAAClS,MAAlD,EAA0DiM,EAAE,EAA5D,EAAgE;IAC5D,IAAI3B,GAAG,GAAG4H,EAAE,CAACjG,EAAD,CAAZ;;IACA,IAAI3B,GAAG,CAACtC,GAAJ,KAAYA,GAAhB,EAAqB;MACjB3I,MAAM,GAAGiL,GAAT;MACA;IACH;EACJ;;EACD,OAAOjL,MAAP;AACH;AACD;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASqU,yBAAT,CAAmCxT,IAAnC,EAAyCf,KAAzC,EAAgD;EACnD,IAAIE,MAAJ;;EACA,IAAI,CAACa,IAAI,CAACqE,WAAV,EAAuB;IACnBrE,IAAI,CAACkS,UAAL;EACH;;EACD,KAAK,IAAInG,EAAE,GAAG,CAAT,EAAYiG,EAAE,GAAIhS,IAAI,CAACqE,WAA5B,EAA0C0H,EAAE,GAAGiG,EAAE,CAAClS,MAAlD,EAA0DiM,EAAE,EAA5D,EAAgE;IAC5D,IAAI3B,GAAG,GAAG4H,EAAE,CAACjG,EAAD,CAAZ;;IACA,IAAI3B,GAAG,CAACnL,KAAJ,KAAcA,KAAlB,EAAyB;MACrBE,MAAM,GAAGiL,GAAT;MACA;IACH;EACJ;;EACD,OAAOjL,MAAP;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASof,qBAAT,CAA+BzX,EAA/B,EAAmC0X,IAAnC,EAAyCC,QAAzC,EAAmDC,QAAnD,EAA6D;EAChEA,QAAQ,CAACC,aAAT,CAAuB7X,EAAvB,IAA6B,EAA7B;;EACA,KAAK,IAAI3G,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGqe,IAAI,CAAC1e,MAAzB,EAAiCK,CAAC,EAAlC,EAAsC;IAClCue,QAAQ,CAACC,aAAT,CAAuB7X,EAAvB,EAA2B0X,IAAI,CAACre,CAAD,CAA/B,IAAsCse,QAAQ,CAACD,IAAI,CAACre,CAAD,CAAL,CAA9C;EACH;AACJ;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASye,mBAAT,CAA6BC,SAA7B,EAAwCL,IAAxC,EAA8CE,QAA9C,EAAwD;EAC3D,KAAK,IAAIve,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGqe,IAAI,CAAC1e,MAAzB,EAAiCK,CAAC,EAAlC,EAAsC;IAClC,IAAI0e,SAAS,CAACC,WAAd,EAA2B;MACvB;IACH;;IACDD,SAAS,CAACE,mBAAV,CAA8BP,IAAI,CAACre,CAAD,CAAlC,EAAuCue,QAAQ,CAACC,aAAT,CAAuBE,SAAS,CAAC5X,OAAV,CAAkBH,EAAzC,EAA6C0X,IAAI,CAACre,CAAD,CAAjD,CAAvC;EACH;AACJ;AACD;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAAS6e,sBAAT,CAAgCnY,MAAhC,EAAwCoY,SAAxC,EAAmD;EACtDpY,MAAM,CAACqY,eAAP,CAAuBD,SAAvB;;EACA,IAAIpY,MAAM,CAACsY,OAAX,EAAoB;IAChBtY,MAAM,CAACuY,eAAP;EACH;AACJ;AACD;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASC,sBAAT,CAAgCnd,GAAhC,EAAqC;EACxC,OAAOod,QAAQ,CAACpd,GAAG,CAACqd,YAAJ,CAAiB5gB,QAAQ,CAACyY,YAA1B,CAAD,EAA0C,EAA1C,CAAf;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASoI,wBAAT,CAAkCC,MAAlC,EAA0Czb,MAA1C,EAAkD0a,QAAlD,EAA4D;EAC/D,IAAIgB,UAAU,GAAG,EAAjB;;EACA,KAAK,IAAIvf,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGsf,MAAM,CAAC3f,MAA3B,EAAmCK,CAAC,EAApC,EAAwC;IACpC,IAAIhB,MAAM,GAAGuf,QAAQ,CAAC7X,MAAT,CAAgB4M,gBAAhB,CAAiCgM,MAAM,CAACtf,CAAD,CAAvC,CAAb;IACA,IAAIsB,KAAK,GAAGuC,MAAM,CAAC7D,CAAD,CAAN,KAAc,MAAd,GAAuB,IAAvB,GAA8B6D,MAAM,CAAC7D,CAAD,CAAhD;IACA,IAAIuC,IAAI,GAAG;MACPzD,KAAK,EAAEwgB,MAAM,CAACtf,CAAD,CADN;MACWqC,SAAS,EAAE,IADtB;MAC4BsF,GAAG,EAAE3I,MAAM,CAAC2I,GADxC;MAC6CwG,QAAQ,EAAE,OADvD;MACgEjO,IAAI,EAAElB,MAAM,CAACkB,IAD7E;MAEPkO,SAAS,EAAEmQ,QAAQ,CAACiB,kBAFb;MAEiCC,YAAY,EAAElB,QAAQ,CAAC7X,MAAT,CAAgBgZ,cAAhB,CAA+BD;IAF9E,CAAX;;IAIA,IAAIne,KAAK,KAAK,EAAV,IAAgBpE,iBAAiB,CAACoE,KAAD,CAArC,EAA8C;MAC1Cie,UAAU,GAAGA,UAAU,CAAClN,MAAX,CAAkB9T,kBAAkB,CAACohB,2BAAnB,CAA+Cpd,IAA/C,CAAlB,CAAb;IACH,CAFD,MAGK;MACDgd,UAAU,CAAC9e,IAAX,CAAgBzD,MAAM,CAAC,EAAD,EAAK;QAAEsE,KAAK,EAAEA;MAAT,CAAL,EAAuBiB,IAAvB,CAAtB;IACH;EACJ;;EACD,OAAOhE,kBAAkB,CAACqhB,YAAnB,CAAgCL,UAAhC,CAAP;AACH;AACD;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASM,aAAT,CAAuBtd,IAAvB,EAA6B;EAChC,IAAIud,aAAa,GAAG,EAApB;;EACA,KAAK,IAAIlU,EAAE,GAAG,CAAT,EAAYiG,EAAE,GAAG/N,MAAM,CAACC,IAAP,CAAYxB,IAAZ,CAAtB,EAAyCqJ,EAAE,GAAGiG,EAAE,CAAClS,MAAjD,EAAyDiM,EAAE,EAA3D,EAA+D;IAC3D,IAAImU,IAAI,GAAGlO,EAAE,CAACjG,EAAD,CAAb;IACAkU,aAAa,CAACrf,IAAd,CAAmB8B,IAAI,CAACwd,IAAD,CAAvB;EACH;;EACD,OAAOD,aAAP;AACH;AACD;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASE,qBAAT,CAA+B5b,KAA/B,EAAsC6b,UAAtC,EAAkD;EACrD,IAAIX,MAAM,GAAG,EAAb;EACA,IAAIvb,IAAI,GAAG,EAAX;;EACA,KAAK,IAAI/D,CAAC,GAAGoE,KAAb,EAAoBpE,CAAC,IAAI,CAAzB,EAA4BA,CAAC,EAA7B,EAAiC;IAC7B,IAAIigB,UAAU,CAACjgB,CAAD,CAAV,CAAcW,YAAd,IAA8B2e,MAAM,CAACtb,OAAP,CAAeic,UAAU,CAACjgB,CAAD,CAAV,CAAcjB,IAAd,CAAmBD,KAAlC,MAA6C,CAAC,CAA5E,KACImhB,UAAU,CAACjgB,CAAD,CAAV,CAAcyB,MAAd,GAAuBwe,UAAU,CAAC7b,KAAD,CAAV,CAAkB3C,MAAzC,IAAmDzB,CAAC,KAAKoE,KAD7D,CAAJ,EACyE;MACrEkb,MAAM,CAAC7e,IAAP,CAAYwf,UAAU,CAACjgB,CAAD,CAAV,CAAcjB,IAAd,CAAmBD,KAA/B;MACAiF,IAAI,CAACtD,IAAL,CAAUwf,UAAU,CAACjgB,CAAD,CAAV,CAAcjB,IAAd,CAAmB2O,GAA7B;;MACA,IAAIuS,UAAU,CAACjgB,CAAD,CAAV,CAAcyB,MAAd,KAAyB,CAA7B,EAAgC;QAC5B;MACH;IACJ;EACJ;;EACD,OAAO;IAAE6d,MAAM,EAAEA,MAAV;IAAkBvb,IAAI,EAAEA;EAAxB,CAAP;AACH,C,CACD;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASmc,aAAT,CAAuBC,iBAAvB,EAA0CC,cAA1C,EAA0DC,IAA1D,EAAgE;EACnE,IAAIC,YAAY,GAAGH,iBAAnB;EACA,IAAII,SAAS,GAAGH,cAAhB;EACA,IAAII,oBAAoB,GAAG,KAA3B;;EACA,IAAIH,IAAJ,EAAU;IACN,KAAK,IAAIrgB,CAAC,GAAGugB,SAAS,CAAC,CAAD,CAAtB,EAA2BvgB,CAAC,GAAGsgB,YAAY,CAAC3gB,MAA5C,EAAoDK,CAAC,EAArD,EAAyD;MACrD,IAAIqa,OAAO,GAAGiG,YAAY,CAACtgB,CAAD,CAA1B;;MACA,KAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGoa,OAAO,CAAC1a,MAA5B,EAAoCM,CAAC,EAArC,EAAyC;QACrC,IAAIugB,oBAAoB,IAAIF,YAAY,CAACtgB,CAAD,CAAZ,CAAgBC,CAAhB,MAAuB,CAAnD,EAAsD;UAClDsgB,SAAS,GAAG,CAACvgB,CAAD,EAAIC,CAAJ,CAAZ;UACA,OAAOsgB,SAAP;QACH;;QACD,IAAI,CAACC,oBAAD,IAAyBD,SAAS,CAACrU,QAAV,OAAyB,CAAClM,CAAD,EAAIC,CAAJ,EAAOiM,QAAP,EAAtD,EAAyE;UACrEsU,oBAAoB,GAAG,IAAvB;QACH;MACJ;IACJ;EACJ,CAbD,MAcK;IACD,KAAK,IAAIxgB,CAAC,GAAGugB,SAAS,CAAC,CAAD,CAAtB,EAA2BvgB,CAAC,IAAI,CAAhC,EAAmCA,CAAC,EAApC,EAAwC;MACpC,IAAIqa,OAAO,GAAGiG,YAAY,CAACtgB,CAAD,CAA1B;;MACA,KAAK,IAAIC,CAAC,GAAGoa,OAAO,CAAC1a,MAAR,GAAiB,CAA9B,EAAiCM,CAAC,IAAI,CAAtC,EAAyCA,CAAC,EAA1C,EAA8C;QAC1C,IAAIugB,oBAAoB,IAAIF,YAAY,CAACtgB,CAAD,CAAZ,CAAgBC,CAAhB,MAAuB,CAAnD,EAAsD;UAClDsgB,SAAS,GAAG,CAACvgB,CAAD,EAAIC,CAAJ,CAAZ;UACA,OAAOsgB,SAAP;QACH;;QACD,IAAI,CAACC,oBAAD,IAAyBD,SAAS,CAACrU,QAAV,OAAyB,CAAClM,CAAD,EAAIC,CAAJ,EAAOiM,QAAP,EAAtD,EAAyE;UACrEsU,oBAAoB,GAAG,IAAvB;QACH;MACJ;IACJ;EACJ;;EACD,OAAOD,SAAP;AACH"},"metadata":{},"sourceType":"module"}