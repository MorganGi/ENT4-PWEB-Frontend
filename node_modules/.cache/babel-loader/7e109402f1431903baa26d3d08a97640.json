{"ast":null,"code":"/* eslint-disable */\nimport { createElement, isBlazor, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { Toolbar as Tool } from '@syncfusion/ej2-navigations';\nimport { DropDownButton } from '@syncfusion/ej2-splitbuttons';\n/* eslint-disable */\n\n/**\n * @hidden\n */\n\nvar FormDesignerToolbar =\n/** @class */\nfunction () {\n  function FormDesignerToolbar(viewer, viewerBase, toolbar) {\n    /**\n     * @private\n    */\n    this.isToolbarHidden = false;\n    this.isTextboxBtnVisible = true;\n    this.isPasswordBtnVisible = true;\n    this.isCheckboxBtnVisible = true;\n    this.isRadiobuttonBtnVisible = true;\n    this.isDropdownBtnVisible = true;\n    this.isListboxBtnVisible = true;\n    this.isSignatureBtnVisible = true;\n    this.isDeleteBtnVisible = true;\n    this.toolbarBorderHeight = 1;\n    this.pdfViewer = viewer;\n    this.pdfViewerBase = viewerBase;\n    this.primaryToolbar = toolbar;\n  }\n\n  FormDesignerToolbar.prototype.initializeFormDesignerToolbar = function () {\n    var _this = this; // eslint-disable-next-line max-len\n\n\n    this.toolbarElement = createElement('div', {\n      id: this.pdfViewer.element.id + '_formdesigner_toolbar',\n      className: 'e-pv-formdesigner-toolbar'\n    });\n    this.pdfViewerBase.viewerMainContainer.appendChild(this.toolbarElement);\n    this.toolbar = new Tool({\n      width: '',\n      height: '',\n      overflowMode: 'Popup',\n      items: this.createToolbarItems(),\n      clicked: this.onToolbarClicked.bind(this),\n      created: function () {\n        _this.createDropDowns();\n      }\n    }); //this.toolbar.isStringTemplate = true;\n\n    if (this.pdfViewer.enableRtl) {\n      this.toolbar.enableRtl = true;\n    }\n\n    this.toolbar.appendTo(this.toolbarElement);\n    this.afterToolbarCreation();\n    this.createSignContainer();\n    this.applyFormDesignerToolbarSettings(); //this.updateToolbarItems();\n\n    this.showFormDesignerToolbar(null, true);\n  };\n  /**\n   * @param element\n   * @param isInitialLoading\n   * @param element\n   * @param isInitialLoading\n   * @private\n   */\n\n\n  FormDesignerToolbar.prototype.showFormDesignerToolbar = function (element, isInitialLoading) {\n    if (!this.isToolbarHidden) {\n      // eslint-disable-next-line\n      var formDesignerModule = this.pdfViewer.formDesignerModule;\n\n      if (element) {\n        this.primaryToolbar.deSelectItem(element);\n      } else {\n        if (this.pdfViewer.enableToolbar) {\n          this.primaryToolbar.deSelectItem(this.primaryToolbar.formDesignerItem);\n        }\n      }\n\n      this.adjustViewer(false); // eslint-disable-next-line max-len\n      //this.deselectAllItems();\n\n      this.toolbarElement.style.display = 'none';\n      this.pdfViewer.formDesignerModule.setMode(\"edit\");\n      this.pdfViewer.designerMode = false;\n\n      if (!isInitialLoading) {\n        this.pdfViewer.isFormDesignerToolbarVisible = false;\n      }\n    } else {\n      var toolBarInitialStatus = this.toolbarElement.style.display;\n      this.toolbarElement.style.display = 'block';\n      this.pdfViewer.designerMode = true;\n      this.pdfViewer.formDesignerModule.setMode(\"designer\");\n\n      if (!isInitialLoading) {\n        this.pdfViewer.isFormDesignerToolbarVisible = true;\n      }\n\n      if (element) {\n        this.primaryToolbar.selectItem(element);\n      } else {\n        if (this.pdfViewer.enableToolbar) {\n          this.primaryToolbar.selectItem(this.primaryToolbar.formDesignerItem);\n        }\n      }\n\n      if (toolBarInitialStatus === 'none') {\n        this.adjustViewer(true);\n      }\n    } // eslint-disable-next-line max-len\n\n\n    if (this.pdfViewer.magnification && this.pdfViewer.magnification.fitType === 'fitToPage') {\n      this.pdfViewer.magnification.fitToPage();\n    } //this.enableAnnotationAddTools(true);\n\n\n    this.isToolbarHidden = !this.isToolbarHidden;\n  };\n  /**\n   * @param isAdjust\n   * @private\n  */\n\n\n  FormDesignerToolbar.prototype.adjustViewer = function (isAdjust) {\n    var splitterElement;\n    var toolbarContainer;\n    var formDesignerToolbarHeight;\n\n    if (isBlazor()) {\n      splitterElement = this.pdfViewer.element.querySelector('.e-pv-sidebar-toolbar-splitter');\n      toolbarContainer = this.pdfViewer.element.querySelector('.e-pv-toolbar');\n      var formDesignerToolbarContainer = this.pdfViewer.element.querySelector('.e-pv-formDesigner-toolbar');\n      formDesignerToolbarHeight = this.getToolbarHeight(formDesignerToolbarContainer);\n    } else {\n      splitterElement = this.pdfViewerBase.getElement('_sideBarToolbarSplitter');\n      toolbarContainer = this.pdfViewerBase.getElement('_toolbarContainer');\n      formDesignerToolbarHeight = this.getToolbarHeight(this.toolbarElement);\n    }\n\n    var toolbarHeight = this.getToolbarHeight(toolbarContainer);\n    var sideBarToolbar = this.pdfViewerBase.navigationPane.sideBarToolbar;\n    var sideBarContentContainer = this.pdfViewerBase.navigationPane.sideBarContentContainer;\n    var commentsContainer = this.pdfViewerBase.navigationPane.commentPanelContainer;\n    var commentPanelResizer = this.pdfViewerBase.navigationPane.commentPanelResizer;\n\n    if (isAdjust) {\n      if (this.pdfViewer.enableToolbar) {\n        sideBarToolbar.style.top = toolbarHeight + formDesignerToolbarHeight + 'px';\n        sideBarContentContainer.style.top = toolbarHeight + formDesignerToolbarHeight + 'px';\n        splitterElement.style.top = toolbarHeight + formDesignerToolbarHeight + 'px';\n        commentsContainer.style.top = toolbarHeight + formDesignerToolbarHeight + 'px';\n        commentPanelResizer.style.top = toolbarHeight + formDesignerToolbarHeight + 'px';\n      } else {\n        sideBarToolbar.style.top = formDesignerToolbarHeight + 'px';\n        sideBarContentContainer.style.top = formDesignerToolbarHeight + 'px';\n        splitterElement.style.top = formDesignerToolbarHeight + 'px';\n        commentsContainer.style.top = formDesignerToolbarHeight + 'px';\n        commentPanelResizer.style.top = toolbarHeight + formDesignerToolbarHeight + 'px';\n      }\n\n      if (!this.pdfViewer.enableToolbar) {\n        toolbarHeight = 0;\n      } // eslint-disable-next-line max-len\n\n\n      this.pdfViewerBase.viewerContainer.style.height = this.updateViewerHeight(this.getElementHeight(this.pdfViewerBase.viewerContainer), formDesignerToolbarHeight + toolbarHeight) + 'px';\n      sideBarToolbar.style.height = this.getNavigationToolbarHeight(formDesignerToolbarHeight + toolbarHeight) + 'px';\n      splitterElement.style.height = this.getNavigationToolbarHeight(formDesignerToolbarHeight + toolbarHeight) + 'px';\n    } else {\n      if (this.pdfViewer.enableToolbar) {\n        // eslint-disable-next-line max-len\n        sideBarToolbar.style.top = toolbarHeight + 'px';\n        sideBarContentContainer.style.top = toolbarHeight + 'px';\n        splitterElement.style.top = toolbarHeight + 'px';\n        commentsContainer.style.top = toolbarHeight + 'px';\n        commentPanelResizer.style.top = toolbarHeight + 'px';\n      } else {\n        sideBarToolbar.style.top = 1 + 'px';\n        sideBarToolbar.style.height = '100%';\n        sideBarContentContainer.style.top = 1 + 'px';\n        sideBarContentContainer.style.height = '100%';\n        splitterElement.style.top = 1 + 'px';\n        splitterElement.style.height = '100%';\n        commentsContainer.style.top = 1 + 'px';\n        commentsContainer.style.height = '100%';\n        commentPanelResizer.style.top = 1 + 'px';\n        commentPanelResizer.style.height = '100%';\n      }\n\n      if (!this.pdfViewer.enableToolbar) {\n        toolbarHeight = 0;\n      } // eslint-disable-next-line max-len\n\n\n      this.pdfViewerBase.viewerContainer.style.height = this.resetViewerHeight(this.getElementHeight(this.pdfViewerBase.viewerContainer), formDesignerToolbarHeight) + 'px';\n      sideBarToolbar.style.height = this.getNavigationToolbarHeight(toolbarHeight);\n      splitterElement.style.height = this.getNavigationToolbarHeight(toolbarHeight);\n\n      if (this.pdfViewerBase.viewerContainer.style.height === '0px') {\n        // eslint-disable-next-line\n        this.pdfViewerBase.viewerContainer.style.height = parseInt(this.pdfViewer.element.style.height) - parseInt(sideBarToolbar.style.top) + 'px';\n      }\n    }\n\n    if (isBlazor()) {\n      this.updateContentContainerHeight(isAdjust, true);\n    } else {\n      this.updateContentContainerHeight(isAdjust);\n    }\n  };\n\n  FormDesignerToolbar.prototype.getElementHeight = function (element) {\n    try {\n      return element.getBoundingClientRect().height;\n    } catch (error) {\n      return 0;\n    }\n  };\n\n  FormDesignerToolbar.prototype.updateViewerHeight = function (viewerHeight, toolbarHeight) {\n    return this.getElementHeight(this.pdfViewer.element) - toolbarHeight;\n  };\n\n  FormDesignerToolbar.prototype.resetViewerHeight = function (viewerHeight, toolbarHeight) {\n    return viewerHeight + toolbarHeight;\n  };\n\n  FormDesignerToolbar.prototype.getNavigationToolbarHeight = function (toolbarHeight) {\n    var height = this.pdfViewer.element.getBoundingClientRect().height;\n    return height !== 0 ? height - toolbarHeight + 'px' : '';\n  };\n\n  FormDesignerToolbar.prototype.updateContentContainerHeight = function (isAdjust, isBlazor) {\n    var formDesignerToolbarHeight;\n\n    if (isBlazor) {\n      var formDesignerToolbarContainer = this.pdfViewer.element.querySelector('.e-pv-formDesigner-toolbar');\n      formDesignerToolbarHeight = this.getToolbarHeight(formDesignerToolbarContainer);\n    } else {\n      formDesignerToolbarHeight = this.getToolbarHeight(this.toolbarElement);\n    }\n\n    var sideBarClientRect = this.pdfViewerBase.navigationPane.sideBarContentContainer.getBoundingClientRect();\n\n    if (sideBarClientRect.height !== 0) {\n      if (isAdjust) {\n        // eslint-disable-next-line max-len\n        this.pdfViewerBase.navigationPane.sideBarContentContainer.style.height = sideBarClientRect.height - formDesignerToolbarHeight + 'px';\n      } else {\n        // eslint-disable-next-line max-len\n        this.pdfViewerBase.navigationPane.sideBarContentContainer.style.height = sideBarClientRect.height + formDesignerToolbarHeight + 'px';\n      }\n    }\n  };\n\n  FormDesignerToolbar.prototype.getToolbarHeight = function (element) {\n    var toolbarHeight = element.getBoundingClientRect().height;\n\n    if (toolbarHeight === 0 && element === this.pdfViewerBase.getElement('_toolbarContainer')) {\n      // getComputedStyle gets the value from style and toolbar border height is added to it.\n      // eslint-disable-next-line\n      toolbarHeight = parseFloat(window.getComputedStyle(element)['height']) + this.toolbarBorderHeight;\n    }\n\n    return toolbarHeight;\n  }; // eslint-disable-next-line\n\n\n  FormDesignerToolbar.prototype.createToolbarItems = function () {\n    var signTemplate = this.getTemplate('span', '_formfield_signature', 'e-pv-annotation-handwritten-container'); // eslint-disable-next-line\n\n    var items = []; // eslint-disable-next-line max-len\n\n    items.push({\n      prefixIcon: 'e-pv-textbox-icon e-pv-icon',\n      className: 'e-pv-annotation-shapes-container',\n      id: this.pdfViewer.element.id + '_formdesigner_textbox',\n      align: 'Left'\n    });\n    items.push({\n      prefixIcon: 'e-pv-password-icon e-pv-icon',\n      className: 'e-pv-annotation-shapes-container',\n      id: this.pdfViewer.element.id + '_formdesigner_passwordfield',\n      align: 'Left'\n    });\n    items.push({\n      prefixIcon: 'e-pv-checkbox-icon e-pv-icon',\n      className: 'e-pv-annotation-shapes-container',\n      id: this.pdfViewer.element.id + '_formdesigner_checkbox',\n      align: 'Left'\n    });\n    items.push({\n      prefixIcon: 'e-pv-radiobutton-icon e-pv-icon',\n      className: 'e-pv-annotation-shapes-container',\n      id: this.pdfViewer.element.id + '_formdesigner_radiobutton',\n      align: 'Left'\n    });\n    items.push({\n      prefixIcon: 'e-pv-dropdown-icon e-pv-icon',\n      className: 'e-pv-annotation-shapes-container',\n      id: this.pdfViewer.element.id + '_formdesigner_dropdown',\n      align: 'Left'\n    });\n    items.push({\n      prefixIcon: 'e-pv-listbox-icon e-pv-icon',\n      className: 'e-pv-annotation-shapes-container',\n      id: this.pdfViewer.element.id + '_formdesigner_listbox',\n      align: 'Left'\n    });\n    items.push({\n      template: signTemplate,\n      align: 'Left'\n    });\n    items.push({\n      type: 'Separator',\n      align: 'Left'\n    }); // eslint-disable-next-line max-len\n\n    items.push({\n      prefixIcon: 'e-pv-annotation-delete-icon e-pv-icon',\n      className: 'e-pv-annotation-delete-container',\n      id: this.pdfViewer.element.id + '_formdesigner_delete',\n      align: 'Left'\n    });\n    items.push({\n      prefixIcon: 'e-pv-annotation-tools-close-icon e-pv-icon',\n      className: 'e-pv-annotation-tools-close-container',\n      id: this.pdfViewer.element.id + '_formdesigner_close',\n      align: 'Right'\n    });\n    return items;\n  };\n\n  FormDesignerToolbar.prototype.createSignContainer = function () {\n    var _this = this;\n\n    this.handWrittenSignatureItem = this.pdfViewerBase.getElement('_formfield_signature'); // eslint-disable-next-line max-len\n\n    this.primaryToolbar.createTooltip(this.pdfViewerBase.getElement('_formfield_signature'), this.pdfViewer.localeObj.getConstant('HandwrittenSignatureDialogHeaderText')); // eslint-disable-next-line\n\n    var proxy = this;\n    var items = [];\n    items = [{\n      text: 'ADD SIGNATURE'\n    }, {\n      separator: true\n    }, {\n      text: 'ADD INITIAL'\n    }];\n    var saveOptions = {\n      items: items,\n      iconCss: 'e-pv-handwritten-icon e-pv-icon',\n      cssClass: 'e-pv-handwritten-popup',\n      beforeItemRender: function (args) {\n        _this.pdfViewer.clearSelection(_this.pdfViewerBase.currentPageNumber - 1);\n\n        if (args.element && args.element.className.indexOf(\"e-separator\") !== -1) {\n          args.element.style.margin = \"8px 0\";\n        }\n\n        if (args.item.text === 'ADD SIGNATURE') {\n          args.element.innerHTML = '';\n          var addInitialSpan = createElement('button');\n          addInitialSpan.classList.add(\"e-control\", \"e-btn\", \"e-lib\", \"e-outline\", \"e-primary\");\n          addInitialSpan.textContent = _this.pdfViewer.localeObj.getConstant('SignatureFieldDialogHeaderText');\n          addInitialSpan.style.width = \"130px\";\n          addInitialSpan.style.height = \"36px\";\n          addInitialSpan.addEventListener('click', _this.clickSignature.bind(_this));\n          args.element.appendChild(addInitialSpan);\n          args.element.addEventListener('mouseover', _this.hoverInitialBtn.bind(_this));\n          args.element.style.width = '206px';\n          args.element.style.display = 'flex';\n          args.element.style.flexDirection = 'column';\n          args.element.style.height = 'auto';\n          args.element.style.alignItems = 'center';\n        }\n\n        if (args.item.text === 'ADD INITIAL') {\n          args.element.innerHTML = '';\n          var addInitialSpan = createElement('button');\n          addInitialSpan.classList.add(\"e-control\", \"e-btn\", \"e-lib\", \"e-outline\", \"e-primary\");\n          addInitialSpan.textContent = _this.pdfViewer.localeObj.getConstant('InitialFieldDialogHeaderText');\n          addInitialSpan.style.width = \"130px\";\n          addInitialSpan.style.height = \"36px\";\n          addInitialSpan.addEventListener('click', _this.clickInitial.bind(_this));\n          args.element.appendChild(addInitialSpan);\n          args.element.addEventListener('mouseover', _this.hoverInitialBtn.bind(_this));\n          args.element.style.width = '206px';\n          args.element.style.display = 'flex';\n          args.element.style.flexDirection = 'column';\n          args.element.style.height = 'auto';\n          args.element.style.alignItems = 'center';\n        }\n      }\n    };\n    var drpDownBtn = new DropDownButton(saveOptions);\n\n    if (this.pdfViewer.enableRtl) {\n      drpDownBtn.enableRtl = this.pdfViewer.enableRtl;\n    }\n\n    drpDownBtn.appendTo(this.handWrittenSignatureItem);\n  };\n\n  FormDesignerToolbar.prototype.hoverInitialBtn = function (event) {\n    var eventTarget = event.target;\n    var currentFieldID = isNullOrUndefined(event.path) ? event.composedPath()[0].id : event.path[0].id;\n\n    if (currentFieldID !== 'sign_' + currentFieldID.split(\"_\")[1] && currentFieldID !== 'delete_' + currentFieldID.split(\"_\")[1]) {\n      var liElement = document.getElementById(eventTarget.id);\n\n      if (isNullOrUndefined(liElement)) {\n        liElement = document.getElementById(eventTarget.parentElement.id);\n      }\n\n      if (liElement != null && (eventTarget.id !== 'sign_' + eventTarget.id.split('_')[1] || eventTarget.id !== 'sign_border_' + eventTarget.id.split('_')[2])) {\n        liElement.style.background = 'transparent';\n        liElement.style.cursor = 'default';\n      } else if (liElement.parentElement != null && (eventTarget.id !== 'sign_' + eventTarget.id.split('_')[1] || eventTarget.id !== 'sign_border_' + eventTarget.id.split('_')[2])) {\n        liElement.parentElement.style.background = 'transparent';\n        liElement.parentElement.style.cursor = 'default';\n      }\n    }\n  };\n\n  FormDesignerToolbar.prototype.getTemplate = function (elementName, id, className) {\n    var element = createElement(elementName, {\n      id: this.pdfViewer.element.id + id\n    });\n\n    if (className) {\n      element.className = className;\n    }\n\n    return element.outerHTML;\n  };\n\n  FormDesignerToolbar.prototype.onToolbarClicked = function (args) {\n    // eslint-disable-next-line\n    if (args && args.item) {\n      if (args.item.id.indexOf(\"textbox\") !== -1) {\n        this.pdfViewer.formDesignerModule.setFormFieldMode('Textbox');\n      } else if (args.item.id.indexOf(\"passwordfield\") !== -1) {\n        this.pdfViewer.formDesignerModule.setFormFieldMode('Password');\n      } else if (args.item.id.indexOf(\"checkbox\") !== -1) {\n        this.pdfViewer.formDesignerModule.setFormFieldMode('CheckBox');\n      } else if (args.item.id.indexOf(\"radiobutton\") !== -1) {\n        this.pdfViewer.formDesignerModule.setFormFieldMode('RadioButton');\n      } else if (args.item.id.indexOf(\"dropdown\") !== -1) {\n        this.pdfViewer.formDesignerModule.setFormFieldMode('DropDown');\n      } else if (args.item.id.indexOf(\"listbox\") !== -1) {\n        this.pdfViewer.formDesignerModule.setFormFieldMode('ListBox');\n      } else if (args.item.id.indexOf(\"signature\") !== -1) {\n        this.pdfViewer.formDesignerModule.setFormFieldMode('SignatureField');\n      } else if (args.item.id.indexOf(\"close\") !== -1) {\n        this.pdfViewer.toolbarModule.formDesignerToolbarModule.showFormDesignerToolbar(this.pdfViewer.toolbarModule.formDesignerItem);\n      } else if (args.item.id.indexOf(\"delete\") !== -1) {\n        this.pdfViewer.formDesignerModule.deleteFormField(this.pdfViewer.selectedItems.formFields[0]);\n        this.showHideDeleteIcon(false);\n      }\n\n      if (this.pdfViewer.selectedItems.formFields.length > 0) {\n        this.pdfViewer.clearSelection(this.pdfViewer.selectedItems.formFields[0].pageIndex);\n      }\n    }\n  };\n\n  FormDesignerToolbar.prototype.clickSignature = function (args) {\n    this.pdfViewer.formDesignerModule.setFormFieldMode('SignatureField');\n  };\n\n  FormDesignerToolbar.prototype.clickInitial = function (args) {\n    this.pdfViewer.isInitialFieldToolbarSelection = true;\n    this.pdfViewer.formDesignerModule.setFormFieldMode('InitialField');\n    this.pdfViewer.isInitialFieldToolbarSelection = false;\n  };\n\n  FormDesignerToolbar.prototype.afterToolbarCreation = function () {\n    // eslint-disable-next-line max-len\n    this.textboxItem = this.primaryToolbar.addClassToolbarItem('_formdesigner_textbox', 'e-pv-formdesigner-textbox', this.pdfViewer.localeObj.getConstant('Textbox'));\n    this.passwordItem = this.primaryToolbar.addClassToolbarItem('_formdesigner_passwordfield', 'e-pv-formdesigner-passwordfield', this.pdfViewer.localeObj.getConstant('Password'));\n    this.checkboxItem = this.primaryToolbar.addClassToolbarItem('_formdesigner_checkbox', 'e-pv-formdesigner-checkbox', this.pdfViewer.localeObj.getConstant('Check Box'));\n    this.radioButtonItem = this.primaryToolbar.addClassToolbarItem('_formdesigner_radiobutton', 'e-pv-formdesigner-radiobutton', this.pdfViewer.localeObj.getConstant('Radio Button'));\n    this.dropdownItem = this.primaryToolbar.addClassToolbarItem('_formdesigner_dropdown', 'e-pv-formdesigner-dropdown', this.pdfViewer.localeObj.getConstant('Dropdown'));\n    this.listboxItem = this.primaryToolbar.addClassToolbarItem('_formdesigner_listbox', 'e-pv-formdesigner-listbox', this.pdfViewer.localeObj.getConstant('List Box')); //this.signatureItem = this.primaryToolbar.addClassToolbarItem('_formdesigner_signature', 'e-pv-formdesigner-signature', this.pdfViewer.localeObj.getConstant('Signature'));\n\n    this.deleteItem = this.primaryToolbar.addClassToolbarItem('_formdesigner_delete', 'e-pv-formdesigner-delete', this.pdfViewer.localeObj.getConstant('Delete FormField'));\n    this.closeItem = this.primaryToolbar.addClassToolbarItem('_formdesigner_close', 'e-pv-annotation-tools-close', null);\n    this.showHideDeleteIcon(false); //this.enableTextMarkupAnnotationPropertiesTools(false); \n  };\n\n  FormDesignerToolbar.prototype.showHideDeleteIcon = function (isEnable) {\n    if (this.toolbar) this.toolbar.enableItems(this.deleteItem.parentElement, isEnable);\n  };\n\n  FormDesignerToolbar.prototype.applyFormDesignerToolbarSettings = function () {\n    if (this.pdfViewer.toolbarSettings.formDesignerToolbarItems) {\n      if (this.pdfViewer.toolbarSettings.formDesignerToolbarItems.indexOf('TextboxTool') !== -1) {\n        this.showTextboxTool(true);\n      } else {\n        this.showTextboxTool(false);\n      }\n\n      if (this.pdfViewer.toolbarSettings.formDesignerToolbarItems.indexOf('PasswordTool') !== -1) {\n        this.showPasswordTool(true);\n      } else {\n        this.showPasswordTool(false);\n      }\n\n      if (this.pdfViewer.toolbarSettings.formDesignerToolbarItems.indexOf('CheckBoxTool') !== -1) {\n        this.showCheckboxTool(true);\n      } else {\n        this.showCheckboxTool(false);\n      }\n\n      if (this.pdfViewer.toolbarSettings.formDesignerToolbarItems.indexOf('RadioButtonTool') !== -1) {\n        this.showRadioButtonTool(true);\n      } else {\n        this.showRadioButtonTool(false);\n      }\n\n      if (this.pdfViewer.toolbarSettings.formDesignerToolbarItems.indexOf('DropdownTool') !== -1) {\n        this.showDropdownTool(true);\n      } else {\n        this.showDropdownTool(false);\n      }\n\n      if (this.pdfViewer.toolbarSettings.formDesignerToolbarItems.indexOf('ListboxTool') !== -1) {\n        this.showListboxTool(true);\n      } else {\n        this.showListboxTool(false);\n      }\n\n      if (this.pdfViewer.toolbarSettings.formDesignerToolbarItems.indexOf('DrawSignatureTool') !== -1) {\n        this.showDrawSignatureTool(true);\n      } else {\n        this.showDrawSignatureTool(false);\n      }\n\n      if (this.pdfViewer.toolbarSettings.formDesignerToolbarItems.indexOf('DeleteTool') !== -1) {\n        this.showDeleteTool(true);\n      } else {\n        this.showDeleteTool(false);\n      }\n\n      this.showSeparator();\n    }\n  };\n\n  FormDesignerToolbar.prototype.showTextboxTool = function (isShow) {\n    this.isTextboxBtnVisible = isShow;\n    this.applyHideToToolbar(isShow, 0, 0);\n  };\n\n  FormDesignerToolbar.prototype.showPasswordTool = function (isShow) {\n    this.isPasswordBtnVisible = isShow;\n    this.applyHideToToolbar(isShow, 1, 1);\n  };\n\n  FormDesignerToolbar.prototype.showCheckboxTool = function (isShow) {\n    this.isCheckboxBtnVisible = isShow;\n    this.applyHideToToolbar(isShow, 2, 2);\n  };\n\n  FormDesignerToolbar.prototype.showRadioButtonTool = function (isShow) {\n    this.isRadiobuttonBtnVisible = isShow;\n    this.applyHideToToolbar(isShow, 3, 3);\n  };\n\n  FormDesignerToolbar.prototype.showDropdownTool = function (isShow) {\n    this.isDropdownBtnVisible = isShow;\n    this.applyHideToToolbar(isShow, 4, 4);\n  };\n\n  FormDesignerToolbar.prototype.showListboxTool = function (isShow) {\n    this.isListboxBtnVisible = isShow;\n    this.applyHideToToolbar(isShow, 5, 5);\n  };\n\n  FormDesignerToolbar.prototype.showDrawSignatureTool = function (isShow) {\n    this.isSignatureBtnVisible = isShow;\n    this.applyHideToToolbar(isShow, 6, 6);\n  };\n\n  FormDesignerToolbar.prototype.showDeleteTool = function (isShow) {\n    this.isDeleteBtnVisible = isShow;\n    this.applyHideToToolbar(isShow, 8, 8);\n  };\n\n  FormDesignerToolbar.prototype.showSeparator = function () {\n    if (!this.isSignatureBtnVisible && !this.isDeleteBtnVisible) this.applyHideToToolbar(false, 7, 7);\n  };\n\n  FormDesignerToolbar.prototype.applyHideToToolbar = function (show, startIndex, endIndex) {\n    var isHide = !show;\n\n    for (var index = startIndex; index <= endIndex; index++) {\n      this.toolbar.hideItem(index, isHide);\n    }\n  };\n\n  FormDesignerToolbar.prototype.createDropDowns = function () {};\n  /**\n   * @private\n   */\n\n\n  FormDesignerToolbar.prototype.destroy = function () {\n    var componentElement = [this.textboxItem, this.passwordItem, this.checkboxItem, this.radioButtonItem, this.listboxItem, this.dropdownItem, this.handWrittenSignatureItem, this.deleteItem];\n\n    for (var i = 0; i < componentElement.length; i++) {\n      if (componentElement[i]) {\n        this.destroyDependentComponent(componentElement[i]);\n      }\n    }\n  };\n\n  FormDesignerToolbar.prototype.destroyDependentComponent = function (component) {\n    if (component.ej2_instances) {\n      for (var i = component.ej2_instances.length - 1; i >= 0; i--) {\n        component.ej2_instances[i].destroy();\n      }\n    }\n  };\n\n  return FormDesignerToolbar;\n}();\n\nexport { FormDesignerToolbar };","map":{"version":3,"names":["createElement","isBlazor","isNullOrUndefined","Toolbar","Tool","DropDownButton","FormDesignerToolbar","viewer","viewerBase","toolbar","isToolbarHidden","isTextboxBtnVisible","isPasswordBtnVisible","isCheckboxBtnVisible","isRadiobuttonBtnVisible","isDropdownBtnVisible","isListboxBtnVisible","isSignatureBtnVisible","isDeleteBtnVisible","toolbarBorderHeight","pdfViewer","pdfViewerBase","primaryToolbar","prototype","initializeFormDesignerToolbar","_this","toolbarElement","id","element","className","viewerMainContainer","appendChild","width","height","overflowMode","items","createToolbarItems","clicked","onToolbarClicked","bind","created","createDropDowns","enableRtl","appendTo","afterToolbarCreation","createSignContainer","applyFormDesignerToolbarSettings","showFormDesignerToolbar","isInitialLoading","formDesignerModule","deSelectItem","enableToolbar","formDesignerItem","adjustViewer","style","display","setMode","designerMode","isFormDesignerToolbarVisible","toolBarInitialStatus","selectItem","magnification","fitType","fitToPage","isAdjust","splitterElement","toolbarContainer","formDesignerToolbarHeight","querySelector","formDesignerToolbarContainer","getToolbarHeight","getElement","toolbarHeight","sideBarToolbar","navigationPane","sideBarContentContainer","commentsContainer","commentPanelContainer","commentPanelResizer","top","viewerContainer","updateViewerHeight","getElementHeight","getNavigationToolbarHeight","resetViewerHeight","parseInt","updateContentContainerHeight","getBoundingClientRect","error","viewerHeight","sideBarClientRect","parseFloat","window","getComputedStyle","signTemplate","getTemplate","push","prefixIcon","align","template","type","handWrittenSignatureItem","createTooltip","localeObj","getConstant","proxy","text","separator","saveOptions","iconCss","cssClass","beforeItemRender","args","clearSelection","currentPageNumber","indexOf","margin","item","innerHTML","addInitialSpan","classList","add","textContent","addEventListener","clickSignature","hoverInitialBtn","flexDirection","alignItems","clickInitial","drpDownBtn","event","eventTarget","target","currentFieldID","path","composedPath","split","liElement","document","getElementById","parentElement","background","cursor","elementName","outerHTML","setFormFieldMode","toolbarModule","formDesignerToolbarModule","deleteFormField","selectedItems","formFields","showHideDeleteIcon","length","pageIndex","isInitialFieldToolbarSelection","textboxItem","addClassToolbarItem","passwordItem","checkboxItem","radioButtonItem","dropdownItem","listboxItem","deleteItem","closeItem","isEnable","enableItems","toolbarSettings","formDesignerToolbarItems","showTextboxTool","showPasswordTool","showCheckboxTool","showRadioButtonTool","showDropdownTool","showListboxTool","showDrawSignatureTool","showDeleteTool","showSeparator","isShow","applyHideToToolbar","show","startIndex","endIndex","isHide","index","hideItem","destroy","componentElement","i","destroyDependentComponent","component","ej2_instances"],"sources":["/home/morgan/Desktop/Projets/ENT4/Jwt-Auth-pdf/react-jwt-auth/react-jwt-auth/node_modules/@syncfusion/ej2-pdfviewer/src/pdfviewer/toolbar/formdesigner-toolbar.js"],"sourcesContent":["/* eslint-disable */\nimport { createElement, isBlazor, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { Toolbar as Tool } from '@syncfusion/ej2-navigations';\nimport { DropDownButton } from '@syncfusion/ej2-splitbuttons';\n/* eslint-disable */\n/**\n * @hidden\n */\nvar FormDesignerToolbar = /** @class */ (function () {\n    function FormDesignerToolbar(viewer, viewerBase, toolbar) {\n        /**\n         * @private\n        */\n        this.isToolbarHidden = false;\n        this.isTextboxBtnVisible = true;\n        this.isPasswordBtnVisible = true;\n        this.isCheckboxBtnVisible = true;\n        this.isRadiobuttonBtnVisible = true;\n        this.isDropdownBtnVisible = true;\n        this.isListboxBtnVisible = true;\n        this.isSignatureBtnVisible = true;\n        this.isDeleteBtnVisible = true;\n        this.toolbarBorderHeight = 1;\n        this.pdfViewer = viewer;\n        this.pdfViewerBase = viewerBase;\n        this.primaryToolbar = toolbar;\n    }\n    FormDesignerToolbar.prototype.initializeFormDesignerToolbar = function () {\n        var _this = this;\n        // eslint-disable-next-line max-len\n        this.toolbarElement = createElement('div', { id: this.pdfViewer.element.id + '_formdesigner_toolbar', className: 'e-pv-formdesigner-toolbar' });\n        this.pdfViewerBase.viewerMainContainer.appendChild(this.toolbarElement);\n        this.toolbar = new Tool({\n            width: '', height: '', overflowMode: 'Popup',\n            items: this.createToolbarItems(), clicked: this.onToolbarClicked.bind(this),\n            created: function () {\n                _this.createDropDowns();\n            }\n        });\n        //this.toolbar.isStringTemplate = true;\n        if (this.pdfViewer.enableRtl) {\n            this.toolbar.enableRtl = true;\n        }\n        this.toolbar.appendTo(this.toolbarElement);\n        this.afterToolbarCreation();\n        this.createSignContainer();\n        this.applyFormDesignerToolbarSettings();\n        //this.updateToolbarItems();\n        this.showFormDesignerToolbar(null, true);\n    };\n    /**\n     * @param element\n     * @param isInitialLoading\n     * @param element\n     * @param isInitialLoading\n     * @private\n     */\n    FormDesignerToolbar.prototype.showFormDesignerToolbar = function (element, isInitialLoading) {\n        if (!this.isToolbarHidden) {\n            // eslint-disable-next-line\n            var formDesignerModule = this.pdfViewer.formDesignerModule;\n            if (element) {\n                this.primaryToolbar.deSelectItem(element);\n            }\n            else {\n                if (this.pdfViewer.enableToolbar) {\n                    this.primaryToolbar.deSelectItem(this.primaryToolbar.formDesignerItem);\n                }\n            }\n            this.adjustViewer(false);\n            // eslint-disable-next-line max-len\n            //this.deselectAllItems();\n            this.toolbarElement.style.display = 'none';\n            this.pdfViewer.formDesignerModule.setMode(\"edit\");\n            this.pdfViewer.designerMode = false;\n            if (!isInitialLoading) {\n                this.pdfViewer.isFormDesignerToolbarVisible = false;\n            }\n        }\n        else {\n            var toolBarInitialStatus = this.toolbarElement.style.display;\n            this.toolbarElement.style.display = 'block';\n            this.pdfViewer.designerMode = true;\n            this.pdfViewer.formDesignerModule.setMode(\"designer\");\n            if (!isInitialLoading) {\n                this.pdfViewer.isFormDesignerToolbarVisible = true;\n            }\n            if (element) {\n                this.primaryToolbar.selectItem(element);\n            }\n            else {\n                if (this.pdfViewer.enableToolbar) {\n                    this.primaryToolbar.selectItem(this.primaryToolbar.formDesignerItem);\n                }\n            }\n            if (toolBarInitialStatus === 'none') {\n                this.adjustViewer(true);\n            }\n        }\n        // eslint-disable-next-line max-len\n        if (this.pdfViewer.magnification && this.pdfViewer.magnification.fitType === 'fitToPage') {\n            this.pdfViewer.magnification.fitToPage();\n        }\n        //this.enableAnnotationAddTools(true);\n        this.isToolbarHidden = !this.isToolbarHidden;\n    };\n    /**\n     * @param isAdjust\n     * @private\n    */\n    FormDesignerToolbar.prototype.adjustViewer = function (isAdjust) {\n        var splitterElement;\n        var toolbarContainer;\n        var formDesignerToolbarHeight;\n        if (isBlazor()) {\n            splitterElement = this.pdfViewer.element.querySelector('.e-pv-sidebar-toolbar-splitter');\n            toolbarContainer = this.pdfViewer.element.querySelector('.e-pv-toolbar');\n            var formDesignerToolbarContainer = this.pdfViewer.element.querySelector('.e-pv-formDesigner-toolbar');\n            formDesignerToolbarHeight = this.getToolbarHeight(formDesignerToolbarContainer);\n        }\n        else {\n            splitterElement = this.pdfViewerBase.getElement('_sideBarToolbarSplitter');\n            toolbarContainer = this.pdfViewerBase.getElement('_toolbarContainer');\n            formDesignerToolbarHeight = this.getToolbarHeight(this.toolbarElement);\n        }\n        var toolbarHeight = this.getToolbarHeight(toolbarContainer);\n        var sideBarToolbar = this.pdfViewerBase.navigationPane.sideBarToolbar;\n        var sideBarContentContainer = this.pdfViewerBase.navigationPane.sideBarContentContainer;\n        var commentsContainer = this.pdfViewerBase.navigationPane.commentPanelContainer;\n        var commentPanelResizer = this.pdfViewerBase.navigationPane.commentPanelResizer;\n        if (isAdjust) {\n            if (this.pdfViewer.enableToolbar) {\n                sideBarToolbar.style.top = (toolbarHeight + formDesignerToolbarHeight) + 'px';\n                sideBarContentContainer.style.top = (toolbarHeight + formDesignerToolbarHeight) + 'px';\n                splitterElement.style.top = (toolbarHeight + formDesignerToolbarHeight) + 'px';\n                commentsContainer.style.top = (toolbarHeight + formDesignerToolbarHeight) + 'px';\n                commentPanelResizer.style.top = (toolbarHeight + formDesignerToolbarHeight) + 'px';\n            }\n            else {\n                sideBarToolbar.style.top = (formDesignerToolbarHeight) + 'px';\n                sideBarContentContainer.style.top = (formDesignerToolbarHeight) + 'px';\n                splitterElement.style.top = (formDesignerToolbarHeight) + 'px';\n                commentsContainer.style.top = (formDesignerToolbarHeight) + 'px';\n                commentPanelResizer.style.top = (toolbarHeight + formDesignerToolbarHeight) + 'px';\n            }\n            if (!this.pdfViewer.enableToolbar) {\n                toolbarHeight = 0;\n            }\n            // eslint-disable-next-line max-len\n            this.pdfViewerBase.viewerContainer.style.height = this.updateViewerHeight(this.getElementHeight(this.pdfViewerBase.viewerContainer), (formDesignerToolbarHeight + toolbarHeight)) + 'px';\n            sideBarToolbar.style.height = this.getNavigationToolbarHeight(formDesignerToolbarHeight + toolbarHeight) + 'px';\n            splitterElement.style.height = this.getNavigationToolbarHeight(formDesignerToolbarHeight + toolbarHeight) + 'px';\n        }\n        else {\n            if (this.pdfViewer.enableToolbar) {\n                // eslint-disable-next-line max-len\n                sideBarToolbar.style.top = toolbarHeight + 'px';\n                sideBarContentContainer.style.top = toolbarHeight + 'px';\n                splitterElement.style.top = toolbarHeight + 'px';\n                commentsContainer.style.top = toolbarHeight + 'px';\n                commentPanelResizer.style.top = toolbarHeight + 'px';\n            }\n            else {\n                sideBarToolbar.style.top = 1 + 'px';\n                sideBarToolbar.style.height = '100%';\n                sideBarContentContainer.style.top = 1 + 'px';\n                sideBarContentContainer.style.height = '100%';\n                splitterElement.style.top = 1 + 'px';\n                splitterElement.style.height = '100%';\n                commentsContainer.style.top = 1 + 'px';\n                commentsContainer.style.height = '100%';\n                commentPanelResizer.style.top = 1 + 'px';\n                commentPanelResizer.style.height = '100%';\n            }\n            if (!this.pdfViewer.enableToolbar) {\n                toolbarHeight = 0;\n            }\n            // eslint-disable-next-line max-len\n            this.pdfViewerBase.viewerContainer.style.height = this.resetViewerHeight(this.getElementHeight(this.pdfViewerBase.viewerContainer), formDesignerToolbarHeight) + 'px';\n            sideBarToolbar.style.height = this.getNavigationToolbarHeight(toolbarHeight);\n            splitterElement.style.height = this.getNavigationToolbarHeight(toolbarHeight);\n            if (this.pdfViewerBase.viewerContainer.style.height === '0px') {\n                // eslint-disable-next-line\n                this.pdfViewerBase.viewerContainer.style.height = (parseInt(this.pdfViewer.element.style.height) - parseInt(sideBarToolbar.style.top)) + 'px';\n            }\n        }\n        if (isBlazor()) {\n            this.updateContentContainerHeight(isAdjust, true);\n        }\n        else {\n            this.updateContentContainerHeight(isAdjust);\n        }\n    };\n    FormDesignerToolbar.prototype.getElementHeight = function (element) {\n        try {\n            return element.getBoundingClientRect().height;\n        }\n        catch (error) {\n            return 0;\n        }\n    };\n    FormDesignerToolbar.prototype.updateViewerHeight = function (viewerHeight, toolbarHeight) {\n        return this.getElementHeight(this.pdfViewer.element) - toolbarHeight;\n    };\n    FormDesignerToolbar.prototype.resetViewerHeight = function (viewerHeight, toolbarHeight) {\n        return viewerHeight + toolbarHeight;\n    };\n    FormDesignerToolbar.prototype.getNavigationToolbarHeight = function (toolbarHeight) {\n        var height = this.pdfViewer.element.getBoundingClientRect().height;\n        return (height !== 0) ? height - toolbarHeight + 'px' : '';\n    };\n    FormDesignerToolbar.prototype.updateContentContainerHeight = function (isAdjust, isBlazor) {\n        var formDesignerToolbarHeight;\n        if (isBlazor) {\n            var formDesignerToolbarContainer = this.pdfViewer.element.querySelector('.e-pv-formDesigner-toolbar');\n            formDesignerToolbarHeight = this.getToolbarHeight(formDesignerToolbarContainer);\n        }\n        else {\n            formDesignerToolbarHeight = this.getToolbarHeight(this.toolbarElement);\n        }\n        var sideBarClientRect = this.pdfViewerBase.navigationPane.sideBarContentContainer.getBoundingClientRect();\n        if (sideBarClientRect.height !== 0) {\n            if (isAdjust) {\n                // eslint-disable-next-line max-len\n                this.pdfViewerBase.navigationPane.sideBarContentContainer.style.height = sideBarClientRect.height - formDesignerToolbarHeight + 'px';\n            }\n            else {\n                // eslint-disable-next-line max-len\n                this.pdfViewerBase.navigationPane.sideBarContentContainer.style.height = sideBarClientRect.height + formDesignerToolbarHeight + 'px';\n            }\n        }\n    };\n    FormDesignerToolbar.prototype.getToolbarHeight = function (element) {\n        var toolbarHeight = element.getBoundingClientRect().height;\n        if (toolbarHeight === 0 && element === this.pdfViewerBase.getElement('_toolbarContainer')) {\n            // getComputedStyle gets the value from style and toolbar border height is added to it.\n            // eslint-disable-next-line\n            toolbarHeight = parseFloat(window.getComputedStyle(element)['height']) + this.toolbarBorderHeight;\n        }\n        return toolbarHeight;\n    };\n    // eslint-disable-next-line\n    FormDesignerToolbar.prototype.createToolbarItems = function () {\n        var signTemplate = this.getTemplate('span', '_formfield_signature', 'e-pv-annotation-handwritten-container');\n        // eslint-disable-next-line\n        var items = [];\n        // eslint-disable-next-line max-len\n        items.push({ prefixIcon: 'e-pv-textbox-icon e-pv-icon', className: 'e-pv-annotation-shapes-container', id: this.pdfViewer.element.id + '_formdesigner_textbox', align: 'Left' });\n        items.push({ prefixIcon: 'e-pv-password-icon e-pv-icon', className: 'e-pv-annotation-shapes-container', id: this.pdfViewer.element.id + '_formdesigner_passwordfield', align: 'Left' });\n        items.push({ prefixIcon: 'e-pv-checkbox-icon e-pv-icon', className: 'e-pv-annotation-shapes-container', id: this.pdfViewer.element.id + '_formdesigner_checkbox', align: 'Left' });\n        items.push({ prefixIcon: 'e-pv-radiobutton-icon e-pv-icon', className: 'e-pv-annotation-shapes-container', id: this.pdfViewer.element.id + '_formdesigner_radiobutton', align: 'Left' });\n        items.push({ prefixIcon: 'e-pv-dropdown-icon e-pv-icon', className: 'e-pv-annotation-shapes-container', id: this.pdfViewer.element.id + '_formdesigner_dropdown', align: 'Left' });\n        items.push({ prefixIcon: 'e-pv-listbox-icon e-pv-icon', className: 'e-pv-annotation-shapes-container', id: this.pdfViewer.element.id + '_formdesigner_listbox', align: 'Left' });\n        items.push({ template: signTemplate, align: 'Left' });\n        items.push({ type: 'Separator', align: 'Left' });\n        // eslint-disable-next-line max-len\n        items.push({ prefixIcon: 'e-pv-annotation-delete-icon e-pv-icon', className: 'e-pv-annotation-delete-container', id: this.pdfViewer.element.id + '_formdesigner_delete', align: 'Left' });\n        items.push({ prefixIcon: 'e-pv-annotation-tools-close-icon e-pv-icon', className: 'e-pv-annotation-tools-close-container', id: this.pdfViewer.element.id + '_formdesigner_close', align: 'Right' });\n        return items;\n    };\n    FormDesignerToolbar.prototype.createSignContainer = function () {\n        var _this = this;\n        this.handWrittenSignatureItem = this.pdfViewerBase.getElement('_formfield_signature');\n        // eslint-disable-next-line max-len\n        this.primaryToolbar.createTooltip(this.pdfViewerBase.getElement('_formfield_signature'), this.pdfViewer.localeObj.getConstant('HandwrittenSignatureDialogHeaderText'));\n        // eslint-disable-next-line\n        var proxy = this;\n        var items = [];\n        items = [\n            {\n                text: 'ADD SIGNATURE'\n            },\n            {\n                separator: true\n            },\n            {\n                text: 'ADD INITIAL'\n            }\n        ];\n        var saveOptions = {\n            items: items,\n            iconCss: 'e-pv-handwritten-icon e-pv-icon',\n            cssClass: 'e-pv-handwritten-popup',\n            beforeItemRender: function (args) {\n                _this.pdfViewer.clearSelection(_this.pdfViewerBase.currentPageNumber - 1);\n                if (args.element && args.element.className.indexOf(\"e-separator\") !== -1) {\n                    args.element.style.margin = \"8px 0\";\n                }\n                if (args.item.text === 'ADD SIGNATURE') {\n                    args.element.innerHTML = '';\n                    var addInitialSpan = createElement('button');\n                    addInitialSpan.classList.add(\"e-control\", \"e-btn\", \"e-lib\", \"e-outline\", \"e-primary\");\n                    addInitialSpan.textContent = _this.pdfViewer.localeObj.getConstant('SignatureFieldDialogHeaderText');\n                    addInitialSpan.style.width = \"130px\";\n                    addInitialSpan.style.height = \"36px\";\n                    addInitialSpan.addEventListener('click', _this.clickSignature.bind(_this));\n                    args.element.appendChild(addInitialSpan);\n                    args.element.addEventListener('mouseover', _this.hoverInitialBtn.bind(_this));\n                    args.element.style.width = '206px';\n                    args.element.style.display = 'flex';\n                    args.element.style.flexDirection = 'column';\n                    args.element.style.height = 'auto';\n                    args.element.style.alignItems = 'center';\n                }\n                if (args.item.text === 'ADD INITIAL') {\n                    args.element.innerHTML = '';\n                    var addInitialSpan = createElement('button');\n                    addInitialSpan.classList.add(\"e-control\", \"e-btn\", \"e-lib\", \"e-outline\", \"e-primary\");\n                    addInitialSpan.textContent = _this.pdfViewer.localeObj.getConstant('InitialFieldDialogHeaderText');\n                    addInitialSpan.style.width = \"130px\";\n                    addInitialSpan.style.height = \"36px\";\n                    addInitialSpan.addEventListener('click', _this.clickInitial.bind(_this));\n                    args.element.appendChild(addInitialSpan);\n                    args.element.addEventListener('mouseover', _this.hoverInitialBtn.bind(_this));\n                    args.element.style.width = '206px';\n                    args.element.style.display = 'flex';\n                    args.element.style.flexDirection = 'column';\n                    args.element.style.height = 'auto';\n                    args.element.style.alignItems = 'center';\n                }\n            },\n        };\n        var drpDownBtn = new DropDownButton(saveOptions);\n        if (this.pdfViewer.enableRtl) {\n            drpDownBtn.enableRtl = this.pdfViewer.enableRtl;\n        }\n        drpDownBtn.appendTo(this.handWrittenSignatureItem);\n    };\n    FormDesignerToolbar.prototype.hoverInitialBtn = function (event) {\n        var eventTarget = event.target;\n        var currentFieldID = isNullOrUndefined(event.path) ? event.composedPath()[0].id : event.path[0].id;\n        if (currentFieldID !== 'sign_' + currentFieldID.split(\"_\")[1] && currentFieldID !== 'delete_' + currentFieldID.split(\"_\")[1]) {\n            var liElement = document.getElementById(eventTarget.id);\n            if (isNullOrUndefined(liElement)) {\n                liElement = document.getElementById(eventTarget.parentElement.id);\n            }\n            if (liElement != null && (eventTarget.id !== 'sign_' + eventTarget.id.split('_')[1] || eventTarget.id !== 'sign_border_' + eventTarget.id.split('_')[2])) {\n                liElement.style.background = 'transparent';\n                liElement.style.cursor = 'default';\n            }\n            else if (liElement.parentElement != null && (eventTarget.id !== 'sign_' + eventTarget.id.split('_')[1] || eventTarget.id !== 'sign_border_' + eventTarget.id.split('_')[2])) {\n                liElement.parentElement.style.background = 'transparent';\n                liElement.parentElement.style.cursor = 'default';\n            }\n        }\n    };\n    FormDesignerToolbar.prototype.getTemplate = function (elementName, id, className) {\n        var element = createElement(elementName, { id: this.pdfViewer.element.id + id });\n        if (className) {\n            element.className = className;\n        }\n        return element.outerHTML;\n    };\n    FormDesignerToolbar.prototype.onToolbarClicked = function (args) {\n        // eslint-disable-next-line\n        if (args && args.item) {\n            if (args.item.id.indexOf(\"textbox\") !== -1) {\n                this.pdfViewer.formDesignerModule.setFormFieldMode('Textbox');\n            }\n            else if (args.item.id.indexOf(\"passwordfield\") !== -1) {\n                this.pdfViewer.formDesignerModule.setFormFieldMode('Password');\n            }\n            else if (args.item.id.indexOf(\"checkbox\") !== -1) {\n                this.pdfViewer.formDesignerModule.setFormFieldMode('CheckBox');\n            }\n            else if (args.item.id.indexOf(\"radiobutton\") !== -1) {\n                this.pdfViewer.formDesignerModule.setFormFieldMode('RadioButton');\n            }\n            else if (args.item.id.indexOf(\"dropdown\") !== -1) {\n                this.pdfViewer.formDesignerModule.setFormFieldMode('DropDown');\n            }\n            else if (args.item.id.indexOf(\"listbox\") !== -1) {\n                this.pdfViewer.formDesignerModule.setFormFieldMode('ListBox');\n            }\n            else if (args.item.id.indexOf(\"signature\") !== -1) {\n                this.pdfViewer.formDesignerModule.setFormFieldMode('SignatureField');\n            }\n            else if (args.item.id.indexOf(\"close\") !== -1) {\n                this.pdfViewer.toolbarModule.formDesignerToolbarModule.showFormDesignerToolbar(this.pdfViewer.toolbarModule.formDesignerItem);\n            }\n            else if (args.item.id.indexOf(\"delete\") !== -1) {\n                this.pdfViewer.formDesignerModule.deleteFormField(this.pdfViewer.selectedItems.formFields[0]);\n                this.showHideDeleteIcon(false);\n            }\n            if (this.pdfViewer.selectedItems.formFields.length > 0) {\n                this.pdfViewer.clearSelection(this.pdfViewer.selectedItems.formFields[0].pageIndex);\n            }\n        }\n    };\n    FormDesignerToolbar.prototype.clickSignature = function (args) {\n        this.pdfViewer.formDesignerModule.setFormFieldMode('SignatureField');\n    };\n    FormDesignerToolbar.prototype.clickInitial = function (args) {\n        this.pdfViewer.isInitialFieldToolbarSelection = true;\n        this.pdfViewer.formDesignerModule.setFormFieldMode('InitialField');\n        this.pdfViewer.isInitialFieldToolbarSelection = false;\n    };\n    FormDesignerToolbar.prototype.afterToolbarCreation = function () {\n        // eslint-disable-next-line max-len\n        this.textboxItem = this.primaryToolbar.addClassToolbarItem('_formdesigner_textbox', 'e-pv-formdesigner-textbox', this.pdfViewer.localeObj.getConstant('Textbox'));\n        this.passwordItem = this.primaryToolbar.addClassToolbarItem('_formdesigner_passwordfield', 'e-pv-formdesigner-passwordfield', this.pdfViewer.localeObj.getConstant('Password'));\n        this.checkboxItem = this.primaryToolbar.addClassToolbarItem('_formdesigner_checkbox', 'e-pv-formdesigner-checkbox', this.pdfViewer.localeObj.getConstant('Check Box'));\n        this.radioButtonItem = this.primaryToolbar.addClassToolbarItem('_formdesigner_radiobutton', 'e-pv-formdesigner-radiobutton', this.pdfViewer.localeObj.getConstant('Radio Button'));\n        this.dropdownItem = this.primaryToolbar.addClassToolbarItem('_formdesigner_dropdown', 'e-pv-formdesigner-dropdown', this.pdfViewer.localeObj.getConstant('Dropdown'));\n        this.listboxItem = this.primaryToolbar.addClassToolbarItem('_formdesigner_listbox', 'e-pv-formdesigner-listbox', this.pdfViewer.localeObj.getConstant('List Box'));\n        //this.signatureItem = this.primaryToolbar.addClassToolbarItem('_formdesigner_signature', 'e-pv-formdesigner-signature', this.pdfViewer.localeObj.getConstant('Signature'));\n        this.deleteItem = this.primaryToolbar.addClassToolbarItem('_formdesigner_delete', 'e-pv-formdesigner-delete', this.pdfViewer.localeObj.getConstant('Delete FormField'));\n        this.closeItem = this.primaryToolbar.addClassToolbarItem('_formdesigner_close', 'e-pv-annotation-tools-close', null);\n        this.showHideDeleteIcon(false);\n        //this.enableTextMarkupAnnotationPropertiesTools(false); \n    };\n    FormDesignerToolbar.prototype.showHideDeleteIcon = function (isEnable) {\n        if (this.toolbar)\n            this.toolbar.enableItems(this.deleteItem.parentElement, isEnable);\n    };\n    FormDesignerToolbar.prototype.applyFormDesignerToolbarSettings = function () {\n        if (this.pdfViewer.toolbarSettings.formDesignerToolbarItems) {\n            if (this.pdfViewer.toolbarSettings.formDesignerToolbarItems.indexOf('TextboxTool') !== -1) {\n                this.showTextboxTool(true);\n            }\n            else {\n                this.showTextboxTool(false);\n            }\n            if (this.pdfViewer.toolbarSettings.formDesignerToolbarItems.indexOf('PasswordTool') !== -1) {\n                this.showPasswordTool(true);\n            }\n            else {\n                this.showPasswordTool(false);\n            }\n            if (this.pdfViewer.toolbarSettings.formDesignerToolbarItems.indexOf('CheckBoxTool') !== -1) {\n                this.showCheckboxTool(true);\n            }\n            else {\n                this.showCheckboxTool(false);\n            }\n            if (this.pdfViewer.toolbarSettings.formDesignerToolbarItems.indexOf('RadioButtonTool') !== -1) {\n                this.showRadioButtonTool(true);\n            }\n            else {\n                this.showRadioButtonTool(false);\n            }\n            if (this.pdfViewer.toolbarSettings.formDesignerToolbarItems.indexOf('DropdownTool') !== -1) {\n                this.showDropdownTool(true);\n            }\n            else {\n                this.showDropdownTool(false);\n            }\n            if (this.pdfViewer.toolbarSettings.formDesignerToolbarItems.indexOf('ListboxTool') !== -1) {\n                this.showListboxTool(true);\n            }\n            else {\n                this.showListboxTool(false);\n            }\n            if (this.pdfViewer.toolbarSettings.formDesignerToolbarItems.indexOf('DrawSignatureTool') !== -1) {\n                this.showDrawSignatureTool(true);\n            }\n            else {\n                this.showDrawSignatureTool(false);\n            }\n            if (this.pdfViewer.toolbarSettings.formDesignerToolbarItems.indexOf('DeleteTool') !== -1) {\n                this.showDeleteTool(true);\n            }\n            else {\n                this.showDeleteTool(false);\n            }\n            this.showSeparator();\n        }\n    };\n    FormDesignerToolbar.prototype.showTextboxTool = function (isShow) {\n        this.isTextboxBtnVisible = isShow;\n        this.applyHideToToolbar(isShow, 0, 0);\n    };\n    FormDesignerToolbar.prototype.showPasswordTool = function (isShow) {\n        this.isPasswordBtnVisible = isShow;\n        this.applyHideToToolbar(isShow, 1, 1);\n    };\n    FormDesignerToolbar.prototype.showCheckboxTool = function (isShow) {\n        this.isCheckboxBtnVisible = isShow;\n        this.applyHideToToolbar(isShow, 2, 2);\n    };\n    FormDesignerToolbar.prototype.showRadioButtonTool = function (isShow) {\n        this.isRadiobuttonBtnVisible = isShow;\n        this.applyHideToToolbar(isShow, 3, 3);\n    };\n    FormDesignerToolbar.prototype.showDropdownTool = function (isShow) {\n        this.isDropdownBtnVisible = isShow;\n        this.applyHideToToolbar(isShow, 4, 4);\n    };\n    FormDesignerToolbar.prototype.showListboxTool = function (isShow) {\n        this.isListboxBtnVisible = isShow;\n        this.applyHideToToolbar(isShow, 5, 5);\n    };\n    FormDesignerToolbar.prototype.showDrawSignatureTool = function (isShow) {\n        this.isSignatureBtnVisible = isShow;\n        this.applyHideToToolbar(isShow, 6, 6);\n    };\n    FormDesignerToolbar.prototype.showDeleteTool = function (isShow) {\n        this.isDeleteBtnVisible = isShow;\n        this.applyHideToToolbar(isShow, 8, 8);\n    };\n    FormDesignerToolbar.prototype.showSeparator = function () {\n        if (!this.isSignatureBtnVisible && !this.isDeleteBtnVisible)\n            this.applyHideToToolbar(false, 7, 7);\n    };\n    FormDesignerToolbar.prototype.applyHideToToolbar = function (show, startIndex, endIndex) {\n        var isHide = !show;\n        for (var index = startIndex; index <= endIndex; index++) {\n            this.toolbar.hideItem(index, isHide);\n        }\n    };\n    FormDesignerToolbar.prototype.createDropDowns = function () {\n    };\n    /**\n     * @private\n     */\n    FormDesignerToolbar.prototype.destroy = function () {\n        var componentElement = [this.textboxItem, this.passwordItem, this.checkboxItem, this.radioButtonItem,\n            this.listboxItem, this.dropdownItem, this.handWrittenSignatureItem, this.deleteItem];\n        for (var i = 0; i < componentElement.length; i++) {\n            if (componentElement[i]) {\n                this.destroyDependentComponent(componentElement[i]);\n            }\n        }\n    };\n    FormDesignerToolbar.prototype.destroyDependentComponent = function (component) {\n        if (component.ej2_instances) {\n            for (var i = component.ej2_instances.length - 1; i >= 0; i--) {\n                component.ej2_instances[i].destroy();\n            }\n        }\n    };\n    return FormDesignerToolbar;\n}());\nexport { FormDesignerToolbar };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}