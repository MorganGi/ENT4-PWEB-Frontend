{"ast":null,"code":"/* eslint-disable */\nimport { createElement, Browser, isBlazor } from '@syncfusion/ej2-base';\nimport { Toolbar as tool } from '@syncfusion/ej2-navigations';\nimport { NumericTextBox } from '@syncfusion/ej2-inputs';\nimport { ComboBox } from '@syncfusion/ej2-dropdowns';\nimport { AnnotationToolbar } from '../index';\nimport { Tooltip } from '@syncfusion/ej2-popups';\nimport { DropDownButton } from '@syncfusion/ej2-splitbuttons';\nimport { FormDesignerToolbar } from './formdesigner-toolbar';\n/**\n * Toolbar module\n */\n\nvar Toolbar =\n/** @class */\nfunction () {\n  /**\n   * @param viewer\n   * @param viewerBase\n   * @param viewer\n   * @param viewerBase\n   * @private\n   */\n  function Toolbar(viewer, viewerBase) {\n    var _this = this;\n\n    this.isPageNavigationToolDisabled = false;\n    this.isMagnificationToolDisabled = false;\n    /**\n     * @private\n    */\n\n    this.isSelectionToolDisabled = false;\n    this.isScrollingToolDisabled = false;\n    this.isOpenBtnVisible = true;\n    this.isNavigationToolVisible = true;\n    this.isMagnificationToolVisible = true;\n    this.isSelectionBtnVisible = true;\n    this.isScrollingBtnVisible = true;\n    this.isDownloadBtnVisible = true;\n    this.isPrintBtnVisible = true;\n    this.isSearchBtnVisible = true;\n    this.isTextSearchBoxDisplayed = false;\n    this.isUndoRedoBtnsVisible = true;\n    this.isAnnotationEditBtnVisible = true;\n    this.isFormDesignerEditBtnVisible = true;\n    this.isCommentBtnVisible = true;\n    this.isSubmitbtnvisible = true;\n\n    this.onToolbarKeydown = function (event) {\n      var targetId = event.target.id;\n\n      if (!(targetId === _this.pdfViewer.element.id + '_currentPageInput' || targetId === _this.pdfViewer.element.id + '_zoomDropDown')) {\n        event.preventDefault();\n        event.stopPropagation();\n      }\n    };\n\n    this.toolbarClickHandler = function (args) {\n      // eslint-disable-next-line max-len\n      if (!Browser.isDevice || _this.pdfViewer.enableDesktopMode) {\n        if (args.originalEvent.target === _this.zoomDropdownItem.parentElement.childNodes[1] || args.originalEvent.target === _this.zoomDropdownItem.parentElement.childNodes[2]) {\n          args.cancel = true;\n        } else if (args.originalEvent.target.id === _this.pdfViewer.element.id + '_openIcon') {\n          var tooltipData = args.originalEvent.target.parentElement.dataset;\n\n          if (tooltipData && tooltipData.tooltipId) {\n            var tooltipElement = document.getElementById(tooltipData.tooltipId);\n\n            if (tooltipElement) {\n              tooltipElement.style.display = 'none';\n            }\n          }\n        }\n      }\n\n      _this.handleToolbarBtnClick(args); // eslint-disable-next-line\n\n\n      var targetElement = args.originalEvent.target;\n\n      if (!Browser.isDevice || _this.pdfViewer.enableDesktopMode) {\n        // eslint-disable-next-line max-len\n        if (!(args.originalEvent.target === _this.zoomDropdownItem.parentElement.childNodes[1] || args.originalEvent.target === _this.zoomDropdownItem.parentElement.childNodes[2] || args.originalEvent.target === _this.currentPageBoxElement || args.originalEvent.target === _this.textSearchItem.childNodes[0])) {\n          if (targetElement.parentElement.id !== _this.pdfViewer.element.id + '_toolbarContainer_nav' && targetElement.id !== _this.pdfViewer.element.id + '_toolbarContainer_nav') {\n            args.originalEvent.target.blur();\n\n            _this.pdfViewerBase.focusViewerContainer();\n          }\n        }\n      } else {\n        args.originalEvent.target.blur();\n\n        _this.pdfViewerBase.focusViewerContainer();\n      }\n    }; // eslint-disable-next-line\n\n\n    this.loadDocument = function (args) {\n      // eslint-disable-next-line\n      var upoadedFiles = args.target.files;\n\n      if (args.target.files[0] !== null) {\n        var uploadedFile = upoadedFiles[0];\n\n        if (uploadedFile) {\n          _this.uploadedDocumentName = uploadedFile.name;\n          var reader = new FileReader();\n          reader.readAsDataURL(uploadedFile); // eslint-disable-next-line\n\n          reader.onload = function (e) {\n            var uploadedFileUrl = e.currentTarget.result;\n\n            if (isBlazor()) {\n              _this.pdfViewer._dotnetInstance.invokeMethodAsync(\"LoadDocumentFromClient\", uploadedFileUrl);\n            } else {\n              _this.pdfViewer.load(uploadedFileUrl, null);\n            }\n          };\n        }\n      }\n    };\n\n    this.navigateToPage = function (args) {\n      if (args.which === 13) {\n        // eslint-disable-next-line\n        var enteredValue = parseInt(_this.currentPageBoxElement.value);\n\n        if (enteredValue !== null) {\n          if (enteredValue > 0 && enteredValue <= _this.pdfViewerBase.pageCount) {\n            if (_this.pdfViewer.navigationModule) {\n              _this.pdfViewer.navigationModule.goToPage(enteredValue);\n            }\n          } else {\n            _this.updateCurrentPage(_this.pdfViewerBase.currentPageNumber);\n          }\n        } else {\n          _this.updateCurrentPage(_this.pdfViewerBase.currentPageNumber);\n        }\n\n        _this.currentPageBoxElement.blur();\n\n        _this.pdfViewerBase.focusViewerContainer();\n      }\n    };\n\n    this.textBoxFocusOut = function () {\n      // eslint-disable-next-line\n      if (_this.currentPageBox.value === null || _this.currentPageBox.value >= _this.pdfViewerBase.pageCount || _this.currentPageBox.value !== _this.pdfViewerBase.currentPageNumber) {\n        _this.updateCurrentPage(_this.pdfViewerBase.currentPageNumber);\n      }\n    };\n\n    this.pdfViewer = viewer;\n    this.pdfViewerBase = viewerBase;\n  }\n  /**\n   * @param width\n   * @private\n   */\n\n\n  Toolbar.prototype.intializeToolbar = function (width) {\n    var toolbarDiv;\n\n    if (!isBlazor()) {\n      toolbarDiv = this.createToolbar(width);\n    } else {\n      if (!Browser.isDevice || this.pdfViewer.enableDesktopMode) {\n        toolbarDiv = this.pdfViewer.element.querySelector('.e-pv-toolbar');\n        this.toolbarElement = toolbarDiv;\n      }\n    } // eslint-disable-next-line\n\n\n    var isIE = !!document.documentMode;\n\n    if (isIE) {\n      if (isBlazor()) {\n        this.pdfViewerBase.blazorUIAdaptor.totalPageElement.classList.add('e-pv-total-page-ms');\n      } else {\n        if (!Browser.isDevice) {\n          this.totalPageItem.classList.add('e-pv-total-page-ms');\n        }\n      }\n    }\n\n    this.createFileElement(toolbarDiv);\n    this.wireEvent();\n\n    if (!isBlazor()) {\n      this.updateToolbarItems();\n\n      if (!Browser.isDevice || this.pdfViewer.enableDesktopMode) {\n        this.applyToolbarSettings();\n        this.initialEnableItems();\n        this.pdfViewerBase.navigationPane.adjustPane();\n      } else {\n        this.initialEnableItems();\n      }\n\n      if (this.pdfViewer.annotationModule) {\n        this.annotationToolbarModule = new AnnotationToolbar(this.pdfViewer, this.pdfViewerBase, this);\n\n        if (!Browser.isDevice || this.pdfViewer.enableDesktopMode) {\n          this.annotationToolbarModule.initializeAnnotationToolbar();\n        }\n      }\n\n      if (this.pdfViewer.formDesignerModule) {\n        this.formDesignerToolbarModule = new FormDesignerToolbar(this.pdfViewer, this.pdfViewerBase, this);\n\n        if (!Browser.isDevice || this.pdfViewer.enableDesktopMode) {\n          this.formDesignerToolbarModule.initializeFormDesignerToolbar();\n        }\n      }\n    } else {\n      if (!Browser.isDevice || this.pdfViewer.enableDesktopMode) {\n        this.initialEnableItems();\n        this.pdfViewerBase.navigationPane.adjustPane();\n\n        if (this.pdfViewer.enableToolbar) {\n          this.bindOpenIconEvent();\n        }\n      }\n\n      this.PanElement = document.getElementById(this.pdfViewer.element.id + '_handTool').children[0];\n      this.PanElement.classList.add('e-pv-tbar-btn');\n      this.SelectToolElement = document.getElementById(this.pdfViewer.element.id + '_selectTool').children[0];\n      this.SelectToolElement.classList.add('e-pv-tbar-btn');\n      this.CommentElement = document.getElementById(this.pdfViewer.element.id + '_comment').children[0];\n      this.CommentElement.classList.add('e-pv-tbar-btn');\n      this.annotationToolbarModule = new AnnotationToolbar(this.pdfViewer, this.pdfViewerBase, this);\n\n      if (this.pdfViewer.enableToolbar && this.pdfViewer.enableAnnotationToolbar || this.pdfViewer.enableDesktopMode && Browser.isDevice) {\n        this.annotationToolbarModule.afterAnnotationToolbarCreationInBlazor();\n      }\n    }\n\n    return toolbarDiv;\n  };\n\n  Toolbar.prototype.bindOpenIconEvent = function () {\n    var openElement = document.getElementById(this.pdfViewer.element.id + '_open');\n\n    if (openElement) {\n      openElement.addEventListener('click', this.openFileDialogBox.bind(this));\n    }\n  };\n\n  Toolbar.prototype.InitializeMobileToolbarInBlazor = function () {\n    var toolbarDiv;\n    toolbarDiv = this.pdfViewer.element.querySelector('.e-pv-mobile-toolbar');\n    this.createFileElement(toolbarDiv);\n    this.wireEvent();\n  };\n  /**\n   * Shows /hides the toolbar in the PdfViewer\n   *\n   * @param  {boolean} enableToolbar - If set true , its show the Toolbar\n   * @returns void\n   */\n\n\n  Toolbar.prototype.showToolbar = function (enableToolbar) {\n    var toolbar = this.toolbarElement;\n\n    if (enableToolbar) {\n      toolbar.style.display = 'block'; // eslint-disable-next-line max-len\n\n      if (Browser.isDevice && !this.pdfViewer.enableDesktopMode && this.pdfViewer.toolbarModule && this.pdfViewer.toolbarModule.annotationToolbarModule) {\n        this.pdfViewer.toolbarModule.annotationToolbarModule.hideMobileAnnotationToolbar();\n      }\n    } else {\n      this.pdfViewerBase.toolbarHeight = 0;\n\n      if (enableToolbar) {\n        if (Browser.isDevice && this.pdfViewer.toolbarModule.annotationToolbarModule.toolbar) {\n          this.annotationToolbarModule.toolbarCreated = false;\n          this.annotationToolbarModule.adjustMobileViewer();\n          this.pdfViewer.toolbarModule.annotationToolbarModule.toolbar.element.style.display = 'none';\n        }\n\n        if (Browser.isDevice && this.annotationToolbarModule.propertyToolbar) {\n          this.annotationToolbarModule.propertyToolbar.element.style.display = 'none';\n        }\n      }\n\n      toolbar.style.display = 'none';\n    }\n  };\n  /**\n   * Shows/hides the Navigation toolbar in the PdfViewer\n   *\n   * @param  {boolean} enableNavigationToolbar - If set true , its show the Navigation Toolbar\n   * @returns void\n   */\n\n\n  Toolbar.prototype.showNavigationToolbar = function (enableNavigationToolbar) {\n    if (!Browser.isDevice || this.pdfViewer.enableDesktopMode) {\n      var navigationToolbar = this.pdfViewerBase.navigationPane.sideBarToolbar;\n      var navigationToolbarSplitter = this.pdfViewerBase.navigationPane.sideBarToolbarSplitter;\n\n      if (enableNavigationToolbar) {\n        navigationToolbar.style.display = 'block';\n        navigationToolbarSplitter.style.display = 'block';\n\n        if (this.pdfViewerBase.navigationPane.isBookmarkOpen || this.pdfViewerBase.navigationPane.isThumbnailOpen) {\n          this.pdfViewerBase.navigationPane.clear();\n        }\n      } else {\n        navigationToolbar.style.display = 'none';\n        navigationToolbarSplitter.style.display = 'none';\n\n        if (this.pdfViewerBase.navigationPane.isBookmarkOpen || this.pdfViewerBase.navigationPane.isThumbnailOpen) {\n          this.pdfViewerBase.navigationPane.updateViewerContainerOnClose();\n        }\n      }\n    }\n  };\n  /**\n   * Shows /hides the annotation toolbar in the PdfViewer\n   *\n   * @param  {boolean} enableAnnotationToolbar - If set true , its show the annotation Toolbar\n   * @returns void\n   */\n\n\n  Toolbar.prototype.showAnnotationToolbar = function (enableAnnotationToolbar) {\n    if (enableAnnotationToolbar) {\n      this.annotationToolbarModule.isToolbarHidden = true;\n      this.annotationToolbarModule.showAnnotationToolbar();\n    } else {\n      this.annotationToolbarModule.isToolbarHidden = false;\n      this.annotationToolbarModule.showAnnotationToolbar();\n    }\n  };\n  /**\n   * Shows /hides the the toolbar items in the PdfViewer\n   *\n   * @param  {string[]} items - Defines the toolbar items in the toolbar\n   * @param  {boolean} isVisible - If set true, then its show the toolbar Items\n   * @returns void\n   */\n\n\n  Toolbar.prototype.showToolbarItem = function (items, isVisible) {\n    for (var i = 0; i < items.length; i++) {\n      switch (items[i]) {\n        case 'OpenOption':\n          this.showOpenOption(isVisible);\n          break;\n\n        case 'PageNavigationTool':\n          this.showPageNavigationTool(isVisible);\n          break;\n\n        case 'MagnificationTool':\n          this.showMagnificationTool(isVisible);\n          break;\n\n        case 'SelectionTool':\n          this.showSelectionTool(isVisible);\n          break;\n\n        case 'PanTool':\n          this.showScrollingTool(isVisible);\n          break;\n\n        case 'DownloadOption':\n          this.showDownloadOption(isVisible);\n          break;\n\n        case 'PrintOption':\n          this.showPrintOption(isVisible);\n          break;\n\n        case 'SearchOption':\n          this.showSearchOption(isVisible);\n          break;\n\n        case 'UndoRedoTool':\n          this.showUndoRedoTool(isVisible);\n          break;\n\n        case 'AnnotationEditTool':\n          this.showAnnotationEditTool(isVisible);\n          break;\n\n        case 'FormDesignerEditTool':\n          this.showFormDesignerEditTool(isVisible);\n          break;\n\n        case 'CommentTool':\n          this.showCommentOption(isVisible);\n          break;\n\n        case 'SubmitForm':\n          this.showSubmitForm(isVisible);\n          break;\n      }\n    }\n\n    this.applyHideToToolbar(true, 1, 1);\n    this.applyHideToToolbar(true, 8, 8);\n    this.applyHideToToolbar(true, 12, 12);\n    this.applyHideToToolbar(true, 15, 15);\n    this.showSeparator(items);\n  };\n  /**\n   * Enables /disables the the toolbar items in the PdfViewer\n   *\n   * @param  {string[]} items - Defines the toolbar items in the toolbar\n   * @param  {boolean} isEnable - If set true, then its Enable the toolbar Items\n   * @returns void\n   */\n\n\n  Toolbar.prototype.enableToolbarItem = function (items, isEnable) {\n    for (var i = 0; i < items.length; i++) {\n      switch (items[i]) {\n        case 'OpenOption':\n          this.enableOpenOption(isEnable);\n          break;\n\n        case 'PageNavigationTool':\n          this.isPageNavigationToolDisabled = isEnable;\n          this.enablePageNavigationTool(isEnable);\n          break;\n\n        case 'MagnificationTool':\n          this.isMagnificationToolDisabled = isEnable;\n          this.enableMagnificationTool(isEnable);\n          break;\n\n        case 'SelectionTool':\n          this.isSelectionToolDisabled = isEnable;\n          this.enableSelectionTool(isEnable);\n          break;\n\n        case 'PanTool':\n          this.isScrollingToolDisabled = isEnable;\n          this.enableScrollingTool(isEnable);\n          break;\n\n        case 'DownloadOption':\n          this.enableDownloadOption(isEnable);\n          break;\n\n        case 'PrintOption':\n          this.enablePrintOption(isEnable);\n          break;\n\n        case 'SearchOption':\n          this.enableSearchOption(isEnable);\n          break;\n\n        case 'UndoRedoTool':\n          this.enableUndoRedoTool(isEnable);\n          break;\n\n        case 'AnnotationEditTool':\n          this.enableAnnotationEditTool(isEnable);\n          break;\n\n        case 'FormDesignerEditTool':\n          this.enableFormDesignerEditTool(isEnable);\n          break;\n\n        case 'CommentTool':\n          this.enableCommentsTool(isEnable);\n          break;\n      }\n    }\n  };\n  /**\n   * @param restrictionSummary\n   * @param isEnable\n   * @param restrictionSummary\n   * @param isEnable\n   * @private\n   */\n  // eslint-disable-next-line\n\n\n  Toolbar.prototype.DisableToolbarItems = function (restrictionSummary, isEnable) {\n    switch (restrictionSummary) {\n      case 'Print':\n        this.enablePrintOption(isEnable);\n        break;\n\n      case 'CopyContent':\n        this.isSelectionToolDisabled = isEnable;\n        this.enableSelectionTool(isEnable);\n\n        if (isEnable) {\n          this.pdfViewerBase.initiateTextSelectMode();\n          this.updateInteractionTools(isEnable);\n        } else {\n          this.pdfViewerBase.initiatePanning();\n          this.updateInteractionTools(isEnable);\n        }\n\n        break;\n\n      case 'EditAnnotations':\n        this.enableAnnotationEditTool(isEnable);\n\n        if (!this.annotationToolbarModule.isToolbarHidden) {\n          this.annotationToolbarModule.showAnnotationToolbar();\n        }\n\n        break;\n    }\n  };\n\n  Toolbar.prototype.showOpenOption = function (enableOpenOption) {\n    this.isOpenBtnVisible = enableOpenOption;\n    this.applyHideToToolbar(enableOpenOption, 0, 0);\n  };\n\n  Toolbar.prototype.showPageNavigationTool = function (enablePageNavigationTool) {\n    this.isNavigationToolVisible = enablePageNavigationTool;\n    this.applyHideToToolbar(enablePageNavigationTool, 2, 7);\n  };\n\n  Toolbar.prototype.showMagnificationTool = function (enableMagnificationTool) {\n    this.isMagnificationToolVisible = enableMagnificationTool;\n    this.applyHideToToolbar(enableMagnificationTool, 9, 11);\n  };\n\n  Toolbar.prototype.showSelectionTool = function (enableSelectionTool) {\n    this.isSelectionBtnVisible = enableSelectionTool;\n    this.applyHideToToolbar(enableSelectionTool, 13, 13);\n  };\n\n  Toolbar.prototype.showScrollingTool = function (enableScrollingTool) {\n    this.isScrollingBtnVisible = enableScrollingTool;\n    this.applyHideToToolbar(enableScrollingTool, 14, 14);\n  };\n\n  Toolbar.prototype.showDownloadOption = function (enableDownloadOption) {\n    this.isDownloadBtnVisible = enableDownloadOption;\n\n    if (!Browser.isDevice || this.pdfViewer.enableDesktopMode) {\n      this.applyHideToToolbar(enableDownloadOption, 26, 26);\n    } else {\n      this.applyHideToToolbar(enableDownloadOption, 5, 5);\n    }\n  };\n\n  Toolbar.prototype.showPrintOption = function (enablePrintOption) {\n    this.isPrintBtnVisible = enablePrintOption;\n    this.applyHideToToolbar(enablePrintOption, 25, 25);\n  };\n\n  Toolbar.prototype.showSearchOption = function (enableSearchOption) {\n    this.isSearchBtnVisible = enableSearchOption;\n\n    if (!Browser.isDevice || this.pdfViewer.enableDesktopMode) {\n      this.applyHideToToolbar(enableSearchOption, 22, 22);\n    } else {\n      this.applyHideToToolbar(enableSearchOption, 5, 5);\n    }\n  };\n\n  Toolbar.prototype.showUndoRedoTool = function (isEnable) {\n    this.isUndoRedoBtnsVisible = isEnable;\n\n    if (!Browser.isDevice || this.pdfViewer.enableDesktopMode) {\n      this.applyHideToToolbar(isEnable, 16, 17);\n    } else {\n      this.applyHideToToolbar(isEnable, 2, 3);\n    }\n  };\n\n  Toolbar.prototype.showCommentOption = function (isEnable) {\n    if (!this.pdfViewer.enableStickyNotesAnnotation) {\n      this.isCommentBtnVisible = isEnable;\n      this.applyHideToToolbar(this.pdfViewer.enableStickyNotesAnnotation, 18, 19);\n    } else {\n      this.isCommentBtnVisible = isEnable;\n      this.applyHideToToolbar(isEnable, 18, 19);\n    }\n  };\n\n  Toolbar.prototype.showAnnotationEditTool = function (isEnable) {\n    this.isAnnotationEditBtnVisible = isEnable;\n\n    if (!Browser.isDevice || this.pdfViewer.enableDesktopMode) {\n      this.applyHideToToolbar(isEnable, 23, 23);\n    } else {\n      this.applyHideToToolbar(isEnable, 4, 4);\n    }\n  };\n\n  Toolbar.prototype.showFormDesignerEditTool = function (isEnable) {\n    this.isFormDesignerEditBtnVisible = isEnable;\n    this.applyHideToToolbar(isEnable, 24, 24);\n  };\n\n  Toolbar.prototype.showSubmitForm = function (isEnable) {\n    this.isSubmitbtnvisible = isEnable;\n    this.applyHideToToolbar(isEnable, 20, 21);\n  };\n\n  Toolbar.prototype.enableOpenOption = function (enableOpenOption) {\n    this.toolbar.enableItems(this.openDocumentItem.parentElement, enableOpenOption);\n  };\n\n  Toolbar.prototype.enablePageNavigationTool = function (enablePageNavigationTool) {\n    this.toolbar.enableItems(this.firstPageItem.parentElement, enablePageNavigationTool);\n    this.toolbar.enableItems(this.previousPageItem.parentElement, enablePageNavigationTool);\n    this.toolbar.enableItems(this.nextPageItem.parentElement, enablePageNavigationTool);\n    this.toolbar.enableItems(this.lastPageItem.parentElement, enablePageNavigationTool);\n    this.currentPageBox.readonly = !enablePageNavigationTool;\n  };\n\n  Toolbar.prototype.enableMagnificationTool = function (enableMagnificationTool) {\n    this.toolbar.enableItems(this.zoomInItem.parentElement, enableMagnificationTool);\n    this.toolbar.enableItems(this.zoomOutItem.parentElement, enableMagnificationTool);\n    this.zoomDropDown.readonly = !enableMagnificationTool;\n  };\n\n  Toolbar.prototype.enableSelectionTool = function (enableSelectionTool) {\n    if (this.textSelectItem && this.textSelectItem.parentElement) {\n      this.toolbar.enableItems(this.textSelectItem.parentElement, enableSelectionTool);\n    }\n  };\n\n  Toolbar.prototype.enableScrollingTool = function (enableScrollingTool) {\n    this.toolbar.enableItems(this.panItem.parentElement, enableScrollingTool);\n  };\n\n  Toolbar.prototype.enableDownloadOption = function (enableDownloadOption) {\n    this.toolbar.enableItems(this.downloadItem.parentElement, enableDownloadOption);\n  };\n\n  Toolbar.prototype.enablePrintOption = function (enablePrintOption) {\n    this.toolbar.enableItems(this.printItem.parentElement, enablePrintOption);\n  };\n\n  Toolbar.prototype.enableSearchOption = function (enableSearchOption) {\n    this.toolbar.enableItems(this.textSearchItem.parentElement, enableSearchOption);\n  };\n\n  Toolbar.prototype.enableUndoRedoTool = function (isEnable) {\n    this.toolbar.enableItems(this.undoItem.parentElement, isEnable);\n    this.toolbar.enableItems(this.redoItem.parentElement, isEnable);\n  };\n\n  Toolbar.prototype.enableAnnotationEditTool = function (isEnable) {\n    this.toolbar.enableItems(this.annotationItem.parentElement, isEnable);\n  };\n\n  Toolbar.prototype.enableFormDesignerEditTool = function (isEnable) {\n    this.toolbar.enableItems(this.formDesignerItem.parentElement, isEnable);\n  };\n\n  Toolbar.prototype.enableCommentsTool = function (isEnable) {\n    if (this.pdfViewer.enableStickyNotesAnnotation) {\n      this.toolbar.enableItems(this.annotationItem.parentElement, isEnable);\n    }\n  };\n  /**\n   * @private\n   */\n\n\n  Toolbar.prototype.resetToolbar = function () {\n    if (!Browser.isDevice || this.pdfViewer.enableDesktopMode) {\n      this.currentPageBox.min = 0;\n      this.currentPageBox.value = 0;\n      this.updateTotalPage();\n      this.updateToolbarItems();\n\n      if (this.annotationToolbarModule) {\n        this.annotationToolbarModule.clear();\n      } else {\n        if (this.annotationToolbarModule) {\n          if (this.annotationToolbarModule.propertyToolbar) {\n            this.annotationToolbarModule.propertyToolbar.destroy();\n          } // eslint:disable-next-line\n\n\n          var commentsContainer = document.getElementById(this.pdfViewer.element.id + '_commentscontentcontainer');\n\n          if (commentsContainer) {\n            commentsContainer.innerHTML = '';\n          }\n        }\n      }\n    }\n  };\n  /**\n   * @private\n   */\n\n\n  Toolbar.prototype.updateToolbarItems = function () {\n    if (!Browser.isDevice || this.pdfViewer.enableDesktopMode) {\n      if (this.toolbar) {\n        if (this.pdfViewerBase.pageCount === 0) {\n          this.toolbar.enableItems(this.downloadItem.parentElement, false);\n          this.toolbar.enableItems(this.printItem.parentElement, false);\n          this.toolbar.enableItems(this.commentItem.parentElement, false);\n          this.updateUndoRedoButtons();\n          this.updateNavigationButtons();\n          this.toolbar.enableItems(this.zoomInItem.parentElement, false);\n          this.toolbar.enableItems(this.zoomOutItem.parentElement, false);\n\n          if (this.pdfViewer.magnificationModule) {\n            this.zoomDropDown.readonly = true;\n          }\n\n          this.toolbar.enableItems(this.submitItem.parentElement, false);\n          this.toolbar.enableItems(this.pdfViewerBase.getElement('_currentPageInputContainer'), false);\n          this.toolbar.enableItems(this.pdfViewerBase.getElement('_zoomDropDownContainer'), false);\n          this.toolbar.enableItems(this.textSelectItem.parentElement, false);\n          this.toolbar.enableItems(this.annotationItem.parentElement, false);\n          this.toolbar.enableItems(this.formDesignerItem.parentElement, false);\n          this.toolbar.enableItems(this.panItem.parentElement, false);\n          this.toolbar.enableItems(this.textSearchItem.parentElement, false);\n          this.deSelectItem(this.annotationItem);\n\n          if (this.annotationToolbarModule) {\n            this.annotationToolbarModule.resetToolbar();\n          }\n\n          this.deSelectItem(this.formDesignerItem);\n        } else if (this.pdfViewerBase.pageCount > 0) {\n          this.toolbar.enableItems(this.downloadItem.parentElement, true);\n          this.toolbar.enableItems(this.printItem.parentElement, true);\n          this.toolbar.enableItems(this.pdfViewerBase.getElement('_currentPageInputContainer'), true);\n          this.toolbar.enableItems(this.pdfViewerBase.getElement('_zoomDropDownContainer'), true);\n          this.updateUndoRedoButtons();\n          this.updateNavigationButtons();\n          this.updateZoomButtons();\n\n          if (this.pdfViewer.magnificationModule) {\n            this.zoomDropDown.readonly = false;\n          }\n\n          this.updateInteractionItems(); // modify this condition if new annotation types are added.\n\n          if (this.pdfViewer.annotationModule && this.pdfViewer.enableAnnotation) {\n            this.toolbar.enableItems(this.annotationItem.parentElement, true);\n          }\n\n          if (this.pdfViewer.formDesignerModule && this.pdfViewer.enableFormDesigner) {\n            this.toolbar.enableItems(this.formDesignerItem.parentElement, true);\n          }\n\n          if (this.pdfViewer.textSearchModule && this.pdfViewer.enableTextSearch) {\n            this.toolbar.enableItems(this.textSearchItem.parentElement, true);\n          }\n\n          if (this.pdfViewer.annotationModule && this.pdfViewer.enableStickyNotesAnnotation) {\n            this.toolbar.enableItems(this.commentItem.parentElement, true);\n          }\n        }\n\n        if (this.pdfViewer.toolbarSettings.annotationToolbarItems) {\n          // eslint-disable-next-line max-len\n          if (this.pdfViewer.toolbarSettings.annotationToolbarItems.length === 0 || !this.pdfViewer.annotationModule || !this.pdfViewer.enableAnnotationToolbar) {\n            this.enableToolbarItem(['AnnotationEditTool'], false);\n          }\n        }\n\n        if (this.pdfViewer.toolbarSettings.formDesignerToolbarItems) {\n          // eslint-disable-next-line max-len\n          if (this.pdfViewer.toolbarSettings.formDesignerToolbarItems.length === 0 || !this.pdfViewer.formDesignerModule || !this.pdfViewer.enableFormDesignerToolbar) {\n            this.enableToolbarItem(['FormDesignerEditTool'], false);\n          }\n        }\n\n        if (!this.pdfViewer.enableDownload) {\n          this.enableDownloadOption(false);\n        }\n\n        if (!this.pdfViewer.enablePrint) {\n          this.enablePrintOption(false);\n        }\n      }\n    } else {\n      if (this.pdfViewerBase.pageCount === 0) {\n        this.toolbar.enableItems(this.textSearchItem.parentElement, false);\n        this.toolbar.enableItems(this.moreOptionItem.parentElement, false);\n        this.toolbar.enableItems(this.annotationItem.parentElement, false);\n      } else if (this.pdfViewerBase.pageCount > 0) {\n        this.toolbar.enableItems(this.textSearchItem.parentElement, true);\n        this.toolbar.enableItems(this.moreOptionItem.parentElement, true);\n\n        if (this.pdfViewer.annotationModule && this.pdfViewer.enableAnnotation) {\n          this.toolbar.enableItems(this.annotationItem.parentElement, true);\n        }\n\n        if (!this.pdfViewer.annotationModule || !this.pdfViewer.enableAnnotationToolbar) {\n          this.enableToolbarItem(['AnnotationEditTool'], false);\n        }\n\n        this.updateUndoRedoButtons();\n      }\n    }\n  };\n  /**\n   * @private\n   */\n\n\n  Toolbar.prototype.updateNavigationButtons = function () {\n    if (this.pdfViewer.navigationModule && !this.isPageNavigationToolDisabled) {\n      if (this.pdfViewerBase.pageCount === 0 || this.pdfViewerBase.currentPageNumber === 1 && this.pdfViewerBase.pageCount === 1) {\n        this.toolbar.enableItems(this.firstPageItem.parentElement, false);\n        this.toolbar.enableItems(this.previousPageItem.parentElement, false);\n        this.toolbar.enableItems(this.nextPageItem.parentElement, false);\n        this.toolbar.enableItems(this.lastPageItem.parentElement, false);\n      } else if (this.pdfViewerBase.currentPageNumber === 1 && this.pdfViewerBase.pageCount > 0) {\n        this.toolbar.enableItems(this.firstPageItem.parentElement, false);\n        this.toolbar.enableItems(this.previousPageItem.parentElement, false);\n        this.toolbar.enableItems(this.nextPageItem.parentElement, true);\n        this.toolbar.enableItems(this.lastPageItem.parentElement, true);\n      } else if (this.pdfViewerBase.currentPageNumber === this.pdfViewerBase.pageCount && this.pdfViewerBase.pageCount > 0) {\n        this.toolbar.enableItems(this.firstPageItem.parentElement, true);\n        this.toolbar.enableItems(this.previousPageItem.parentElement, true);\n        this.toolbar.enableItems(this.nextPageItem.parentElement, false);\n        this.toolbar.enableItems(this.lastPageItem.parentElement, false);\n      } else if (this.pdfViewerBase.currentPageNumber > 1 && this.pdfViewerBase.currentPageNumber < this.pdfViewerBase.pageCount) {\n        this.toolbar.enableItems(this.firstPageItem.parentElement, true);\n        this.toolbar.enableItems(this.previousPageItem.parentElement, true);\n        this.toolbar.enableItems(this.nextPageItem.parentElement, true);\n        this.toolbar.enableItems(this.lastPageItem.parentElement, true);\n      }\n    } else {\n      this.toolbar.enableItems(this.firstPageItem.parentElement, false);\n      this.toolbar.enableItems(this.previousPageItem.parentElement, false);\n      this.toolbar.enableItems(this.nextPageItem.parentElement, false);\n      this.toolbar.enableItems(this.lastPageItem.parentElement, false);\n      this.currentPageBox.readonly = true;\n    }\n  };\n  /**\n   * @private\n   */\n\n\n  Toolbar.prototype.updateZoomButtons = function () {\n    // eslint-disable-next-line max-len\n    if (this.pdfViewer.magnificationModule && !this.isMagnificationToolDisabled && (!Browser.isDevice || this.pdfViewer.enableDesktopMode)) {\n      if (this.pdfViewer.magnificationModule.zoomFactor <= 0.1) {\n        this.toolbar.enableItems(this.zoomInItem.parentElement, true);\n        this.toolbar.enableItems(this.zoomOutItem.parentElement, false);\n      } else if (this.pdfViewer.magnificationModule.zoomFactor >= 4) {\n        this.toolbar.enableItems(this.zoomInItem.parentElement, false);\n        this.toolbar.enableItems(this.zoomOutItem.parentElement, true);\n      } else {\n        this.toolbar.enableItems(this.zoomInItem.parentElement, true);\n        this.toolbar.enableItems(this.zoomOutItem.parentElement, true);\n      }\n    }\n  };\n  /**\n   * @private\n   */\n\n\n  Toolbar.prototype.updateUndoRedoButtons = function () {\n    if (this.pdfViewer.annotationModule) {\n      if (this.pdfViewerBase.pageCount > 0) {\n        if (isBlazor()) {\n          this.enableCollectionAvailableInBlazor(this.pdfViewer.annotationModule.actionCollection, 'undo');\n          this.enableCollectionAvailableInBlazor(this.pdfViewer.annotationModule.redoCollection, 'redo');\n        } else {\n          this.enableCollectionAvailable(this.pdfViewer.annotationModule.actionCollection, this.undoItem.parentElement);\n          this.enableCollectionAvailable(this.pdfViewer.annotationModule.redoCollection, this.redoItem.parentElement);\n        }\n      } else {\n        if (isBlazor()) {\n          //this.pdfViewer._dotnetInstance.invokeMethodAsync('DisableUndoRedoButton', null);\n          this.pdfViewerBase.blazorUIAdaptor.disableUndoRedoButton();\n        } else {\n          this.disableUndoRedoButtons();\n        }\n      }\n    } else {\n      if (isBlazor()) {\n        //this.pdfViewer._dotnetInstance.invokeMethodAsync('DisableUndoRedoButton', null);\n        this.pdfViewerBase.blazorUIAdaptor.disableUndoRedoButton();\n      } else {\n        this.disableUndoRedoButtons();\n      }\n    }\n  }; // eslint-disable-next-line\n\n\n  Toolbar.prototype.enableCollectionAvailable = function (collection, item) {\n    if (collection.length > 0) {\n      this.toolbar.enableItems(item, true);\n    } else {\n      this.toolbar.enableItems(item, false);\n    }\n  }; // eslint-disable-next-line\n\n\n  Toolbar.prototype.enableCollectionAvailableInBlazor = function (collection, item) {\n    if (collection.length > 0) {\n      //this.pdfViewer._dotnetInstance.invokeMethodAsync('UpdateUndoRedoButton', item, true);\n      this.pdfViewerBase.blazorUIAdaptor.updateUndoRedoButton(item, true);\n    } else {\n      // this.pdfViewer._dotnetInstance.invokeMethodAsync('UpdateUndoRedoButton', item, false);\n      this.pdfViewerBase.blazorUIAdaptor.updateUndoRedoButton(item, false);\n    }\n  };\n\n  Toolbar.prototype.disableUndoRedoButtons = function () {\n    this.toolbar.enableItems(this.undoItem.parentElement, false);\n    this.toolbar.enableItems(this.redoItem.parentElement, false);\n  };\n  /**\n   * @private\n   */\n\n\n  Toolbar.prototype.destroy = function () {\n    if (!isBlazor()) {\n      this.unWireEvent();\n      this.destroyComponent();\n\n      if (this.moreDropDown) {\n        this.moreDropDown.destroy();\n      }\n\n      if (this.annotationToolbarModule) {\n        this.annotationToolbarModule.destroy();\n      }\n\n      if (this.formDesignerToolbarModule) {\n        this.formDesignerToolbarModule.destroy();\n      }\n\n      this.toolbar.destroy();\n      this.toolbarElement.parentElement.removeChild(this.toolbarElement);\n    }\n  };\n\n  Toolbar.prototype.destroyComponent = function () {\n    // eslint-disable-next-line\n    var componentElement = [this.openDocumentItem, this.firstPageItem, this.previousPageItem, this.nextPageItem, this.lastPageItem, this.currentPageBoxElement, this.zoomOutItem, this.zoomInItem, this.zoomDropdownItem, this.textSelectItem, this.panItem, this.submitItem, this.undoItem, this.redoItem, this.commentItem, this.textSearchItem, this.annotationItem, this.formDesignerItem, this.printItem, this.downloadItem];\n\n    for (var i = 0; i < componentElement.length; i++) {\n      if (componentElement[i]) {\n        this.destroyDependentComponent(componentElement[i]);\n      }\n    }\n  };\n\n  Toolbar.prototype.destroyDependentComponent = function (component) {\n    if (component.ej2_instances) {\n      for (var i = component.ej2_instances.length - 1; i >= 0; i--) {\n        component.ej2_instances[i].destroy();\n      }\n    }\n  };\n  /**\n   * @param pageIndex\n   * @private\n   */\n\n\n  Toolbar.prototype.updateCurrentPage = function (pageIndex) {\n    if (!Browser.isDevice || this.pdfViewer.enableDesktopMode) {\n      if (!isBlazor()) {\n        if (this.currentPageBox.value === pageIndex) {\n          this.currentPageBoxElement.value = pageIndex.toString();\n        }\n\n        this.currentPageBox.value = pageIndex;\n      } else {\n        //this.pdfViewer._dotnetInstance.invokeMethodAsync('OnPageChanged', pageIndex);\n        this.pdfViewerBase.blazorUIAdaptor.pageChanged(pageIndex);\n      }\n\n      this.pdfViewerBase.currentPageNumber = pageIndex;\n      this.pdfViewer.currentPageNumber = pageIndex;\n    } else {\n      this.pdfViewerBase.mobileSpanContainer.innerHTML = pageIndex.toString();\n      this.pdfViewerBase.mobilecurrentPageContainer.innerHTML = pageIndex.toString();\n    }\n  };\n  /**\n   * @private\n   */\n\n\n  Toolbar.prototype.updateTotalPage = function () {\n    if (!Browser.isDevice || this.pdfViewer.enableDesktopMode) {\n      if (this.pdfViewerBase.pageCount > 0) {\n        this.currentPageBox.min = 1;\n      }\n\n      this.totalPageItem.textContent = this.pdfViewer.localeObj.getConstant('of') + this.pdfViewerBase.pageCount.toString();\n    }\n  };\n  /**\n   * @param event\n   * @private\n   */\n\n\n  Toolbar.prototype.openFileDialogBox = function (event) {\n    event.preventDefault();\n    this.fileInputElement.click();\n  };\n\n  Toolbar.prototype.createToolbar = function (controlWidth) {\n    var _this = this; // eslint-disable-next-line max-len\n\n\n    this.toolbarElement = createElement('div', {\n      id: this.pdfViewer.element.id + '_toolbarContainer',\n      className: 'e-pv-toolbar'\n    });\n    this.pdfViewerBase.viewerMainContainer.appendChild(this.toolbarElement);\n\n    if (!Browser.isDevice || this.pdfViewer.enableDesktopMode) {\n      this.toolbar = new tool({\n        clicked: this.toolbarClickHandler,\n        width: '',\n        height: '',\n        overflowMode: 'Popup',\n        cssClass: 'e-pv-toolbar-scroll',\n        items: this.createToolbarItems(),\n        created: function () {\n          _this.createZoomDropdown();\n\n          _this.createNumericTextBox();\n\n          _this.toolbar.refreshOverflow();\n        }\n      });\n      this.toolbar.isStringTemplate = true;\n\n      if (this.pdfViewer.enableRtl) {\n        this.toolbar.enableRtl = true;\n      }\n\n      this.toolbar.appendTo(this.toolbarElement);\n      this.applyToolbarSettings();\n      this.afterToolbarCreation();\n      this.updateTotalPage();\n      this.toolbarElement.addEventListener('keydown', this.onToolbarKeydown);\n    } else {\n      this.createToolbarItemsForMobile();\n      this.afterToolbarCreationInMobile();\n\n      if (this.pdfViewer.enableRtl) {\n        this.toolbar.enableRtl = true;\n      }\n\n      this.applyToolbarSettingsForMobile();\n      this.disableUndoRedoButtons();\n    }\n\n    return this.toolbarElement;\n  }; // eslint-disable-next-line\n\n\n  Toolbar.prototype.createToolbarItems = function () {\n    var currentPageInputTemplate = this.createCurrentPageInputTemplate();\n    var totalPageTemplate = this.createTotalPageTemplate();\n    var zoomDropDownTemplateString = this.createZoomDropdownElement(); // eslint-disable-next-line\n\n    var items = [];\n    var submitButton = '<button id=\"' + this.pdfViewer.element.id + '_submitForm\" class=\"e-tbar-btn\" style=\"font-size:15px\"><span id=\"' + this.pdfViewer.element.id + '_submitFormSpan\" class=\"e-tbar-btn-text e-pv-submitform-text\">' + this.pdfViewer.localeObj.getConstant('SubmitForm') + '</span></button>'; // eslint-disable-next-line max-len\n\n    items.push({\n      prefixIcon: 'e-pv-open-document-icon e-pv-icon',\n      cssClass: 'e-pv-open-document-container',\n      id: this.pdfViewer.element.id + '_open',\n      text: this.pdfViewer.localeObj.getConstant('Open text'),\n      align: 'Left'\n    });\n    items.push({\n      type: 'Separator',\n      align: 'Left',\n      cssClass: 'e-pv-open-separator-container'\n    });\n\n    if (!this.pdfViewer.enableRtl) {\n      // eslint-disable-next-line max-len\n      items.push({\n        prefixIcon: 'e-pv-first-page-navigation-icon e-pv-icon',\n        cssClass: 'e-pv-first-page-navigation-container',\n        id: this.pdfViewer.element.id + '_firstPage',\n        text: this.pdfViewer.localeObj.getConstant('First text'),\n        align: 'Left'\n      });\n      items.push({\n        prefixIcon: 'e-pv-previous-page-navigation-icon e-pv-icon',\n        cssClass: 'e-pv-previous-page-navigation-container',\n        id: this.pdfViewer.element.id + '_previousPage',\n        text: this.pdfViewer.localeObj.getConstant('Previous text'),\n        align: 'Left'\n      }); // eslint-disable-next-line max-len\n\n      items.push({\n        prefixIcon: 'e-pv-next-page-navigation-icon e-pv-icon',\n        cssClass: 'e-pv-next-page-navigation-container',\n        id: this.pdfViewer.element.id + '_nextPage',\n        text: this.pdfViewer.localeObj.getConstant('Next text'),\n        align: 'Left'\n      });\n      items.push({\n        prefixIcon: 'e-pv-last-page-navigation-icon e-pv-icon',\n        cssClass: 'e-pv-last-page-navigation-container',\n        id: this.pdfViewer.element.id + '_lastPage',\n        text: this.pdfViewer.localeObj.getConstant('Last text'),\n        align: 'Left'\n      });\n      items.push({\n        template: currentPageInputTemplate,\n        align: 'Left',\n        cssClass: 'e-pv-current-page-container'\n      });\n      items.push({\n        template: totalPageTemplate,\n        align: 'Left',\n        cssClass: 'e-pv-total-page-container'\n      });\n    } else {\n      // eslint-disable-next-line max-len\n      items.push({\n        prefixIcon: 'e-pv-last-page-navigation-icon e-pv-icon',\n        cssClass: 'e-pv-last-page-navigation-container',\n        id: this.pdfViewer.element.id + '_firstPage',\n        text: this.pdfViewer.localeObj.getConstant('First text'),\n        align: 'Left'\n      });\n      items.push({\n        prefixIcon: 'e-pv-next-page-navigation-icon e-pv-icon',\n        cssClass: 'e-pv-next-page-navigation-container',\n        id: this.pdfViewer.element.id + '_previousPage',\n        text: this.pdfViewer.localeObj.getConstant('Previous text'),\n        align: 'Left'\n      }); // eslint-disable-next-line max-len\n\n      items.push({\n        prefixIcon: 'e-pv-previous-page-navigation-icon e-pv-icon',\n        cssClass: 'e-pv-previous-page-navigation-container',\n        id: this.pdfViewer.element.id + '_nextPage',\n        text: this.pdfViewer.localeObj.getConstant('Next text'),\n        align: 'Left'\n      });\n      items.push({\n        prefixIcon: 'e-pv-first-page-navigation-icon e-pv-icon',\n        cssClass: 'e-pv-first-page-navigation-container',\n        id: this.pdfViewer.element.id + '_lastPage',\n        text: this.pdfViewer.localeObj.getConstant('Last text'),\n        align: 'Left'\n      });\n      items.push({\n        template: totalPageTemplate,\n        align: 'Left',\n        cssClass: 'e-pv-total-page-container'\n      });\n      items.push({\n        template: currentPageInputTemplate,\n        align: 'Left',\n        cssClass: 'e-pv-current-page-container'\n      });\n    }\n\n    items.push({\n      type: 'Separator',\n      align: 'Left',\n      cssClass: 'e-pv-navigation-separator-container'\n    }); // eslint-disable-next-line max-len\n\n    items.push({\n      prefixIcon: 'e-pv-zoom-out-icon e-pv-icon',\n      cssClass: 'e-pv-zoom-out-container',\n      id: this.pdfViewer.element.id + '_zoomOut',\n      text: this.pdfViewer.localeObj.getConstant('Zoom out text'),\n      align: 'Left'\n    });\n    items.push({\n      prefixIcon: 'e-pv-zoom-in-icon e-pv-icon',\n      cssClass: 'e-pv-zoom-in-container',\n      id: this.pdfViewer.element.id + '_zoomIn',\n      text: this.pdfViewer.localeObj.getConstant('Zoom in text'),\n      align: 'Left'\n    });\n    items.push({\n      template: zoomDropDownTemplateString,\n      cssClass: 'e-pv-zoom-drop-down-container',\n      align: 'Left'\n    });\n    items.push({\n      type: 'Separator',\n      align: 'Left',\n      cssClass: 'e-pv-magnification-separator-container'\n    }); // eslint-disable-next-line max-len\n\n    items.push({\n      prefixIcon: 'e-pv-text-select-tool-icon e-pv-icon',\n      cssClass: 'e-pv-text-select-tool-container',\n      id: this.pdfViewer.element.id + '_selectTool',\n      text: this.pdfViewer.localeObj.getConstant('Selection text')\n    });\n    items.push({\n      prefixIcon: 'e-pv-pan-tool-icon e-pv-icon',\n      cssClass: 'e-pv-pan-tool-container',\n      id: this.pdfViewer.element.id + '_handTool',\n      text: this.pdfViewer.localeObj.getConstant('Pan text')\n    });\n    items.push({\n      type: 'Separator',\n      align: 'Left',\n      cssClass: 'e-pv-pan-separator-container'\n    }); // eslint-disable-next-line max-len\n\n    items.push({\n      prefixIcon: 'e-pv-undo-icon e-pv-icon',\n      cssClass: 'e-pv-undo-container',\n      id: this.pdfViewer.element.id + '_undo',\n      text: this.pdfViewer.localeObj.getConstant('Undo'),\n      align: 'Left'\n    });\n    items.push({\n      prefixIcon: 'e-pv-redo-icon e-pv-icon',\n      cssClass: 'e-pv-redo-container',\n      id: this.pdfViewer.element.id + '_redo',\n      text: this.pdfViewer.localeObj.getConstant('Redo'),\n      align: 'Left'\n    });\n    items.push({\n      type: 'Separator',\n      align: 'Left',\n      cssClass: 'e-pv-undo-separator-container'\n    }); // eslint-disable-next-line max-len\n\n    items.push({\n      prefixIcon: 'e-pv-comment-icon e-pv-icon',\n      cssClass: 'e-pv-comment-container',\n      id: this.pdfViewer.element.id + '_comment',\n      text: this.pdfViewer.localeObj.getConstant('Add Comments'),\n      align: 'Left'\n    });\n    items.push({\n      type: 'Separator',\n      align: 'Left',\n      cssClass: 'e-pv-comment-separator-container'\n    });\n    items.push({\n      template: submitButton,\n      cssClass: 'e-pv-submit',\n      align: 'Left'\n    }); // eslint-disable-next-line max-len\n\n    items.push({\n      prefixIcon: 'e-pv-text-search-icon e-pv-icon',\n      cssClass: 'e-pv-text-search-container',\n      id: this.pdfViewer.element.id + '_search',\n      text: this.pdfViewer.localeObj.getConstant('Search text'),\n      align: 'Right'\n    });\n    items.push({\n      prefixIcon: 'e-pv-annotation-icon e-pv-icon',\n      cssClass: 'e-pv-annotation-container',\n      id: this.pdfViewer.element.id + '_annotation',\n      text: this.pdfViewer.localeObj.getConstant('Annotation Edit text'),\n      align: 'Right'\n    });\n    items.push({\n      prefixIcon: 'e-pv-formdesigner-icon e-pv-icon',\n      cssClass: 'e-pv-formdesigner-container',\n      id: this.pdfViewer.element.id + '_formdesigner',\n      text: this.pdfViewer.localeObj.getConstant('FormDesigner Edit text'),\n      align: 'Right'\n    }); // eslint-disable-next-line max-len\n\n    items.push({\n      prefixIcon: 'e-pv-print-document-icon e-pv-icon',\n      cssClass: 'e-pv-print-document-container',\n      id: this.pdfViewer.element.id + '_print',\n      text: this.pdfViewer.localeObj.getConstant('Print text'),\n      align: 'Right'\n    });\n    items.push({\n      prefixIcon: 'e-pv-download-document-icon e-pv-icon',\n      cssClass: 'e-pv-download-document-container',\n      id: this.pdfViewer.element.id + '_download',\n      text: this.pdfViewer.localeObj.getConstant('Download'),\n      align: 'Right'\n    });\n    return items;\n  };\n\n  Toolbar.prototype.afterToolbarCreationInMobile = function () {\n    this.itemsContainer = this.toolbar.element.childNodes[0];\n    this.itemsContainer.id = this.pdfViewer.element.id + '_toolbarItemsContainer';\n    this.openDocumentItem = this.addClassToolbarItem('_open', 'e-pv-open-document', this.pdfViewer.localeObj.getConstant('Open'));\n    this.undoItem = this.addClassToolbarItem('_undo', 'e-pv-undo', this.pdfViewer.localeObj.getConstant('Undo'));\n    this.redoItem = this.addClassToolbarItem('_redo', 'e-pv-redo', this.pdfViewer.localeObj.getConstant('Redo'));\n    this.annotationItem = this.addClassToolbarItem('_annotation', 'e-pv-annotation', this.pdfViewer.localeObj.getConstant('Annotation'));\n    this.textSearchItem = this.addClassToolbarItem('_search', 'e-pv-text-search', this.pdfViewer.localeObj.getConstant('Text Search'));\n  };\n\n  Toolbar.prototype.afterToolbarCreation = function () {\n    this.itemsContainer = this.toolbar.element.childNodes[0];\n    this.itemsContainer.id = this.pdfViewer.element.id + '_toolbarItemsContainer';\n    this.openDocumentItem = this.addClassToolbarItem('_open', 'e-pv-open-document', this.pdfViewer.localeObj.getConstant('Open'));\n    this.undoItem = this.addClassToolbarItem('_undo', 'e-pv-undo', this.pdfViewer.localeObj.getConstant('Undo'));\n    this.redoItem = this.addClassToolbarItem('_redo', 'e-pv-redo', this.pdfViewer.localeObj.getConstant('Redo'));\n\n    if (!this.pdfViewer.enableRtl) {\n      // eslint-disable-next-line max-len\n      this.firstPageItem = this.addClassToolbarItem('_firstPage', 'e-pv-first-page-navigation', this.pdfViewer.localeObj.getConstant('Go To First Page'));\n      this.previousPageItem = this.addClassToolbarItem('_previousPage', 'e-pv-previous-page-navigation', this.pdfViewer.localeObj.getConstant('Previous Page')); // eslint-disable-next-line max-len\n\n      this.nextPageItem = this.addClassToolbarItem('_nextPage', 'e-pv-next-page-navigation', this.pdfViewer.localeObj.getConstant('Next Page'));\n      this.lastPageItem = this.addClassToolbarItem('_lastPage', 'e-pv-last-page-navigation', this.pdfViewer.localeObj.getConstant('Go To Last Page'));\n    } else {\n      // eslint-disable-next-line max-len\n      this.firstPageItem = this.addClassToolbarItem('_firstPage', 'e-pv-last-page-navigation', this.pdfViewer.localeObj.getConstant('Go To First Page'));\n      this.previousPageItem = this.addClassToolbarItem('_previousPage', 'e-pv-next-page-navigation', this.pdfViewer.localeObj.getConstant('Previous Page')); // eslint-disable-next-line max-len\n\n      this.nextPageItem = this.addClassToolbarItem('_nextPage', 'e-pv-previous-page-navigation', this.pdfViewer.localeObj.getConstant('Next Page'));\n      this.lastPageItem = this.addClassToolbarItem('_lastPage', 'e-pv-first-page-navigation', this.pdfViewer.localeObj.getConstant('Go To Last Page'));\n    }\n\n    this.zoomOutItem = this.addClassToolbarItem('_zoomOut', 'e-pv-zoom-out', this.pdfViewer.localeObj.getConstant('Zoom Out'));\n    this.zoomInItem = this.addClassToolbarItem('_zoomIn', 'e-pv-zoom-in', this.pdfViewer.localeObj.getConstant('Zoom In')); // eslint-disable-next-line max-len\n\n    this.textSelectItem = this.addClassToolbarItem('_selectTool', 'e-pv-text-select-tool', this.pdfViewer.localeObj.getConstant('Text Selection'));\n    this.panItem = this.addClassToolbarItem('_handTool', 'e-pv-pan-tool', this.pdfViewer.localeObj.getConstant('Panning'));\n    this.commentItem = this.addClassToolbarItem('_comment', 'e-pv-comment', this.pdfViewer.localeObj.getConstant('Add Comments')); // eslint-disable-next-line max-len\n\n    this.textSearchItem = this.addClassToolbarItem('_search', 'e-pv-text-search', this.pdfViewer.localeObj.getConstant('Text Search'));\n    this.annotationItem = this.addClassToolbarItem('_annotation', 'e-pv-annotation', this.pdfViewer.localeObj.getConstant('Annotation'));\n    this.formDesignerItem = this.addClassToolbarItem('_formdesigner', 'e-pv-formdesigner', this.pdfViewer.localeObj.getConstant('FormDesigner')); // eslint-disable-next-line max-len\n\n    this.printItem = this.addClassToolbarItem('_print', 'e-pv-print-document', this.pdfViewer.localeObj.getConstant('Print'));\n    this.downloadItem = this.addClassToolbarItem('_download', 'e-pv-download-document', this.pdfViewer.localeObj.getConstant('Download file'));\n    this.zoomDropdownItem = this.pdfViewerBase.getElement('_zoomDropDown');\n    this.createTooltip(this.zoomDropdownItem, this.pdfViewer.localeObj.getConstant('Zoom'));\n    this.zoomDropdownItem.setAttribute('aria-label', this.pdfViewer.localeObj.getConstant('Zoom')); // eslint-disable-next-line max-len\n\n    this.addPropertiesToolItemContainer(this.zoomDropdownItem.parentElement.parentElement, null, '_zoomDropDownContainer');\n    this.pdfViewerBase.getElement('_zoomDropDownContainer').style.minWidth = '';\n    this.createTooltip(this.currentPageBoxElement, this.pdfViewer.localeObj.getConstant('Page Number'));\n    this.currentPageBoxElement.setAttribute('aria-label', this.pdfViewer.localeObj.getConstant('Page Number'));\n    this.submitItem = this.pdfViewerBase.getElement('_submitForm');\n    this.addPropertiesToolItemContainer(this.submitItem.parentElement, 'e-pv-submit', '_submitForm');\n    this.createTooltip(this.submitItem, this.pdfViewer.localeObj.getConstant('SubmitForm')); // eslint-disable-next-line max-len\n\n    this.addPropertiesToolItemContainer(this.currentPageBoxElement.parentElement.parentElement, 'e-pv-current-page-container', '_currentPageInputContainer');\n    this.pdfViewerBase.getElement('_currentPageInputContainer').style.minWidth = '20px';\n    this.totalPageItem = this.pdfViewerBase.getElement('_totalPage');\n    this.addPropertiesToolItemContainer(this.totalPageItem.parentElement, 'e-pv-total-page-container', '_totalPageContainer');\n  };\n  /**\n   * @param idString\n   * @param className\n   * @param tooltipText\n   * @param idString\n   * @param className\n   * @param tooltipText\n   * @private\n   */\n\n\n  Toolbar.prototype.addClassToolbarItem = function (idString, className, tooltipText) {\n    var element = this.pdfViewerBase.getElement(idString);\n    element.classList.add(className);\n    element.classList.add('e-pv-tbar-btn');\n    element.setAttribute('aria-label', tooltipText);\n    element.parentElement.classList.add(className + '-container');\n    element.parentElement.classList.add('e-popup-text');\n    element.parentElement.id = this.pdfViewer.element.id + idString + 'Container';\n\n    if (element.childNodes.length > 0) {\n      var spanElement = element.childNodes[0];\n      spanElement.id = this.pdfViewer.element.id + idString + 'Icon';\n      spanElement.classList.remove('e-icons');\n      spanElement.classList.remove('e-btn-icon');\n\n      if (this.pdfViewer.enableRtl) {\n        spanElement.classList.add('e-right');\n      }\n\n      var textElement = element.childNodes[1];\n\n      if (textElement) {\n        if (textElement.classList.contains('e-tbar-btn-text')) {\n          textElement.id = this.pdfViewer.element.id + idString + 'Text';\n        }\n      }\n    }\n\n    element.style.width = '';\n    this.createTooltip(element, tooltipText);\n    return element;\n  };\n\n  Toolbar.prototype.addPropertiesToolItemContainer = function (element, className, idString) {\n    if (className !== null) {\n      element.classList.add(className);\n    }\n\n    element.classList.add('e-popup-text');\n    element.id = this.pdfViewer.element.id + idString;\n  };\n\n  Toolbar.prototype.createZoomDropdownElement = function () {\n    // eslint-disable-next-line max-len\n    var zoomDropdownElement = this.createToolbarItem('input', this.pdfViewer.element.id + '_zoomDropDown', null);\n    return zoomDropdownElement.outerHTML;\n  };\n\n  Toolbar.prototype.createZoomDropdown = function () {\n    // eslint-disable-next-line max-len\n    var items = [{\n      percent: '10%',\n      id: '0'\n    }, {\n      percent: '25%',\n      id: '1'\n    }, {\n      percent: '50%',\n      id: '2'\n    }, {\n      percent: '75%',\n      id: '3'\n    }, {\n      percent: '100%',\n      id: '4'\n    }, {\n      percent: '125%',\n      id: '5'\n    }, // eslint-disable-next-line max-len\n    {\n      percent: '150%',\n      id: '6'\n    }, {\n      percent: '200%',\n      id: '7'\n    }, {\n      percent: '400%',\n      id: '8'\n    }, {\n      percent: this.pdfViewer.localeObj.getConstant('Fit Page'),\n      id: '9'\n    }, {\n      percent: this.pdfViewer.localeObj.getConstant('Fit Width'),\n      id: '10'\n    }, {\n      percent: this.pdfViewer.localeObj.getConstant('Automatic'),\n      id: '11'\n    }]; // eslint-disable-next-line max-len\n\n    if (!this.pdfViewer.enableRtl) {\n      this.zoomDropDown = new ComboBox({\n        dataSource: items,\n        text: '100%',\n        fields: {\n          text: 'percent',\n          value: 'id'\n        },\n        readonly: true,\n        cssClass: 'e-pv-zoom-drop-down',\n        popupHeight: '450px',\n        showClearButton: false,\n        open: this.openZoomDropdown.bind(this),\n        select: function (args) {\n          if (args.e.type == 'keydown' && args.itemData.text !== this.zoomDropDown.element.value) {\n            args.cancel = true;\n          }\n        }\n      });\n    } else {\n      this.zoomDropDown = new ComboBox({\n        dataSource: items,\n        text: '100%',\n        enableRtl: true,\n        fields: {\n          text: 'percent',\n          value: 'id'\n        },\n        readonly: true,\n        cssClass: 'e-pv-zoom-drop-down-rtl',\n        popupHeight: '450px',\n        showClearButton: false,\n        open: this.openZoomDropdown.bind(this),\n        select: function (args) {\n          if (args.e.type == 'keydown' && args.itemData.text !== this.zoomDropDown.element.value) {\n            args.cancel = true;\n          }\n        }\n      });\n    }\n\n    this.zoomDropDown.appendTo(this.pdfViewerBase.getElement('_zoomDropDown'));\n  };\n\n  Toolbar.prototype.createCurrentPageInputTemplate = function () {\n    // eslint-disable-next-line max-len\n    var goToPageElement = this.createToolbarItem('input', this.pdfViewer.element.id + '_currentPageInput', null);\n    return goToPageElement.outerHTML;\n  };\n\n  Toolbar.prototype.createTotalPageTemplate = function () {\n    // eslint-disable-next-line max-len\n    var totalPageElement = this.createToolbarItem('span', this.pdfViewer.element.id + '_totalPage', 'e-pv-total-page');\n    return totalPageElement.outerHTML;\n  };\n\n  Toolbar.prototype.createNumericTextBox = function () {\n    this.currentPageBox = new NumericTextBox({\n      value: 0,\n      format: '##',\n      cssClass: 'e-pv-current-page-box',\n      showSpinButton: false\n    });\n    this.currentPageBoxElement = this.pdfViewerBase.getElement('_currentPageInput');\n    this.currentPageBox.appendTo(this.currentPageBoxElement);\n  };\n\n  Toolbar.prototype.createToolbarItemsForMobile = function () {\n    this.toolbarElement.classList.add('e-pv-mobile-toolbar');\n    var template = '<button id=\"' + this.pdfViewer.element.id + '_more_option\" class=\"e-tbar-btn\"></button>';\n    this.toolbar = new tool({\n      // eslint-disable-next-line max-len\n      items: [{\n        prefixIcon: 'e-pv-open-document-icon e-pv-icon',\n        tooltipText: this.pdfViewer.localeObj.getConstant('Open'),\n        id: this.pdfViewer.element.id + '_open'\n      }, {\n        type: 'Separator',\n        align: 'Left'\n      }, // eslint-disable-next-line max-len\n      {\n        prefixIcon: 'e-pv-undo-icon e-pv-icon',\n        tooltipText: this.pdfViewer.localeObj.getConstant('Undo'),\n        id: this.pdfViewer.element.id + '_undo'\n      }, // eslint-disable-next-line max-len\n      {\n        prefixIcon: 'e-pv-redo-icon e-pv-icon',\n        tooltipText: this.pdfViewer.localeObj.getConstant('Redo'),\n        id: this.pdfViewer.element.id + '_redo'\n      }, // eslint-disable-next-line max-len\n      {\n        prefixIcon: 'e-pv-annotation-icon e-pv-icon',\n        cssClass: 'e-pv-annotation-container',\n        tooltipText: this.pdfViewer.localeObj.getConstant('Annotation'),\n        id: this.pdfViewer.element.id + '_annotation',\n        align: 'Right'\n      }, // eslint-disable-next-line max-len\n      {\n        prefixIcon: 'e-pv-text-search-icon e-pv-icon',\n        tooltipText: this.pdfViewer.localeObj.getConstant('Text Search'),\n        id: this.pdfViewer.element.id + '_search',\n        align: 'Right'\n      }, {\n        template: template,\n        align: 'Right'\n      }],\n      clicked: this.toolbarClickHandler,\n      width: '',\n      height: '',\n      overflowMode: 'Popup'\n    });\n    this.toolbar.isStringTemplate = true;\n    this.toolbar.appendTo(this.toolbarElement);\n    this.openDocumentItem = this.pdfViewerBase.getElement('_open');\n    this.openDocumentItem.classList.add('e-pv-open-document');\n    this.openDocumentItem.firstElementChild.id = this.pdfViewer.element.id + '_openIcon';\n    this.annotationItem = this.pdfViewerBase.getElement('_annotation');\n    this.annotationItem.classList.add('e-pv-annotation');\n    this.annotationItem.firstElementChild.id = this.pdfViewer.element.id + '_annotationIcon';\n    this.textSearchItem = this.pdfViewerBase.getElement('_search');\n    this.textSearchItem.classList.add('e-pv-text-search');\n    this.textSearchItem.firstElementChild.id = this.pdfViewer.element.id + '_searchIcon';\n    this.undoItem = this.pdfViewerBase.getElement('_undo');\n    this.undoItem.classList.add('e-pv-undo');\n    this.redoItem = this.pdfViewerBase.getElement('_redo');\n    this.redoItem.classList.add('e-pv-redo');\n    this.redoItem.firstElementChild.id = this.pdfViewer.element.id + '_redoIcon';\n    this.undoItem.firstElementChild.id = this.pdfViewer.element.id + '_undoIcon';\n    this.createMoreOption(this.pdfViewer.element.id + '_more_option');\n  };\n\n  Toolbar.prototype.createMoreOption = function (idString) {\n    var _this = this;\n\n    this.moreOptionItem = document.getElementById(idString);\n    var items = [{\n      text: this.pdfViewer.localeObj.getConstant('Download'),\n      id: this.pdfViewer.element.id + '_menu_download',\n      iconCss: 'e-icons e-pv-download-document-icon e-pv-icon'\n    }, {\n      text: this.pdfViewer.localeObj.getConstant('Bookmarks'),\n      id: this.pdfViewer.element.id + '_menu_bookmarks',\n      iconCss: 'e-icons e-pv-bookmark-icon e-pv-icon'\n    }];\n    this.moreDropDown = new DropDownButton({\n      items: items,\n      iconCss: 'e-pv-more-icon e-pv-icon',\n      cssClass: 'e-caret-hide',\n      open: function (args) {\n        var dropdownButtonPosition = _this.moreDropDown.element.getBoundingClientRect(); // eslint-disable-next-line max-len\n\n\n        if (!_this.pdfViewer.enableRtl) {\n          args.element.parentElement.style.left = dropdownButtonPosition.left + dropdownButtonPosition.width - args.element.parentElement.offsetWidth + 'px';\n        }\n      },\n      select: function (args) {\n        switch (args.item.id) {\n          case _this.pdfViewer.element.id + '_menu_download':\n            _this.pdfViewerBase.download();\n\n            break;\n\n          case _this.pdfViewer.element.id + '_menu_bookmarks':\n            _this.showToolbar(false);\n\n            _this.pdfViewerBase.navigationPane.createNavigationPaneMobile('bookmarks');\n\n            break;\n\n          default:\n            break;\n        }\n      },\n      beforeItemRender: function (args) {\n        if (args.item.id === _this.pdfViewer.element.id + '_menu_bookmarks') {\n          if (!_this.pdfViewer.bookmarkViewModule || !_this.pdfViewer.bookmarkViewModule.bookmarks) {\n            args.element.classList.add('e-disabled');\n          } else {\n            args.element.classList.remove('e-disabled');\n          }\n        }\n      },\n      close: function (args) {\n        _this.moreOptionItem.blur();\n\n        _this.pdfViewerBase.focusViewerContainer();\n      }\n    });\n    this.moreDropDown.appendTo('#' + idString);\n  };\n\n  Toolbar.prototype.createToolbarItem = function (elementName, id, className) {\n    var toolbarItem = createElement(elementName, {\n      id: id\n    });\n\n    if (className !== null) {\n      toolbarItem.className = className;\n    }\n\n    if (elementName === 'input' && id !== this.pdfViewer.element.id + '_zoomDropDown') {\n      toolbarItem.type = 'text';\n    }\n\n    return toolbarItem;\n  };\n  /**\n   * @param toolbarItem\n   * @param tooltipText\n   * @param toolbarItem\n   * @param tooltipText\n   * @private\n   */\n\n\n  Toolbar.prototype.createTooltip = function (toolbarItem, tooltipText) {\n    if (tooltipText !== null) {\n      // eslint-disable-next-line\n      var tooltip = new Tooltip({\n        content: tooltipText,\n        opensOn: 'Hover',\n        beforeOpen: this.onTooltipBeforeOpen.bind(this)\n      });\n      tooltip.appendTo(toolbarItem);\n    }\n  };\n\n  Toolbar.prototype.onTooltipBeforeOpen = function (args) {\n    if (!this.pdfViewer.toolbarSettings.showTooltip && this.toolbarElement.contains(args.target)) {\n      args.cancel = true;\n    }\n\n    if (this.annotationToolbarModule) {\n      // eslint-disable-next-line max-len\n      if (!this.pdfViewer.toolbarSettings.showTooltip && (this.annotationToolbarModule.toolbarElement && this.annotationToolbarModule.toolbarElement.contains(args.target) || this.annotationToolbarModule.shapeToolbarElement && this.annotationToolbarModule.shapeToolbarElement.contains(args.target))) {\n        args.cancel = true;\n      }\n    }\n\n    if (this.formDesignerToolbarModule) {\n      // eslint-disable-next-line max-len\n      if (!this.pdfViewer.toolbarSettings.showTooltip && this.formDesignerToolbarModule.toolbarElement && this.formDesignerToolbarModule.toolbarElement.contains(args.target)) {\n        args.cancel = true;\n      }\n    }\n  };\n\n  Toolbar.prototype.createFileElement = function (toolbarElement) {\n    if (toolbarElement) {\n      if (!isBlazor()) {\n        // eslint-disable-next-line max-len\n        this.fileInputElement = createElement('input', {\n          id: this.pdfViewer.element.id + '_fileUploadElement',\n          styles: 'position:fixed; left:-100em',\n          attrs: {\n            'type': 'file'\n          }\n        });\n        this.fileInputElement.setAttribute('accept', '.pdf');\n        this.fileInputElement.setAttribute('aria-label', 'file upload element');\n      } else {\n        this.fileInputElement = this.pdfViewer.element.querySelector('.e-pv-fileupload-element');\n      }\n\n      if (toolbarElement) {\n        toolbarElement.appendChild(this.fileInputElement);\n      }\n    }\n  };\n\n  Toolbar.prototype.wireEvent = function () {\n    if (this.fileInputElement) {\n      this.fileInputElement.addEventListener('change', this.loadDocument);\n    }\n\n    if (!isBlazor()) {\n      if (!Browser.isDevice || this.pdfViewer.enableDesktopMode) {\n        this.toolbarElement.addEventListener('mouseup', this.toolbarOnMouseup.bind(this));\n        this.currentPageBoxElement.addEventListener('focusout', this.textBoxFocusOut);\n        this.currentPageBoxElement.addEventListener('keypress', this.navigateToPage);\n        this.zoomDropDown.change = this.zoomPercentSelect.bind(this);\n        this.zoomDropDown.element.addEventListener('keypress', this.onZoomDropDownInput.bind(this));\n        this.zoomDropDown.element.addEventListener('click', this.onZoomDropDownInputClick.bind(this));\n      }\n    }\n  };\n\n  Toolbar.prototype.unWireEvent = function () {\n    if (this.fileInputElement) {\n      this.fileInputElement.removeEventListener('change', this.loadDocument);\n    }\n\n    if ((!Browser.isDevice || this.pdfViewer.enableDesktopMode) && !isBlazor()) {\n      this.toolbarElement.removeEventListener('mouseup', this.toolbarOnMouseup.bind(this));\n      this.currentPageBoxElement.removeEventListener('focusout', this.textBoxFocusOut);\n      this.currentPageBoxElement.removeEventListener('keypress', this.navigateToPage);\n      this.zoomDropDown.removeEventListener('change', this.zoomPercentSelect);\n      this.zoomDropDown.element.removeEventListener('keypress', this.onZoomDropDownInput);\n      this.zoomDropDown.element.removeEventListener('click', this.onZoomDropDownInputClick);\n    }\n  };\n  /**\n   * @param viewerWidth\n   * @private\n   */\n\n\n  Toolbar.prototype.onToolbarResize = function (viewerWidth) {\n    if (Browser.isDevice && !this.pdfViewer.enableDesktopMode) {\n      this.pdfViewerBase.navigationPane.toolbarResize();\n    } else {\n      this.toolbar.refreshOverflow();\n    }\n  };\n\n  Toolbar.prototype.toolbarOnMouseup = function (event) {\n    if (event.target === this.itemsContainer || event.target === this.toolbarElement) {\n      this.pdfViewerBase.focusViewerContainer();\n    }\n  };\n\n  Toolbar.prototype.applyHideToToolbar = function (show, startIndex, endIndex) {\n    var isHide = !show;\n\n    for (var index = startIndex; index <= endIndex; index++) {\n      if (this.toolbar.items[index]) {\n        var className = this.toolbar.items[index].cssClass;\n\n        if (className && className !== '') {\n          // Querying the toolbar item\n          var element = this.toolbar.element.querySelector('.' + className);\n\n          if (element) {\n            this.toolbar.hideItem(element, isHide);\n          }\n        } else {\n          this.toolbar.hideItem(index, isHide);\n        }\n      }\n    }\n  };\n\n  Toolbar.prototype.handleOpenIconClick = function (args) {\n    this.fileInputElement.click();\n\n    if (Browser.isDevice && !this.pdfViewer.enableDesktopMode) {\n      if (!isBlazor()) {\n        args.originalEvent.target.blur();\n      }\n\n      this.pdfViewerBase.focusViewerContainer();\n    }\n  }; // eslint-disable-next-line\n\n\n  Toolbar.prototype.handleToolbarBtnClick = function (args) {\n    this.addInkAnnotation();\n    this.deSelectCommentAnnotation();\n\n    switch (args.originalEvent.target.id) {\n      case this.pdfViewer.element.id + '_open':\n      case this.pdfViewer.element.id + '_openIcon':\n      case this.pdfViewer.element.id + '_openText':\n        this.handleOpenIconClick(args);\n        break;\n\n      case this.pdfViewer.element.id + '_download':\n      case this.pdfViewer.element.id + '_downloadIcon':\n      case this.pdfViewer.element.id + '_downloadText':\n        this.pdfViewerBase.download();\n        break;\n\n      case this.pdfViewer.element.id + '_print':\n      case this.pdfViewer.element.id + '_printIcon':\n      case this.pdfViewer.element.id + '_printText':\n        if (this.pdfViewer.printModule) {\n          this.pdfViewer.firePrintStart();\n        }\n\n        break;\n\n      case this.pdfViewer.element.id + '_undo':\n      case this.pdfViewer.element.id + '_undoIcon':\n      case this.pdfViewer.element.id + '_undoText':\n        if (this.pdfViewer.annotationModule) {\n          this.pdfViewer.annotationModule.undo();\n        }\n\n        break;\n\n      case this.pdfViewer.element.id + '_redo':\n      case this.pdfViewer.element.id + '_redoIcon':\n      case this.pdfViewer.element.id + '_redoText':\n        if (this.pdfViewer.annotationModule) {\n          this.pdfViewer.annotationModule.redo();\n        }\n\n        break;\n\n      case this.pdfViewer.element.id + '_firstPage':\n      case this.pdfViewer.element.id + '_firstPageIcon':\n      case this.pdfViewer.element.id + '_firstPageText':\n        if (this.pdfViewer.navigationModule) {\n          this.pdfViewer.navigationModule.goToFirstPage();\n        }\n\n        break;\n\n      case this.pdfViewer.element.id + '_previousPage':\n      case this.pdfViewer.element.id + '_previousPageIcon':\n      case this.pdfViewer.element.id + '_previousPageText':\n        if (this.pdfViewer.navigationModule) {\n          this.pdfViewer.navigationModule.goToPreviousPage();\n        }\n\n        break;\n\n      case this.pdfViewer.element.id + '_nextPage':\n      case this.pdfViewer.element.id + '_nextPageIcon':\n      case this.pdfViewer.element.id + '_nextPageText':\n        if (this.pdfViewer.navigationModule) {\n          this.pdfViewer.navigationModule.goToNextPage();\n        }\n\n        break;\n\n      case this.pdfViewer.element.id + '_lastPage':\n      case this.pdfViewer.element.id + '_lastPageIcon':\n      case this.pdfViewer.element.id + '_lastPageText':\n        if (this.pdfViewer.navigationModule) {\n          this.pdfViewer.navigationModule.goToLastPage();\n        }\n\n        break;\n\n      case this.pdfViewer.element.id + '_zoomIn':\n      case this.pdfViewer.element.id + '_zoomInIcon':\n      case this.pdfViewer.element.id + '_zoomInText':\n        this.pdfViewer.magnificationModule.zoomIn();\n        break;\n\n      case this.pdfViewer.element.id + '_zoomOut':\n      case this.pdfViewer.element.id + '_zoomOutIcon':\n      case this.pdfViewer.element.id + '_zoomOutText':\n        this.pdfViewer.magnificationModule.zoomOut();\n        break;\n\n      case this.pdfViewer.element.id + '_selectTool':\n      case this.pdfViewer.element.id + '_selectToolIcon':\n      case this.pdfViewer.element.id + '_selectToolText':\n        if (!this.isSelectionToolDisabled) {\n          this.pdfViewerBase.initiateTextSelectMode();\n          this.updateInteractionTools(true);\n        }\n\n        break;\n\n      case this.pdfViewer.element.id + '_handTool':\n      case this.pdfViewer.element.id + '_handToolIcon':\n      case this.pdfViewer.element.id + '_handToolText':\n        if (!(this.isScrollingToolDisabled || this.getStampMode())) {\n          this.pdfViewerBase.initiatePanning();\n          this.updateInteractionTools(false);\n        }\n\n        break;\n\n      case this.pdfViewer.element.id + '_search':\n      case this.pdfViewer.element.id + '_searchIcon':\n      case this.pdfViewer.element.id + '_searchText':\n        this.textSearchButtonHandler();\n        break;\n\n      case this.pdfViewer.element.id + '_annotation':\n      case this.pdfViewer.element.id + '_annotationIcon':\n      case this.pdfViewer.element.id + '_annotationText':\n        this.initiateAnnotationMode(args.originalEvent.target.id);\n        break;\n\n      case this.pdfViewer.element.id + '_formdesigner':\n      case this.pdfViewer.element.id + '_formdesignerIcon':\n      case this.pdfViewer.element.id + '_formdesignerText':\n        this.initiateFormDesignerMode();\n        this.formDesignerToolbarModule.showHideDeleteIcon(false);\n        break;\n\n      case this.pdfViewer.element.id + '_comment':\n      case this.pdfViewer.element.id + '_commentIcon':\n        this.pdfViewerBase.isAddComment = true;\n        this.pdfViewerBase.isCommentIconAdded = true;\n        this.annotationToolbarModule.deselectAllItems();\n        this.pdfViewer.annotation.triggerAnnotationUnselectEvent();\n        this.addComments(args.originalEvent.target);\n        break;\n\n      case this.pdfViewer.element.id + '_submitForm':\n      case this.pdfViewer.element.id + '_submitFormSpan':\n        this.pdfViewerBase.exportFormFields();\n        break;\n    }\n  };\n\n  Toolbar.prototype.addInkAnnotation = function () {\n    if (this.pdfViewer.annotationModule && this.pdfViewer.annotationModule.inkAnnotationModule) {\n      // eslint-disable-next-line\n      var currentPageNumber = parseInt(this.pdfViewer.annotationModule.inkAnnotationModule.currentPageNumber);\n      this.pdfViewer.annotationModule.inkAnnotationModule.drawInkAnnotation(currentPageNumber);\n    }\n\n    if (this.annotationToolbarModule) {\n      this.pdfViewer.toolbar.annotationToolbarModule.deselectInkAnnotation();\n      this.annotationToolbarModule.inkAnnotationSelected = false;\n    }\n  };\n\n  Toolbar.prototype.deSelectCommentAnnotation = function () {\n    if (!isBlazor()) {\n      this.pdfViewer.toolbar.deSelectItem(this.commentItem);\n    } else {\n      this.pdfViewer.toolbar.deSelectItem(this.CommentElement);\n    }\n\n    this.pdfViewerBase.isCommentIconAdded = false;\n  };\n  /**\n  * @private\n  */\n  // eslint-disable-next-line\n\n\n  Toolbar.prototype.addComments = function (targetElement) {\n    if (!isBlazor()) {\n      // eslint-disable-next-line max-len\n      if (targetElement.id === this.pdfViewer.element.id + '_comment' || targetElement.id === this.pdfViewer.element.id + '_commentIcon') {\n        if (targetElement.id === this.pdfViewer.element.id + '_commentIcon' && targetElement.parentElement) {\n          targetElement.parentElement.classList.add('e-pv-select');\n        } else {\n          targetElement.classList.add('e-pv-select');\n        }\n      } else {\n        if (this.pdfViewer.enableRtl) {\n          targetElement.className = 'e-pv-comment-selection-icon e-pv-icon e-icon-left e-right';\n        } else {\n          targetElement.className = 'e-pv-comment-selection-icon e-pv-icon e-icon-left';\n        }\n      }\n    } else {\n      this.pdfViewerBase.isCommentIconAdded = true;\n      this.pdfViewerBase.isAddComment = true;\n      this.annotationToolbarModule.deselectAllItemsInBlazor();\n      var commentsButton = this.CommentElement;\n      commentsButton.classList.add('e-pv-select');\n    }\n\n    this.updateStampItems();\n    document.getElementById(this.pdfViewer.element.id + '_pageDiv_' + (this.pdfViewerBase.currentPageNumber - 1)).addEventListener('mousedown', this.pdfViewer.annotationModule.stickyNotesAnnotationModule.drawIcons.bind(this));\n  };\n\n  Toolbar.prototype.openZoomDropdown = function () {\n    var toolbarData = this;\n\n    if (document.fullscreen) {\n      if (isBlazor()) {\n        // eslint-disable-next-line\n        var fullscreenElement = document.fullscreenElement;\n\n        if (fullscreenElement && fullscreenElement.tagName !== 'BODY' && fullscreenElement.tagName !== 'HTML') {\n          setTimeout(function () {\n            // eslint-disable-next-line\n            var popupElement = document.getElementById(toolbarData.pdfViewer.element.id + \"_zoomCombo_popup\");\n            var targetElement = document.getElementById(toolbarData.toolbarElement.id); // eslint-disable-next-line\n\n            if (popupElement && targetElement && popupElement.ej2_instances) {\n              targetElement.appendChild(popupElement);\n              popupElement.ej2_instances[0].refreshPosition();\n            }\n          }, 100);\n        }\n      } else {\n        var popupElement = document.getElementById(this.pdfViewer.element.id + \"_zoomDropDown_popup\");\n        var targetElement = document.getElementById(this.toolbarElement.id);\n\n        if (popupElement) {\n          targetElement.appendChild(popupElement);\n        }\n      }\n    }\n  };\n\n  Toolbar.prototype.onZoomDropDownInput = function (event) {\n    if ((event.which < 48 || event.which > 57) && event.which !== 8 && event.which !== 13) {\n      event.preventDefault();\n      return false;\n    } else {\n      if (event.which === 13) {\n        event.preventDefault();\n        var value = this.zoomDropDown.element.value;\n        this.zoomDropDownChange(value);\n      }\n\n      return true;\n    }\n  };\n\n  Toolbar.prototype.onZoomDropDownInputClick = function () {\n    this.zoomDropDown.element.select();\n  };\n\n  Toolbar.prototype.zoomPercentSelect = function (args) {\n    if (this.pdfViewerBase.pageCount > 0) {\n      if (args.isInteracted) {\n        if (args.itemData) {\n          // eslint-disable-next-line @typescript-eslint/no-explicit-any\n          var zoomText = args.itemData.percent;\n          this.zoomDropDownChange(zoomText);\n        }\n      } else {\n        this.updateZoomPercentage(this.pdfViewer.magnificationModule.zoomFactor);\n      }\n    }\n  };\n\n  Toolbar.prototype.zoomDropDownChange = function (zoomText) {\n    // eslint-disable-next-line max-len\n    if (zoomText !== this.pdfViewer.localeObj.getConstant('Fit Width') && zoomText !== this.pdfViewer.localeObj.getConstant('Fit Page') && zoomText !== this.pdfViewer.localeObj.getConstant('Automatic')) {\n      this.pdfViewer.magnificationModule.isAutoZoom = false;\n      this.pdfViewer.magnificationModule.zoomTo(parseFloat(zoomText));\n      this.updateZoomPercentage(this.pdfViewer.magnificationModule.zoomFactor);\n      this.zoomDropDown.focusOut();\n    } else if (zoomText === this.pdfViewer.localeObj.getConstant('Fit Width')) {\n      this.pdfViewer.magnificationModule.isAutoZoom = false;\n      this.pdfViewer.magnificationModule.fitToWidth();\n      this.zoomDropDown.focusOut();\n    } else if (zoomText === this.pdfViewer.localeObj.getConstant('Fit Page')) {\n      this.pdfViewer.magnificationModule.fitToPage();\n      this.zoomDropDown.focusOut();\n    } else if (zoomText === this.pdfViewer.localeObj.getConstant('Automatic')) {\n      this.pdfViewer.magnificationModule.isAutoZoom = true;\n      this.pdfViewer.magnificationModule.fitToAuto();\n      this.zoomDropDown.focusOut();\n    }\n  };\n  /**\n   * @param zoomFactor\n   * @private\n   */\n\n\n  Toolbar.prototype.updateZoomPercentage = function (zoomFactor) {\n    if (!Browser.isDevice || this.pdfViewer.enableDesktopMode) {\n      // eslint-disable-next-line radix\n      var currentPercent = parseInt((zoomFactor * 100).toString()) + '%';\n\n      if (isBlazor()) {\n        // eslint-disable-next-line\n        var blazorZoomDropDown = this.pdfViewerBase.getElement('_zoomDropDown');\n\n        if (blazorZoomDropDown && blazorZoomDropDown.children.length > 0) {\n          blazorZoomDropDown.children[0].children[0].value = currentPercent;\n        }\n      } else {\n        if (this.zoomDropDown.text === currentPercent) {\n          this.zoomDropDown.element.value = currentPercent;\n        }\n\n        if (this.zoomDropDown.index === 11) {\n          this.zoomDropDown.value = 4;\n        }\n\n        if (zoomFactor <= 0.25) {\n          this.pdfViewerBase.isMinimumZoom = true;\n        } else {\n          this.pdfViewerBase.isMinimumZoom = false;\n        } // eslint-disable-next-line\n\n\n        this.zoomDropDown.text = currentPercent;\n      }\n    }\n  };\n\n  Toolbar.prototype.updateInteractionItems = function () {\n    if (this.pdfViewer.textSelectionModule) {\n      if (this.pdfViewer.enableTextSelection) {\n        this.toolbar.enableItems(this.textSelectItem.parentElement, true);\n      } else {\n        this.toolbar.enableItems(this.textSelectItem.parentElement, false);\n      }\n    } else {\n      this.toolbar.enableItems(this.textSelectItem.parentElement, false);\n    }\n\n    this.toolbar.enableItems(this.panItem.parentElement, true);\n\n    if (this.pdfViewer.interactionMode === 'TextSelection' && this.pdfViewer.enableTextSelection) {\n      this.selectItem(this.textSelectItem);\n      this.deSelectItem(this.panItem);\n    } else {\n      this.selectItem(this.panItem);\n      this.deSelectItem(this.textSelectItem);\n      this.pdfViewerBase.initiatePanning();\n    }\n  };\n  /**\n   * @private\n   */\n\n\n  Toolbar.prototype.textSearchButtonHandler = function () {\n    if (!Browser.isDevice || this.pdfViewer.enableDesktopMode) {\n      if (this.pdfViewer.textSearchModule && this.pdfViewerBase.pageCount > 0) {\n        this.isTextSearchBoxDisplayed = !this.isTextSearchBoxDisplayed;\n        this.pdfViewer.textSearchModule.showSearchBox(this.isTextSearchBoxDisplayed);\n\n        if (this.isTextSearchBoxDisplayed) {\n          if (!isBlazor()) {\n            this.selectItem(this.textSearchItem);\n          } // eslint-disable-next-line max-len\n\n\n          var searchInputElement = document.getElementById(this.pdfViewer.element.id + '_search_input');\n          searchInputElement.select();\n          searchInputElement.focus();\n        } else {\n          if (!isBlazor()) {\n            this.deSelectItem(this.textSearchItem);\n            this.textSearchItem.blur();\n          } else {\n            var searchItem = this.pdfViewerBase.getElement('_search');\n            searchItem.firstElementChild.blur();\n          }\n        }\n      }\n    } else {\n      this.showToolbar(false);\n      this.pdfViewerBase.navigationPane.createNavigationPaneMobile('search');\n    }\n  };\n\n  Toolbar.prototype.initiateAnnotationMode = function (id) {\n    if (!Browser.isDevice || this.pdfViewer.enableDesktopMode) {\n      if (this.annotationToolbarModule && this.pdfViewer.enableAnnotationToolbar) {\n        this.annotationToolbarModule.showAnnotationToolbar(this.annotationItem);\n        this.pdfViewer.toolbarModule.annotationToolbarModule.toolbar.refreshOverflow();\n\n        if (this.pdfViewer.isAnnotationToolbarVisible && this.pdfViewer.isFormDesignerToolbarVisible) {\n          var formDesignerMainDiv = document.getElementById(this.pdfViewer.element.id + \"_formdesigner_toolbar\");\n          formDesignerMainDiv.style.display = \"none\";\n          this.formDesignerToolbarModule.isToolbarHidden = false;\n          this.formDesignerToolbarModule.showFormDesignerToolbar(this.formDesignerItem);\n          this.annotationToolbarModule.adjustViewer(true);\n        }\n      }\n    } else {\n      if (!isBlazor()) {\n        if (id === this.pdfViewer.element.id + '_annotation') {\n          id = this.pdfViewer.element.id + '_annotationIcon';\n        }\n\n        this.annotationToolbarModule.createAnnotationToolbarForMobile(id);\n      }\n    }\n  };\n\n  Toolbar.prototype.initiateFormDesignerMode = function () {\n    if (this.formDesignerToolbarModule && this.pdfViewer.enableFormDesignerToolbar) {\n      this.formDesignerToolbarModule.showFormDesignerToolbar(this.formDesignerItem);\n\n      if (this.pdfViewer.isAnnotationToolbarVisible && this.pdfViewer.isFormDesignerToolbarVisible) {\n        var annotationMainDiv = document.getElementById(this.pdfViewer.element.id + \"_annotation_toolbar\");\n        annotationMainDiv.style.display = \"none\";\n        this.annotationToolbarModule.isToolbarHidden = false;\n        this.annotationToolbarModule.showAnnotationToolbar(this.annotationItem);\n        this.formDesignerToolbarModule.adjustViewer(true);\n      }\n    }\n  };\n  /**\n   * @private\n   */\n\n\n  Toolbar.prototype.DisableInteractionTools = function () {\n    this.deSelectItem(this.textSelectItem);\n    this.deSelectItem(this.panItem);\n  };\n  /**\n   * @param element\n   * @private\n   */\n\n\n  Toolbar.prototype.selectItem = function (element) {\n    if (element) {\n      element.classList.add('e-pv-select');\n    }\n  };\n  /**\n   * @param element\n   * @private\n   */\n\n\n  Toolbar.prototype.deSelectItem = function (element) {\n    if (element) {\n      element.classList.remove('e-pv-select');\n    }\n  };\n  /**\n   * @param isTextSelect\n   * @private\n   */\n\n\n  Toolbar.prototype.updateInteractionTools = function (isTextSelect) {\n    var isBlazorPlatform = isBlazor();\n\n    if (isTextSelect) {\n      if (isBlazorPlatform) {\n        this.selectItem(this.SelectToolElement);\n        this.deSelectItem(this.PanElement);\n      } else {\n        this.selectItem(this.textSelectItem);\n        this.deSelectItem(this.panItem);\n      }\n    } else {\n      if (isBlazorPlatform) {\n        this.selectItem(this.PanElement);\n        this.deSelectItem(this.SelectToolElement);\n      } else {\n        this.selectItem(this.panItem);\n        this.deSelectItem(this.textSelectItem);\n      }\n    }\n  };\n\n  Toolbar.prototype.initialEnableItems = function () {\n    if (this.pdfViewer.enableToolbar) {\n      this.showToolbar(true);\n    } else {\n      this.showToolbar(false);\n    }\n\n    if (this.pdfViewer.enableNavigationToolbar) {\n      this.showNavigationToolbar(true);\n    } else {\n      this.showNavigationToolbar(false);\n    }\n\n    if (!isBlazor()) {\n      if (this.isPrintBtnVisible) {\n        this.showPrintOption(true);\n      } else {\n        this.showPrintOption(false);\n      }\n\n      if (this.isDownloadBtnVisible) {\n        this.showDownloadOption(true);\n      } else {\n        this.showDownloadOption(false);\n      }\n\n      if (this.isSearchBtnVisible) {\n        this.showSearchOption(true);\n      } else {\n        this.showSearchOption(false);\n      }\n\n      if (this.isCommentBtnVisible) {\n        this.showCommentOption(true);\n      } else {\n        this.showCommentOption(false);\n      }\n    }\n  };\n\n  Toolbar.prototype.showSeparator = function (toolbarItems) {\n    // eslint-disable-next-line max-len\n    if (!this.isOpenBtnVisible || !this.isNavigationToolVisible && !this.isMagnificationToolVisible && !this.isSelectionBtnVisible && !this.isScrollingBtnVisible && !this.isUndoRedoBtnsVisible) {\n      this.applyHideToToolbar(false, 1, 1);\n    }\n\n    if (!this.isNavigationToolVisible && !this.isMagnificationToolVisible && !this.isOpenBtnVisible || this.isOpenBtnVisible && !this.isNavigationToolVisible || // eslint-disable-next-line max-len\n    !this.isOpenBtnVisible && !this.isNavigationToolVisible || !this.isMagnificationToolVisible && !this.isScrollingBtnVisible && !this.isSelectionBtnVisible) {\n      this.applyHideToToolbar(false, 8, 8);\n    }\n\n    if (!this.isMagnificationToolVisible && !this.isSelectionBtnVisible && !this.isScrollingBtnVisible || this.isMagnificationToolVisible && !this.isSelectionBtnVisible && !this.isScrollingBtnVisible || !this.isMagnificationToolVisible && (this.isSelectionBtnVisible || this.isScrollingBtnVisible)) {\n      this.applyHideToToolbar(false, 12, 12);\n    }\n\n    if (!this.isMagnificationToolVisible && !this.isNavigationToolVisible && !this.isScrollingBtnVisible && !this.isSelectionBtnVisible && this.isUndoRedoBtnsVisible || !this.isUndoRedoBtnsVisible) {\n      this.applyHideToToolbar(false, 15, 15);\n    }\n  };\n\n  Toolbar.prototype.applyToolbarSettings = function () {\n    var toolbarSettingsItems = this.pdfViewer.toolbarSettings.toolbarItems;\n\n    if (toolbarSettingsItems) {\n      if (toolbarSettingsItems.indexOf('OpenOption') !== -1) {\n        this.showOpenOption(true);\n      } else {\n        this.showOpenOption(false);\n      }\n\n      if (toolbarSettingsItems.indexOf('PageNavigationTool') !== -1) {\n        this.showPageNavigationTool(true);\n      } else {\n        this.showPageNavigationTool(false);\n      }\n\n      if (toolbarSettingsItems.indexOf('MagnificationTool') !== -1) {\n        this.showMagnificationTool(true);\n      } else {\n        this.showMagnificationTool(false);\n      }\n\n      if (toolbarSettingsItems.indexOf('SelectionTool') !== -1) {\n        this.showSelectionTool(true);\n      } else {\n        this.showSelectionTool(false);\n      }\n\n      if (toolbarSettingsItems.indexOf('PanTool') !== -1) {\n        this.showScrollingTool(true);\n      } else {\n        this.showScrollingTool(false);\n      }\n\n      if (toolbarSettingsItems.indexOf('PrintOption') !== -1) {\n        this.showPrintOption(true);\n      } else {\n        this.showPrintOption(false);\n      }\n\n      if (toolbarSettingsItems.indexOf('DownloadOption') !== -1) {\n        this.showDownloadOption(true);\n      } else {\n        this.showDownloadOption(false);\n      }\n\n      if (toolbarSettingsItems.indexOf('SearchOption') !== -1) {\n        this.showSearchOption(true);\n      } else {\n        this.showSearchOption(false);\n      }\n\n      if (toolbarSettingsItems.indexOf('UndoRedoTool') !== -1) {\n        this.showUndoRedoTool(true);\n      } else {\n        this.showUndoRedoTool(false);\n      }\n\n      if (toolbarSettingsItems.indexOf('AnnotationEditTool') !== -1) {\n        this.showAnnotationEditTool(true);\n      } else {\n        this.showAnnotationEditTool(false);\n      }\n\n      if (toolbarSettingsItems.indexOf('FormDesignerEditTool') !== -1) {\n        this.showFormDesignerEditTool(true);\n      } else {\n        this.showFormDesignerEditTool(false);\n      }\n\n      if (toolbarSettingsItems.indexOf('CommentTool') !== -1) {\n        this.showCommentOption(true);\n      } else {\n        this.showCommentOption(false);\n      }\n\n      if (toolbarSettingsItems.indexOf('SubmitForm') !== -1) {\n        this.showSubmitForm(true);\n      } else {\n        this.showSubmitForm(false);\n      }\n\n      this.showSeparator(toolbarSettingsItems);\n    }\n  };\n\n  Toolbar.prototype.applyToolbarSettingsForMobile = function () {\n    var toolbarSettingsItems = this.pdfViewer.toolbarSettings.toolbarItems;\n\n    if (toolbarSettingsItems) {\n      if (toolbarSettingsItems.indexOf('OpenOption') !== -1) {\n        this.showOpenOption(true);\n      } else {\n        this.showOpenOption(false);\n      }\n\n      if (toolbarSettingsItems.indexOf('UndoRedoTool') !== -1) {\n        this.showUndoRedoTool(true);\n      } else {\n        this.showUndoRedoTool(false);\n      }\n\n      if (toolbarSettingsItems.indexOf('AnnotationEditTool') !== -1) {\n        this.showAnnotationEditTool(true);\n      } else {\n        this.showAnnotationEditTool(false);\n      }\n\n      if (toolbarSettingsItems.indexOf('SearchOption') !== -1) {\n        this.showSearchOption(true);\n      } else {\n        this.showSearchOption(false);\n      }\n    }\n  };\n\n  Toolbar.prototype.getStampMode = function () {\n    if (this.pdfViewer.annotation && this.pdfViewer.annotation.stampAnnotationModule) {\n      return this.pdfViewer.annotation.stampAnnotationModule.isStampAddMode;\n    } else {\n      return false;\n    }\n  }; // eslint-disable-next-line\n\n\n  Toolbar.prototype.stampBeforeOpen = function (args) {\n    this.annotationToolbarModule.resetFreeTextAnnot();\n\n    if (args.ParentItem.Text === '' && this.pdfViewer.customStampSettings.isAddToMenu && args.Items.length > 0) {\n      // eslint-disable-next-line\n      var currentElements = null;\n\n      for (var i = 0; i < args.Items.length; i++) {\n        if (args.Items[i].Text === 'Custom Stamp') {\n          args.Items[i].Items = [];\n          currentElements = args.Items[i];\n          break;\n        }\n      } // eslint-disable-next-line\n\n\n      var elements = this.pdfViewerBase.customStampCollection; // eslint-disable-next-line\n\n      var stampElements = this.pdfViewer.customStampSettings.customStamps;\n\n      if (elements.length === 0 && stampElements && stampElements.length > 0) {\n        for (var n = 0; n < stampElements.length; n++) {\n          // eslint-disable-next-line max-len\n          elements.push({\n            customStampName: stampElements[n].customStampName,\n            customStampImageSource: stampElements[n].customStampImageSource\n          });\n        }\n      }\n\n      for (var m = 0; m < elements.length; m++) {\n        if (currentElements != null) {\n          currentElements.Items.push({\n            text: elements[m].customStampName\n          });\n        }\n      }\n    }\n  }; // eslint-disable-next-line\n\n\n  Toolbar.prototype.stampBeforeClose = function (args, showItemOnClick) {\n    // eslint-disable-next-line max-len\n    if (args.ParentItem && args.ParentItem.Text !== 'Custom Stamp' && args.ParentItem.Text !== 'Standard Business' && args.ParentItem.Text !== 'Dynamic' && args.ParentItem.Text !== 'Sign Here' || !args.ParentItem) {\n      showItemOnClick = true;\n    }\n  };\n  /**\n   * @private\n   */\n  // eslint-disable-next-line\n\n\n  Toolbar.prototype.updateStampItems = function () {\n    if (this.pdfViewer.annotationModule && this.pdfViewer.annotationModule.stampAnnotationModule && this.pdfViewer.annotationModule.stampAnnotationModule.isNewStampAnnot) {\n      if (this.pdfViewer.selectedItems.annotations[0]) {\n        this.pdfViewer.remove(this.pdfViewer.selectedItems.annotations[0]);\n        this.pdfViewer.clearSelection(this.pdfViewer.currentPageNumber - 1);\n        this.pdfViewer.renderDrawing();\n        this.pdfViewerBase.tool = null;\n      }\n\n      this.pdfViewerBase.isAlreadyAdded = false;\n      this.pdfViewer.annotationModule.stampAnnotationModule.isNewStampAnnot = false;\n    }\n  }; // eslint-disable-next-line\n\n\n  Toolbar.prototype.stampSelect = function (args, stampParentID) {\n    this.pdfViewerBase.isAlreadyAdded = false;\n    this.updateStampItems();\n\n    if (args.Item.Text === 'Custom Stamp') {\n      this.annotationToolbarModule.checkStampAnnotations();\n      this.pdfViewer.annotation.stampAnnotationModule.isStampAddMode = true; // eslint-disable-next-line\n\n      var stampImage = createElement('input', {\n        id: this.pdfViewer.element.id + '_stampElement',\n        attrs: {\n          'type': 'file'\n        }\n      });\n      stampImage.setAttribute('accept', '.jpg,.jpeg,.png');\n      stampImage.style.position = 'absolute';\n      stampImage.style.left = '0px';\n      stampImage.style.top = '0px';\n      stampImage.style.visibility = 'hidden';\n      document.body.appendChild(stampImage);\n      stampImage.click();\n      stampImage.addEventListener('change', this.annotationToolbarModule.addStampImage);\n      document.body.removeChild(stampImage); // eslint-disable-next-line max-len\n    } else if (stampParentID === 'Custom Stamp' && args.Item.Text !== '') {\n      // eslint-disable-next-line\n      var elements = this.pdfViewerBase.customStampCollection;\n\n      for (var n = 0; n < elements.length; n++) {\n        if (elements[n].customStampName === args.Item.Text) {\n          this.pdfViewer.annotationModule.stampAnnotationModule.customStampName = args.Item.Text;\n          this.annotationToolbarModule.checkStampAnnotations();\n          this.pdfViewer.annotation.stampAnnotationModule.isStampAddMode = true;\n          this.pdfViewer.annotationModule.stampAnnotationModule.isStampAnnotSelected = true;\n          this.pdfViewerBase.stampAdded = true;\n          this.pdfViewerBase.isAlreadyAdded = true; // eslint-disable-next-line max-len\n\n          this.pdfViewer.annotationModule.stampAnnotationModule.createCustomStampAnnotation(elements[n].customStampImageSource);\n          this.pdfViewerBase.stampAdded = false;\n        }\n      } // eslint-disable-next-line max-len\n\n    } else if (args.Item.Text !== 'Dynamic' && args.Item.Text !== '' && args.Item.Text !== 'Standard Business' && (stampParentID === 'Sign Here' || args.Item.Text !== 'Sign Here')) {\n      this.annotationToolbarModule.checkStampAnnotations();\n      this.pdfViewer.annotation.stampAnnotationModule.isStampAddMode = true;\n      this.pdfViewer.annotationModule.stampAnnotationModule.isStampAnnotSelected = true;\n      this.pdfViewerBase.stampAdded = true;\n\n      if (stampParentID === 'Dynamic') {\n        this.pdfViewerBase.isDynamicStamp = true;\n        this.pdfViewer.annotationModule.stampAnnotationModule.retrieveDynamicStampAnnotation(args.Item.Text);\n      } else {\n        this.pdfViewerBase.isDynamicStamp = false;\n        this.pdfViewer.annotationModule.stampAnnotationModule.retrievestampAnnotation(args.Item.Text);\n      }\n    }\n  };\n  /**\n   * @private\n   */\n\n\n  Toolbar.prototype.getModuleName = function () {\n    return 'Toolbar';\n  };\n\n  return Toolbar;\n}();\n\nexport { Toolbar };","map":{"version":3,"names":["createElement","Browser","isBlazor","Toolbar","tool","NumericTextBox","ComboBox","AnnotationToolbar","Tooltip","DropDownButton","FormDesignerToolbar","viewer","viewerBase","_this","isPageNavigationToolDisabled","isMagnificationToolDisabled","isSelectionToolDisabled","isScrollingToolDisabled","isOpenBtnVisible","isNavigationToolVisible","isMagnificationToolVisible","isSelectionBtnVisible","isScrollingBtnVisible","isDownloadBtnVisible","isPrintBtnVisible","isSearchBtnVisible","isTextSearchBoxDisplayed","isUndoRedoBtnsVisible","isAnnotationEditBtnVisible","isFormDesignerEditBtnVisible","isCommentBtnVisible","isSubmitbtnvisible","onToolbarKeydown","event","targetId","target","id","pdfViewer","element","preventDefault","stopPropagation","toolbarClickHandler","args","isDevice","enableDesktopMode","originalEvent","zoomDropdownItem","parentElement","childNodes","cancel","tooltipData","dataset","tooltipId","tooltipElement","document","getElementById","style","display","handleToolbarBtnClick","targetElement","currentPageBoxElement","textSearchItem","blur","pdfViewerBase","focusViewerContainer","loadDocument","upoadedFiles","files","uploadedFile","uploadedDocumentName","name","reader","FileReader","readAsDataURL","onload","e","uploadedFileUrl","currentTarget","result","_dotnetInstance","invokeMethodAsync","load","navigateToPage","which","enteredValue","parseInt","value","pageCount","navigationModule","goToPage","updateCurrentPage","currentPageNumber","textBoxFocusOut","currentPageBox","prototype","intializeToolbar","width","toolbarDiv","createToolbar","querySelector","toolbarElement","isIE","documentMode","blazorUIAdaptor","totalPageElement","classList","add","totalPageItem","createFileElement","wireEvent","updateToolbarItems","applyToolbarSettings","initialEnableItems","navigationPane","adjustPane","annotationModule","annotationToolbarModule","initializeAnnotationToolbar","formDesignerModule","formDesignerToolbarModule","initializeFormDesignerToolbar","enableToolbar","bindOpenIconEvent","PanElement","children","SelectToolElement","CommentElement","enableAnnotationToolbar","afterAnnotationToolbarCreationInBlazor","openElement","addEventListener","openFileDialogBox","bind","InitializeMobileToolbarInBlazor","showToolbar","toolbar","toolbarModule","hideMobileAnnotationToolbar","toolbarHeight","toolbarCreated","adjustMobileViewer","propertyToolbar","showNavigationToolbar","enableNavigationToolbar","navigationToolbar","sideBarToolbar","navigationToolbarSplitter","sideBarToolbarSplitter","isBookmarkOpen","isThumbnailOpen","clear","updateViewerContainerOnClose","showAnnotationToolbar","isToolbarHidden","showToolbarItem","items","isVisible","i","length","showOpenOption","showPageNavigationTool","showMagnificationTool","showSelectionTool","showScrollingTool","showDownloadOption","showPrintOption","showSearchOption","showUndoRedoTool","showAnnotationEditTool","showFormDesignerEditTool","showCommentOption","showSubmitForm","applyHideToToolbar","showSeparator","enableToolbarItem","isEnable","enableOpenOption","enablePageNavigationTool","enableMagnificationTool","enableSelectionTool","enableScrollingTool","enableDownloadOption","enablePrintOption","enableSearchOption","enableUndoRedoTool","enableAnnotationEditTool","enableFormDesignerEditTool","enableCommentsTool","DisableToolbarItems","restrictionSummary","initiateTextSelectMode","updateInteractionTools","initiatePanning","enableStickyNotesAnnotation","enableItems","openDocumentItem","firstPageItem","previousPageItem","nextPageItem","lastPageItem","readonly","zoomInItem","zoomOutItem","zoomDropDown","textSelectItem","panItem","downloadItem","printItem","undoItem","redoItem","annotationItem","formDesignerItem","resetToolbar","min","updateTotalPage","destroy","commentsContainer","innerHTML","commentItem","updateUndoRedoButtons","updateNavigationButtons","magnificationModule","submitItem","getElement","deSelectItem","updateZoomButtons","updateInteractionItems","enableAnnotation","enableFormDesigner","textSearchModule","enableTextSearch","toolbarSettings","annotationToolbarItems","formDesignerToolbarItems","enableFormDesignerToolbar","enableDownload","enablePrint","moreOptionItem","zoomFactor","enableCollectionAvailableInBlazor","actionCollection","redoCollection","enableCollectionAvailable","disableUndoRedoButton","disableUndoRedoButtons","collection","item","updateUndoRedoButton","unWireEvent","destroyComponent","moreDropDown","removeChild","componentElement","destroyDependentComponent","component","ej2_instances","pageIndex","toString","pageChanged","mobileSpanContainer","mobilecurrentPageContainer","textContent","localeObj","getConstant","fileInputElement","click","controlWidth","className","viewerMainContainer","appendChild","clicked","height","overflowMode","cssClass","createToolbarItems","created","createZoomDropdown","createNumericTextBox","refreshOverflow","isStringTemplate","enableRtl","appendTo","afterToolbarCreation","createToolbarItemsForMobile","afterToolbarCreationInMobile","applyToolbarSettingsForMobile","currentPageInputTemplate","createCurrentPageInputTemplate","totalPageTemplate","createTotalPageTemplate","zoomDropDownTemplateString","createZoomDropdownElement","submitButton","push","prefixIcon","text","align","type","template","itemsContainer","addClassToolbarItem","createTooltip","setAttribute","addPropertiesToolItemContainer","minWidth","idString","tooltipText","spanElement","remove","textElement","contains","zoomDropdownElement","createToolbarItem","outerHTML","percent","dataSource","fields","popupHeight","showClearButton","open","openZoomDropdown","select","itemData","goToPageElement","format","showSpinButton","firstElementChild","createMoreOption","iconCss","dropdownButtonPosition","getBoundingClientRect","left","offsetWidth","download","createNavigationPaneMobile","beforeItemRender","bookmarkViewModule","bookmarks","close","elementName","toolbarItem","tooltip","content","opensOn","beforeOpen","onTooltipBeforeOpen","showTooltip","shapeToolbarElement","styles","attrs","toolbarOnMouseup","change","zoomPercentSelect","onZoomDropDownInput","onZoomDropDownInputClick","removeEventListener","onToolbarResize","viewerWidth","toolbarResize","show","startIndex","endIndex","isHide","index","hideItem","handleOpenIconClick","addInkAnnotation","deSelectCommentAnnotation","printModule","firePrintStart","undo","redo","goToFirstPage","goToPreviousPage","goToNextPage","goToLastPage","zoomIn","zoomOut","getStampMode","textSearchButtonHandler","initiateAnnotationMode","initiateFormDesignerMode","showHideDeleteIcon","isAddComment","isCommentIconAdded","deselectAllItems","annotation","triggerAnnotationUnselectEvent","addComments","exportFormFields","inkAnnotationModule","drawInkAnnotation","deselectInkAnnotation","inkAnnotationSelected","deselectAllItemsInBlazor","commentsButton","updateStampItems","stickyNotesAnnotationModule","drawIcons","toolbarData","fullscreen","fullscreenElement","tagName","setTimeout","popupElement","refreshPosition","zoomDropDownChange","isInteracted","zoomText","updateZoomPercentage","isAutoZoom","zoomTo","parseFloat","focusOut","fitToWidth","fitToPage","fitToAuto","currentPercent","blazorZoomDropDown","isMinimumZoom","textSelectionModule","enableTextSelection","interactionMode","selectItem","showSearchBox","searchInputElement","focus","searchItem","isAnnotationToolbarVisible","isFormDesignerToolbarVisible","formDesignerMainDiv","showFormDesignerToolbar","adjustViewer","createAnnotationToolbarForMobile","annotationMainDiv","DisableInteractionTools","isTextSelect","isBlazorPlatform","toolbarItems","toolbarSettingsItems","indexOf","stampAnnotationModule","isStampAddMode","stampBeforeOpen","resetFreeTextAnnot","ParentItem","Text","customStampSettings","isAddToMenu","Items","currentElements","elements","customStampCollection","stampElements","customStamps","n","customStampName","customStampImageSource","m","stampBeforeClose","showItemOnClick","isNewStampAnnot","selectedItems","annotations","clearSelection","renderDrawing","isAlreadyAdded","stampSelect","stampParentID","Item","checkStampAnnotations","stampImage","position","top","visibility","body","addStampImage","isStampAnnotSelected","stampAdded","createCustomStampAnnotation","isDynamicStamp","retrieveDynamicStampAnnotation","retrievestampAnnotation","getModuleName"],"sources":["/home/morgan/Desktop/Projets/ENT4/Jwt-Auth-pdf/react-jwt-auth/react-jwt-auth/node_modules/@syncfusion/ej2-pdfviewer/src/pdfviewer/toolbar/toolbar.js"],"sourcesContent":["/* eslint-disable */\nimport { createElement, Browser, isBlazor } from '@syncfusion/ej2-base';\nimport { Toolbar as tool } from '@syncfusion/ej2-navigations';\nimport { NumericTextBox } from '@syncfusion/ej2-inputs';\nimport { ComboBox } from '@syncfusion/ej2-dropdowns';\nimport { AnnotationToolbar } from '../index';\nimport { Tooltip } from '@syncfusion/ej2-popups';\nimport { DropDownButton } from '@syncfusion/ej2-splitbuttons';\nimport { FormDesignerToolbar } from './formdesigner-toolbar';\n/**\n * Toolbar module\n */\nvar Toolbar = /** @class */ (function () {\n    /**\n     * @param viewer\n     * @param viewerBase\n     * @param viewer\n     * @param viewerBase\n     * @private\n     */\n    function Toolbar(viewer, viewerBase) {\n        var _this = this;\n        this.isPageNavigationToolDisabled = false;\n        this.isMagnificationToolDisabled = false;\n        /**\n         * @private\n        */\n        this.isSelectionToolDisabled = false;\n        this.isScrollingToolDisabled = false;\n        this.isOpenBtnVisible = true;\n        this.isNavigationToolVisible = true;\n        this.isMagnificationToolVisible = true;\n        this.isSelectionBtnVisible = true;\n        this.isScrollingBtnVisible = true;\n        this.isDownloadBtnVisible = true;\n        this.isPrintBtnVisible = true;\n        this.isSearchBtnVisible = true;\n        this.isTextSearchBoxDisplayed = false;\n        this.isUndoRedoBtnsVisible = true;\n        this.isAnnotationEditBtnVisible = true;\n        this.isFormDesignerEditBtnVisible = true;\n        this.isCommentBtnVisible = true;\n        this.isSubmitbtnvisible = true;\n        this.onToolbarKeydown = function (event) {\n            var targetId = event.target.id;\n            if (!(targetId === _this.pdfViewer.element.id + '_currentPageInput' || targetId === _this.pdfViewer.element.id + '_zoomDropDown')) {\n                event.preventDefault();\n                event.stopPropagation();\n            }\n        };\n        this.toolbarClickHandler = function (args) {\n            // eslint-disable-next-line max-len\n            if (!Browser.isDevice || _this.pdfViewer.enableDesktopMode) {\n                if (args.originalEvent.target === _this.zoomDropdownItem.parentElement.childNodes[1] || args.originalEvent.target === _this.zoomDropdownItem.parentElement.childNodes[2]) {\n                    args.cancel = true;\n                }\n                else if (args.originalEvent.target.id === _this.pdfViewer.element.id + '_openIcon') {\n                    var tooltipData = args.originalEvent.target.parentElement.dataset;\n                    if (tooltipData && tooltipData.tooltipId) {\n                        var tooltipElement = document.getElementById(tooltipData.tooltipId);\n                        if (tooltipElement) {\n                            tooltipElement.style.display = 'none';\n                        }\n                    }\n                }\n            }\n            _this.handleToolbarBtnClick(args);\n            // eslint-disable-next-line\n            var targetElement = args.originalEvent.target;\n            if (!Browser.isDevice || _this.pdfViewer.enableDesktopMode) {\n                // eslint-disable-next-line max-len\n                if (!(args.originalEvent.target === _this.zoomDropdownItem.parentElement.childNodes[1] || args.originalEvent.target === _this.zoomDropdownItem.parentElement.childNodes[2] || args.originalEvent.target === _this.currentPageBoxElement || args.originalEvent.target === _this.textSearchItem.childNodes[0])) {\n                    if (targetElement.parentElement.id !== _this.pdfViewer.element.id + '_toolbarContainer_nav' && targetElement.id !== _this.pdfViewer.element.id + '_toolbarContainer_nav') {\n                        args.originalEvent.target.blur();\n                        _this.pdfViewerBase.focusViewerContainer();\n                    }\n                }\n            }\n            else {\n                args.originalEvent.target.blur();\n                _this.pdfViewerBase.focusViewerContainer();\n            }\n        };\n        // eslint-disable-next-line\n        this.loadDocument = function (args) {\n            // eslint-disable-next-line\n            var upoadedFiles = args.target.files;\n            if (args.target.files[0] !== null) {\n                var uploadedFile = upoadedFiles[0];\n                if (uploadedFile) {\n                    _this.uploadedDocumentName = uploadedFile.name;\n                    var reader = new FileReader();\n                    reader.readAsDataURL(uploadedFile);\n                    // eslint-disable-next-line\n                    reader.onload = function (e) {\n                        var uploadedFileUrl = e.currentTarget.result;\n                        if (isBlazor()) {\n                            _this.pdfViewer._dotnetInstance.invokeMethodAsync(\"LoadDocumentFromClient\", uploadedFileUrl);\n                        }\n                        else {\n                            _this.pdfViewer.load(uploadedFileUrl, null);\n                        }\n                    };\n                }\n            }\n        };\n        this.navigateToPage = function (args) {\n            if (args.which === 13) {\n                // eslint-disable-next-line\n                var enteredValue = parseInt(_this.currentPageBoxElement.value);\n                if (enteredValue !== null) {\n                    if (enteredValue > 0 && enteredValue <= _this.pdfViewerBase.pageCount) {\n                        if (_this.pdfViewer.navigationModule) {\n                            _this.pdfViewer.navigationModule.goToPage(enteredValue);\n                        }\n                    }\n                    else {\n                        _this.updateCurrentPage(_this.pdfViewerBase.currentPageNumber);\n                    }\n                }\n                else {\n                    _this.updateCurrentPage(_this.pdfViewerBase.currentPageNumber);\n                }\n                _this.currentPageBoxElement.blur();\n                _this.pdfViewerBase.focusViewerContainer();\n            }\n        };\n        this.textBoxFocusOut = function () {\n            // eslint-disable-next-line\n            if (_this.currentPageBox.value === null || _this.currentPageBox.value >= _this.pdfViewerBase.pageCount || _this.currentPageBox.value !== _this.pdfViewerBase.currentPageNumber) {\n                _this.updateCurrentPage(_this.pdfViewerBase.currentPageNumber);\n            }\n        };\n        this.pdfViewer = viewer;\n        this.pdfViewerBase = viewerBase;\n    }\n    /**\n     * @param width\n     * @private\n     */\n    Toolbar.prototype.intializeToolbar = function (width) {\n        var toolbarDiv;\n        if (!isBlazor()) {\n            toolbarDiv = this.createToolbar(width);\n        }\n        else {\n            if (!Browser.isDevice || this.pdfViewer.enableDesktopMode) {\n                toolbarDiv = this.pdfViewer.element.querySelector('.e-pv-toolbar');\n                this.toolbarElement = toolbarDiv;\n            }\n        }\n        // eslint-disable-next-line\n        var isIE = !!document.documentMode;\n        if (isIE) {\n            if (isBlazor()) {\n                this.pdfViewerBase.blazorUIAdaptor.totalPageElement.classList.add('e-pv-total-page-ms');\n            }\n            else {\n                if (!Browser.isDevice) {\n                    this.totalPageItem.classList.add('e-pv-total-page-ms');\n                }\n            }\n        }\n        this.createFileElement(toolbarDiv);\n        this.wireEvent();\n        if (!isBlazor()) {\n            this.updateToolbarItems();\n            if (!Browser.isDevice || this.pdfViewer.enableDesktopMode) {\n                this.applyToolbarSettings();\n                this.initialEnableItems();\n                this.pdfViewerBase.navigationPane.adjustPane();\n            }\n            else {\n                this.initialEnableItems();\n            }\n            if (this.pdfViewer.annotationModule) {\n                this.annotationToolbarModule = new AnnotationToolbar(this.pdfViewer, this.pdfViewerBase, this);\n                if (!Browser.isDevice || this.pdfViewer.enableDesktopMode) {\n                    this.annotationToolbarModule.initializeAnnotationToolbar();\n                }\n            }\n            if (this.pdfViewer.formDesignerModule) {\n                this.formDesignerToolbarModule = new FormDesignerToolbar(this.pdfViewer, this.pdfViewerBase, this);\n                if (!Browser.isDevice || this.pdfViewer.enableDesktopMode) {\n                    this.formDesignerToolbarModule.initializeFormDesignerToolbar();\n                }\n            }\n        }\n        else {\n            if (!Browser.isDevice || this.pdfViewer.enableDesktopMode) {\n                this.initialEnableItems();\n                this.pdfViewerBase.navigationPane.adjustPane();\n                if (this.pdfViewer.enableToolbar) {\n                    this.bindOpenIconEvent();\n                }\n            }\n            this.PanElement = document.getElementById(this.pdfViewer.element.id + '_handTool').children[0];\n            this.PanElement.classList.add('e-pv-tbar-btn');\n            this.SelectToolElement = document.getElementById(this.pdfViewer.element.id + '_selectTool').children[0];\n            this.SelectToolElement.classList.add('e-pv-tbar-btn');\n            this.CommentElement = document.getElementById(this.pdfViewer.element.id + '_comment').children[0];\n            this.CommentElement.classList.add('e-pv-tbar-btn');\n            this.annotationToolbarModule = new AnnotationToolbar(this.pdfViewer, this.pdfViewerBase, this);\n            if (this.pdfViewer.enableToolbar && this.pdfViewer.enableAnnotationToolbar || (this.pdfViewer.enableDesktopMode && Browser.isDevice)) {\n                this.annotationToolbarModule.afterAnnotationToolbarCreationInBlazor();\n            }\n        }\n        return toolbarDiv;\n    };\n    Toolbar.prototype.bindOpenIconEvent = function () {\n        var openElement = document.getElementById(this.pdfViewer.element.id + '_open');\n        if (openElement) {\n            openElement.addEventListener('click', this.openFileDialogBox.bind(this));\n        }\n    };\n    Toolbar.prototype.InitializeMobileToolbarInBlazor = function () {\n        var toolbarDiv;\n        toolbarDiv = this.pdfViewer.element.querySelector('.e-pv-mobile-toolbar');\n        this.createFileElement(toolbarDiv);\n        this.wireEvent();\n    };\n    /**\n     * Shows /hides the toolbar in the PdfViewer\n     *\n     * @param  {boolean} enableToolbar - If set true , its show the Toolbar\n     * @returns void\n     */\n    Toolbar.prototype.showToolbar = function (enableToolbar) {\n        var toolbar = this.toolbarElement;\n        if (enableToolbar) {\n            toolbar.style.display = 'block';\n            // eslint-disable-next-line max-len\n            if ((Browser.isDevice && !this.pdfViewer.enableDesktopMode) && this.pdfViewer.toolbarModule && this.pdfViewer.toolbarModule.annotationToolbarModule) {\n                this.pdfViewer.toolbarModule.annotationToolbarModule.hideMobileAnnotationToolbar();\n            }\n        }\n        else {\n            this.pdfViewerBase.toolbarHeight = 0;\n            if (enableToolbar) {\n                if (Browser.isDevice && this.pdfViewer.toolbarModule.annotationToolbarModule.toolbar) {\n                    this.annotationToolbarModule.toolbarCreated = false;\n                    this.annotationToolbarModule.adjustMobileViewer();\n                    this.pdfViewer.toolbarModule.annotationToolbarModule.toolbar.element.style.display = 'none';\n                }\n                if (Browser.isDevice && this.annotationToolbarModule.propertyToolbar) {\n                    this.annotationToolbarModule.propertyToolbar.element.style.display = 'none';\n                }\n            }\n            toolbar.style.display = 'none';\n        }\n    };\n    /**\n     * Shows/hides the Navigation toolbar in the PdfViewer\n     *\n     * @param  {boolean} enableNavigationToolbar - If set true , its show the Navigation Toolbar\n     * @returns void\n     */\n    Toolbar.prototype.showNavigationToolbar = function (enableNavigationToolbar) {\n        if (!Browser.isDevice || this.pdfViewer.enableDesktopMode) {\n            var navigationToolbar = this.pdfViewerBase.navigationPane.sideBarToolbar;\n            var navigationToolbarSplitter = this.pdfViewerBase.navigationPane.sideBarToolbarSplitter;\n            if (enableNavigationToolbar) {\n                navigationToolbar.style.display = 'block';\n                navigationToolbarSplitter.style.display = 'block';\n                if (this.pdfViewerBase.navigationPane.isBookmarkOpen || this.pdfViewerBase.navigationPane.isThumbnailOpen) {\n                    this.pdfViewerBase.navigationPane.clear();\n                }\n            }\n            else {\n                navigationToolbar.style.display = 'none';\n                navigationToolbarSplitter.style.display = 'none';\n                if (this.pdfViewerBase.navigationPane.isBookmarkOpen || this.pdfViewerBase.navigationPane.isThumbnailOpen) {\n                    this.pdfViewerBase.navigationPane.updateViewerContainerOnClose();\n                }\n            }\n        }\n    };\n    /**\n     * Shows /hides the annotation toolbar in the PdfViewer\n     *\n     * @param  {boolean} enableAnnotationToolbar - If set true , its show the annotation Toolbar\n     * @returns void\n     */\n    Toolbar.prototype.showAnnotationToolbar = function (enableAnnotationToolbar) {\n        if (enableAnnotationToolbar) {\n            this.annotationToolbarModule.isToolbarHidden = true;\n            this.annotationToolbarModule.showAnnotationToolbar();\n        }\n        else {\n            this.annotationToolbarModule.isToolbarHidden = false;\n            this.annotationToolbarModule.showAnnotationToolbar();\n        }\n    };\n    /**\n     * Shows /hides the the toolbar items in the PdfViewer\n     *\n     * @param  {string[]} items - Defines the toolbar items in the toolbar\n     * @param  {boolean} isVisible - If set true, then its show the toolbar Items\n     * @returns void\n     */\n    Toolbar.prototype.showToolbarItem = function (items, isVisible) {\n        for (var i = 0; i < items.length; i++) {\n            switch (items[i]) {\n                case 'OpenOption':\n                    this.showOpenOption(isVisible);\n                    break;\n                case 'PageNavigationTool':\n                    this.showPageNavigationTool(isVisible);\n                    break;\n                case 'MagnificationTool':\n                    this.showMagnificationTool(isVisible);\n                    break;\n                case 'SelectionTool':\n                    this.showSelectionTool(isVisible);\n                    break;\n                case 'PanTool':\n                    this.showScrollingTool(isVisible);\n                    break;\n                case 'DownloadOption':\n                    this.showDownloadOption(isVisible);\n                    break;\n                case 'PrintOption':\n                    this.showPrintOption(isVisible);\n                    break;\n                case 'SearchOption':\n                    this.showSearchOption(isVisible);\n                    break;\n                case 'UndoRedoTool':\n                    this.showUndoRedoTool(isVisible);\n                    break;\n                case 'AnnotationEditTool':\n                    this.showAnnotationEditTool(isVisible);\n                    break;\n                case 'FormDesignerEditTool':\n                    this.showFormDesignerEditTool(isVisible);\n                    break;\n                case 'CommentTool':\n                    this.showCommentOption(isVisible);\n                    break;\n                case 'SubmitForm':\n                    this.showSubmitForm(isVisible);\n                    break;\n            }\n        }\n        this.applyHideToToolbar(true, 1, 1);\n        this.applyHideToToolbar(true, 8, 8);\n        this.applyHideToToolbar(true, 12, 12);\n        this.applyHideToToolbar(true, 15, 15);\n        this.showSeparator(items);\n    };\n    /**\n     * Enables /disables the the toolbar items in the PdfViewer\n     *\n     * @param  {string[]} items - Defines the toolbar items in the toolbar\n     * @param  {boolean} isEnable - If set true, then its Enable the toolbar Items\n     * @returns void\n     */\n    Toolbar.prototype.enableToolbarItem = function (items, isEnable) {\n        for (var i = 0; i < items.length; i++) {\n            switch (items[i]) {\n                case 'OpenOption':\n                    this.enableOpenOption(isEnable);\n                    break;\n                case 'PageNavigationTool':\n                    this.isPageNavigationToolDisabled = isEnable;\n                    this.enablePageNavigationTool(isEnable);\n                    break;\n                case 'MagnificationTool':\n                    this.isMagnificationToolDisabled = isEnable;\n                    this.enableMagnificationTool(isEnable);\n                    break;\n                case 'SelectionTool':\n                    this.isSelectionToolDisabled = isEnable;\n                    this.enableSelectionTool(isEnable);\n                    break;\n                case 'PanTool':\n                    this.isScrollingToolDisabled = isEnable;\n                    this.enableScrollingTool(isEnable);\n                    break;\n                case 'DownloadOption':\n                    this.enableDownloadOption(isEnable);\n                    break;\n                case 'PrintOption':\n                    this.enablePrintOption(isEnable);\n                    break;\n                case 'SearchOption':\n                    this.enableSearchOption(isEnable);\n                    break;\n                case 'UndoRedoTool':\n                    this.enableUndoRedoTool(isEnable);\n                    break;\n                case 'AnnotationEditTool':\n                    this.enableAnnotationEditTool(isEnable);\n                    break;\n                case 'FormDesignerEditTool':\n                    this.enableFormDesignerEditTool(isEnable);\n                    break;\n                case 'CommentTool':\n                    this.enableCommentsTool(isEnable);\n                    break;\n            }\n        }\n    };\n    /**\n     * @param restrictionSummary\n     * @param isEnable\n     * @param restrictionSummary\n     * @param isEnable\n     * @private\n     */\n    // eslint-disable-next-line\n    Toolbar.prototype.DisableToolbarItems = function (restrictionSummary, isEnable) {\n        switch (restrictionSummary) {\n            case 'Print':\n                this.enablePrintOption(isEnable);\n                break;\n            case 'CopyContent':\n                this.isSelectionToolDisabled = isEnable;\n                this.enableSelectionTool(isEnable);\n                if (isEnable) {\n                    this.pdfViewerBase.initiateTextSelectMode();\n                    this.updateInteractionTools(isEnable);\n                }\n                else {\n                    this.pdfViewerBase.initiatePanning();\n                    this.updateInteractionTools(isEnable);\n                }\n                break;\n            case 'EditAnnotations':\n                this.enableAnnotationEditTool(isEnable);\n                if (!this.annotationToolbarModule.isToolbarHidden) {\n                    this.annotationToolbarModule.showAnnotationToolbar();\n                }\n                break;\n        }\n    };\n    Toolbar.prototype.showOpenOption = function (enableOpenOption) {\n        this.isOpenBtnVisible = enableOpenOption;\n        this.applyHideToToolbar(enableOpenOption, 0, 0);\n    };\n    Toolbar.prototype.showPageNavigationTool = function (enablePageNavigationTool) {\n        this.isNavigationToolVisible = enablePageNavigationTool;\n        this.applyHideToToolbar(enablePageNavigationTool, 2, 7);\n    };\n    Toolbar.prototype.showMagnificationTool = function (enableMagnificationTool) {\n        this.isMagnificationToolVisible = enableMagnificationTool;\n        this.applyHideToToolbar(enableMagnificationTool, 9, 11);\n    };\n    Toolbar.prototype.showSelectionTool = function (enableSelectionTool) {\n        this.isSelectionBtnVisible = enableSelectionTool;\n        this.applyHideToToolbar(enableSelectionTool, 13, 13);\n    };\n    Toolbar.prototype.showScrollingTool = function (enableScrollingTool) {\n        this.isScrollingBtnVisible = enableScrollingTool;\n        this.applyHideToToolbar(enableScrollingTool, 14, 14);\n    };\n    Toolbar.prototype.showDownloadOption = function (enableDownloadOption) {\n        this.isDownloadBtnVisible = enableDownloadOption;\n        if (!Browser.isDevice || this.pdfViewer.enableDesktopMode) {\n            this.applyHideToToolbar(enableDownloadOption, 26, 26);\n        }\n        else {\n            this.applyHideToToolbar(enableDownloadOption, 5, 5);\n        }\n    };\n    Toolbar.prototype.showPrintOption = function (enablePrintOption) {\n        this.isPrintBtnVisible = enablePrintOption;\n        this.applyHideToToolbar(enablePrintOption, 25, 25);\n    };\n    Toolbar.prototype.showSearchOption = function (enableSearchOption) {\n        this.isSearchBtnVisible = enableSearchOption;\n        if (!Browser.isDevice || this.pdfViewer.enableDesktopMode) {\n            this.applyHideToToolbar(enableSearchOption, 22, 22);\n        }\n        else {\n            this.applyHideToToolbar(enableSearchOption, 5, 5);\n        }\n    };\n    Toolbar.prototype.showUndoRedoTool = function (isEnable) {\n        this.isUndoRedoBtnsVisible = isEnable;\n        if (!Browser.isDevice || this.pdfViewer.enableDesktopMode) {\n            this.applyHideToToolbar(isEnable, 16, 17);\n        }\n        else {\n            this.applyHideToToolbar(isEnable, 2, 3);\n        }\n    };\n    Toolbar.prototype.showCommentOption = function (isEnable) {\n        if (!this.pdfViewer.enableStickyNotesAnnotation) {\n            this.isCommentBtnVisible = isEnable;\n            this.applyHideToToolbar(this.pdfViewer.enableStickyNotesAnnotation, 18, 19);\n        }\n        else {\n            this.isCommentBtnVisible = isEnable;\n            this.applyHideToToolbar(isEnable, 18, 19);\n        }\n    };\n    Toolbar.prototype.showAnnotationEditTool = function (isEnable) {\n        this.isAnnotationEditBtnVisible = isEnable;\n        if (!Browser.isDevice || this.pdfViewer.enableDesktopMode) {\n            this.applyHideToToolbar(isEnable, 23, 23);\n        }\n        else {\n            this.applyHideToToolbar(isEnable, 4, 4);\n        }\n    };\n    Toolbar.prototype.showFormDesignerEditTool = function (isEnable) {\n        this.isFormDesignerEditBtnVisible = isEnable;\n        this.applyHideToToolbar(isEnable, 24, 24);\n    };\n    Toolbar.prototype.showSubmitForm = function (isEnable) {\n        this.isSubmitbtnvisible = isEnable;\n        this.applyHideToToolbar(isEnable, 20, 21);\n    };\n    Toolbar.prototype.enableOpenOption = function (enableOpenOption) {\n        this.toolbar.enableItems(this.openDocumentItem.parentElement, enableOpenOption);\n    };\n    Toolbar.prototype.enablePageNavigationTool = function (enablePageNavigationTool) {\n        this.toolbar.enableItems(this.firstPageItem.parentElement, enablePageNavigationTool);\n        this.toolbar.enableItems(this.previousPageItem.parentElement, enablePageNavigationTool);\n        this.toolbar.enableItems(this.nextPageItem.parentElement, enablePageNavigationTool);\n        this.toolbar.enableItems(this.lastPageItem.parentElement, enablePageNavigationTool);\n        this.currentPageBox.readonly = !enablePageNavigationTool;\n    };\n    Toolbar.prototype.enableMagnificationTool = function (enableMagnificationTool) {\n        this.toolbar.enableItems(this.zoomInItem.parentElement, enableMagnificationTool);\n        this.toolbar.enableItems(this.zoomOutItem.parentElement, enableMagnificationTool);\n        this.zoomDropDown.readonly = !enableMagnificationTool;\n    };\n    Toolbar.prototype.enableSelectionTool = function (enableSelectionTool) {\n        if (this.textSelectItem && this.textSelectItem.parentElement) {\n            this.toolbar.enableItems(this.textSelectItem.parentElement, enableSelectionTool);\n        }\n    };\n    Toolbar.prototype.enableScrollingTool = function (enableScrollingTool) {\n        this.toolbar.enableItems(this.panItem.parentElement, enableScrollingTool);\n    };\n    Toolbar.prototype.enableDownloadOption = function (enableDownloadOption) {\n        this.toolbar.enableItems(this.downloadItem.parentElement, enableDownloadOption);\n    };\n    Toolbar.prototype.enablePrintOption = function (enablePrintOption) {\n        this.toolbar.enableItems(this.printItem.parentElement, enablePrintOption);\n    };\n    Toolbar.prototype.enableSearchOption = function (enableSearchOption) {\n        this.toolbar.enableItems(this.textSearchItem.parentElement, enableSearchOption);\n    };\n    Toolbar.prototype.enableUndoRedoTool = function (isEnable) {\n        this.toolbar.enableItems(this.undoItem.parentElement, isEnable);\n        this.toolbar.enableItems(this.redoItem.parentElement, isEnable);\n    };\n    Toolbar.prototype.enableAnnotationEditTool = function (isEnable) {\n        this.toolbar.enableItems(this.annotationItem.parentElement, isEnable);\n    };\n    Toolbar.prototype.enableFormDesignerEditTool = function (isEnable) {\n        this.toolbar.enableItems(this.formDesignerItem.parentElement, isEnable);\n    };\n    Toolbar.prototype.enableCommentsTool = function (isEnable) {\n        if (this.pdfViewer.enableStickyNotesAnnotation) {\n            this.toolbar.enableItems(this.annotationItem.parentElement, isEnable);\n        }\n    };\n    /**\n     * @private\n     */\n    Toolbar.prototype.resetToolbar = function () {\n        if (!Browser.isDevice || this.pdfViewer.enableDesktopMode) {\n            this.currentPageBox.min = 0;\n            this.currentPageBox.value = 0;\n            this.updateTotalPage();\n            this.updateToolbarItems();\n            if (this.annotationToolbarModule) {\n                this.annotationToolbarModule.clear();\n            }\n            else {\n                if (this.annotationToolbarModule) {\n                    if (this.annotationToolbarModule.propertyToolbar) {\n                        this.annotationToolbarModule.propertyToolbar.destroy();\n                    }\n                    // eslint:disable-next-line\n                    var commentsContainer = document.getElementById(this.pdfViewer.element.id + '_commentscontentcontainer');\n                    if (commentsContainer) {\n                        commentsContainer.innerHTML = '';\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    Toolbar.prototype.updateToolbarItems = function () {\n        if (!Browser.isDevice || this.pdfViewer.enableDesktopMode) {\n            if (this.toolbar) {\n                if (this.pdfViewerBase.pageCount === 0) {\n                    this.toolbar.enableItems(this.downloadItem.parentElement, false);\n                    this.toolbar.enableItems(this.printItem.parentElement, false);\n                    this.toolbar.enableItems(this.commentItem.parentElement, false);\n                    this.updateUndoRedoButtons();\n                    this.updateNavigationButtons();\n                    this.toolbar.enableItems(this.zoomInItem.parentElement, false);\n                    this.toolbar.enableItems(this.zoomOutItem.parentElement, false);\n                    if (this.pdfViewer.magnificationModule) {\n                        this.zoomDropDown.readonly = true;\n                    }\n                    this.toolbar.enableItems(this.submitItem.parentElement, false);\n                    this.toolbar.enableItems(this.pdfViewerBase.getElement('_currentPageInputContainer'), false);\n                    this.toolbar.enableItems(this.pdfViewerBase.getElement('_zoomDropDownContainer'), false);\n                    this.toolbar.enableItems(this.textSelectItem.parentElement, false);\n                    this.toolbar.enableItems(this.annotationItem.parentElement, false);\n                    this.toolbar.enableItems(this.formDesignerItem.parentElement, false);\n                    this.toolbar.enableItems(this.panItem.parentElement, false);\n                    this.toolbar.enableItems(this.textSearchItem.parentElement, false);\n                    this.deSelectItem(this.annotationItem);\n                    if (this.annotationToolbarModule) {\n                        this.annotationToolbarModule.resetToolbar();\n                    }\n                    this.deSelectItem(this.formDesignerItem);\n                }\n                else if (this.pdfViewerBase.pageCount > 0) {\n                    this.toolbar.enableItems(this.downloadItem.parentElement, true);\n                    this.toolbar.enableItems(this.printItem.parentElement, true);\n                    this.toolbar.enableItems(this.pdfViewerBase.getElement('_currentPageInputContainer'), true);\n                    this.toolbar.enableItems(this.pdfViewerBase.getElement('_zoomDropDownContainer'), true);\n                    this.updateUndoRedoButtons();\n                    this.updateNavigationButtons();\n                    this.updateZoomButtons();\n                    if (this.pdfViewer.magnificationModule) {\n                        this.zoomDropDown.readonly = false;\n                    }\n                    this.updateInteractionItems();\n                    // modify this condition if new annotation types are added.\n                    if (this.pdfViewer.annotationModule && this.pdfViewer.enableAnnotation) {\n                        this.toolbar.enableItems(this.annotationItem.parentElement, true);\n                    }\n                    if (this.pdfViewer.formDesignerModule && this.pdfViewer.enableFormDesigner) {\n                        this.toolbar.enableItems(this.formDesignerItem.parentElement, true);\n                    }\n                    if (this.pdfViewer.textSearchModule && this.pdfViewer.enableTextSearch) {\n                        this.toolbar.enableItems(this.textSearchItem.parentElement, true);\n                    }\n                    if (this.pdfViewer.annotationModule && this.pdfViewer.enableStickyNotesAnnotation) {\n                        this.toolbar.enableItems(this.commentItem.parentElement, true);\n                    }\n                }\n                if (this.pdfViewer.toolbarSettings.annotationToolbarItems) {\n                    // eslint-disable-next-line max-len\n                    if (this.pdfViewer.toolbarSettings.annotationToolbarItems.length === 0 || !this.pdfViewer.annotationModule || !this.pdfViewer.enableAnnotationToolbar) {\n                        this.enableToolbarItem(['AnnotationEditTool'], false);\n                    }\n                }\n                if (this.pdfViewer.toolbarSettings.formDesignerToolbarItems) {\n                    // eslint-disable-next-line max-len\n                    if (this.pdfViewer.toolbarSettings.formDesignerToolbarItems.length === 0 || !this.pdfViewer.formDesignerModule || !this.pdfViewer.enableFormDesignerToolbar) {\n                        this.enableToolbarItem(['FormDesignerEditTool'], false);\n                    }\n                }\n                if (!this.pdfViewer.enableDownload) {\n                    this.enableDownloadOption(false);\n                }\n                if (!this.pdfViewer.enablePrint) {\n                    this.enablePrintOption(false);\n                }\n            }\n        }\n        else {\n            if (this.pdfViewerBase.pageCount === 0) {\n                this.toolbar.enableItems(this.textSearchItem.parentElement, false);\n                this.toolbar.enableItems(this.moreOptionItem.parentElement, false);\n                this.toolbar.enableItems(this.annotationItem.parentElement, false);\n            }\n            else if (this.pdfViewerBase.pageCount > 0) {\n                this.toolbar.enableItems(this.textSearchItem.parentElement, true);\n                this.toolbar.enableItems(this.moreOptionItem.parentElement, true);\n                if (this.pdfViewer.annotationModule && this.pdfViewer.enableAnnotation) {\n                    this.toolbar.enableItems(this.annotationItem.parentElement, true);\n                }\n                if (!this.pdfViewer.annotationModule || !this.pdfViewer.enableAnnotationToolbar) {\n                    this.enableToolbarItem(['AnnotationEditTool'], false);\n                }\n                this.updateUndoRedoButtons();\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    Toolbar.prototype.updateNavigationButtons = function () {\n        if (this.pdfViewer.navigationModule && !this.isPageNavigationToolDisabled) {\n            if (this.pdfViewerBase.pageCount === 0 || (this.pdfViewerBase.currentPageNumber === 1 && this.pdfViewerBase.pageCount === 1)) {\n                this.toolbar.enableItems(this.firstPageItem.parentElement, false);\n                this.toolbar.enableItems(this.previousPageItem.parentElement, false);\n                this.toolbar.enableItems(this.nextPageItem.parentElement, false);\n                this.toolbar.enableItems(this.lastPageItem.parentElement, false);\n            }\n            else if (this.pdfViewerBase.currentPageNumber === 1 && this.pdfViewerBase.pageCount > 0) {\n                this.toolbar.enableItems(this.firstPageItem.parentElement, false);\n                this.toolbar.enableItems(this.previousPageItem.parentElement, false);\n                this.toolbar.enableItems(this.nextPageItem.parentElement, true);\n                this.toolbar.enableItems(this.lastPageItem.parentElement, true);\n            }\n            else if (this.pdfViewerBase.currentPageNumber === this.pdfViewerBase.pageCount && this.pdfViewerBase.pageCount > 0) {\n                this.toolbar.enableItems(this.firstPageItem.parentElement, true);\n                this.toolbar.enableItems(this.previousPageItem.parentElement, true);\n                this.toolbar.enableItems(this.nextPageItem.parentElement, false);\n                this.toolbar.enableItems(this.lastPageItem.parentElement, false);\n            }\n            else if (this.pdfViewerBase.currentPageNumber > 1 && this.pdfViewerBase.currentPageNumber < this.pdfViewerBase.pageCount) {\n                this.toolbar.enableItems(this.firstPageItem.parentElement, true);\n                this.toolbar.enableItems(this.previousPageItem.parentElement, true);\n                this.toolbar.enableItems(this.nextPageItem.parentElement, true);\n                this.toolbar.enableItems(this.lastPageItem.parentElement, true);\n            }\n        }\n        else {\n            this.toolbar.enableItems(this.firstPageItem.parentElement, false);\n            this.toolbar.enableItems(this.previousPageItem.parentElement, false);\n            this.toolbar.enableItems(this.nextPageItem.parentElement, false);\n            this.toolbar.enableItems(this.lastPageItem.parentElement, false);\n            this.currentPageBox.readonly = true;\n        }\n    };\n    /**\n     * @private\n     */\n    Toolbar.prototype.updateZoomButtons = function () {\n        // eslint-disable-next-line max-len\n        if (this.pdfViewer.magnificationModule && !this.isMagnificationToolDisabled && (!Browser.isDevice || this.pdfViewer.enableDesktopMode)) {\n            if (this.pdfViewer.magnificationModule.zoomFactor <= 0.1) {\n                this.toolbar.enableItems(this.zoomInItem.parentElement, true);\n                this.toolbar.enableItems(this.zoomOutItem.parentElement, false);\n            }\n            else if (this.pdfViewer.magnificationModule.zoomFactor >= 4) {\n                this.toolbar.enableItems(this.zoomInItem.parentElement, false);\n                this.toolbar.enableItems(this.zoomOutItem.parentElement, true);\n            }\n            else {\n                this.toolbar.enableItems(this.zoomInItem.parentElement, true);\n                this.toolbar.enableItems(this.zoomOutItem.parentElement, true);\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    Toolbar.prototype.updateUndoRedoButtons = function () {\n        if (this.pdfViewer.annotationModule) {\n            if (this.pdfViewerBase.pageCount > 0) {\n                if (isBlazor()) {\n                    this.enableCollectionAvailableInBlazor(this.pdfViewer.annotationModule.actionCollection, 'undo');\n                    this.enableCollectionAvailableInBlazor(this.pdfViewer.annotationModule.redoCollection, 'redo');\n                }\n                else {\n                    this.enableCollectionAvailable(this.pdfViewer.annotationModule.actionCollection, this.undoItem.parentElement);\n                    this.enableCollectionAvailable(this.pdfViewer.annotationModule.redoCollection, this.redoItem.parentElement);\n                }\n            }\n            else {\n                if (isBlazor()) {\n                    //this.pdfViewer._dotnetInstance.invokeMethodAsync('DisableUndoRedoButton', null);\n                    this.pdfViewerBase.blazorUIAdaptor.disableUndoRedoButton();\n                }\n                else {\n                    this.disableUndoRedoButtons();\n                }\n            }\n        }\n        else {\n            if (isBlazor()) {\n                //this.pdfViewer._dotnetInstance.invokeMethodAsync('DisableUndoRedoButton', null);\n                this.pdfViewerBase.blazorUIAdaptor.disableUndoRedoButton();\n            }\n            else {\n                this.disableUndoRedoButtons();\n            }\n        }\n    };\n    // eslint-disable-next-line\n    Toolbar.prototype.enableCollectionAvailable = function (collection, item) {\n        if (collection.length > 0) {\n            this.toolbar.enableItems(item, true);\n        }\n        else {\n            this.toolbar.enableItems(item, false);\n        }\n    };\n    // eslint-disable-next-line\n    Toolbar.prototype.enableCollectionAvailableInBlazor = function (collection, item) {\n        if (collection.length > 0) {\n            //this.pdfViewer._dotnetInstance.invokeMethodAsync('UpdateUndoRedoButton', item, true);\n            this.pdfViewerBase.blazorUIAdaptor.updateUndoRedoButton(item, true);\n        }\n        else {\n            // this.pdfViewer._dotnetInstance.invokeMethodAsync('UpdateUndoRedoButton', item, false);\n            this.pdfViewerBase.blazorUIAdaptor.updateUndoRedoButton(item, false);\n        }\n    };\n    Toolbar.prototype.disableUndoRedoButtons = function () {\n        this.toolbar.enableItems(this.undoItem.parentElement, false);\n        this.toolbar.enableItems(this.redoItem.parentElement, false);\n    };\n    /**\n     * @private\n     */\n    Toolbar.prototype.destroy = function () {\n        if (!isBlazor()) {\n            this.unWireEvent();\n            this.destroyComponent();\n            if (this.moreDropDown) {\n                this.moreDropDown.destroy();\n            }\n            if (this.annotationToolbarModule) {\n                this.annotationToolbarModule.destroy();\n            }\n            if (this.formDesignerToolbarModule) {\n                this.formDesignerToolbarModule.destroy();\n            }\n            this.toolbar.destroy();\n            this.toolbarElement.parentElement.removeChild(this.toolbarElement);\n        }\n    };\n    Toolbar.prototype.destroyComponent = function () {\n        // eslint-disable-next-line\n        var componentElement = [this.openDocumentItem, this.firstPageItem, this.previousPageItem, this.nextPageItem,\n            this.lastPageItem, this.currentPageBoxElement, this.zoomOutItem, this.zoomInItem, this.zoomDropdownItem, this.textSelectItem,\n            this.panItem, this.submitItem, this.undoItem, this.redoItem, this.commentItem, this.textSearchItem, this.annotationItem,\n            this.formDesignerItem, this.printItem, this.downloadItem];\n        for (var i = 0; i < componentElement.length; i++) {\n            if (componentElement[i]) {\n                this.destroyDependentComponent(componentElement[i]);\n            }\n        }\n    };\n    Toolbar.prototype.destroyDependentComponent = function (component) {\n        if (component.ej2_instances) {\n            for (var i = component.ej2_instances.length - 1; i >= 0; i--) {\n                component.ej2_instances[i].destroy();\n            }\n        }\n    };\n    /**\n     * @param pageIndex\n     * @private\n     */\n    Toolbar.prototype.updateCurrentPage = function (pageIndex) {\n        if (!Browser.isDevice || this.pdfViewer.enableDesktopMode) {\n            if (!isBlazor()) {\n                if (this.currentPageBox.value === pageIndex) {\n                    this.currentPageBoxElement.value = pageIndex.toString();\n                }\n                this.currentPageBox.value = pageIndex;\n            }\n            else {\n                //this.pdfViewer._dotnetInstance.invokeMethodAsync('OnPageChanged', pageIndex);\n                this.pdfViewerBase.blazorUIAdaptor.pageChanged(pageIndex);\n            }\n            this.pdfViewerBase.currentPageNumber = pageIndex;\n            this.pdfViewer.currentPageNumber = pageIndex;\n        }\n        else {\n            this.pdfViewerBase.mobileSpanContainer.innerHTML = pageIndex.toString();\n            this.pdfViewerBase.mobilecurrentPageContainer.innerHTML = pageIndex.toString();\n        }\n    };\n    /**\n     * @private\n     */\n    Toolbar.prototype.updateTotalPage = function () {\n        if (!Browser.isDevice || this.pdfViewer.enableDesktopMode) {\n            if (this.pdfViewerBase.pageCount > 0) {\n                this.currentPageBox.min = 1;\n            }\n            this.totalPageItem.textContent = this.pdfViewer.localeObj.getConstant('of') + this.pdfViewerBase.pageCount.toString();\n        }\n    };\n    /**\n     * @param event\n     * @private\n     */\n    Toolbar.prototype.openFileDialogBox = function (event) {\n        event.preventDefault();\n        this.fileInputElement.click();\n    };\n    Toolbar.prototype.createToolbar = function (controlWidth) {\n        var _this = this;\n        // eslint-disable-next-line max-len\n        this.toolbarElement = createElement('div', { id: this.pdfViewer.element.id + '_toolbarContainer', className: 'e-pv-toolbar' });\n        this.pdfViewerBase.viewerMainContainer.appendChild(this.toolbarElement);\n        if (!Browser.isDevice || this.pdfViewer.enableDesktopMode) {\n            this.toolbar = new tool({\n                clicked: this.toolbarClickHandler, width: '', height: '', overflowMode: 'Popup', cssClass: 'e-pv-toolbar-scroll',\n                items: this.createToolbarItems(), created: function () {\n                    _this.createZoomDropdown();\n                    _this.createNumericTextBox();\n                    _this.toolbar.refreshOverflow();\n                }\n            });\n            this.toolbar.isStringTemplate = true;\n            if (this.pdfViewer.enableRtl) {\n                this.toolbar.enableRtl = true;\n            }\n            this.toolbar.appendTo(this.toolbarElement);\n            this.applyToolbarSettings();\n            this.afterToolbarCreation();\n            this.updateTotalPage();\n            this.toolbarElement.addEventListener('keydown', this.onToolbarKeydown);\n        }\n        else {\n            this.createToolbarItemsForMobile();\n            this.afterToolbarCreationInMobile();\n            if (this.pdfViewer.enableRtl) {\n                this.toolbar.enableRtl = true;\n            }\n            this.applyToolbarSettingsForMobile();\n            this.disableUndoRedoButtons();\n        }\n        return this.toolbarElement;\n    };\n    // eslint-disable-next-line\n    Toolbar.prototype.createToolbarItems = function () {\n        var currentPageInputTemplate = this.createCurrentPageInputTemplate();\n        var totalPageTemplate = this.createTotalPageTemplate();\n        var zoomDropDownTemplateString = this.createZoomDropdownElement();\n        // eslint-disable-next-line\n        var items = [];\n        var submitButton = '<button id=\"' + this.pdfViewer.element.id + '_submitForm\" class=\"e-tbar-btn\" style=\"font-size:15px\"><span id=\"' + this.pdfViewer.element.id + '_submitFormSpan\" class=\"e-tbar-btn-text e-pv-submitform-text\">' + this.pdfViewer.localeObj.getConstant('SubmitForm') + '</span></button>';\n        // eslint-disable-next-line max-len\n        items.push({ prefixIcon: 'e-pv-open-document-icon e-pv-icon', cssClass: 'e-pv-open-document-container', id: this.pdfViewer.element.id + '_open', text: this.pdfViewer.localeObj.getConstant('Open text'), align: 'Left' });\n        items.push({ type: 'Separator', align: 'Left', cssClass: 'e-pv-open-separator-container' });\n        if (!this.pdfViewer.enableRtl) {\n            // eslint-disable-next-line max-len\n            items.push({ prefixIcon: 'e-pv-first-page-navigation-icon e-pv-icon', cssClass: 'e-pv-first-page-navigation-container', id: this.pdfViewer.element.id + '_firstPage', text: this.pdfViewer.localeObj.getConstant('First text'), align: 'Left' });\n            items.push({ prefixIcon: 'e-pv-previous-page-navigation-icon e-pv-icon', cssClass: 'e-pv-previous-page-navigation-container', id: this.pdfViewer.element.id + '_previousPage', text: this.pdfViewer.localeObj.getConstant('Previous text'), align: 'Left' });\n            // eslint-disable-next-line max-len\n            items.push({ prefixIcon: 'e-pv-next-page-navigation-icon e-pv-icon', cssClass: 'e-pv-next-page-navigation-container', id: this.pdfViewer.element.id + '_nextPage', text: this.pdfViewer.localeObj.getConstant('Next text'), align: 'Left' });\n            items.push({ prefixIcon: 'e-pv-last-page-navigation-icon e-pv-icon', cssClass: 'e-pv-last-page-navigation-container', id: this.pdfViewer.element.id + '_lastPage', text: this.pdfViewer.localeObj.getConstant('Last text'), align: 'Left' });\n            items.push({ template: currentPageInputTemplate, align: 'Left', cssClass: 'e-pv-current-page-container' });\n            items.push({ template: totalPageTemplate, align: 'Left', cssClass: 'e-pv-total-page-container' });\n        }\n        else {\n            // eslint-disable-next-line max-len\n            items.push({ prefixIcon: 'e-pv-last-page-navigation-icon e-pv-icon', cssClass: 'e-pv-last-page-navigation-container', id: this.pdfViewer.element.id + '_firstPage', text: this.pdfViewer.localeObj.getConstant('First text'), align: 'Left' });\n            items.push({ prefixIcon: 'e-pv-next-page-navigation-icon e-pv-icon', cssClass: 'e-pv-next-page-navigation-container', id: this.pdfViewer.element.id + '_previousPage', text: this.pdfViewer.localeObj.getConstant('Previous text'), align: 'Left' });\n            // eslint-disable-next-line max-len\n            items.push({ prefixIcon: 'e-pv-previous-page-navigation-icon e-pv-icon', cssClass: 'e-pv-previous-page-navigation-container', id: this.pdfViewer.element.id + '_nextPage', text: this.pdfViewer.localeObj.getConstant('Next text'), align: 'Left' });\n            items.push({ prefixIcon: 'e-pv-first-page-navigation-icon e-pv-icon', cssClass: 'e-pv-first-page-navigation-container', id: this.pdfViewer.element.id + '_lastPage', text: this.pdfViewer.localeObj.getConstant('Last text'), align: 'Left' });\n            items.push({ template: totalPageTemplate, align: 'Left', cssClass: 'e-pv-total-page-container' });\n            items.push({ template: currentPageInputTemplate, align: 'Left', cssClass: 'e-pv-current-page-container' });\n        }\n        items.push({ type: 'Separator', align: 'Left', cssClass: 'e-pv-navigation-separator-container' });\n        // eslint-disable-next-line max-len\n        items.push({ prefixIcon: 'e-pv-zoom-out-icon e-pv-icon', cssClass: 'e-pv-zoom-out-container', id: this.pdfViewer.element.id + '_zoomOut', text: this.pdfViewer.localeObj.getConstant('Zoom out text'), align: 'Left' });\n        items.push({ prefixIcon: 'e-pv-zoom-in-icon e-pv-icon', cssClass: 'e-pv-zoom-in-container', id: this.pdfViewer.element.id + '_zoomIn', text: this.pdfViewer.localeObj.getConstant('Zoom in text'), align: 'Left' });\n        items.push({ template: zoomDropDownTemplateString, cssClass: 'e-pv-zoom-drop-down-container', align: 'Left' });\n        items.push({ type: 'Separator', align: 'Left', cssClass: 'e-pv-magnification-separator-container' });\n        // eslint-disable-next-line max-len\n        items.push({ prefixIcon: 'e-pv-text-select-tool-icon e-pv-icon', cssClass: 'e-pv-text-select-tool-container', id: this.pdfViewer.element.id + '_selectTool', text: this.pdfViewer.localeObj.getConstant('Selection text') });\n        items.push({ prefixIcon: 'e-pv-pan-tool-icon e-pv-icon', cssClass: 'e-pv-pan-tool-container', id: this.pdfViewer.element.id + '_handTool', text: this.pdfViewer.localeObj.getConstant('Pan text') });\n        items.push({ type: 'Separator', align: 'Left', cssClass: 'e-pv-pan-separator-container' });\n        // eslint-disable-next-line max-len\n        items.push({ prefixIcon: 'e-pv-undo-icon e-pv-icon', cssClass: 'e-pv-undo-container', id: this.pdfViewer.element.id + '_undo', text: this.pdfViewer.localeObj.getConstant('Undo'), align: 'Left' });\n        items.push({ prefixIcon: 'e-pv-redo-icon e-pv-icon', cssClass: 'e-pv-redo-container', id: this.pdfViewer.element.id + '_redo', text: this.pdfViewer.localeObj.getConstant('Redo'), align: 'Left' });\n        items.push({ type: 'Separator', align: 'Left', cssClass: 'e-pv-undo-separator-container' });\n        // eslint-disable-next-line max-len\n        items.push({ prefixIcon: 'e-pv-comment-icon e-pv-icon', cssClass: 'e-pv-comment-container', id: this.pdfViewer.element.id + '_comment', text: this.pdfViewer.localeObj.getConstant('Add Comments'), align: 'Left' });\n        items.push({ type: 'Separator', align: 'Left', cssClass: 'e-pv-comment-separator-container' });\n        items.push({ template: submitButton, cssClass: 'e-pv-submit', align: 'Left' });\n        // eslint-disable-next-line max-len\n        items.push({ prefixIcon: 'e-pv-text-search-icon e-pv-icon', cssClass: 'e-pv-text-search-container', id: this.pdfViewer.element.id + '_search', text: this.pdfViewer.localeObj.getConstant('Search text'), align: 'Right' });\n        items.push({ prefixIcon: 'e-pv-annotation-icon e-pv-icon', cssClass: 'e-pv-annotation-container', id: this.pdfViewer.element.id + '_annotation', text: this.pdfViewer.localeObj.getConstant('Annotation Edit text'), align: 'Right' });\n        items.push({ prefixIcon: 'e-pv-formdesigner-icon e-pv-icon', cssClass: 'e-pv-formdesigner-container', id: this.pdfViewer.element.id + '_formdesigner', text: this.pdfViewer.localeObj.getConstant('FormDesigner Edit text'), align: 'Right' });\n        // eslint-disable-next-line max-len\n        items.push({ prefixIcon: 'e-pv-print-document-icon e-pv-icon', cssClass: 'e-pv-print-document-container', id: this.pdfViewer.element.id + '_print', text: this.pdfViewer.localeObj.getConstant('Print text'), align: 'Right' });\n        items.push({ prefixIcon: 'e-pv-download-document-icon e-pv-icon', cssClass: 'e-pv-download-document-container', id: this.pdfViewer.element.id + '_download', text: this.pdfViewer.localeObj.getConstant('Download'), align: 'Right' });\n        return items;\n    };\n    Toolbar.prototype.afterToolbarCreationInMobile = function () {\n        this.itemsContainer = this.toolbar.element.childNodes[0];\n        this.itemsContainer.id = this.pdfViewer.element.id + '_toolbarItemsContainer';\n        this.openDocumentItem = this.addClassToolbarItem('_open', 'e-pv-open-document', this.pdfViewer.localeObj.getConstant('Open'));\n        this.undoItem = this.addClassToolbarItem('_undo', 'e-pv-undo', this.pdfViewer.localeObj.getConstant('Undo'));\n        this.redoItem = this.addClassToolbarItem('_redo', 'e-pv-redo', this.pdfViewer.localeObj.getConstant('Redo'));\n        this.annotationItem = this.addClassToolbarItem('_annotation', 'e-pv-annotation', this.pdfViewer.localeObj.getConstant('Annotation'));\n        this.textSearchItem = this.addClassToolbarItem('_search', 'e-pv-text-search', this.pdfViewer.localeObj.getConstant('Text Search'));\n    };\n    Toolbar.prototype.afterToolbarCreation = function () {\n        this.itemsContainer = this.toolbar.element.childNodes[0];\n        this.itemsContainer.id = this.pdfViewer.element.id + '_toolbarItemsContainer';\n        this.openDocumentItem = this.addClassToolbarItem('_open', 'e-pv-open-document', this.pdfViewer.localeObj.getConstant('Open'));\n        this.undoItem = this.addClassToolbarItem('_undo', 'e-pv-undo', this.pdfViewer.localeObj.getConstant('Undo'));\n        this.redoItem = this.addClassToolbarItem('_redo', 'e-pv-redo', this.pdfViewer.localeObj.getConstant('Redo'));\n        if (!this.pdfViewer.enableRtl) {\n            // eslint-disable-next-line max-len\n            this.firstPageItem = this.addClassToolbarItem('_firstPage', 'e-pv-first-page-navigation', this.pdfViewer.localeObj.getConstant('Go To First Page'));\n            this.previousPageItem = this.addClassToolbarItem('_previousPage', 'e-pv-previous-page-navigation', this.pdfViewer.localeObj.getConstant('Previous Page'));\n            // eslint-disable-next-line max-len\n            this.nextPageItem = this.addClassToolbarItem('_nextPage', 'e-pv-next-page-navigation', this.pdfViewer.localeObj.getConstant('Next Page'));\n            this.lastPageItem = this.addClassToolbarItem('_lastPage', 'e-pv-last-page-navigation', this.pdfViewer.localeObj.getConstant('Go To Last Page'));\n        }\n        else {\n            // eslint-disable-next-line max-len\n            this.firstPageItem = this.addClassToolbarItem('_firstPage', 'e-pv-last-page-navigation', this.pdfViewer.localeObj.getConstant('Go To First Page'));\n            this.previousPageItem = this.addClassToolbarItem('_previousPage', 'e-pv-next-page-navigation', this.pdfViewer.localeObj.getConstant('Previous Page'));\n            // eslint-disable-next-line max-len\n            this.nextPageItem = this.addClassToolbarItem('_nextPage', 'e-pv-previous-page-navigation', this.pdfViewer.localeObj.getConstant('Next Page'));\n            this.lastPageItem = this.addClassToolbarItem('_lastPage', 'e-pv-first-page-navigation', this.pdfViewer.localeObj.getConstant('Go To Last Page'));\n        }\n        this.zoomOutItem = this.addClassToolbarItem('_zoomOut', 'e-pv-zoom-out', this.pdfViewer.localeObj.getConstant('Zoom Out'));\n        this.zoomInItem = this.addClassToolbarItem('_zoomIn', 'e-pv-zoom-in', this.pdfViewer.localeObj.getConstant('Zoom In'));\n        // eslint-disable-next-line max-len\n        this.textSelectItem = this.addClassToolbarItem('_selectTool', 'e-pv-text-select-tool', this.pdfViewer.localeObj.getConstant('Text Selection'));\n        this.panItem = this.addClassToolbarItem('_handTool', 'e-pv-pan-tool', this.pdfViewer.localeObj.getConstant('Panning'));\n        this.commentItem = this.addClassToolbarItem('_comment', 'e-pv-comment', this.pdfViewer.localeObj.getConstant('Add Comments'));\n        // eslint-disable-next-line max-len\n        this.textSearchItem = this.addClassToolbarItem('_search', 'e-pv-text-search', this.pdfViewer.localeObj.getConstant('Text Search'));\n        this.annotationItem = this.addClassToolbarItem('_annotation', 'e-pv-annotation', this.pdfViewer.localeObj.getConstant('Annotation'));\n        this.formDesignerItem = this.addClassToolbarItem('_formdesigner', 'e-pv-formdesigner', this.pdfViewer.localeObj.getConstant('FormDesigner'));\n        // eslint-disable-next-line max-len\n        this.printItem = this.addClassToolbarItem('_print', 'e-pv-print-document', this.pdfViewer.localeObj.getConstant('Print'));\n        this.downloadItem = this.addClassToolbarItem('_download', 'e-pv-download-document', this.pdfViewer.localeObj.getConstant('Download file'));\n        this.zoomDropdownItem = this.pdfViewerBase.getElement('_zoomDropDown');\n        this.createTooltip(this.zoomDropdownItem, this.pdfViewer.localeObj.getConstant('Zoom'));\n        this.zoomDropdownItem.setAttribute('aria-label', this.pdfViewer.localeObj.getConstant('Zoom'));\n        // eslint-disable-next-line max-len\n        this.addPropertiesToolItemContainer(this.zoomDropdownItem.parentElement.parentElement, null, '_zoomDropDownContainer');\n        this.pdfViewerBase.getElement('_zoomDropDownContainer').style.minWidth = '';\n        this.createTooltip(this.currentPageBoxElement, this.pdfViewer.localeObj.getConstant('Page Number'));\n        this.currentPageBoxElement.setAttribute('aria-label', this.pdfViewer.localeObj.getConstant('Page Number'));\n        this.submitItem = this.pdfViewerBase.getElement('_submitForm');\n        this.addPropertiesToolItemContainer(this.submitItem.parentElement, 'e-pv-submit', '_submitForm');\n        this.createTooltip(this.submitItem, this.pdfViewer.localeObj.getConstant('SubmitForm'));\n        // eslint-disable-next-line max-len\n        this.addPropertiesToolItemContainer(this.currentPageBoxElement.parentElement.parentElement, 'e-pv-current-page-container', '_currentPageInputContainer');\n        this.pdfViewerBase.getElement('_currentPageInputContainer').style.minWidth = '20px';\n        this.totalPageItem = this.pdfViewerBase.getElement('_totalPage');\n        this.addPropertiesToolItemContainer(this.totalPageItem.parentElement, 'e-pv-total-page-container', '_totalPageContainer');\n    };\n    /**\n     * @param idString\n     * @param className\n     * @param tooltipText\n     * @param idString\n     * @param className\n     * @param tooltipText\n     * @private\n     */\n    Toolbar.prototype.addClassToolbarItem = function (idString, className, tooltipText) {\n        var element = this.pdfViewerBase.getElement(idString);\n        element.classList.add(className);\n        element.classList.add('e-pv-tbar-btn');\n        element.setAttribute('aria-label', tooltipText);\n        element.parentElement.classList.add(className + '-container');\n        element.parentElement.classList.add('e-popup-text');\n        element.parentElement.id = this.pdfViewer.element.id + idString + 'Container';\n        if (element.childNodes.length > 0) {\n            var spanElement = element.childNodes[0];\n            spanElement.id = this.pdfViewer.element.id + idString + 'Icon';\n            spanElement.classList.remove('e-icons');\n            spanElement.classList.remove('e-btn-icon');\n            if (this.pdfViewer.enableRtl) {\n                spanElement.classList.add('e-right');\n            }\n            var textElement = element.childNodes[1];\n            if (textElement) {\n                if (textElement.classList.contains('e-tbar-btn-text')) {\n                    textElement.id = this.pdfViewer.element.id + idString + 'Text';\n                }\n            }\n        }\n        element.style.width = '';\n        this.createTooltip(element, tooltipText);\n        return element;\n    };\n    Toolbar.prototype.addPropertiesToolItemContainer = function (element, className, idString) {\n        if (className !== null) {\n            element.classList.add(className);\n        }\n        element.classList.add('e-popup-text');\n        element.id = this.pdfViewer.element.id + idString;\n    };\n    Toolbar.prototype.createZoomDropdownElement = function () {\n        // eslint-disable-next-line max-len\n        var zoomDropdownElement = this.createToolbarItem('input', this.pdfViewer.element.id + '_zoomDropDown', null);\n        return zoomDropdownElement.outerHTML;\n    };\n    Toolbar.prototype.createZoomDropdown = function () {\n        // eslint-disable-next-line max-len\n        var items = [{ percent: '10%', id: '0' }, { percent: '25%', id: '1' }, { percent: '50%', id: '2' }, { percent: '75%', id: '3' }, { percent: '100%', id: '4' }, { percent: '125%', id: '5' },\n            // eslint-disable-next-line max-len\n            { percent: '150%', id: '6' }, { percent: '200%', id: '7' }, { percent: '400%', id: '8' }, { percent: this.pdfViewer.localeObj.getConstant('Fit Page'), id: '9' }, { percent: this.pdfViewer.localeObj.getConstant('Fit Width'), id: '10' }, { percent: this.pdfViewer.localeObj.getConstant('Automatic'), id: '11' }\n        ];\n        // eslint-disable-next-line max-len\n        if (!this.pdfViewer.enableRtl) {\n            this.zoomDropDown = new ComboBox({ dataSource: items, text: '100%', fields: { text: 'percent', value: 'id' }, readonly: true, cssClass: 'e-pv-zoom-drop-down', popupHeight: '450px', showClearButton: false, open: this.openZoomDropdown.bind(this), select: function (args) {\n                    if (args.e.type == 'keydown' && args.itemData.text !== this.zoomDropDown.element.value) {\n                        args.cancel = true;\n                    }\n                }\n            });\n        }\n        else {\n            this.zoomDropDown = new ComboBox({ dataSource: items, text: '100%', enableRtl: true, fields: { text: 'percent', value: 'id' }, readonly: true, cssClass: 'e-pv-zoom-drop-down-rtl', popupHeight: '450px', showClearButton: false, open: this.openZoomDropdown.bind(this), select: function (args) {\n                    if (args.e.type == 'keydown' && args.itemData.text !== this.zoomDropDown.element.value) {\n                        args.cancel = true;\n                    }\n                }\n            });\n        }\n        this.zoomDropDown.appendTo(this.pdfViewerBase.getElement('_zoomDropDown'));\n    };\n    Toolbar.prototype.createCurrentPageInputTemplate = function () {\n        // eslint-disable-next-line max-len\n        var goToPageElement = this.createToolbarItem('input', this.pdfViewer.element.id + '_currentPageInput', null);\n        return goToPageElement.outerHTML;\n    };\n    Toolbar.prototype.createTotalPageTemplate = function () {\n        // eslint-disable-next-line max-len\n        var totalPageElement = this.createToolbarItem('span', this.pdfViewer.element.id + '_totalPage', 'e-pv-total-page');\n        return totalPageElement.outerHTML;\n    };\n    Toolbar.prototype.createNumericTextBox = function () {\n        this.currentPageBox = new NumericTextBox({ value: 0, format: '##', cssClass: 'e-pv-current-page-box', showSpinButton: false });\n        this.currentPageBoxElement = this.pdfViewerBase.getElement('_currentPageInput');\n        this.currentPageBox.appendTo(this.currentPageBoxElement);\n    };\n    Toolbar.prototype.createToolbarItemsForMobile = function () {\n        this.toolbarElement.classList.add('e-pv-mobile-toolbar');\n        var template = '<button id=\"' + this.pdfViewer.element.id + '_more_option\" class=\"e-tbar-btn\"></button>';\n        this.toolbar = new tool({\n            // eslint-disable-next-line max-len\n            items: [{ prefixIcon: 'e-pv-open-document-icon e-pv-icon', tooltipText: this.pdfViewer.localeObj.getConstant('Open'), id: this.pdfViewer.element.id + '_open' },\n                { type: 'Separator', align: 'Left' },\n                // eslint-disable-next-line max-len\n                { prefixIcon: 'e-pv-undo-icon e-pv-icon', tooltipText: this.pdfViewer.localeObj.getConstant('Undo'), id: this.pdfViewer.element.id + '_undo' },\n                // eslint-disable-next-line max-len\n                { prefixIcon: 'e-pv-redo-icon e-pv-icon', tooltipText: this.pdfViewer.localeObj.getConstant('Redo'), id: this.pdfViewer.element.id + '_redo' },\n                // eslint-disable-next-line max-len\n                { prefixIcon: 'e-pv-annotation-icon e-pv-icon', cssClass: 'e-pv-annotation-container', tooltipText: this.pdfViewer.localeObj.getConstant('Annotation'), id: this.pdfViewer.element.id + '_annotation', align: 'Right' },\n                // eslint-disable-next-line max-len\n                { prefixIcon: 'e-pv-text-search-icon e-pv-icon', tooltipText: this.pdfViewer.localeObj.getConstant('Text Search'), id: this.pdfViewer.element.id + '_search', align: 'Right' },\n                { template: template, align: 'Right' }\n            ], clicked: this.toolbarClickHandler, width: '', height: '', overflowMode: 'Popup'\n        });\n        this.toolbar.isStringTemplate = true;\n        this.toolbar.appendTo(this.toolbarElement);\n        this.openDocumentItem = this.pdfViewerBase.getElement('_open');\n        this.openDocumentItem.classList.add('e-pv-open-document');\n        this.openDocumentItem.firstElementChild.id = this.pdfViewer.element.id + '_openIcon';\n        this.annotationItem = this.pdfViewerBase.getElement('_annotation');\n        this.annotationItem.classList.add('e-pv-annotation');\n        this.annotationItem.firstElementChild.id = this.pdfViewer.element.id + '_annotationIcon';\n        this.textSearchItem = this.pdfViewerBase.getElement('_search');\n        this.textSearchItem.classList.add('e-pv-text-search');\n        this.textSearchItem.firstElementChild.id = this.pdfViewer.element.id + '_searchIcon';\n        this.undoItem = this.pdfViewerBase.getElement('_undo');\n        this.undoItem.classList.add('e-pv-undo');\n        this.redoItem = this.pdfViewerBase.getElement('_redo');\n        this.redoItem.classList.add('e-pv-redo');\n        this.redoItem.firstElementChild.id = this.pdfViewer.element.id + '_redoIcon';\n        this.undoItem.firstElementChild.id = this.pdfViewer.element.id + '_undoIcon';\n        this.createMoreOption(this.pdfViewer.element.id + '_more_option');\n    };\n    Toolbar.prototype.createMoreOption = function (idString) {\n        var _this = this;\n        this.moreOptionItem = document.getElementById(idString);\n        var items = [\n            {\n                text: this.pdfViewer.localeObj.getConstant('Download'), id: this.pdfViewer.element.id + '_menu_download',\n                iconCss: 'e-icons e-pv-download-document-icon e-pv-icon'\n            },\n            {\n                text: this.pdfViewer.localeObj.getConstant('Bookmarks'), id: this.pdfViewer.element.id + '_menu_bookmarks',\n                iconCss: 'e-icons e-pv-bookmark-icon e-pv-icon'\n            }\n        ];\n        this.moreDropDown = new DropDownButton({\n            items: items, iconCss: 'e-pv-more-icon e-pv-icon', cssClass: 'e-caret-hide',\n            open: function (args) {\n                var dropdownButtonPosition = _this.moreDropDown.element.getBoundingClientRect();\n                // eslint-disable-next-line max-len\n                if (!_this.pdfViewer.enableRtl) {\n                    args.element.parentElement.style.left = dropdownButtonPosition.left + dropdownButtonPosition.width - args.element.parentElement.offsetWidth + 'px';\n                }\n            }, select: function (args) {\n                switch (args.item.id) {\n                    case _this.pdfViewer.element.id + '_menu_download':\n                        _this.pdfViewerBase.download();\n                        break;\n                    case _this.pdfViewer.element.id + '_menu_bookmarks':\n                        _this.showToolbar(false);\n                        _this.pdfViewerBase.navigationPane.createNavigationPaneMobile('bookmarks');\n                        break;\n                    default:\n                        break;\n                }\n            }, beforeItemRender: function (args) {\n                if (args.item.id === _this.pdfViewer.element.id + '_menu_bookmarks') {\n                    if (!_this.pdfViewer.bookmarkViewModule || !_this.pdfViewer.bookmarkViewModule.bookmarks) {\n                        args.element.classList.add('e-disabled');\n                    }\n                    else {\n                        args.element.classList.remove('e-disabled');\n                    }\n                }\n            }, close: function (args) {\n                _this.moreOptionItem.blur();\n                _this.pdfViewerBase.focusViewerContainer();\n            }\n        });\n        this.moreDropDown.appendTo('#' + idString);\n    };\n    Toolbar.prototype.createToolbarItem = function (elementName, id, className) {\n        var toolbarItem = createElement(elementName, { id: id });\n        if (className !== null) {\n            toolbarItem.className = className;\n        }\n        if (elementName === 'input' && id !== this.pdfViewer.element.id + '_zoomDropDown') {\n            toolbarItem.type = 'text';\n        }\n        return toolbarItem;\n    };\n    /**\n     * @param toolbarItem\n     * @param tooltipText\n     * @param toolbarItem\n     * @param tooltipText\n     * @private\n     */\n    Toolbar.prototype.createTooltip = function (toolbarItem, tooltipText) {\n        if (tooltipText !== null) {\n            // eslint-disable-next-line\n            var tooltip = new Tooltip({ content: tooltipText, opensOn: 'Hover', beforeOpen: this.onTooltipBeforeOpen.bind(this) });\n            tooltip.appendTo(toolbarItem);\n        }\n    };\n    Toolbar.prototype.onTooltipBeforeOpen = function (args) {\n        if (!this.pdfViewer.toolbarSettings.showTooltip && this.toolbarElement.contains(args.target)) {\n            args.cancel = true;\n        }\n        if (this.annotationToolbarModule) {\n            // eslint-disable-next-line max-len\n            if (!this.pdfViewer.toolbarSettings.showTooltip && ((this.annotationToolbarModule.toolbarElement && this.annotationToolbarModule.toolbarElement.contains(args.target)) || (this.annotationToolbarModule.shapeToolbarElement && this.annotationToolbarModule.shapeToolbarElement.contains(args.target)))) {\n                args.cancel = true;\n            }\n        }\n        if (this.formDesignerToolbarModule) {\n            // eslint-disable-next-line max-len\n            if (!this.pdfViewer.toolbarSettings.showTooltip && (this.formDesignerToolbarModule.toolbarElement && this.formDesignerToolbarModule.toolbarElement.contains(args.target))) {\n                args.cancel = true;\n            }\n        }\n    };\n    Toolbar.prototype.createFileElement = function (toolbarElement) {\n        if (toolbarElement) {\n            if (!isBlazor()) {\n                // eslint-disable-next-line max-len\n                this.fileInputElement = createElement('input', { id: this.pdfViewer.element.id + '_fileUploadElement', styles: 'position:fixed; left:-100em', attrs: { 'type': 'file' } });\n                this.fileInputElement.setAttribute('accept', '.pdf');\n                this.fileInputElement.setAttribute('aria-label', 'file upload element');\n            }\n            else {\n                this.fileInputElement = this.pdfViewer.element.querySelector('.e-pv-fileupload-element');\n            }\n            if (toolbarElement) {\n                toolbarElement.appendChild(this.fileInputElement);\n            }\n        }\n    };\n    Toolbar.prototype.wireEvent = function () {\n        if (this.fileInputElement) {\n            this.fileInputElement.addEventListener('change', this.loadDocument);\n        }\n        if (!isBlazor()) {\n            if (!Browser.isDevice || this.pdfViewer.enableDesktopMode) {\n                this.toolbarElement.addEventListener('mouseup', this.toolbarOnMouseup.bind(this));\n                this.currentPageBoxElement.addEventListener('focusout', this.textBoxFocusOut);\n                this.currentPageBoxElement.addEventListener('keypress', this.navigateToPage);\n                this.zoomDropDown.change = this.zoomPercentSelect.bind(this);\n                this.zoomDropDown.element.addEventListener('keypress', this.onZoomDropDownInput.bind(this));\n                this.zoomDropDown.element.addEventListener('click', this.onZoomDropDownInputClick.bind(this));\n            }\n        }\n    };\n    Toolbar.prototype.unWireEvent = function () {\n        if (this.fileInputElement) {\n            this.fileInputElement.removeEventListener('change', this.loadDocument);\n        }\n        if ((!Browser.isDevice || this.pdfViewer.enableDesktopMode) && !isBlazor()) {\n            this.toolbarElement.removeEventListener('mouseup', this.toolbarOnMouseup.bind(this));\n            this.currentPageBoxElement.removeEventListener('focusout', this.textBoxFocusOut);\n            this.currentPageBoxElement.removeEventListener('keypress', this.navigateToPage);\n            this.zoomDropDown.removeEventListener('change', this.zoomPercentSelect);\n            this.zoomDropDown.element.removeEventListener('keypress', this.onZoomDropDownInput);\n            this.zoomDropDown.element.removeEventListener('click', this.onZoomDropDownInputClick);\n        }\n    };\n    /**\n     * @param viewerWidth\n     * @private\n     */\n    Toolbar.prototype.onToolbarResize = function (viewerWidth) {\n        if (Browser.isDevice && !this.pdfViewer.enableDesktopMode) {\n            this.pdfViewerBase.navigationPane.toolbarResize();\n        }\n        else {\n            this.toolbar.refreshOverflow();\n        }\n    };\n    Toolbar.prototype.toolbarOnMouseup = function (event) {\n        if (event.target === this.itemsContainer || event.target === this.toolbarElement) {\n            this.pdfViewerBase.focusViewerContainer();\n        }\n    };\n    Toolbar.prototype.applyHideToToolbar = function (show, startIndex, endIndex) {\n        var isHide = !show;\n        for (var index = startIndex; index <= endIndex; index++) {\n            if (this.toolbar.items[index]) {\n                var className = this.toolbar.items[index].cssClass;\n                if (className && className !== '') {\n                    // Querying the toolbar item\n                    var element = this.toolbar.element.querySelector('.' + className);\n                    if (element) {\n                        this.toolbar.hideItem(element, isHide);\n                    }\n                }\n                else {\n                    this.toolbar.hideItem(index, isHide);\n                }\n            }\n        }\n    };\n    Toolbar.prototype.handleOpenIconClick = function (args) {\n        this.fileInputElement.click();\n        if (Browser.isDevice && !this.pdfViewer.enableDesktopMode) {\n            if (!isBlazor()) {\n                args.originalEvent.target.blur();\n            }\n            this.pdfViewerBase.focusViewerContainer();\n        }\n    };\n    // eslint-disable-next-line\n    Toolbar.prototype.handleToolbarBtnClick = function (args) {\n        this.addInkAnnotation();\n        this.deSelectCommentAnnotation();\n        switch (args.originalEvent.target.id) {\n            case this.pdfViewer.element.id + '_open':\n            case this.pdfViewer.element.id + '_openIcon':\n            case this.pdfViewer.element.id + '_openText':\n                this.handleOpenIconClick(args);\n                break;\n            case this.pdfViewer.element.id + '_download':\n            case this.pdfViewer.element.id + '_downloadIcon':\n            case this.pdfViewer.element.id + '_downloadText':\n                this.pdfViewerBase.download();\n                break;\n            case this.pdfViewer.element.id + '_print':\n            case this.pdfViewer.element.id + '_printIcon':\n            case this.pdfViewer.element.id + '_printText':\n                if (this.pdfViewer.printModule) {\n                    this.pdfViewer.firePrintStart();\n                }\n                break;\n            case this.pdfViewer.element.id + '_undo':\n            case this.pdfViewer.element.id + '_undoIcon':\n            case this.pdfViewer.element.id + '_undoText':\n                if (this.pdfViewer.annotationModule) {\n                    this.pdfViewer.annotationModule.undo();\n                }\n                break;\n            case this.pdfViewer.element.id + '_redo':\n            case this.pdfViewer.element.id + '_redoIcon':\n            case this.pdfViewer.element.id + '_redoText':\n                if (this.pdfViewer.annotationModule) {\n                    this.pdfViewer.annotationModule.redo();\n                }\n                break;\n            case this.pdfViewer.element.id + '_firstPage':\n            case this.pdfViewer.element.id + '_firstPageIcon':\n            case this.pdfViewer.element.id + '_firstPageText':\n                if (this.pdfViewer.navigationModule) {\n                    this.pdfViewer.navigationModule.goToFirstPage();\n                }\n                break;\n            case this.pdfViewer.element.id + '_previousPage':\n            case this.pdfViewer.element.id + '_previousPageIcon':\n            case this.pdfViewer.element.id + '_previousPageText':\n                if (this.pdfViewer.navigationModule) {\n                    this.pdfViewer.navigationModule.goToPreviousPage();\n                }\n                break;\n            case this.pdfViewer.element.id + '_nextPage':\n            case this.pdfViewer.element.id + '_nextPageIcon':\n            case this.pdfViewer.element.id + '_nextPageText':\n                if (this.pdfViewer.navigationModule) {\n                    this.pdfViewer.navigationModule.goToNextPage();\n                }\n                break;\n            case this.pdfViewer.element.id + '_lastPage':\n            case this.pdfViewer.element.id + '_lastPageIcon':\n            case this.pdfViewer.element.id + '_lastPageText':\n                if (this.pdfViewer.navigationModule) {\n                    this.pdfViewer.navigationModule.goToLastPage();\n                }\n                break;\n            case this.pdfViewer.element.id + '_zoomIn':\n            case this.pdfViewer.element.id + '_zoomInIcon':\n            case this.pdfViewer.element.id + '_zoomInText':\n                this.pdfViewer.magnificationModule.zoomIn();\n                break;\n            case this.pdfViewer.element.id + '_zoomOut':\n            case this.pdfViewer.element.id + '_zoomOutIcon':\n            case this.pdfViewer.element.id + '_zoomOutText':\n                this.pdfViewer.magnificationModule.zoomOut();\n                break;\n            case this.pdfViewer.element.id + '_selectTool':\n            case this.pdfViewer.element.id + '_selectToolIcon':\n            case this.pdfViewer.element.id + '_selectToolText':\n                if (!this.isSelectionToolDisabled) {\n                    this.pdfViewerBase.initiateTextSelectMode();\n                    this.updateInteractionTools(true);\n                }\n                break;\n            case this.pdfViewer.element.id + '_handTool':\n            case this.pdfViewer.element.id + '_handToolIcon':\n            case this.pdfViewer.element.id + '_handToolText':\n                if (!(this.isScrollingToolDisabled || this.getStampMode())) {\n                    this.pdfViewerBase.initiatePanning();\n                    this.updateInteractionTools(false);\n                }\n                break;\n            case this.pdfViewer.element.id + '_search':\n            case this.pdfViewer.element.id + '_searchIcon':\n            case this.pdfViewer.element.id + '_searchText':\n                this.textSearchButtonHandler();\n                break;\n            case this.pdfViewer.element.id + '_annotation':\n            case this.pdfViewer.element.id + '_annotationIcon':\n            case this.pdfViewer.element.id + '_annotationText':\n                this.initiateAnnotationMode(args.originalEvent.target.id);\n                break;\n            case this.pdfViewer.element.id + '_formdesigner':\n            case this.pdfViewer.element.id + '_formdesignerIcon':\n            case this.pdfViewer.element.id + '_formdesignerText':\n                this.initiateFormDesignerMode();\n                this.formDesignerToolbarModule.showHideDeleteIcon(false);\n                break;\n            case this.pdfViewer.element.id + '_comment':\n            case this.pdfViewer.element.id + '_commentIcon':\n                this.pdfViewerBase.isAddComment = true;\n                this.pdfViewerBase.isCommentIconAdded = true;\n                this.annotationToolbarModule.deselectAllItems();\n                this.pdfViewer.annotation.triggerAnnotationUnselectEvent();\n                this.addComments(args.originalEvent.target);\n                break;\n            case this.pdfViewer.element.id + '_submitForm':\n            case this.pdfViewer.element.id + '_submitFormSpan':\n                this.pdfViewerBase.exportFormFields();\n                break;\n        }\n    };\n    Toolbar.prototype.addInkAnnotation = function () {\n        if (this.pdfViewer.annotationModule && this.pdfViewer.annotationModule.inkAnnotationModule) {\n            // eslint-disable-next-line\n            var currentPageNumber = parseInt(this.pdfViewer.annotationModule.inkAnnotationModule.currentPageNumber);\n            this.pdfViewer.annotationModule.inkAnnotationModule.drawInkAnnotation(currentPageNumber);\n        }\n        if (this.annotationToolbarModule) {\n            this.pdfViewer.toolbar.annotationToolbarModule.deselectInkAnnotation();\n            this.annotationToolbarModule.inkAnnotationSelected = false;\n        }\n    };\n    Toolbar.prototype.deSelectCommentAnnotation = function () {\n        if (!isBlazor()) {\n            this.pdfViewer.toolbar.deSelectItem(this.commentItem);\n        }\n        else {\n            this.pdfViewer.toolbar.deSelectItem(this.CommentElement);\n        }\n        this.pdfViewerBase.isCommentIconAdded = false;\n    };\n    /**\n    * @private\n    */\n    // eslint-disable-next-line\n    Toolbar.prototype.addComments = function (targetElement) {\n        if (!isBlazor()) {\n            // eslint-disable-next-line max-len\n            if (targetElement.id === this.pdfViewer.element.id + '_comment' || targetElement.id === this.pdfViewer.element.id + '_commentIcon') {\n                if (targetElement.id === this.pdfViewer.element.id + '_commentIcon' && targetElement.parentElement) {\n                    targetElement.parentElement.classList.add('e-pv-select');\n                }\n                else {\n                    targetElement.classList.add('e-pv-select');\n                }\n            }\n            else {\n                if (this.pdfViewer.enableRtl) {\n                    targetElement.className = 'e-pv-comment-selection-icon e-pv-icon e-icon-left e-right';\n                }\n                else {\n                    targetElement.className = 'e-pv-comment-selection-icon e-pv-icon e-icon-left';\n                }\n            }\n        }\n        else {\n            this.pdfViewerBase.isCommentIconAdded = true;\n            this.pdfViewerBase.isAddComment = true;\n            this.annotationToolbarModule.deselectAllItemsInBlazor();\n            var commentsButton = this.CommentElement;\n            commentsButton.classList.add('e-pv-select');\n        }\n        this.updateStampItems();\n        document.getElementById(this.pdfViewer.element.id + '_pageDiv_' + (this.pdfViewerBase.currentPageNumber - 1)).addEventListener('mousedown', this.pdfViewer.annotationModule.stickyNotesAnnotationModule.drawIcons.bind(this));\n    };\n    Toolbar.prototype.openZoomDropdown = function () {\n        var toolbarData = this;\n        if (document.fullscreen) {\n            if (isBlazor()) {\n                // eslint-disable-next-line\n                var fullscreenElement = document.fullscreenElement;\n                if (fullscreenElement && fullscreenElement.tagName !== 'BODY' && fullscreenElement.tagName !== 'HTML') {\n                    setTimeout(function () {\n                        // eslint-disable-next-line\n                        var popupElement = document.getElementById(toolbarData.pdfViewer.element.id + \"_zoomCombo_popup\");\n                        var targetElement = document.getElementById(toolbarData.toolbarElement.id);\n                        // eslint-disable-next-line\n                        if (popupElement && targetElement && popupElement.ej2_instances) {\n                            targetElement.appendChild(popupElement);\n                            popupElement.ej2_instances[0].refreshPosition();\n                        }\n                    }, 100);\n                }\n            }\n            else {\n                var popupElement = document.getElementById(this.pdfViewer.element.id + \"_zoomDropDown_popup\");\n                var targetElement = document.getElementById(this.toolbarElement.id);\n                if (popupElement) {\n                    targetElement.appendChild(popupElement);\n                }\n            }\n        }\n    };\n    Toolbar.prototype.onZoomDropDownInput = function (event) {\n        if ((event.which < 48 || event.which > 57) && event.which !== 8 && event.which !== 13) {\n            event.preventDefault();\n            return false;\n        }\n        else {\n            if (event.which === 13) {\n                event.preventDefault();\n                var value = this.zoomDropDown.element.value;\n                this.zoomDropDownChange(value);\n            }\n            return true;\n        }\n    };\n    Toolbar.prototype.onZoomDropDownInputClick = function () {\n        this.zoomDropDown.element.select();\n    };\n    Toolbar.prototype.zoomPercentSelect = function (args) {\n        if (this.pdfViewerBase.pageCount > 0) {\n            if (args.isInteracted) {\n                if (args.itemData) {\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    var zoomText = args.itemData.percent;\n                    this.zoomDropDownChange(zoomText);\n                }\n            }\n            else {\n                this.updateZoomPercentage(this.pdfViewer.magnificationModule.zoomFactor);\n            }\n        }\n    };\n    Toolbar.prototype.zoomDropDownChange = function (zoomText) {\n        // eslint-disable-next-line max-len\n        if (zoomText !== this.pdfViewer.localeObj.getConstant('Fit Width') && zoomText !== this.pdfViewer.localeObj.getConstant('Fit Page') && zoomText !== this.pdfViewer.localeObj.getConstant('Automatic')) {\n            this.pdfViewer.magnificationModule.isAutoZoom = false;\n            this.pdfViewer.magnificationModule.zoomTo(parseFloat(zoomText));\n            this.updateZoomPercentage(this.pdfViewer.magnificationModule.zoomFactor);\n            this.zoomDropDown.focusOut();\n        }\n        else if (zoomText === this.pdfViewer.localeObj.getConstant('Fit Width')) {\n            this.pdfViewer.magnificationModule.isAutoZoom = false;\n            this.pdfViewer.magnificationModule.fitToWidth();\n            this.zoomDropDown.focusOut();\n        }\n        else if (zoomText === this.pdfViewer.localeObj.getConstant('Fit Page')) {\n            this.pdfViewer.magnificationModule.fitToPage();\n            this.zoomDropDown.focusOut();\n        }\n        else if (zoomText === this.pdfViewer.localeObj.getConstant('Automatic')) {\n            this.pdfViewer.magnificationModule.isAutoZoom = true;\n            this.pdfViewer.magnificationModule.fitToAuto();\n            this.zoomDropDown.focusOut();\n        }\n    };\n    /**\n     * @param zoomFactor\n     * @private\n     */\n    Toolbar.prototype.updateZoomPercentage = function (zoomFactor) {\n        if (!Browser.isDevice || this.pdfViewer.enableDesktopMode) {\n            // eslint-disable-next-line radix\n            var currentPercent = parseInt((zoomFactor * 100).toString()) + '%';\n            if (isBlazor()) {\n                // eslint-disable-next-line\n                var blazorZoomDropDown = this.pdfViewerBase.getElement('_zoomDropDown');\n                if (blazorZoomDropDown && blazorZoomDropDown.children.length > 0) {\n                    blazorZoomDropDown.children[0].children[0].value = currentPercent;\n                }\n            }\n            else {\n                if (this.zoomDropDown.text === currentPercent) {\n                    this.zoomDropDown.element.value = currentPercent;\n                }\n                if (this.zoomDropDown.index === 11) {\n                    this.zoomDropDown.value = 4;\n                }\n                if (zoomFactor <= 0.25) {\n                    this.pdfViewerBase.isMinimumZoom = true;\n                }\n                else {\n                    this.pdfViewerBase.isMinimumZoom = false;\n                }\n                // eslint-disable-next-line\n                this.zoomDropDown.text = currentPercent;\n            }\n        }\n    };\n    Toolbar.prototype.updateInteractionItems = function () {\n        if (this.pdfViewer.textSelectionModule) {\n            if (this.pdfViewer.enableTextSelection) {\n                this.toolbar.enableItems(this.textSelectItem.parentElement, true);\n            }\n            else {\n                this.toolbar.enableItems(this.textSelectItem.parentElement, false);\n            }\n        }\n        else {\n            this.toolbar.enableItems(this.textSelectItem.parentElement, false);\n        }\n        this.toolbar.enableItems(this.panItem.parentElement, true);\n        if (this.pdfViewer.interactionMode === 'TextSelection' && this.pdfViewer.enableTextSelection) {\n            this.selectItem(this.textSelectItem);\n            this.deSelectItem(this.panItem);\n        }\n        else {\n            this.selectItem(this.panItem);\n            this.deSelectItem(this.textSelectItem);\n            this.pdfViewerBase.initiatePanning();\n        }\n    };\n    /**\n     * @private\n     */\n    Toolbar.prototype.textSearchButtonHandler = function () {\n        if (!Browser.isDevice || this.pdfViewer.enableDesktopMode) {\n            if (this.pdfViewer.textSearchModule && this.pdfViewerBase.pageCount > 0) {\n                this.isTextSearchBoxDisplayed = !this.isTextSearchBoxDisplayed;\n                this.pdfViewer.textSearchModule.showSearchBox(this.isTextSearchBoxDisplayed);\n                if (this.isTextSearchBoxDisplayed) {\n                    if (!isBlazor()) {\n                        this.selectItem(this.textSearchItem);\n                    }\n                    // eslint-disable-next-line max-len\n                    var searchInputElement = document.getElementById(this.pdfViewer.element.id + '_search_input');\n                    searchInputElement.select();\n                    searchInputElement.focus();\n                }\n                else {\n                    if (!isBlazor()) {\n                        this.deSelectItem(this.textSearchItem);\n                        this.textSearchItem.blur();\n                    }\n                    else {\n                        var searchItem = this.pdfViewerBase.getElement('_search');\n                        searchItem.firstElementChild.blur();\n                    }\n                }\n            }\n        }\n        else {\n            this.showToolbar(false);\n            this.pdfViewerBase.navigationPane.createNavigationPaneMobile('search');\n        }\n    };\n    Toolbar.prototype.initiateAnnotationMode = function (id) {\n        if (!Browser.isDevice || this.pdfViewer.enableDesktopMode) {\n            if (this.annotationToolbarModule && this.pdfViewer.enableAnnotationToolbar) {\n                this.annotationToolbarModule.showAnnotationToolbar(this.annotationItem);\n                this.pdfViewer.toolbarModule.annotationToolbarModule.toolbar.refreshOverflow();\n                if (this.pdfViewer.isAnnotationToolbarVisible && this.pdfViewer.isFormDesignerToolbarVisible) {\n                    var formDesignerMainDiv = document.getElementById(this.pdfViewer.element.id + \"_formdesigner_toolbar\");\n                    formDesignerMainDiv.style.display = \"none\";\n                    this.formDesignerToolbarModule.isToolbarHidden = false;\n                    this.formDesignerToolbarModule.showFormDesignerToolbar(this.formDesignerItem);\n                    this.annotationToolbarModule.adjustViewer(true);\n                }\n            }\n        }\n        else {\n            if (!isBlazor()) {\n                if (id === this.pdfViewer.element.id + '_annotation') {\n                    id = this.pdfViewer.element.id + '_annotationIcon';\n                }\n                this.annotationToolbarModule.createAnnotationToolbarForMobile(id);\n            }\n        }\n    };\n    Toolbar.prototype.initiateFormDesignerMode = function () {\n        if (this.formDesignerToolbarModule && this.pdfViewer.enableFormDesignerToolbar) {\n            this.formDesignerToolbarModule.showFormDesignerToolbar(this.formDesignerItem);\n            if (this.pdfViewer.isAnnotationToolbarVisible && this.pdfViewer.isFormDesignerToolbarVisible) {\n                var annotationMainDiv = document.getElementById(this.pdfViewer.element.id + \"_annotation_toolbar\");\n                annotationMainDiv.style.display = \"none\";\n                this.annotationToolbarModule.isToolbarHidden = false;\n                this.annotationToolbarModule.showAnnotationToolbar(this.annotationItem);\n                this.formDesignerToolbarModule.adjustViewer(true);\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    Toolbar.prototype.DisableInteractionTools = function () {\n        this.deSelectItem(this.textSelectItem);\n        this.deSelectItem(this.panItem);\n    };\n    /**\n     * @param element\n     * @private\n     */\n    Toolbar.prototype.selectItem = function (element) {\n        if (element) {\n            element.classList.add('e-pv-select');\n        }\n    };\n    /**\n     * @param element\n     * @private\n     */\n    Toolbar.prototype.deSelectItem = function (element) {\n        if (element) {\n            element.classList.remove('e-pv-select');\n        }\n    };\n    /**\n     * @param isTextSelect\n     * @private\n     */\n    Toolbar.prototype.updateInteractionTools = function (isTextSelect) {\n        var isBlazorPlatform = isBlazor();\n        if (isTextSelect) {\n            if (isBlazorPlatform) {\n                this.selectItem(this.SelectToolElement);\n                this.deSelectItem(this.PanElement);\n            }\n            else {\n                this.selectItem(this.textSelectItem);\n                this.deSelectItem(this.panItem);\n            }\n        }\n        else {\n            if (isBlazorPlatform) {\n                this.selectItem(this.PanElement);\n                this.deSelectItem(this.SelectToolElement);\n            }\n            else {\n                this.selectItem(this.panItem);\n                this.deSelectItem(this.textSelectItem);\n            }\n        }\n    };\n    Toolbar.prototype.initialEnableItems = function () {\n        if (this.pdfViewer.enableToolbar) {\n            this.showToolbar(true);\n        }\n        else {\n            this.showToolbar(false);\n        }\n        if (this.pdfViewer.enableNavigationToolbar) {\n            this.showNavigationToolbar(true);\n        }\n        else {\n            this.showNavigationToolbar(false);\n        }\n        if (!isBlazor()) {\n            if (this.isPrintBtnVisible) {\n                this.showPrintOption(true);\n            }\n            else {\n                this.showPrintOption(false);\n            }\n            if (this.isDownloadBtnVisible) {\n                this.showDownloadOption(true);\n            }\n            else {\n                this.showDownloadOption(false);\n            }\n            if (this.isSearchBtnVisible) {\n                this.showSearchOption(true);\n            }\n            else {\n                this.showSearchOption(false);\n            }\n            if (this.isCommentBtnVisible) {\n                this.showCommentOption(true);\n            }\n            else {\n                this.showCommentOption(false);\n            }\n        }\n    };\n    Toolbar.prototype.showSeparator = function (toolbarItems) {\n        // eslint-disable-next-line max-len\n        if (!this.isOpenBtnVisible || (!this.isNavigationToolVisible && !this.isMagnificationToolVisible && !this.isSelectionBtnVisible && !this.isScrollingBtnVisible && !this.isUndoRedoBtnsVisible)) {\n            this.applyHideToToolbar(false, 1, 1);\n        }\n        if (((!this.isNavigationToolVisible && !this.isMagnificationToolVisible) && !this.isOpenBtnVisible) ||\n            (this.isOpenBtnVisible && !this.isNavigationToolVisible) ||\n            // eslint-disable-next-line max-len\n            ((!this.isOpenBtnVisible && !this.isNavigationToolVisible) || (!this.isMagnificationToolVisible && !this.isScrollingBtnVisible && !this.isSelectionBtnVisible))) {\n            this.applyHideToToolbar(false, 8, 8);\n        }\n        if ((!this.isMagnificationToolVisible && !this.isSelectionBtnVisible && !this.isScrollingBtnVisible) ||\n            (this.isMagnificationToolVisible && (!this.isSelectionBtnVisible && !this.isScrollingBtnVisible)) ||\n            (!this.isMagnificationToolVisible && (this.isSelectionBtnVisible || this.isScrollingBtnVisible))) {\n            this.applyHideToToolbar(false, 12, 12);\n        }\n        if (((!this.isMagnificationToolVisible && !this.isNavigationToolVisible && !this.isScrollingBtnVisible\n            && !this.isSelectionBtnVisible) && this.isUndoRedoBtnsVisible || !this.isUndoRedoBtnsVisible)) {\n            this.applyHideToToolbar(false, 15, 15);\n        }\n    };\n    Toolbar.prototype.applyToolbarSettings = function () {\n        var toolbarSettingsItems = this.pdfViewer.toolbarSettings.toolbarItems;\n        if (toolbarSettingsItems) {\n            if (toolbarSettingsItems.indexOf('OpenOption') !== -1) {\n                this.showOpenOption(true);\n            }\n            else {\n                this.showOpenOption(false);\n            }\n            if (toolbarSettingsItems.indexOf('PageNavigationTool') !== -1) {\n                this.showPageNavigationTool(true);\n            }\n            else {\n                this.showPageNavigationTool(false);\n            }\n            if (toolbarSettingsItems.indexOf('MagnificationTool') !== -1) {\n                this.showMagnificationTool(true);\n            }\n            else {\n                this.showMagnificationTool(false);\n            }\n            if (toolbarSettingsItems.indexOf('SelectionTool') !== -1) {\n                this.showSelectionTool(true);\n            }\n            else {\n                this.showSelectionTool(false);\n            }\n            if (toolbarSettingsItems.indexOf('PanTool') !== -1) {\n                this.showScrollingTool(true);\n            }\n            else {\n                this.showScrollingTool(false);\n            }\n            if (toolbarSettingsItems.indexOf('PrintOption') !== -1) {\n                this.showPrintOption(true);\n            }\n            else {\n                this.showPrintOption(false);\n            }\n            if (toolbarSettingsItems.indexOf('DownloadOption') !== -1) {\n                this.showDownloadOption(true);\n            }\n            else {\n                this.showDownloadOption(false);\n            }\n            if (toolbarSettingsItems.indexOf('SearchOption') !== -1) {\n                this.showSearchOption(true);\n            }\n            else {\n                this.showSearchOption(false);\n            }\n            if (toolbarSettingsItems.indexOf('UndoRedoTool') !== -1) {\n                this.showUndoRedoTool(true);\n            }\n            else {\n                this.showUndoRedoTool(false);\n            }\n            if (toolbarSettingsItems.indexOf('AnnotationEditTool') !== -1) {\n                this.showAnnotationEditTool(true);\n            }\n            else {\n                this.showAnnotationEditTool(false);\n            }\n            if (toolbarSettingsItems.indexOf('FormDesignerEditTool') !== -1) {\n                this.showFormDesignerEditTool(true);\n            }\n            else {\n                this.showFormDesignerEditTool(false);\n            }\n            if (toolbarSettingsItems.indexOf('CommentTool') !== -1) {\n                this.showCommentOption(true);\n            }\n            else {\n                this.showCommentOption(false);\n            }\n            if (toolbarSettingsItems.indexOf('SubmitForm') !== -1) {\n                this.showSubmitForm(true);\n            }\n            else {\n                this.showSubmitForm(false);\n            }\n            this.showSeparator(toolbarSettingsItems);\n        }\n    };\n    Toolbar.prototype.applyToolbarSettingsForMobile = function () {\n        var toolbarSettingsItems = this.pdfViewer.toolbarSettings.toolbarItems;\n        if (toolbarSettingsItems) {\n            if (toolbarSettingsItems.indexOf('OpenOption') !== -1) {\n                this.showOpenOption(true);\n            }\n            else {\n                this.showOpenOption(false);\n            }\n            if (toolbarSettingsItems.indexOf('UndoRedoTool') !== -1) {\n                this.showUndoRedoTool(true);\n            }\n            else {\n                this.showUndoRedoTool(false);\n            }\n            if (toolbarSettingsItems.indexOf('AnnotationEditTool') !== -1) {\n                this.showAnnotationEditTool(true);\n            }\n            else {\n                this.showAnnotationEditTool(false);\n            }\n            if (toolbarSettingsItems.indexOf('SearchOption') !== -1) {\n                this.showSearchOption(true);\n            }\n            else {\n                this.showSearchOption(false);\n            }\n        }\n    };\n    Toolbar.prototype.getStampMode = function () {\n        if (this.pdfViewer.annotation && this.pdfViewer.annotation.stampAnnotationModule) {\n            return this.pdfViewer.annotation.stampAnnotationModule.isStampAddMode;\n        }\n        else {\n            return false;\n        }\n    };\n    // eslint-disable-next-line\n    Toolbar.prototype.stampBeforeOpen = function (args) {\n        this.annotationToolbarModule.resetFreeTextAnnot();\n        if (args.ParentItem.Text === '' && this.pdfViewer.customStampSettings.isAddToMenu && args.Items.length > 0) {\n            // eslint-disable-next-line\n            var currentElements = null;\n            for (var i = 0; i < args.Items.length; i++) {\n                if (args.Items[i].Text === 'Custom Stamp') {\n                    args.Items[i].Items = [];\n                    currentElements = args.Items[i];\n                    break;\n                }\n            }\n            // eslint-disable-next-line\n            var elements = this.pdfViewerBase.customStampCollection;\n            // eslint-disable-next-line\n            var stampElements = this.pdfViewer.customStampSettings.customStamps;\n            if (elements.length === 0 && stampElements && stampElements.length > 0) {\n                for (var n = 0; n < stampElements.length; n++) {\n                    // eslint-disable-next-line max-len\n                    elements.push({ customStampName: stampElements[n].customStampName, customStampImageSource: stampElements[n].customStampImageSource });\n                }\n            }\n            for (var m = 0; m < elements.length; m++) {\n                if (currentElements != null) {\n                    currentElements.Items.push({ text: elements[m].customStampName });\n                }\n            }\n        }\n    };\n    // eslint-disable-next-line\n    Toolbar.prototype.stampBeforeClose = function (args, showItemOnClick) {\n        // eslint-disable-next-line max-len\n        if ((args.ParentItem && args.ParentItem.Text !== 'Custom Stamp' && args.ParentItem.Text !== 'Standard Business' && args.ParentItem.Text !== 'Dynamic' && args.ParentItem.Text !== 'Sign Here') || !args.ParentItem) {\n            showItemOnClick = true;\n        }\n    };\n    /**\n     * @private\n     */\n    // eslint-disable-next-line\n    Toolbar.prototype.updateStampItems = function () {\n        if (this.pdfViewer.annotationModule && this.pdfViewer.annotationModule.stampAnnotationModule && this.pdfViewer.annotationModule.stampAnnotationModule.isNewStampAnnot) {\n            if (this.pdfViewer.selectedItems.annotations[0]) {\n                this.pdfViewer.remove(this.pdfViewer.selectedItems.annotations[0]);\n                this.pdfViewer.clearSelection(this.pdfViewer.currentPageNumber - 1);\n                this.pdfViewer.renderDrawing();\n                this.pdfViewerBase.tool = null;\n            }\n            this.pdfViewerBase.isAlreadyAdded = false;\n            this.pdfViewer.annotationModule.stampAnnotationModule.isNewStampAnnot = false;\n        }\n    };\n    // eslint-disable-next-line\n    Toolbar.prototype.stampSelect = function (args, stampParentID) {\n        this.pdfViewerBase.isAlreadyAdded = false;\n        this.updateStampItems();\n        if (args.Item.Text === 'Custom Stamp') {\n            this.annotationToolbarModule.checkStampAnnotations();\n            this.pdfViewer.annotation.stampAnnotationModule.isStampAddMode = true;\n            // eslint-disable-next-line\n            var stampImage = createElement('input', { id: this.pdfViewer.element.id + '_stampElement', attrs: { 'type': 'file' } });\n            stampImage.setAttribute('accept', '.jpg,.jpeg,.png');\n            stampImage.style.position = 'absolute';\n            stampImage.style.left = '0px';\n            stampImage.style.top = '0px';\n            stampImage.style.visibility = 'hidden';\n            document.body.appendChild(stampImage);\n            stampImage.click();\n            stampImage.addEventListener('change', this.annotationToolbarModule.addStampImage);\n            document.body.removeChild(stampImage);\n            // eslint-disable-next-line max-len\n        }\n        else if (stampParentID === 'Custom Stamp' && args.Item.Text !== '') {\n            // eslint-disable-next-line\n            var elements = this.pdfViewerBase.customStampCollection;\n            for (var n = 0; n < elements.length; n++) {\n                if (elements[n].customStampName === args.Item.Text) {\n                    this.pdfViewer.annotationModule.stampAnnotationModule.customStampName = args.Item.Text;\n                    this.annotationToolbarModule.checkStampAnnotations();\n                    this.pdfViewer.annotation.stampAnnotationModule.isStampAddMode = true;\n                    this.pdfViewer.annotationModule.stampAnnotationModule.isStampAnnotSelected = true;\n                    this.pdfViewerBase.stampAdded = true;\n                    this.pdfViewerBase.isAlreadyAdded = true;\n                    // eslint-disable-next-line max-len\n                    this.pdfViewer.annotationModule.stampAnnotationModule.createCustomStampAnnotation(elements[n].customStampImageSource);\n                    this.pdfViewerBase.stampAdded = false;\n                }\n            }\n            // eslint-disable-next-line max-len\n        }\n        else if (args.Item.Text !== 'Dynamic' && args.Item.Text !== '' && args.Item.Text !== 'Standard Business' && (stampParentID === 'Sign Here' || args.Item.Text !== 'Sign Here')) {\n            this.annotationToolbarModule.checkStampAnnotations();\n            this.pdfViewer.annotation.stampAnnotationModule.isStampAddMode = true;\n            this.pdfViewer.annotationModule.stampAnnotationModule.isStampAnnotSelected = true;\n            this.pdfViewerBase.stampAdded = true;\n            if (stampParentID === 'Dynamic') {\n                this.pdfViewerBase.isDynamicStamp = true;\n                this.pdfViewer.annotationModule.stampAnnotationModule.retrieveDynamicStampAnnotation(args.Item.Text);\n            }\n            else {\n                this.pdfViewerBase.isDynamicStamp = false;\n                this.pdfViewer.annotationModule.stampAnnotationModule.retrievestampAnnotation(args.Item.Text);\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    Toolbar.prototype.getModuleName = function () {\n        return 'Toolbar';\n    };\n    return Toolbar;\n}());\nexport { Toolbar };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}