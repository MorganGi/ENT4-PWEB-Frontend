{"ast":null,"code":"import { ListBase } from '@syncfusion/ej2-lists';\nimport { createElement, select, selectAll, EventHandler, KeyboardEvents, closest, Draggable } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined as isNOU, addClass, removeClass, Touch, isVisible } from '@syncfusion/ej2-base';\nimport { getValue, setValue, remove } from '@syncfusion/ej2-base';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nimport { hideSpinner, showSpinner } from '@syncfusion/ej2-popups';\nimport * as events from '../base/constant';\nimport * as CLS from '../base/classes';\nimport { createCheckBox } from '@syncfusion/ej2-buttons';\nimport { read, GetDetails, Delete } from '../common/operations';\nimport { doRename, getAccessClass, getPathObject, getFullPath, getDirectoryPath, rename, doDownload, getItemName } from '../common/index';\nimport { removeBlur, cutFiles, copyFiles, addBlur, openSearchFolder, removeActive, pasteHandler } from '../common/index';\nimport { createVirtualDragElement, dragStopHandler, dragStartHandler, draggingHandler, getModule } from '../common/index';\nimport { updateRenamingData, doDeleteFiles, doDownloadFiles } from '../common/index';\nimport { openAction, fileType, refresh, getImageUrl, getSortedData, createDeniedDialog, updateLayout } from '../common/utility';\nimport { createEmptyElement, hasReadAccess, hasEditAccess } from '../common/utility';\nimport { createDialog, createImageDialog } from '../pop-up/dialog';\n/**\n * LargeIconsView module\n */\n\nvar LargeIconsView =\n/** @class */\nfunction () {\n  /**\n   * Constructor for the LargeIcons module.\n   *\n   * @param {IFileManager} parent - specifies the parent element.\n   * @hidden\n   */\n  function LargeIconsView(parent) {\n    this.isInteraction = true;\n    this.uploadOperation = false;\n    this.count = 0;\n    this.isRendered = true;\n    this.tapCount = 0;\n    this.isPasteOperation = false;\n    this.isInteracted = true;\n    this.parent = parent;\n    this.element = select('#' + this.parent.element.id + CLS.LARGEICON_ID, this.parent.element);\n    addClass([this.element], CLS.LARGE_ICONS);\n    this.addEventListener();\n    this.keyConfigs = {\n      end: 'end',\n      home: 'home',\n      tab: 'tab',\n      moveDown: 'downarrow',\n      moveLeft: 'leftarrow',\n      moveRight: 'rightarrow',\n      moveUp: 'uparrow',\n      ctrlEnd: 'ctrl+end',\n      ctrlHome: 'ctrl+home',\n      ctrlDown: 'ctrl+downarrow',\n      ctrlLeft: 'ctrl+leftarrow',\n      ctrlRight: 'ctrl+rightarrow',\n      ctrlUp: 'ctrl+uparrow',\n      shiftEnd: 'shift+end',\n      shiftHome: 'shift+home',\n      shiftDown: 'shift+downarrow',\n      shiftLeft: 'shift+leftarrow',\n      shiftRight: 'shift+rightarrow',\n      shiftUp: 'shift+uparrow',\n      csEnd: 'ctrl+shift+end',\n      csHome: 'ctrl+shift+home',\n      csDown: 'ctrl+shift+downarrow',\n      csLeft: 'ctrl+shift+leftarrow',\n      csRight: 'ctrl+shift+rightarrow',\n      csUp: 'ctrl+shift+uparrow',\n      space: 'space',\n      ctrlSpace: 'ctrl+space',\n      shiftSpace: 'shift+space',\n      csSpace: 'ctrl+shift+space',\n      ctrlA: 'ctrl+a',\n      enter: 'enter',\n      altEnter: 'alt+enter',\n      esc: 'escape',\n      del: 'delete',\n      ctrlX: this.parent.isMac ? 'cmd+x' : 'ctrl+x',\n      ctrlC: this.parent.isMac ? 'cmd+c' : 'ctrl+c',\n      ctrlV: this.parent.isMac ? 'cmd+v' : 'ctrl+v',\n      f2: 'f2',\n      shiftdel: 'shift+delete',\n      back: 'backspace',\n      ctrlD: 'ctrl+d'\n    };\n  }\n\n  LargeIconsView.prototype.render = function (args) {\n    this.parent.visitedItem = null;\n    this.startItem = null;\n    showSpinner(this.parent.element);\n\n    if (this.parent.view === 'LargeIcons') {\n      this.resetMultiSelect();\n      this.element.setAttribute('tabindex', '0');\n\n      if (this.listObj) {\n        this.unWireEvents();\n        this.removeEventListener();\n      }\n\n      this.parent.notify(events.hideLayout, {});\n      var iconsView = select('#' + this.parent.element.id + CLS.LARGEICON_ID, this.parent.element);\n      var ul = select('ul', iconsView);\n\n      if (ul) {\n        remove(ul);\n      }\n\n      this.listObj = {\n        ariaAttributes: {\n          itemRole: 'option',\n          listRole: 'listbox',\n          itemText: '',\n          groupItemRole: 'group',\n          wrapperRole: ''\n        },\n        showIcon: true,\n        fields: {\n          text: 'name',\n          iconCss: '_fm_icon',\n          imageUrl: '_fm_imageUrl',\n          htmlAttributes: '_fm_htmlAttr'\n        },\n        sortOrder: this.parent.sortOrder,\n        itemCreated: this.onItemCreated.bind(this),\n        enableHtmlSanitizer: this.parent.enableHtmlSanitizer\n      };\n      this.items = [];\n      this.items = this.renderList(args);\n      this.items = getSortedData(this.parent, this.items); // eslint-disable-next-line\n\n      this.listElements = ListBase.createListFromJson(createElement, this.items, this.listObj);\n      this.itemList = Array.prototype.slice.call(selectAll('.' + CLS.LIST_ITEM, this.listElements));\n      this.element.appendChild(this.listElements);\n      this.preventImgDrag();\n      this.createDragObj();\n      iconsView.classList.remove(CLS.DISPLAY_NONE);\n\n      if (this.itemList.length === 0) {\n        var emptyList = this.element.querySelector('.' + CLS.LIST_PARENT);\n        this.element.removeChild(emptyList);\n        createEmptyElement(this.parent, this.element, args);\n      } else if (this.itemList.length !== 0 && this.element.querySelector('.' + CLS.EMPTY)) {\n        this.element.removeChild(this.element.querySelector('.' + CLS.EMPTY));\n      }\n\n      if (this.isPasteOperation === true) {\n        this.selectItems(this.parent.pasteNodes);\n        this.isPasteOperation = false;\n      }\n      /* istanbul ignore next */\n\n\n      if (this.uploadOperation === true) {\n        this.selectItems(this.parent.uploadItem);\n        this.parent.setProperties({\n          selectedItems: []\n        }, true);\n        this.count++;\n\n        if (this.count === this.parent.uploadItem.length) {\n          this.uploadOperation = false;\n          this.parent.uploadItem = [];\n        }\n      }\n\n      var activeEle = this.element.querySelectorAll('.' + CLS.ACTIVE);\n\n      if (activeEle.length !== 0) {\n        this.parent.activeModule = 'largeiconsview';\n      }\n\n      for (var i = 0; i < activeEle.length; i++) {\n        activeEle[i].setAttribute('aria-selected', 'true');\n      }\n\n      this.adjustHeight();\n      this.element.style.maxHeight = '100%';\n      this.getItemCount();\n      this.addEventListener();\n      this.wireEvents();\n      this.isRendered = true;\n      hideSpinner(this.parent.element);\n\n      if (this.parent.selectedItems.length) {\n        this.checkItem();\n      }\n    }\n  };\n\n  LargeIconsView.prototype.preventImgDrag = function () {\n    var i = 0;\n\n    while (i < this.itemList.length) {\n      if (this.itemList[i].querySelector('img')) {\n        /* istanbul ignore next */\n        this.itemList[i].ondragstart = function () {\n          return false;\n        };\n      }\n\n      i++;\n    }\n  };\n\n  LargeIconsView.prototype.createDragObj = function () {\n    var _this = this;\n\n    if (!this.parent.isMobile && this.listObj) {\n      if (this.parent.allowDragAndDrop) {\n        if (this.dragObj) {\n          this.dragObj.destroy();\n        }\n\n        this.dragObj = new Draggable(this.listElements, {\n          enableTailMode: true,\n          distance: 5,\n          enableAutoScroll: true,\n          dragTarget: '.' + CLS.LARGE_ICON,\n          helper: this.dragHelper.bind(this),\n          cursorAt: this.parent.dragCursorPosition,\n          dragArea: this.parent.element,\n          dragStop: dragStopHandler.bind(this, this.parent),\n          drag: draggingHandler.bind(this, this.parent),\n          clone: true,\n          dragStart: function (args) {\n            dragStartHandler(_this.parent, args, _this.dragObj);\n          }\n        });\n      } else if (this.dragObj && !this.parent.allowDragAndDrop) {\n        this.dragObj.destroy();\n      }\n    }\n  };\n\n  LargeIconsView.prototype.dragHelper = function (args) {\n    var dragTarget = args.sender.target;\n    var dragLi = closest(dragTarget, '.e-list-item');\n\n    if (!dragLi) {\n      return null;\n    }\n\n    if (dragLi && !dragLi.classList.contains('e-active')) {\n      this.setFocus(dragLi);\n    }\n\n    var activeEle = this.element.querySelectorAll('.' + CLS.ACTIVE);\n    this.parent.activeElements = [];\n    this.parent.dragData = [];\n\n    for (var i = 0; i < activeEle.length; i++) {\n      // eslint-disable-next-line\n      this.parent.dragData.push(this.getItemObject(activeEle[i]));\n      this.parent.activeElements.push(activeEle[i]);\n    }\n\n    getModule(this.parent, dragLi);\n    this.parent.dragPath = this.parent.path;\n    createVirtualDragElement(this.parent);\n    return this.parent.virtualDragElement;\n  };\n\n  LargeIconsView.prototype.onDropInit = function (args) {\n    if (this.parent.targetModule === this.getModuleName()) {\n      var dropLi = closest(args.target, '.e-list-item'); // eslint-disable-next-line\n\n      var cwdData = getValue(this.parent.pathId[this.parent.pathId.length - 1], this.parent.feParent);\n\n      if (dropLi) {\n        // eslint-disable-next-line\n        var info = this.getItemObject(dropLi);\n        this.parent.dropPath = info.isFile ? this.parent.path : getFullPath(this.parent, info, this.parent.path);\n        this.parent.dropData = info.isFile ? cwdData : info;\n      } else {\n        this.parent.dropPath = this.parent.path;\n        this.parent.dropData = cwdData;\n      }\n    }\n  };\n  /**\n   * For internal use only - Get the module name.\n   *\n   * @returns {string} - returns the module name.\n   * @private\n   */\n\n\n  LargeIconsView.prototype.getModuleName = function () {\n    return 'largeiconsview';\n  };\n\n  LargeIconsView.prototype.adjustHeight = function () {\n    var pane = select('#' + this.parent.element.id + CLS.CONTENT_ID, this.parent.element);\n    var bar = select('#' + this.parent.element.id + CLS.BREADCRUMBBAR_ID, this.parent.element);\n    this.element.style.height = pane.offsetHeight - bar.offsetHeight + 'px';\n  };\n\n  LargeIconsView.prototype.onItemCreated = function (args) {\n    args.item.removeAttribute('aria-level');\n\n    if (!this.parent.showFileExtension && getValue('isFile', args.curData)) {\n      var textEle = args.item.querySelector('.' + CLS.LIST_TEXT);\n      var txt = getValue('name', args.curData);\n      var type = getValue('type', args.curData);\n      textEle.innerHTML = txt.substr(0, txt.length - type.length);\n    }\n\n    this.renderCheckbox(args);\n    var eventArgs = {\n      element: args.item,\n      fileDetails: args.curData,\n      module: 'LargeIconsView'\n    };\n    this.parent.trigger('fileLoad', eventArgs);\n  };\n\n  LargeIconsView.prototype.renderCheckbox = function (args) {\n    if (!this.parent.allowMultiSelection) {\n      return;\n    }\n\n    var checkElement = createCheckBox(createElement, false, {\n      checked: false,\n      cssClass: 'e-small'\n    });\n    checkElement.setAttribute('role', 'checkbox');\n    checkElement.setAttribute('aria-checked', 'false');\n    args.item.firstElementChild.insertBefore(checkElement, args.item.firstElementChild.childNodes[0]);\n  };\n\n  LargeIconsView.prototype.onLayoutChange = function (args) {\n    if (this.parent.view === 'LargeIcons') {\n      this.destroy();\n      this.render(args);\n      /* istanbul ignore next */\n\n      if (getValue('name', args) === 'layout-change' && this.parent.fileAction === 'move' && this.parent.isCut && this.parent.selectedNodes && this.parent.selectedNodes.length !== 0) {\n        var indexes = this.getIndexes(this.parent.selectedNodes);\n        var length_1 = 0;\n\n        while (length_1 < indexes.length) {\n          addBlur(this.itemList[indexes[length_1]]);\n          length_1++;\n        }\n      }\n\n      var activeEle = this.element.querySelectorAll('.' + CLS.ACTIVE);\n\n      if (activeEle.length !== 0) {\n        this.element.focus();\n      }\n\n      this.checkItem();\n      this.parent.isLayoutChange = false;\n    } else {\n      this.element.setAttribute('tabindex', '-1');\n    }\n  };\n\n  LargeIconsView.prototype.checkItem = function () {\n    var checkEle = this.element.querySelectorAll('.' + CLS.ACTIVE);\n\n    if (checkEle) {\n      var checkLength = 0;\n\n      while (checkLength < checkEle.length) {\n        this.checkState(checkEle[checkLength], true);\n        checkLength++;\n      }\n    }\n  }; // eslint-disable-next-line\n\n\n  LargeIconsView.prototype.renderList = function (args) {\n    var i = 0; // eslint-disable-next-line\n\n    var items = JSON.parse(JSON.stringify(args.files));\n\n    while (i < items.length) {\n      var icon = fileType(items[i]);\n      var name_1 = getValue('name', items[i]);\n      var selected = getItemName(this.parent, items[i]);\n      var className = this.parent.selectedItems && this.parent.selectedItems.indexOf(selected) !== -1 ? CLS.LARGE_ICON + ' e-active' : CLS.LARGE_ICON;\n\n      if (!hasEditAccess(items[i])) {\n        className += ' ' + getAccessClass(items[i]);\n      }\n\n      if (icon === CLS.ICON_IMAGE && this.parent.showThumbnail && hasReadAccess(items[i])) {\n        var imgUrl = getImageUrl(this.parent, items[i]);\n        setValue('_fm_imageUrl', imgUrl, items[i]);\n        setValue('_fm_imageAttr', {\n          alt: name_1\n        }, items[i]);\n      } else {\n        setValue('_fm_icon', icon, items[i]);\n      }\n\n      setValue('_fm_htmlAttr', {\n        class: className,\n        title: name_1\n      }, items[i]);\n      i++;\n    }\n\n    return items;\n  };\n\n  LargeIconsView.prototype.onFinalizeEnd = function (args) {\n    this.render(args);\n  };\n\n  LargeIconsView.prototype.onCreateEnd = function (args) {\n    if (this.parent.view !== 'LargeIcons') {\n      return;\n    }\n\n    this.onLayoutChange(args);\n    this.clearSelect();\n    this.selectItems([getValue(this.parent.hasId ? 'id' : 'name', this.parent.createdItem)]);\n    this.parent.createdItem = null;\n    this.parent.largeiconsviewModule.element.focus();\n  };\n\n  LargeIconsView.prototype.onSelectedData = function () {\n    if (this.parent.activeModule === 'largeiconsview') {\n      this.updateSelectedData();\n    }\n  };\n\n  LargeIconsView.prototype.onDeleteInit = function () {\n    if (this.parent.activeModule === 'largeiconsview') {\n      Delete(this.parent, this.parent.selectedItems, this.parent.path, 'delete');\n    }\n  };\n  /* istanbul ignore next */\n\n\n  LargeIconsView.prototype.onDeleteEnd = function (args) {\n    if (this.parent.view !== 'LargeIcons') {\n      return;\n    }\n\n    this.onLayoutChange(args);\n    this.parent.setProperties({\n      selectedItems: []\n    }, true);\n    this.clearSelect();\n  };\n\n  LargeIconsView.prototype.onRefreshEnd = function (args) {\n    if (this.parent.view !== 'LargeIcons') {\n      return;\n    }\n\n    this.onLayoutChange(args);\n  };\n\n  LargeIconsView.prototype.onRenameInit = function () {\n    if (this.parent.activeModule === 'largeiconsview' && this.parent.selectedItems.length === 1) {\n      this.updateRenameData();\n    }\n  };\n\n  LargeIconsView.prototype.onPathChanged = function (args) {\n    this.parent.isCut = false;\n    /* istanbul ignore next */\n\n    if (this.parent.breadcrumbbarModule.searchObj.element.value === '') {\n      this.parent.searchedItems = [];\n    }\n\n    if (this.parent.view === 'LargeIcons') {\n      removeBlur(this.parent);\n      this.parent.setProperties({\n        selectedItems: []\n      }, true);\n      this.onLayoutChange(args);\n\n      if (this.parent.renamedItem) {\n        this.clearSelect();\n        this.addSelection(this.parent.renamedItem);\n        this.parent.renamedItem = null;\n      }\n    }\n  };\n\n  LargeIconsView.prototype.onOpenInit = function (args) {\n    if (this.parent.activeModule === 'largeiconsview') {\n      this.doOpenAction(args.target);\n    }\n  };\n\n  LargeIconsView.prototype.onHideLayout = function () {\n    if (this.parent.view !== 'LargeIcons' && this.element) {\n      this.element.classList.add(CLS.DISPLAY_NONE);\n    }\n  };\n\n  LargeIconsView.prototype.onSelectAllInit = function () {\n    if (this.parent.view === 'LargeIcons') {\n      this.startItem = this.getFirstItem();\n      var lastItem = this.getLastItem();\n      var eveArgs = {\n        ctrlKey: true,\n        shiftKey: true\n      };\n      this.doSelection(lastItem, eveArgs);\n      this.isInteraction = true;\n      this.isInteracted = true;\n    }\n  };\n\n  LargeIconsView.prototype.onClearAllInit = function () {\n    if (this.parent.view === 'LargeIcons') {\n      this.clearSelection();\n      this.isInteraction = true;\n      this.isInteracted = true;\n    }\n  };\n\n  LargeIconsView.prototype.onBeforeRequest = function () {\n    this.isRendered = false;\n  };\n\n  LargeIconsView.prototype.onAfterRequest = function () {\n    this.isRendered = true;\n  };\n  /* istanbul ignore next */\n\n\n  LargeIconsView.prototype.onSearch = function (args) {\n    if (this.parent.view === 'LargeIcons') {\n      this.parent.setProperties({\n        selectedItems: []\n      }, true);\n      this.parent.notify(events.selectionChanged, {});\n      this.parent.searchedItems = args.files;\n      this.onLayoutChange(args);\n    }\n  };\n\n  LargeIconsView.prototype.onLayoutRefresh = function () {\n    if (this.parent.view !== 'LargeIcons') {\n      return;\n    }\n\n    this.adjustHeight();\n  };\n\n  LargeIconsView.prototype.onUpdateSelectionData = function () {\n    if (this.parent.view !== 'LargeIcons') {\n      return;\n    }\n\n    this.updateSelectedData();\n  };\n\n  LargeIconsView.prototype.onPathColumn = function () {\n    if (this.parent.view === 'LargeIcons' && !isNOU(this.listObj) && this.parent.breadcrumbbarModule.searchObj.element.value === '' && !this.parent.isFiltered && this.parent.sortBy === 'filterPath') {\n      this.parent.sortBy = 'name';\n      this.parent.notify(events.sortByChange, {});\n    }\n  };\n\n  LargeIconsView.prototype.removeEventListener = function () {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n\n    this.parent.off(events.pathColumn, this.onPathColumn);\n    this.parent.off(events.finalizeEnd, this.onFinalizeEnd);\n    this.parent.off(events.createEnd, this.onCreateEnd);\n    this.parent.off(events.selectedData, this.onSelectedData);\n    this.parent.off(events.deleteInit, this.onDeleteInit);\n    this.parent.off(events.deleteEnd, this.onDeleteEnd);\n    this.parent.off(events.refreshEnd, this.onRefreshEnd);\n    this.parent.off(events.pathChanged, this.onPathChanged);\n    this.parent.off(events.layoutChange, this.onLayoutChange);\n    this.parent.off(events.search, this.onSearch);\n    this.parent.off(events.openInit, this.onOpenInit);\n    this.parent.off(events.openEnd, this.onPathChanged);\n    this.parent.off(events.modelChanged, this.onPropertyChanged);\n    this.parent.off(events.methodCall, this.onMethodCall);\n    this.parent.off(events.actionFailure, this.onActionFailure);\n    this.parent.off(events.renameInit, this.onRenameInit);\n    this.parent.off(events.renameEnd, this.onPathChanged);\n    this.parent.off(events.hideLayout, this.onHideLayout);\n    this.parent.off(events.selectAllInit, this.onSelectAllInit);\n    this.parent.off(events.clearAllInit, this.onClearAllInit);\n    this.parent.off(events.menuItemData, this.onMenuItemData);\n    this.parent.off(events.beforeRequest, this.onBeforeRequest);\n    this.parent.off(events.afterRequest, this.onAfterRequest);\n    this.parent.off(events.splitterResize, this.splitterResizeHandler);\n    this.parent.off(events.resizeEnd, this.resizeHandler);\n    this.parent.off(events.pasteInit, this.onpasteInit);\n    this.parent.off(events.pasteEnd, this.onpasteEnd);\n    this.parent.off(events.cutCopyInit, this.oncutCopyInit);\n    this.parent.off(events.dropInit, this.onDropInit);\n    this.parent.off(events.detailsInit, this.onDetailsInit);\n    this.parent.off(events.layoutRefresh, this.onLayoutRefresh);\n    this.parent.off(events.dropPath, this.onDropPath);\n    this.parent.off(events.updateSelectionData, this.onUpdateSelectionData);\n    this.parent.off(events.filterEnd, this.onPathChanged);\n  };\n\n  LargeIconsView.prototype.addEventListener = function () {\n    this.parent.on(events.pathColumn, this.onPathColumn, this);\n    this.parent.on(events.finalizeEnd, this.onFinalizeEnd, this);\n    this.parent.on(events.createEnd, this.onCreateEnd, this);\n    this.parent.on(events.refreshEnd, this.onRefreshEnd, this);\n    this.parent.on(events.selectedData, this.onSelectedData, this);\n    this.parent.on(events.pathChanged, this.onPathChanged, this);\n    this.parent.on(events.deleteInit, this.onDeleteInit, this);\n    this.parent.on(events.pasteInit, this.onpasteInit, this);\n    this.parent.on(events.deleteEnd, this.onDeleteEnd, this);\n    this.parent.on(events.layoutChange, this.onLayoutChange, this);\n    this.parent.on(events.search, this.onSearch, this);\n    this.parent.on(events.openInit, this.onOpenInit, this);\n    this.parent.on(events.renameInit, this.onRenameInit, this);\n    this.parent.on(events.renameEnd, this.onPathChanged, this);\n    this.parent.on(events.openEnd, this.onPathChanged, this);\n    this.parent.on(events.modelChanged, this.onPropertyChanged, this);\n    this.parent.on(events.methodCall, this.onMethodCall, this);\n    this.parent.on(events.actionFailure, this.onActionFailure, this);\n    this.parent.on(events.hideLayout, this.onHideLayout, this);\n    this.parent.on(events.selectAllInit, this.onSelectAllInit, this);\n    this.parent.on(events.clearAllInit, this.onClearAllInit, this);\n    this.parent.on(events.menuItemData, this.onMenuItemData, this);\n    this.parent.on(events.beforeRequest, this.onBeforeRequest, this);\n    this.parent.on(events.afterRequest, this.onAfterRequest, this);\n    this.parent.on(events.dropInit, this.onDropInit, this);\n    this.parent.on(events.detailsInit, this.onDetailsInit, this);\n    this.parent.on(events.splitterResize, this.splitterResizeHandler, this);\n    this.parent.on(events.resizeEnd, this.resizeHandler, this);\n    this.parent.on(events.pasteEnd, this.onpasteEnd, this);\n    this.parent.on(events.cutCopyInit, this.oncutCopyInit, this);\n    this.parent.on(events.layoutRefresh, this.onLayoutRefresh, this);\n    this.parent.on(events.dropPath, this.onDropPath, this);\n    this.parent.on(events.updateSelectionData, this.onUpdateSelectionData, this);\n    this.parent.on(events.filterEnd, this.onPathChanged, this);\n  };\n\n  LargeIconsView.prototype.onActionFailure = function () {\n    this.isInteraction = true;\n    this.isInteracted = true;\n  }; // eslint-disable-next-line\n\n\n  LargeIconsView.prototype.onMenuItemData = function (args) {\n    if (this.parent.activeModule === this.getModuleName()) {\n      var ele = closest(args.target, 'li');\n      this.parent.itemData = [this.getItemObject(ele)];\n    }\n  };\n\n  LargeIconsView.prototype.onDetailsInit = function () {\n    if (this.parent.activeModule === this.getModuleName()) {\n      if (this.parent.selectedItems.length !== 0) {\n        this.updateSelectedData();\n      } else {\n        this.parent.itemData = [getValue(this.parent.pathId[this.parent.pathId.length - 1], this.parent.feParent)];\n      }\n    }\n  };\n\n  LargeIconsView.prototype.onpasteInit = function () {\n    if (this.parent.activeModule === this.getModuleName()) {\n      this.parent.itemData = this.parent.folderPath === '' ? [getPathObject(this.parent)] : [this.getItemObject(select('.e-active', this.element))];\n    }\n  };\n\n  LargeIconsView.prototype.oncutCopyInit = function () {\n    if (this.parent.activeModule === this.getModuleName()) {\n      var activeEle = this.element.querySelectorAll('.' + CLS.ACTIVE);\n      this.parent.activeRecords = [];\n      this.parent.activeElements = [];\n\n      for (var i = 0; i < activeEle.length; i++) {\n        this.parent.activeElements.push(activeEle[i]);\n        this.parent.activeRecords.push(this.getItemObject(activeEle[i]));\n      }\n    }\n  };\n\n  LargeIconsView.prototype.onpasteEnd = function (args) {\n    if (this.parent.view === 'LargeIcons') {\n      this.isPasteOperation = true;\n\n      if (this.parent.path === this.parent.destinationPath || this.parent.path === getDirectoryPath(this.parent, args)) {\n        this.onPathChanged(args);\n      }\n    }\n  };\n\n  LargeIconsView.prototype.onDropPath = function (args) {\n    if (this.parent.view === 'LargeIcons') {\n      this.isPasteOperation = true;\n      this.onPathChanged(args);\n    }\n  };\n\n  LargeIconsView.prototype.onPropertyChanged = function (e) {\n    var currentSelected;\n\n    if (e.module !== this.getModuleName() && e.module !== 'common') {\n      return;\n    }\n\n    for (var _i = 0, _a = Object.keys(e.newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n\n      switch (prop) {\n        case 'allowDragAndDrop':\n          this.createDragObj();\n          break;\n\n        case 'height':\n          this.adjustHeight();\n          break;\n\n        case 'selectedItems':\n          this.isInteraction = false;\n          this.isInteracted = false;\n          currentSelected = isNOU(this.parent.selectedItems) ? [] : this.parent.selectedItems.slice(0);\n          currentSelected = this.parent.allowMultiSelection ? currentSelected : currentSelected.slice(currentSelected.length - 1);\n          this.parent.setProperties({\n            selectedItems: []\n          }, true);\n          this.onClearAllInit();\n\n          if (currentSelected.length) {\n            this.selectItems(currentSelected);\n          }\n\n          this.parent.setProperties({\n            selectedItems: this.parent.selectedItems\n          }, true);\n          this.isInteraction = true;\n          this.isInteracted = true;\n          break;\n\n        case 'showThumbnail':\n          refresh(this.parent);\n          break;\n\n        case 'showFileExtension':\n          read(this.parent, events.pathChanged, this.parent.path);\n          break;\n\n        case 'showHiddenItems':\n          read(this.parent, events.pathChanged, this.parent.path);\n          break;\n\n        case 'allowMultiSelection':\n          if (this.parent.view !== 'LargeIcons') {\n            break;\n          }\n\n          refresh(this.parent);\n          break;\n\n        case 'view':\n          updateLayout(this.parent, 'LargeIcons');\n          break;\n      }\n    }\n  };\n\n  LargeIconsView.prototype.destroy = function () {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n\n    this.removeEventListener();\n\n    if (this.listObj) {\n      this.unWireEvents();\n    }\n  };\n\n  LargeIconsView.prototype.wireEvents = function () {\n    this.wireClickEvent(true);\n    this.keyboardModule = new KeyboardEvents(this.element, {\n      keyAction: this.keyActionHandler.bind(this),\n      keyConfigs: this.keyConfigs,\n      eventName: 'keyup'\n    });\n    this.keyboardDownModule = new KeyboardEvents(this.element, {\n      keyAction: this.keydownActionHandler.bind(this),\n      keyConfigs: this.keyConfigs,\n      eventName: 'keydown'\n    });\n    EventHandler.add(this.element, 'mouseover', this.onMouseOver, this);\n  };\n\n  LargeIconsView.prototype.unWireEvents = function () {\n    this.wireClickEvent(false);\n    EventHandler.remove(this.element, 'mouseover', this.onMouseOver);\n    this.keyboardModule.destroy();\n    this.keyboardDownModule.destroy();\n  };\n  /* istanbul ignore next */\n\n\n  LargeIconsView.prototype.onMouseOver = function (e) {\n    var targetEle = closest(e.target, '.e-list-item');\n    removeBlur(this.parent, 'hover');\n\n    if (targetEle !== null) {\n      targetEle.classList.add(CLS.HOVER);\n    }\n  };\n\n  LargeIconsView.prototype.wireClickEvent = function (toBind) {\n    if (toBind) {\n      // eslint-disable-next-line\n      var proxy_1 = this;\n      this.clickObj = new Touch(this.element, {\n        tap: function (eve) {\n          eve.originalEvent.preventDefault();\n\n          if (proxy_1.parent.isDevice) {\n            proxy_1.tapCount = eve.tapCount;\n            proxy_1.tapEvent = eve;\n            setTimeout(function () {\n              if (proxy_1.tapCount > 0) {\n                proxy_1.doTapAction(proxy_1.tapEvent);\n              }\n\n              proxy_1.tapCount = 0;\n            }, 350);\n          } else {\n            if (eve.tapCount === 2 && eve.originalEvent.which !== 3) {\n              proxy_1.dblClickHandler(eve);\n            } else {\n              proxy_1.clickHandler(eve);\n            }\n          }\n        },\n        tapHold: function (e) {\n          if (proxy_1.parent.isDevice) {\n            proxy_1.multiSelect = proxy_1.parent.allowMultiSelection ? true : false;\n\n            if (proxy_1.parent.allowMultiSelection) {\n              addClass([proxy_1.parent.element], CLS.MULTI_SELECT);\n            }\n\n            proxy_1.clickHandler(e);\n          }\n        }\n      });\n    } else {\n      if (this.clickObj) {\n        this.clickObj.destroy();\n      }\n    }\n  };\n\n  LargeIconsView.prototype.doTapAction = function (eve) {\n    var target = eve.originalEvent.target;\n    var item = closest(target, '.' + CLS.LIST_ITEM);\n\n    if (this.multiSelect || target.classList.contains(CLS.LIST_PARENT) || isNOU(item)) {\n      this.clickHandler(eve);\n    } else {\n      this.parent.isFile = false;\n      this.updateType(item);\n\n      if (!this.parent.isFile) {\n        this.dblClickHandler(eve);\n      } else if (eve.tapCount === 2) {\n        this.clickHandler(eve);\n        this.dblClickHandler(eve);\n      } else {\n        this.clickHandler(eve);\n      }\n    }\n  };\n\n  LargeIconsView.prototype.clickHandler = function (e) {\n    var target = e.originalEvent.target;\n    removeBlur(this.parent, 'hover');\n    this.doSelection(target, e.originalEvent);\n    this.parent.activeModule = 'largeiconsview';\n  };\n  /**\n   *\n   * @param {Element} target - specifies the target element.\n   * @param {TouchEventArgs | MouseEventArgs | KeyboardEventArgs} e - specifies event arguements.\n   * @returns {void}\n   * @hidden\n   */\n\n\n  LargeIconsView.prototype.doSelection = function (target, e) {\n    var item = closest(target, '.' + CLS.LIST_ITEM);\n    var cList = target.classList;\n    this.parent.isFile = false;\n    var action = 'select';\n\n    if (e.which === 3 && !isNOU(item) && item.classList.contains(CLS.ACTIVE)) {\n      this.updateType(item);\n      return;\n    } else if (!isNOU(item)) {\n      if (this.parent.allowMultiSelection && item.classList.contains(CLS.ACTIVE) && (e.ctrlKey || target.classList.contains(CLS.CHECK))) {\n        action = 'unselect';\n      }\n\n      var fileSelectionArgs = this.triggerSelection(action, item);\n\n      if (fileSelectionArgs.cancel !== true) {\n        if ((!this.parent.allowMultiSelection || !this.multiSelect && e && !e.ctrlKey) && !cList.contains(CLS.FRAME)) {\n          this.updateType(item);\n          this.clearSelect();\n        }\n\n        if (this.parent.allowMultiSelection && e.shiftKey) {\n          if (!(e && e.ctrlKey)) {\n            this.clearSelect();\n          }\n\n          if (!this.startItem) {\n            this.startItem = item;\n          }\n\n          var startIndex = this.itemList.indexOf(this.startItem);\n          var endIndex = this.itemList.indexOf(item);\n\n          if (startIndex > endIndex) {\n            for (var i = startIndex; i >= endIndex; i--) {\n              this.addActive(this.itemList[i]);\n            }\n          } else {\n            for (var i = startIndex; i <= endIndex; i++) {\n              this.addActive(this.itemList[i]);\n            }\n          }\n\n          this.addFocus(this.itemList[endIndex]);\n        } else {\n          this.startItem = item;\n\n          if (this.parent.allowMultiSelection && item.classList.contains(CLS.ACTIVE)) {\n            this.removeActive(item);\n          } else {\n            this.addActive(item);\n          }\n\n          this.addFocus(item);\n        }\n\n        if (this.parent.selectedItems.length === 0) {\n          this.resetMultiSelect();\n        }\n\n        this.parent.notify(events.selectionChanged, {});\n        this.triggerSelect(action, item);\n      }\n    } else {\n      this.clearSelection();\n    }\n\n    if (!isNOU(item)) {\n      this.updateType(item);\n    }\n  };\n\n  LargeIconsView.prototype.dblClickHandler = function (e) {\n    this.parent.activeModule = 'largeiconsview';\n    var target = e.originalEvent.target;\n    this.doOpenAction(target);\n  };\n\n  LargeIconsView.prototype.clearSelection = function () {\n    this.clearSelect();\n    this.resetMultiSelect();\n    this.parent.notify(events.selectionChanged, {});\n  };\n\n  LargeIconsView.prototype.resetMultiSelect = function () {\n    this.multiSelect = false;\n    removeClass([this.parent.element], CLS.MULTI_SELECT);\n  };\n\n  LargeIconsView.prototype.doOpenAction = function (target) {\n    var _this = this;\n\n    if (isNOU(target)) {\n      return;\n    }\n\n    var item = closest(target, '.' + CLS.LIST_ITEM);\n    this.parent.isFile = false;\n\n    if (!isNOU(item)) {\n      this.updateType(item); // eslint-disable-next-line\n\n      var details_1 = this.getItemObject(item);\n\n      if (!hasReadAccess(details_1)) {\n        createDeniedDialog(this.parent, details_1, events.permissionRead);\n        return;\n      }\n\n      var eventArgs = {\n        cancel: false,\n        fileDetails: details_1,\n        module: 'LargeIconsView'\n      };\n      this.parent.trigger('fileOpen', eventArgs, function (fileOpenArgs) {\n        if (!fileOpenArgs.cancel) {\n          var text = getValue('name', details_1);\n\n          if (!_this.parent.isFile) {\n            var val = _this.parent.breadcrumbbarModule.searchObj.element.value;\n\n            if (val === '' && !_this.parent.isFiltered) {\n              var id = getValue('id', details_1);\n              var newPath = _this.parent.path + (isNOU(id) ? text : id) + '/';\n\n              _this.parent.setProperties({\n                path: newPath\n              }, true);\n\n              _this.parent.pathNames.push(text);\n\n              _this.parent.pathId.push(getValue('_fm_id', details_1));\n\n              _this.parent.itemData = [details_1];\n              openAction(_this.parent);\n            } else {\n              openSearchFolder(_this.parent, details_1);\n            }\n\n            _this.parent.isFiltered = false;\n\n            _this.parent.setProperties({\n              selectedItems: []\n            }, true);\n          } else {\n            var icon = fileType(details_1);\n\n            if (icon === CLS.ICON_IMAGE) {\n              var imgUrl = getImageUrl(_this.parent, details_1);\n              createImageDialog(_this.parent, text, imgUrl);\n            }\n          }\n        }\n      });\n    }\n  };\n\n  LargeIconsView.prototype.updateType = function (item) {\n    var folder = select('.' + CLS.FOLDER, item);\n    this.parent.isFile = isNOU(folder) ? true : false;\n  };\n  /* istanbul ignore next */\n  // eslint:disable-next-line\n\n\n  LargeIconsView.prototype.keydownActionHandler = function (e) {\n    if (!this.isRendered) {\n      return;\n    }\n\n    switch (e.action) {\n      case 'end':\n      case 'home':\n      case 'moveDown':\n      case 'moveLeft':\n      case 'moveRight':\n      case 'moveUp':\n      case 'ctrlEnd':\n      case 'shiftEnd':\n      case 'csEnd':\n      case 'ctrlHome':\n      case 'shiftHome':\n      case 'csHome':\n      case 'ctrlDown':\n      case 'shiftDown':\n      case 'csDown':\n      case 'ctrlLeft':\n      case 'shiftLeft':\n      case 'csLeft':\n      case 'ctrlRight':\n      case 'shiftRight':\n      case 'csRight':\n      case 'space':\n      case 'ctrlSpace':\n      case 'shiftSpace':\n      case 'csSpace':\n      case 'ctrlA':\n      case 'enter':\n      case 'altEnter':\n      case 'esc':\n      case 'del':\n      case 'shiftdel':\n      case 'ctrlC':\n      case 'ctrlV':\n      case 'ctrlX':\n      case 'f2':\n      case 'ctrlD':\n        e.preventDefault();\n        break;\n\n      default:\n        break;\n    }\n  };\n  /* istanbul ignore next */\n  // eslint:disable-next-line\n\n\n  LargeIconsView.prototype.keyActionHandler = function (e) {\n    if (!this.isRendered) {\n      return;\n    }\n\n    var fItem = this.getFocusedItem();\n    var firstItem = this.getFirstItem();\n    var lastItem = this.getLastItem();\n\n    switch (e.action) {\n      case 'end':\n        this.navigateItem(lastItem);\n        break;\n\n      case 'home':\n        this.navigateItem(firstItem);\n        break;\n\n      case 'tab':\n        if (!isNOU(fItem)) {\n          this.addFocus(fItem);\n        } else if (!isNOU(firstItem)) {\n          this.addFocus(firstItem);\n        }\n\n        break;\n\n      case 'moveDown':\n        this.navigateDown(fItem, true);\n        break;\n\n      case 'moveLeft':\n        this.navigateRight(fItem, false);\n        break;\n\n      case 'moveRight':\n        this.navigateRight(fItem, true);\n        break;\n\n      case 'moveUp':\n        this.navigateDown(fItem, false);\n        break;\n\n      case 'ctrlEnd':\n      case 'shiftEnd':\n      case 'csEnd':\n        this.csEndKey(lastItem, e);\n        break;\n\n      case 'ctrlHome':\n      case 'shiftHome':\n      case 'csHome':\n        this.csHomeKey(firstItem, e);\n        break;\n\n      case 'ctrlDown':\n      case 'shiftDown':\n      case 'csDown':\n        this.csDownKey(fItem, e);\n        break;\n\n      case 'ctrlLeft':\n      case 'shiftLeft':\n      case 'csLeft':\n        this.csLeftKey(fItem, e);\n        break;\n\n      case 'ctrlRight':\n      case 'shiftRight':\n      case 'csRight':\n        this.csRightKey(fItem, e);\n        break;\n\n      case 'ctrlUp':\n      case 'shiftUp':\n      case 'csUp':\n        this.csUpKey(fItem, e);\n        break;\n\n      case 'space':\n        this.spaceKey(fItem);\n        break;\n\n      case 'ctrlSpace':\n      case 'shiftSpace':\n      case 'csSpace':\n        if (!isNOU(fItem)) {\n          this.doSelection(fItem, e);\n        }\n\n        break;\n\n      case 'ctrlA':\n        this.ctrlAKey(firstItem, lastItem);\n        break;\n\n      case 'enter':\n        this.doOpenAction(this.parent.visitedItem ? this.parent.visitedItem : this.getVisitedItem());\n        break;\n\n      case 'altEnter':\n        this.parent.notify(events.detailsInit, {});\n        GetDetails(this.parent, this.parent.selectedItems, this.parent.path, 'details');\n        break;\n\n      case 'esc':\n        removeActive(this.parent);\n        break;\n\n      case 'del':\n      case 'shiftdel':\n        this.performDelete();\n        break;\n\n      case 'ctrlC':\n        copyFiles(this.parent);\n        break;\n\n      case 'ctrlV':\n        this.parent.folderPath = '';\n        pasteHandler(this.parent);\n        break;\n\n      case 'ctrlX':\n        cutFiles(this.parent);\n        break;\n\n      case 'f2':\n        this.performRename();\n        break;\n\n      case 'ctrlD':\n        this.doDownload();\n        break;\n    }\n  };\n\n  LargeIconsView.prototype.doDownload = function () {\n    this.updateSelectedData();\n    doDownload(this.parent);\n  };\n\n  LargeIconsView.prototype.performDelete = function () {\n    if (this.parent.selectedItems && this.parent.selectedItems.length > 0) {\n      this.updateSelectedData(); // eslint-disable-next-line\n\n      var data = this.parent.itemData;\n\n      for (var i = 0; i < data.length; i++) {\n        if (!hasEditAccess(data[i])) {\n          createDeniedDialog(this.parent, data[i], events.permissionEdit);\n          return;\n        }\n      }\n\n      createDialog(this.parent, 'Delete');\n    }\n  };\n\n  LargeIconsView.prototype.performRename = function () {\n    if (this.parent.selectedItems.length === 1) {\n      this.updateRenameData();\n      doRename(this.parent);\n    }\n  };\n\n  LargeIconsView.prototype.updateRenameData = function () {\n    var item = select('.' + CLS.LIST_ITEM + '.' + CLS.ACTIVE, this.element); // eslint-disable-next-line\n\n    var data = this.getItemObject(item);\n    updateRenamingData(this.parent, data);\n  };\n\n  LargeIconsView.prototype.getVisitedItem = function () {\n    var item = this.parent.selectedItems[this.parent.selectedItems.length - 1];\n    var indexes = this.getIndexes([item], this.parent.hasId);\n    return this.itemList[indexes[0]];\n  };\n\n  LargeIconsView.prototype.getFocusedItem = function () {\n    return select('.' + CLS.LIST_ITEM + '.' + CLS.FOCUS, this.element);\n  };\n\n  LargeIconsView.prototype.getActiveItem = function () {\n    return select('.' + CLS.LIST_ITEM + '.' + CLS.ACTIVE, this.element);\n  };\n\n  LargeIconsView.prototype.getFirstItem = function () {\n    return this.itemList[0];\n  };\n\n  LargeIconsView.prototype.getLastItem = function () {\n    return this.itemList[this.itemList.length - 1];\n  };\n\n  LargeIconsView.prototype.navigateItem = function (item) {\n    this.setFocus(item);\n  };\n\n  LargeIconsView.prototype.navigateDown = function (fItem, isTowards) {\n    var nItem = this.getNextItem(fItem, isTowards, this.perRow);\n    this.setFocus(nItem);\n  };\n\n  LargeIconsView.prototype.navigateRight = function (fItem, isTowards) {\n    var nItem = this.getNextItem(fItem, isTowards);\n    this.setFocus(nItem);\n  };\n\n  LargeIconsView.prototype.getNextItem = function (li, isTowards, perRow) {\n    if (isNOU(li)) {\n      return this.getFocusedItem() || this.getActiveItem() || this.getFirstItem();\n    }\n\n    var index = this.itemList.indexOf(li);\n    var nextItem;\n\n    do {\n      if (isTowards) {\n        index = perRow ? index + perRow : index + 1;\n      } else {\n        index = perRow ? index - perRow : index - 1;\n      }\n\n      nextItem = this.itemList[index];\n\n      if (isNOU(nextItem)) {\n        return li;\n      }\n    } while (!isVisible(nextItem));\n\n    return nextItem;\n  };\n\n  LargeIconsView.prototype.setFocus = function (nextItem) {\n    if (!isNOU(nextItem)) {\n      var fileSelectionArgs = this.triggerSelection('select', nextItem);\n\n      if (fileSelectionArgs.cancel !== true) {\n        this.startItem = nextItem;\n        this.clearSelect();\n        this.addActive(nextItem);\n        this.addFocus(nextItem);\n        this.parent.notify(events.selectionChanged, {});\n        this.triggerSelect('select', nextItem);\n      }\n    }\n  };\n\n  LargeIconsView.prototype.spaceKey = function (fItem) {\n    if (!isNOU(fItem) && !fItem.classList.contains(CLS.ACTIVE)) {\n      var fileSelectionArgs = this.triggerSelection('select', fItem);\n\n      if (fileSelectionArgs.cancel !== true) {\n        this.addActive(fItem);\n        this.parent.notify(events.selectionChanged, {});\n        this.triggerSelect('select', fItem);\n      }\n    }\n  };\n\n  LargeIconsView.prototype.ctrlAKey = function (firstItem, lastItem) {\n    if (this.parent.allowMultiSelection && !isNOU(firstItem)) {\n      this.startItem = firstItem;\n      var eveArgs = {\n        ctrlKey: true,\n        shiftKey: true\n      };\n      var liParent = this.element.querySelector('.' + CLS.LIST_PARENT);\n      var liScrPos = liParent.scrollTop;\n      var getCurFocusedItem = this.getFocusedItem();\n      this.doSelection(lastItem, eveArgs);\n      liParent.scrollTop = liScrPos;\n\n      if (!isNOU(getCurFocusedItem)) {\n        this.addFocus(getCurFocusedItem);\n      }\n    }\n  };\n\n  LargeIconsView.prototype.csEndKey = function (lastItem, e) {\n    if (!this.parent.allowMultiSelection) {\n      this.navigateItem(lastItem);\n    } else if (!isNOU(lastItem)) {\n      if (e.action === 'ctrlEnd') {\n        this.addFocus(lastItem);\n      } else {\n        this.doSelection(lastItem, e);\n      }\n    }\n  };\n\n  LargeIconsView.prototype.csHomeKey = function (firstItem, e) {\n    if (!this.parent.allowMultiSelection) {\n      this.navigateItem(firstItem);\n    } else if (!isNOU(firstItem)) {\n      if (e.action === 'ctrlHome') {\n        this.addFocus(firstItem);\n      } else {\n        this.doSelection(firstItem, e);\n      }\n    }\n  };\n\n  LargeIconsView.prototype.csDownKey = function (fItem, e) {\n    if (!this.parent.allowMultiSelection) {\n      this.navigateDown(fItem, true);\n    } else {\n      var dItem = this.getNextItem(fItem, true, this.perRow);\n\n      if (!isNOU(dItem)) {\n        if (e.action === 'ctrlDown') {\n          this.addFocus(dItem);\n        } else {\n          this.doSelection(dItem, e);\n        }\n      }\n    }\n  };\n\n  LargeIconsView.prototype.csLeftKey = function (fItem, e) {\n    if (!this.parent.allowMultiSelection) {\n      this.navigateRight(fItem, false);\n    } else {\n      var lItem = this.getNextItem(fItem, false);\n\n      if (!isNOU(lItem)) {\n        if (e.action === 'ctrlLeft') {\n          this.addFocus(lItem);\n        } else {\n          this.doSelection(lItem, e);\n        }\n      }\n    }\n  };\n\n  LargeIconsView.prototype.csRightKey = function (fItem, e) {\n    if (!this.parent.allowMultiSelection) {\n      this.navigateRight(fItem, true);\n    } else {\n      var rItem = this.getNextItem(fItem, true);\n\n      if (!isNOU(rItem)) {\n        if (e.action === 'ctrlRight') {\n          this.addFocus(rItem);\n        } else {\n          this.doSelection(rItem, e);\n        }\n      }\n    }\n  };\n\n  LargeIconsView.prototype.csUpKey = function (fItem, e) {\n    if (!this.parent.allowMultiSelection) {\n      this.navigateDown(fItem, false);\n    } else {\n      var uItem = this.getNextItem(fItem, false, this.perRow);\n\n      if (!isNOU(uItem)) {\n        if (e.action === 'ctrlUp') {\n          this.addFocus(uItem);\n        } else {\n          this.doSelection(uItem, e);\n        }\n      }\n    }\n  };\n\n  LargeIconsView.prototype.addActive = function (nextItem) {\n    if (!isNOU(nextItem)) {\n      if (!nextItem.classList.contains(CLS.ACTIVE)) {\n        this.parent.selectedItems.push(this.getDataName(nextItem));\n        this.parent.setProperties({\n          selectedItems: this.parent.selectedItems\n        }, true);\n        addClass([nextItem], [CLS.ACTIVE]);\n        nextItem.setAttribute('aria-selected', 'true');\n        this.checkState(nextItem, true);\n      }\n\n      this.parent.visitedItem = nextItem;\n    }\n  };\n\n  LargeIconsView.prototype.removeActive = function (preItem) {\n    if (!isNOU(preItem)) {\n      removeClass([preItem], [CLS.ACTIVE]);\n\n      if (this.parent.allowMultiSelection) {\n        preItem.setAttribute('aria-selected', 'false');\n      } else {\n        preItem.removeAttribute('aria-selected');\n      }\n\n      this.checkState(preItem, false);\n      var index = this.parent.selectedItems.indexOf(this.getDataName(preItem));\n\n      if (index > -1) {\n        this.parent.selectedItems.splice(index, 1);\n        this.parent.setProperties({\n          selectedItems: this.parent.selectedItems\n        }, true);\n      }\n\n      this.parent.visitedItem = null;\n    }\n  };\n\n  LargeIconsView.prototype.getDataName = function (item) {\n    // eslint-disable-next-line\n    var data = this.getItemObject(item);\n    return getItemName(this.parent, data);\n  };\n\n  LargeIconsView.prototype.addFocus = function (item) {\n    this.element.setAttribute('tabindex', '-1');\n    var fItem = this.getFocusedItem();\n\n    if (fItem) {\n      fItem.removeAttribute('tabindex');\n      removeClass([fItem], [CLS.FOCUS]);\n    }\n\n    addClass([item], [CLS.FOCUS]);\n    item.setAttribute('tabindex', '0');\n    item.focus();\n  };\n\n  LargeIconsView.prototype.checkState = function (item, toCheck) {\n    if (!this.parent.allowMultiSelection) {\n      return;\n    }\n\n    var checkEle = select('.' + CLS.FRAME, item);\n\n    if (isNOU(checkEle)) {\n      return;\n    }\n\n    if (toCheck) {\n      if (!checkEle.classList.contains(CLS.CHECK)) {\n        addClass([checkEle], CLS.CHECK);\n        closest(checkEle, '.' + CLS.CB_WRAP).setAttribute('aria-checked', 'true');\n      }\n    } else {\n      if (checkEle.classList.contains(CLS.CHECK)) {\n        removeClass([checkEle], CLS.CHECK);\n        closest(checkEle, '.' + CLS.CB_WRAP).setAttribute('aria-checked', 'false');\n      }\n    }\n  };\n\n  LargeIconsView.prototype.clearSelect = function () {\n    var eles = Array.prototype.slice.call(selectAll('.' + CLS.ACTIVE, this.listElements));\n    var fileSelectionArgs;\n\n    if (eles.length !== 0) {\n      fileSelectionArgs = this.triggerSelection('unselect', eles[0]);\n\n      if (fileSelectionArgs.cancel !== true) {\n        for (var i = 0, len = eles.length; i < len; i++) {\n          this.removeActive(eles[i]);\n        }\n      }\n\n      this.triggerSelect('unselect', eles[0]);\n    }\n  };\n\n  LargeIconsView.prototype.resizeHandler = function () {\n    this.getItemCount();\n\n    if (!isNOU(this.listObj)) {\n      this.adjustHeight();\n    }\n  };\n\n  LargeIconsView.prototype.splitterResizeHandler = function () {\n    this.getItemCount();\n  };\n\n  LargeIconsView.prototype.getItemCount = function () {\n    var perRow = 1;\n\n    if (this.itemList) {\n      for (var i = 0, len = this.itemList.length - 1; i < len; i++) {\n        if (this.itemList[i].getBoundingClientRect().top === this.itemList[i + 1].getBoundingClientRect().top) {\n          perRow++;\n        } else {\n          break;\n        }\n      }\n    }\n\n    this.perRow = perRow;\n  };\n\n  LargeIconsView.prototype.triggerSelection = function (action, item) {\n    // eslint-disable-next-line\n    var data = this.getItemObject(item);\n    var eventArgs = {\n      action: action,\n      fileDetails: data,\n      isInteracted: this.isInteraction,\n      cancel: false,\n      target: item\n    };\n    this.parent.trigger('fileSelection', eventArgs);\n    this.isInteraction = true;\n    return eventArgs;\n  };\n\n  LargeIconsView.prototype.triggerSelect = function (action, item) {\n    // eslint-disable-next-line\n    var data = this.getItemObject(item);\n    this.parent.visitedData = data;\n    var eventArgs = {\n      action: action,\n      fileDetails: data,\n      isInteracted: this.isInteracted\n    };\n    this.parent.trigger('fileSelect', eventArgs);\n    this.isInteracted = true;\n  };\n\n  LargeIconsView.prototype.selectItems = function (items) {\n    var indexes = this.getIndexes(items, this.parent.hasId);\n\n    for (var j = 0, len = indexes.length; j < len; j++) {\n      var eveArgs = {\n        ctrlKey: true,\n        shiftKey: false\n      };\n      this.doSelection(this.itemList[indexes[j]], eveArgs);\n    }\n  };\n\n  LargeIconsView.prototype.getIndexes = function (items, byId) {\n    var indexes = [];\n    var filter = byId ? 'id' : 'name';\n\n    for (var i = 0, len = this.items.length; i < len; i++) {\n      if (items.indexOf(getValue(filter, this.items[i])) !== -1) {\n        indexes.push(i);\n      }\n    }\n\n    return indexes;\n  }; // eslint-disable-next-line\n\n\n  LargeIconsView.prototype.getItemObject = function (item) {\n    var index = this.itemList.indexOf(item);\n    return this.items[index];\n  }; // eslint-disable-next-line\n\n\n  LargeIconsView.prototype.addSelection = function (data) {\n    // eslint-disable-next-line\n    var resultData = [];\n\n    if (this.parent.hasId) {\n      resultData = new DataManager(this.items).executeLocal(new Query().where('id', 'equal', this.parent.renamedId, false));\n    } else {\n      // eslint-disable-next-line\n      var newData = new DataManager(this.items).executeLocal(new Query().where('name', 'equal', getValue('name', data), false));\n\n      if (newData.length > 0) {\n        resultData = new DataManager(newData).executeLocal(new Query().where('filterPath', 'equal', this.parent.filterPath, false));\n      }\n    }\n\n    if (resultData.length > 0) {\n      var index = this.items.indexOf(resultData[0]);\n      var eveArgs = {\n        ctrlKey: true,\n        shiftKey: false\n      };\n      this.doSelection(this.itemList[index], eveArgs);\n    }\n  };\n\n  LargeIconsView.prototype.updateSelectedData = function () {\n    // eslint-disable-next-line\n    var data = [];\n    var items = selectAll('.' + CLS.LIST_ITEM + '.' + CLS.ACTIVE, this.element);\n\n    for (var i = 0; i < items.length; i++) {\n      data[i] = this.getItemObject(items[i]);\n    }\n\n    this.parent.itemData = data;\n  }; // eslint-disable-next-line\n\n\n  LargeIconsView.prototype.onMethodCall = function (args) {\n    if (this.parent.view !== 'LargeIcons') {\n      return;\n    }\n\n    var action = getValue('action', args);\n\n    switch (action) {\n      case 'deleteFiles':\n        this.deleteFiles(getValue('ids', args));\n        break;\n\n      case 'downloadFiles':\n        this.downloadFiles(getValue('ids', args));\n        break;\n\n      case 'openFile':\n        this.openFile(getValue('id', args));\n        break;\n\n      case 'renameFile':\n        this.isInteraction = false;\n        this.isInteracted = false;\n        this.renameFile(getValue('id', args), getValue('newName', args));\n        break;\n\n      case 'createFolder':\n        this.isInteraction = false;\n        this.isInteracted = false;\n        break;\n\n      case 'clearSelection':\n        this.isInteraction = false;\n        this.isInteracted = false;\n        this.onClearAllInit();\n        break;\n\n      case 'selectAll':\n        this.isInteraction = false;\n        this.isInteracted = false;\n        this.onSelectAllInit();\n        break;\n    }\n  };\n\n  LargeIconsView.prototype.getItemsIndex = function (items) {\n    var indexes = [];\n    var isFilter = this.parent.breadcrumbbarModule.searchObj.element.value !== '' || this.parent.isFiltered ? true : false;\n    var filterName = this.parent.hasId ? 'id' : 'name';\n\n    if (this.parent.hasId || !isFilter) {\n      for (var i = 0, len = this.items.length; i < len; i++) {\n        if (items.indexOf(getValue(filterName, this.items[i])) !== -1) {\n          indexes.push(i);\n        }\n      }\n    } else {\n      for (var i = 0, len = this.items.length; i < len; i++) {\n        var name_2 = getValue('filterPath', this.items[i]) + getValue('name', this.items[i]);\n\n        if (items.indexOf(name_2) !== -1 || items.indexOf(getValue(filterName, this.items[i])) !== -1) {\n          indexes.push(i);\n        }\n      }\n    }\n\n    return indexes;\n  };\n\n  LargeIconsView.prototype.deleteFiles = function (ids) {\n    this.parent.activeModule = 'largeiconsview';\n\n    if (isNOU(ids)) {\n      this.performDelete();\n      return;\n    }\n\n    var indexes = this.getItemsIndex(ids);\n\n    if (indexes.length === 0) {\n      return;\n    } // eslint-disable-next-line\n\n\n    var data = [];\n    var newIds = [];\n\n    for (var i = 0; i < indexes.length; i++) {\n      data[i] = this.items[indexes[i]];\n      newIds[i] = getItemName(this.parent, data[i]);\n    }\n\n    doDeleteFiles(this.parent, data, newIds);\n  };\n\n  LargeIconsView.prototype.downloadFiles = function (ids) {\n    if (isNOU(ids)) {\n      this.doDownload();\n      return;\n    }\n\n    var index = this.getItemsIndex(ids);\n\n    if (index.length === 0) {\n      return;\n    } // eslint-disable-next-line\n\n\n    var data = [];\n    var newIds = [];\n\n    for (var i = 0; i < index.length; i++) {\n      data[i] = this.items[index[i]];\n      newIds[i] = getItemName(this.parent, data[i]);\n    }\n\n    doDownloadFiles(this.parent, data, newIds);\n  };\n\n  LargeIconsView.prototype.openFile = function (id) {\n    if (isNOU(id)) {\n      return;\n    }\n\n    var indexes = this.getItemsIndex([id]);\n\n    if (indexes.length > 0) {\n      this.doOpenAction(this.itemList[indexes[0]]);\n    }\n  };\n\n  LargeIconsView.prototype.renameFile = function (id, name) {\n    this.parent.activeModule = 'largeiconsview';\n\n    if (isNOU(id)) {\n      this.performRename();\n      return;\n    }\n\n    var indexes = this.getItemsIndex([id]);\n\n    if (indexes.length > 0) {\n      updateRenamingData(this.parent, this.items[indexes[0]]);\n\n      if (isNOU(name)) {\n        doRename(this.parent);\n      } else {\n        if (!hasEditAccess(this.parent.itemData[0])) {\n          createDeniedDialog(this.parent, this.parent.itemData[0], events.permissionEdit);\n        } else {\n          rename(this.parent, this.parent.path, name);\n        }\n      }\n    }\n  };\n\n  return LargeIconsView;\n}();\n\nexport { LargeIconsView };","map":{"version":3,"names":["ListBase","createElement","select","selectAll","EventHandler","KeyboardEvents","closest","Draggable","isNullOrUndefined","isNOU","addClass","removeClass","Touch","isVisible","getValue","setValue","remove","DataManager","Query","hideSpinner","showSpinner","events","CLS","createCheckBox","read","GetDetails","Delete","doRename","getAccessClass","getPathObject","getFullPath","getDirectoryPath","rename","doDownload","getItemName","removeBlur","cutFiles","copyFiles","addBlur","openSearchFolder","removeActive","pasteHandler","createVirtualDragElement","dragStopHandler","dragStartHandler","draggingHandler","getModule","updateRenamingData","doDeleteFiles","doDownloadFiles","openAction","fileType","refresh","getImageUrl","getSortedData","createDeniedDialog","updateLayout","createEmptyElement","hasReadAccess","hasEditAccess","createDialog","createImageDialog","LargeIconsView","parent","isInteraction","uploadOperation","count","isRendered","tapCount","isPasteOperation","isInteracted","element","id","LARGEICON_ID","LARGE_ICONS","addEventListener","keyConfigs","end","home","tab","moveDown","moveLeft","moveRight","moveUp","ctrlEnd","ctrlHome","ctrlDown","ctrlLeft","ctrlRight","ctrlUp","shiftEnd","shiftHome","shiftDown","shiftLeft","shiftRight","shiftUp","csEnd","csHome","csDown","csLeft","csRight","csUp","space","ctrlSpace","shiftSpace","csSpace","ctrlA","enter","altEnter","esc","del","ctrlX","isMac","ctrlC","ctrlV","f2","shiftdel","back","ctrlD","prototype","render","args","visitedItem","startItem","view","resetMultiSelect","setAttribute","listObj","unWireEvents","removeEventListener","notify","hideLayout","iconsView","ul","ariaAttributes","itemRole","listRole","itemText","groupItemRole","wrapperRole","showIcon","fields","text","iconCss","imageUrl","htmlAttributes","sortOrder","itemCreated","onItemCreated","bind","enableHtmlSanitizer","items","renderList","listElements","createListFromJson","itemList","Array","slice","call","LIST_ITEM","appendChild","preventImgDrag","createDragObj","classList","DISPLAY_NONE","length","emptyList","querySelector","LIST_PARENT","removeChild","EMPTY","selectItems","pasteNodes","uploadItem","setProperties","selectedItems","activeEle","querySelectorAll","ACTIVE","activeModule","i","adjustHeight","style","maxHeight","getItemCount","wireEvents","checkItem","ondragstart","_this","isMobile","allowDragAndDrop","dragObj","destroy","enableTailMode","distance","enableAutoScroll","dragTarget","LARGE_ICON","helper","dragHelper","cursorAt","dragCursorPosition","dragArea","dragStop","drag","clone","dragStart","sender","target","dragLi","contains","setFocus","activeElements","dragData","push","getItemObject","dragPath","path","virtualDragElement","onDropInit","targetModule","getModuleName","dropLi","cwdData","pathId","feParent","info","dropPath","isFile","dropData","pane","CONTENT_ID","bar","BREADCRUMBBAR_ID","height","offsetHeight","item","removeAttribute","showFileExtension","curData","textEle","LIST_TEXT","txt","type","innerHTML","substr","renderCheckbox","eventArgs","fileDetails","module","trigger","allowMultiSelection","checkElement","checked","cssClass","firstElementChild","insertBefore","childNodes","onLayoutChange","fileAction","isCut","selectedNodes","indexes","getIndexes","length_1","focus","isLayoutChange","checkEle","checkLength","checkState","JSON","parse","stringify","files","icon","name_1","selected","className","indexOf","ICON_IMAGE","showThumbnail","imgUrl","alt","class","title","onFinalizeEnd","onCreateEnd","clearSelect","hasId","createdItem","largeiconsviewModule","onSelectedData","updateSelectedData","onDeleteInit","onDeleteEnd","onRefreshEnd","onRenameInit","updateRenameData","onPathChanged","breadcrumbbarModule","searchObj","value","searchedItems","renamedItem","addSelection","onOpenInit","doOpenAction","onHideLayout","add","onSelectAllInit","getFirstItem","lastItem","getLastItem","eveArgs","ctrlKey","shiftKey","doSelection","onClearAllInit","clearSelection","onBeforeRequest","onAfterRequest","onSearch","selectionChanged","onLayoutRefresh","onUpdateSelectionData","onPathColumn","isFiltered","sortBy","sortByChange","isDestroyed","off","pathColumn","finalizeEnd","createEnd","selectedData","deleteInit","deleteEnd","refreshEnd","pathChanged","layoutChange","search","openInit","openEnd","modelChanged","onPropertyChanged","methodCall","onMethodCall","actionFailure","onActionFailure","renameInit","renameEnd","selectAllInit","clearAllInit","menuItemData","onMenuItemData","beforeRequest","afterRequest","splitterResize","splitterResizeHandler","resizeEnd","resizeHandler","pasteInit","onpasteInit","pasteEnd","onpasteEnd","cutCopyInit","oncutCopyInit","dropInit","detailsInit","onDetailsInit","layoutRefresh","onDropPath","updateSelectionData","filterEnd","on","ele","itemData","folderPath","activeRecords","destinationPath","e","currentSelected","_i","_a","Object","keys","newProp","prop","wireClickEvent","keyboardModule","keyAction","keyActionHandler","eventName","keyboardDownModule","keydownActionHandler","onMouseOver","targetEle","HOVER","toBind","proxy_1","clickObj","tap","eve","originalEvent","preventDefault","isDevice","tapEvent","setTimeout","doTapAction","which","dblClickHandler","clickHandler","tapHold","multiSelect","MULTI_SELECT","updateType","cList","action","CHECK","fileSelectionArgs","triggerSelection","cancel","FRAME","startIndex","endIndex","addActive","addFocus","triggerSelect","details_1","permissionRead","fileOpenArgs","val","newPath","pathNames","folder","FOLDER","fItem","getFocusedItem","firstItem","navigateItem","navigateDown","navigateRight","csEndKey","csHomeKey","csDownKey","csLeftKey","csRightKey","csUpKey","spaceKey","ctrlAKey","getVisitedItem","performDelete","performRename","data","permissionEdit","FOCUS","getActiveItem","isTowards","nItem","getNextItem","perRow","li","index","nextItem","liParent","liScrPos","scrollTop","getCurFocusedItem","dItem","lItem","rItem","uItem","getDataName","preItem","splice","toCheck","CB_WRAP","eles","len","getBoundingClientRect","top","visitedData","j","byId","filter","resultData","executeLocal","where","renamedId","newData","filterPath","deleteFiles","downloadFiles","openFile","renameFile","getItemsIndex","isFilter","filterName","name_2","ids","newIds","name"],"sources":["/home/morgan/Desktop/Projets/ENT4/Jwt-Auth-pdf/react-jwt-auth/react-jwt-auth/node_modules/@syncfusion/ej2-filemanager/src/file-manager/layout/large-icons-view.js"],"sourcesContent":["import { ListBase } from '@syncfusion/ej2-lists';\nimport { createElement, select, selectAll, EventHandler, KeyboardEvents, closest, Draggable } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined as isNOU, addClass, removeClass, Touch, isVisible } from '@syncfusion/ej2-base';\nimport { getValue, setValue, remove } from '@syncfusion/ej2-base';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nimport { hideSpinner, showSpinner } from '@syncfusion/ej2-popups';\nimport * as events from '../base/constant';\nimport * as CLS from '../base/classes';\nimport { createCheckBox } from '@syncfusion/ej2-buttons';\nimport { read, GetDetails, Delete } from '../common/operations';\nimport { doRename, getAccessClass, getPathObject, getFullPath, getDirectoryPath, rename, doDownload, getItemName } from '../common/index';\nimport { removeBlur, cutFiles, copyFiles, addBlur, openSearchFolder, removeActive, pasteHandler } from '../common/index';\nimport { createVirtualDragElement, dragStopHandler, dragStartHandler, draggingHandler, getModule } from '../common/index';\nimport { updateRenamingData, doDeleteFiles, doDownloadFiles } from '../common/index';\nimport { openAction, fileType, refresh, getImageUrl, getSortedData, createDeniedDialog, updateLayout } from '../common/utility';\nimport { createEmptyElement, hasReadAccess, hasEditAccess } from '../common/utility';\nimport { createDialog, createImageDialog } from '../pop-up/dialog';\n/**\n * LargeIconsView module\n */\nvar LargeIconsView = /** @class */ (function () {\n    /**\n     * Constructor for the LargeIcons module.\n     *\n     * @param {IFileManager} parent - specifies the parent element.\n     * @hidden\n     */\n    function LargeIconsView(parent) {\n        this.isInteraction = true;\n        this.uploadOperation = false;\n        this.count = 0;\n        this.isRendered = true;\n        this.tapCount = 0;\n        this.isPasteOperation = false;\n        this.isInteracted = true;\n        this.parent = parent;\n        this.element = select('#' + this.parent.element.id + CLS.LARGEICON_ID, this.parent.element);\n        addClass([this.element], CLS.LARGE_ICONS);\n        this.addEventListener();\n        this.keyConfigs = {\n            end: 'end',\n            home: 'home',\n            tab: 'tab',\n            moveDown: 'downarrow',\n            moveLeft: 'leftarrow',\n            moveRight: 'rightarrow',\n            moveUp: 'uparrow',\n            ctrlEnd: 'ctrl+end',\n            ctrlHome: 'ctrl+home',\n            ctrlDown: 'ctrl+downarrow',\n            ctrlLeft: 'ctrl+leftarrow',\n            ctrlRight: 'ctrl+rightarrow',\n            ctrlUp: 'ctrl+uparrow',\n            shiftEnd: 'shift+end',\n            shiftHome: 'shift+home',\n            shiftDown: 'shift+downarrow',\n            shiftLeft: 'shift+leftarrow',\n            shiftRight: 'shift+rightarrow',\n            shiftUp: 'shift+uparrow',\n            csEnd: 'ctrl+shift+end',\n            csHome: 'ctrl+shift+home',\n            csDown: 'ctrl+shift+downarrow',\n            csLeft: 'ctrl+shift+leftarrow',\n            csRight: 'ctrl+shift+rightarrow',\n            csUp: 'ctrl+shift+uparrow',\n            space: 'space',\n            ctrlSpace: 'ctrl+space',\n            shiftSpace: 'shift+space',\n            csSpace: 'ctrl+shift+space',\n            ctrlA: 'ctrl+a',\n            enter: 'enter',\n            altEnter: 'alt+enter',\n            esc: 'escape',\n            del: 'delete',\n            ctrlX: this.parent.isMac ? 'cmd+x' : 'ctrl+x',\n            ctrlC: this.parent.isMac ? 'cmd+c' : 'ctrl+c',\n            ctrlV: this.parent.isMac ? 'cmd+v' : 'ctrl+v',\n            f2: 'f2',\n            shiftdel: 'shift+delete',\n            back: 'backspace',\n            ctrlD: 'ctrl+d'\n        };\n    }\n    LargeIconsView.prototype.render = function (args) {\n        this.parent.visitedItem = null;\n        this.startItem = null;\n        showSpinner(this.parent.element);\n        if (this.parent.view === 'LargeIcons') {\n            this.resetMultiSelect();\n            this.element.setAttribute('tabindex', '0');\n            if (this.listObj) {\n                this.unWireEvents();\n                this.removeEventListener();\n            }\n            this.parent.notify(events.hideLayout, {});\n            var iconsView = select('#' + this.parent.element.id + CLS.LARGEICON_ID, this.parent.element);\n            var ul = select('ul', iconsView);\n            if (ul) {\n                remove(ul);\n            }\n            this.listObj = {\n                ariaAttributes: {\n                    itemRole: 'option', listRole: 'listbox', itemText: '',\n                    groupItemRole: 'group', wrapperRole: ''\n                },\n                showIcon: true,\n                fields: { text: 'name', iconCss: '_fm_icon', imageUrl: '_fm_imageUrl', htmlAttributes: '_fm_htmlAttr' },\n                sortOrder: this.parent.sortOrder,\n                itemCreated: this.onItemCreated.bind(this),\n                enableHtmlSanitizer: this.parent.enableHtmlSanitizer\n            };\n            this.items = [];\n            this.items = this.renderList(args);\n            this.items = getSortedData(this.parent, this.items);\n            // eslint-disable-next-line\n            this.listElements = ListBase.createListFromJson(createElement, this.items, this.listObj);\n            this.itemList = Array.prototype.slice.call(selectAll('.' + CLS.LIST_ITEM, this.listElements));\n            this.element.appendChild(this.listElements);\n            this.preventImgDrag();\n            this.createDragObj();\n            iconsView.classList.remove(CLS.DISPLAY_NONE);\n            if (this.itemList.length === 0) {\n                var emptyList = this.element.querySelector('.' + CLS.LIST_PARENT);\n                this.element.removeChild(emptyList);\n                createEmptyElement(this.parent, this.element, args);\n            }\n            else if (this.itemList.length !== 0 && this.element.querySelector('.' + CLS.EMPTY)) {\n                this.element.removeChild(this.element.querySelector('.' + CLS.EMPTY));\n            }\n            if (this.isPasteOperation === true) {\n                this.selectItems(this.parent.pasteNodes);\n                this.isPasteOperation = false;\n            }\n            /* istanbul ignore next */\n            if (this.uploadOperation === true) {\n                this.selectItems(this.parent.uploadItem);\n                this.parent.setProperties({ selectedItems: [] }, true);\n                this.count++;\n                if (this.count === this.parent.uploadItem.length) {\n                    this.uploadOperation = false;\n                    this.parent.uploadItem = [];\n                }\n            }\n            var activeEle = this.element.querySelectorAll('.' + CLS.ACTIVE);\n            if (activeEle.length !== 0) {\n                this.parent.activeModule = 'largeiconsview';\n            }\n            for (var i = 0; i < activeEle.length; i++) {\n                activeEle[i].setAttribute('aria-selected', 'true');\n            }\n            this.adjustHeight();\n            this.element.style.maxHeight = '100%';\n            this.getItemCount();\n            this.addEventListener();\n            this.wireEvents();\n            this.isRendered = true;\n            hideSpinner(this.parent.element);\n            if (this.parent.selectedItems.length) {\n                this.checkItem();\n            }\n        }\n    };\n    LargeIconsView.prototype.preventImgDrag = function () {\n        var i = 0;\n        while (i < this.itemList.length) {\n            if (this.itemList[i].querySelector('img')) {\n                /* istanbul ignore next */\n                this.itemList[i].ondragstart = function () { return false; };\n            }\n            i++;\n        }\n    };\n    LargeIconsView.prototype.createDragObj = function () {\n        var _this = this;\n        if (!this.parent.isMobile && this.listObj) {\n            if (this.parent.allowDragAndDrop) {\n                if (this.dragObj) {\n                    this.dragObj.destroy();\n                }\n                this.dragObj = new Draggable(this.listElements, {\n                    enableTailMode: true,\n                    distance: 5,\n                    enableAutoScroll: true,\n                    dragTarget: '.' + CLS.LARGE_ICON,\n                    helper: this.dragHelper.bind(this),\n                    cursorAt: this.parent.dragCursorPosition,\n                    dragArea: this.parent.element,\n                    dragStop: dragStopHandler.bind(this, this.parent),\n                    drag: draggingHandler.bind(this, this.parent),\n                    clone: true,\n                    dragStart: function (args) {\n                        dragStartHandler(_this.parent, args, _this.dragObj);\n                    }\n                });\n            }\n            else if (this.dragObj && !this.parent.allowDragAndDrop) {\n                this.dragObj.destroy();\n            }\n        }\n    };\n    LargeIconsView.prototype.dragHelper = function (args) {\n        var dragTarget = args.sender.target;\n        var dragLi = closest(dragTarget, '.e-list-item');\n        if (!dragLi) {\n            return null;\n        }\n        if (dragLi && !dragLi.classList.contains('e-active')) {\n            this.setFocus(dragLi);\n        }\n        var activeEle = this.element.querySelectorAll('.' + CLS.ACTIVE);\n        this.parent.activeElements = [];\n        this.parent.dragData = [];\n        for (var i = 0; i < activeEle.length; i++) {\n            // eslint-disable-next-line\n            this.parent.dragData.push(this.getItemObject(activeEle[i]));\n            this.parent.activeElements.push(activeEle[i]);\n        }\n        getModule(this.parent, dragLi);\n        this.parent.dragPath = this.parent.path;\n        createVirtualDragElement(this.parent);\n        return this.parent.virtualDragElement;\n    };\n    LargeIconsView.prototype.onDropInit = function (args) {\n        if (this.parent.targetModule === this.getModuleName()) {\n            var dropLi = closest(args.target, '.e-list-item');\n            // eslint-disable-next-line\n            var cwdData = getValue(this.parent.pathId[this.parent.pathId.length - 1], this.parent.feParent);\n            if (dropLi) {\n                // eslint-disable-next-line\n                var info = this.getItemObject(dropLi);\n                this.parent.dropPath = info.isFile ? this.parent.path : getFullPath(this.parent, info, this.parent.path);\n                this.parent.dropData = info.isFile ? cwdData : info;\n            }\n            else {\n                this.parent.dropPath = this.parent.path;\n                this.parent.dropData = cwdData;\n            }\n        }\n    };\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} - returns the module name.\n     * @private\n     */\n    LargeIconsView.prototype.getModuleName = function () {\n        return 'largeiconsview';\n    };\n    LargeIconsView.prototype.adjustHeight = function () {\n        var pane = select('#' + this.parent.element.id + CLS.CONTENT_ID, this.parent.element);\n        var bar = select('#' + this.parent.element.id + CLS.BREADCRUMBBAR_ID, this.parent.element);\n        this.element.style.height = (pane.offsetHeight - bar.offsetHeight) + 'px';\n    };\n    LargeIconsView.prototype.onItemCreated = function (args) {\n        args.item.removeAttribute('aria-level');\n        if (!this.parent.showFileExtension && getValue('isFile', args.curData)) {\n            var textEle = args.item.querySelector('.' + CLS.LIST_TEXT);\n            var txt = getValue('name', args.curData);\n            var type = getValue('type', args.curData);\n            textEle.innerHTML = txt.substr(0, txt.length - type.length);\n        }\n        this.renderCheckbox(args);\n        var eventArgs = {\n            element: args.item,\n            fileDetails: args.curData,\n            module: 'LargeIconsView'\n        };\n        this.parent.trigger('fileLoad', eventArgs);\n    };\n    LargeIconsView.prototype.renderCheckbox = function (args) {\n        if (!this.parent.allowMultiSelection) {\n            return;\n        }\n        var checkElement = createCheckBox(createElement, false, {\n            checked: false,\n            cssClass: 'e-small'\n        });\n        checkElement.setAttribute('role', 'checkbox');\n        checkElement.setAttribute('aria-checked', 'false');\n        args.item.firstElementChild.insertBefore(checkElement, args.item.firstElementChild.childNodes[0]);\n    };\n    LargeIconsView.prototype.onLayoutChange = function (args) {\n        if (this.parent.view === 'LargeIcons') {\n            this.destroy();\n            this.render(args);\n            /* istanbul ignore next */\n            if (getValue('name', args) === 'layout-change' && this.parent.fileAction === 'move' &&\n                this.parent.isCut && this.parent.selectedNodes && this.parent.selectedNodes.length !== 0) {\n                var indexes = this.getIndexes(this.parent.selectedNodes);\n                var length_1 = 0;\n                while (length_1 < indexes.length) {\n                    addBlur(this.itemList[indexes[length_1]]);\n                    length_1++;\n                }\n            }\n            var activeEle = this.element.querySelectorAll('.' + CLS.ACTIVE);\n            if (activeEle.length !== 0) {\n                this.element.focus();\n            }\n            this.checkItem();\n            this.parent.isLayoutChange = false;\n        }\n        else {\n            this.element.setAttribute('tabindex', '-1');\n        }\n    };\n    LargeIconsView.prototype.checkItem = function () {\n        var checkEle = this.element.querySelectorAll('.' + CLS.ACTIVE);\n        if (checkEle) {\n            var checkLength = 0;\n            while (checkLength < checkEle.length) {\n                this.checkState(checkEle[checkLength], true);\n                checkLength++;\n            }\n        }\n    };\n    // eslint-disable-next-line\n    LargeIconsView.prototype.renderList = function (args) {\n        var i = 0;\n        // eslint-disable-next-line\n        var items = JSON.parse(JSON.stringify(args.files));\n        while (i < items.length) {\n            var icon = fileType(items[i]);\n            var name_1 = getValue('name', items[i]);\n            var selected = getItemName(this.parent, items[i]);\n            var className = ((this.parent.selectedItems &&\n                this.parent.selectedItems.indexOf(selected) !== -1)) ?\n                CLS.LARGE_ICON + ' e-active' : CLS.LARGE_ICON;\n            if (!hasEditAccess(items[i])) {\n                className += ' ' + getAccessClass(items[i]);\n            }\n            if (icon === CLS.ICON_IMAGE && this.parent.showThumbnail && hasReadAccess(items[i])) {\n                var imgUrl = getImageUrl(this.parent, items[i]);\n                setValue('_fm_imageUrl', imgUrl, items[i]);\n                setValue('_fm_imageAttr', { alt: name_1 }, items[i]);\n            }\n            else {\n                setValue('_fm_icon', icon, items[i]);\n            }\n            setValue('_fm_htmlAttr', { class: className, title: name_1 }, items[i]);\n            i++;\n        }\n        return items;\n    };\n    LargeIconsView.prototype.onFinalizeEnd = function (args) {\n        this.render(args);\n    };\n    LargeIconsView.prototype.onCreateEnd = function (args) {\n        if (this.parent.view !== 'LargeIcons') {\n            return;\n        }\n        this.onLayoutChange(args);\n        this.clearSelect();\n        this.selectItems([getValue(this.parent.hasId ? 'id' : 'name', this.parent.createdItem)]);\n        this.parent.createdItem = null;\n        this.parent.largeiconsviewModule.element.focus();\n    };\n    LargeIconsView.prototype.onSelectedData = function () {\n        if (this.parent.activeModule === 'largeiconsview') {\n            this.updateSelectedData();\n        }\n    };\n    LargeIconsView.prototype.onDeleteInit = function () {\n        if (this.parent.activeModule === 'largeiconsview') {\n            Delete(this.parent, this.parent.selectedItems, this.parent.path, 'delete');\n        }\n    };\n    /* istanbul ignore next */\n    LargeIconsView.prototype.onDeleteEnd = function (args) {\n        if (this.parent.view !== 'LargeIcons') {\n            return;\n        }\n        this.onLayoutChange(args);\n        this.parent.setProperties({ selectedItems: [] }, true);\n        this.clearSelect();\n    };\n    LargeIconsView.prototype.onRefreshEnd = function (args) {\n        if (this.parent.view !== 'LargeIcons') {\n            return;\n        }\n        this.onLayoutChange(args);\n    };\n    LargeIconsView.prototype.onRenameInit = function () {\n        if (this.parent.activeModule === 'largeiconsview' && this.parent.selectedItems.length === 1) {\n            this.updateRenameData();\n        }\n    };\n    LargeIconsView.prototype.onPathChanged = function (args) {\n        this.parent.isCut = false;\n        /* istanbul ignore next */\n        if (this.parent.breadcrumbbarModule.searchObj.element.value === '') {\n            this.parent.searchedItems = [];\n        }\n        if (this.parent.view === 'LargeIcons') {\n            removeBlur(this.parent);\n            this.parent.setProperties({ selectedItems: [] }, true);\n            this.onLayoutChange(args);\n            if (this.parent.renamedItem) {\n                this.clearSelect();\n                this.addSelection(this.parent.renamedItem);\n                this.parent.renamedItem = null;\n            }\n        }\n    };\n    LargeIconsView.prototype.onOpenInit = function (args) {\n        if (this.parent.activeModule === 'largeiconsview') {\n            this.doOpenAction(args.target);\n        }\n    };\n    LargeIconsView.prototype.onHideLayout = function () {\n        if (this.parent.view !== 'LargeIcons' && this.element) {\n            this.element.classList.add(CLS.DISPLAY_NONE);\n        }\n    };\n    LargeIconsView.prototype.onSelectAllInit = function () {\n        if (this.parent.view === 'LargeIcons') {\n            this.startItem = this.getFirstItem();\n            var lastItem = this.getLastItem();\n            var eveArgs = { ctrlKey: true, shiftKey: true };\n            this.doSelection(lastItem, eveArgs);\n            this.isInteraction = true;\n            this.isInteracted = true;\n        }\n    };\n    LargeIconsView.prototype.onClearAllInit = function () {\n        if (this.parent.view === 'LargeIcons') {\n            this.clearSelection();\n            this.isInteraction = true;\n            this.isInteracted = true;\n        }\n    };\n    LargeIconsView.prototype.onBeforeRequest = function () {\n        this.isRendered = false;\n    };\n    LargeIconsView.prototype.onAfterRequest = function () {\n        this.isRendered = true;\n    };\n    /* istanbul ignore next */\n    LargeIconsView.prototype.onSearch = function (args) {\n        if (this.parent.view === 'LargeIcons') {\n            this.parent.setProperties({ selectedItems: [] }, true);\n            this.parent.notify(events.selectionChanged, {});\n            this.parent.searchedItems = args.files;\n            this.onLayoutChange(args);\n        }\n    };\n    LargeIconsView.prototype.onLayoutRefresh = function () {\n        if (this.parent.view !== 'LargeIcons') {\n            return;\n        }\n        this.adjustHeight();\n    };\n    LargeIconsView.prototype.onUpdateSelectionData = function () {\n        if (this.parent.view !== 'LargeIcons') {\n            return;\n        }\n        this.updateSelectedData();\n    };\n    LargeIconsView.prototype.onPathColumn = function () {\n        if (this.parent.view === 'LargeIcons' && !isNOU(this.listObj) &&\n            this.parent.breadcrumbbarModule.searchObj.element.value === '' && !this.parent.isFiltered\n            && this.parent.sortBy === 'filterPath') {\n            this.parent.sortBy = 'name';\n            this.parent.notify(events.sortByChange, {});\n        }\n    };\n    LargeIconsView.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off(events.pathColumn, this.onPathColumn);\n        this.parent.off(events.finalizeEnd, this.onFinalizeEnd);\n        this.parent.off(events.createEnd, this.onCreateEnd);\n        this.parent.off(events.selectedData, this.onSelectedData);\n        this.parent.off(events.deleteInit, this.onDeleteInit);\n        this.parent.off(events.deleteEnd, this.onDeleteEnd);\n        this.parent.off(events.refreshEnd, this.onRefreshEnd);\n        this.parent.off(events.pathChanged, this.onPathChanged);\n        this.parent.off(events.layoutChange, this.onLayoutChange);\n        this.parent.off(events.search, this.onSearch);\n        this.parent.off(events.openInit, this.onOpenInit);\n        this.parent.off(events.openEnd, this.onPathChanged);\n        this.parent.off(events.modelChanged, this.onPropertyChanged);\n        this.parent.off(events.methodCall, this.onMethodCall);\n        this.parent.off(events.actionFailure, this.onActionFailure);\n        this.parent.off(events.renameInit, this.onRenameInit);\n        this.parent.off(events.renameEnd, this.onPathChanged);\n        this.parent.off(events.hideLayout, this.onHideLayout);\n        this.parent.off(events.selectAllInit, this.onSelectAllInit);\n        this.parent.off(events.clearAllInit, this.onClearAllInit);\n        this.parent.off(events.menuItemData, this.onMenuItemData);\n        this.parent.off(events.beforeRequest, this.onBeforeRequest);\n        this.parent.off(events.afterRequest, this.onAfterRequest);\n        this.parent.off(events.splitterResize, this.splitterResizeHandler);\n        this.parent.off(events.resizeEnd, this.resizeHandler);\n        this.parent.off(events.pasteInit, this.onpasteInit);\n        this.parent.off(events.pasteEnd, this.onpasteEnd);\n        this.parent.off(events.cutCopyInit, this.oncutCopyInit);\n        this.parent.off(events.dropInit, this.onDropInit);\n        this.parent.off(events.detailsInit, this.onDetailsInit);\n        this.parent.off(events.layoutRefresh, this.onLayoutRefresh);\n        this.parent.off(events.dropPath, this.onDropPath);\n        this.parent.off(events.updateSelectionData, this.onUpdateSelectionData);\n        this.parent.off(events.filterEnd, this.onPathChanged);\n    };\n    LargeIconsView.prototype.addEventListener = function () {\n        this.parent.on(events.pathColumn, this.onPathColumn, this);\n        this.parent.on(events.finalizeEnd, this.onFinalizeEnd, this);\n        this.parent.on(events.createEnd, this.onCreateEnd, this);\n        this.parent.on(events.refreshEnd, this.onRefreshEnd, this);\n        this.parent.on(events.selectedData, this.onSelectedData, this);\n        this.parent.on(events.pathChanged, this.onPathChanged, this);\n        this.parent.on(events.deleteInit, this.onDeleteInit, this);\n        this.parent.on(events.pasteInit, this.onpasteInit, this);\n        this.parent.on(events.deleteEnd, this.onDeleteEnd, this);\n        this.parent.on(events.layoutChange, this.onLayoutChange, this);\n        this.parent.on(events.search, this.onSearch, this);\n        this.parent.on(events.openInit, this.onOpenInit, this);\n        this.parent.on(events.renameInit, this.onRenameInit, this);\n        this.parent.on(events.renameEnd, this.onPathChanged, this);\n        this.parent.on(events.openEnd, this.onPathChanged, this);\n        this.parent.on(events.modelChanged, this.onPropertyChanged, this);\n        this.parent.on(events.methodCall, this.onMethodCall, this);\n        this.parent.on(events.actionFailure, this.onActionFailure, this);\n        this.parent.on(events.hideLayout, this.onHideLayout, this);\n        this.parent.on(events.selectAllInit, this.onSelectAllInit, this);\n        this.parent.on(events.clearAllInit, this.onClearAllInit, this);\n        this.parent.on(events.menuItemData, this.onMenuItemData, this);\n        this.parent.on(events.beforeRequest, this.onBeforeRequest, this);\n        this.parent.on(events.afterRequest, this.onAfterRequest, this);\n        this.parent.on(events.dropInit, this.onDropInit, this);\n        this.parent.on(events.detailsInit, this.onDetailsInit, this);\n        this.parent.on(events.splitterResize, this.splitterResizeHandler, this);\n        this.parent.on(events.resizeEnd, this.resizeHandler, this);\n        this.parent.on(events.pasteEnd, this.onpasteEnd, this);\n        this.parent.on(events.cutCopyInit, this.oncutCopyInit, this);\n        this.parent.on(events.layoutRefresh, this.onLayoutRefresh, this);\n        this.parent.on(events.dropPath, this.onDropPath, this);\n        this.parent.on(events.updateSelectionData, this.onUpdateSelectionData, this);\n        this.parent.on(events.filterEnd, this.onPathChanged, this);\n    };\n    LargeIconsView.prototype.onActionFailure = function () { this.isInteraction = true; this.isInteracted = true; };\n    // eslint-disable-next-line\n    LargeIconsView.prototype.onMenuItemData = function (args) {\n        if (this.parent.activeModule === this.getModuleName()) {\n            var ele = closest(args.target, 'li');\n            this.parent.itemData = [this.getItemObject(ele)];\n        }\n    };\n    LargeIconsView.prototype.onDetailsInit = function () {\n        if (this.parent.activeModule === this.getModuleName()) {\n            if (this.parent.selectedItems.length !== 0) {\n                this.updateSelectedData();\n            }\n            else {\n                this.parent.itemData = [getValue(this.parent.pathId[this.parent.pathId.length - 1], this.parent.feParent)];\n            }\n        }\n    };\n    LargeIconsView.prototype.onpasteInit = function () {\n        if (this.parent.activeModule === this.getModuleName()) {\n            this.parent.itemData = (this.parent.folderPath === '') ? [getPathObject(this.parent)] :\n                [this.getItemObject(select('.e-active', this.element))];\n        }\n    };\n    LargeIconsView.prototype.oncutCopyInit = function () {\n        if (this.parent.activeModule === this.getModuleName()) {\n            var activeEle = this.element.querySelectorAll('.' + CLS.ACTIVE);\n            this.parent.activeRecords = [];\n            this.parent.activeElements = [];\n            for (var i = 0; i < activeEle.length; i++) {\n                this.parent.activeElements.push(activeEle[i]);\n                this.parent.activeRecords.push(this.getItemObject(activeEle[i]));\n            }\n        }\n    };\n    LargeIconsView.prototype.onpasteEnd = function (args) {\n        if (this.parent.view === 'LargeIcons') {\n            this.isPasteOperation = true;\n            if (this.parent.path === this.parent.destinationPath || this.parent.path === getDirectoryPath(this.parent, args)) {\n                this.onPathChanged(args);\n            }\n        }\n    };\n    LargeIconsView.prototype.onDropPath = function (args) {\n        if (this.parent.view === 'LargeIcons') {\n            this.isPasteOperation = true;\n            this.onPathChanged(args);\n        }\n    };\n    LargeIconsView.prototype.onPropertyChanged = function (e) {\n        var currentSelected;\n        if (e.module !== this.getModuleName() && e.module !== 'common') {\n            return;\n        }\n        for (var _i = 0, _a = Object.keys(e.newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'allowDragAndDrop':\n                    this.createDragObj();\n                    break;\n                case 'height':\n                    this.adjustHeight();\n                    break;\n                case 'selectedItems':\n                    this.isInteraction = false;\n                    this.isInteracted = false;\n                    currentSelected = isNOU(this.parent.selectedItems) ? [] : this.parent.selectedItems.slice(0);\n                    currentSelected = this.parent.allowMultiSelection ? currentSelected :\n                        currentSelected.slice(currentSelected.length - 1);\n                    this.parent.setProperties({ selectedItems: [] }, true);\n                    this.onClearAllInit();\n                    if (currentSelected.length) {\n                        this.selectItems(currentSelected);\n                    }\n                    this.parent.setProperties({ selectedItems: this.parent.selectedItems }, true);\n                    this.isInteraction = true;\n                    this.isInteracted = true;\n                    break;\n                case 'showThumbnail':\n                    refresh(this.parent);\n                    break;\n                case 'showFileExtension':\n                    read(this.parent, events.pathChanged, this.parent.path);\n                    break;\n                case 'showHiddenItems':\n                    read(this.parent, events.pathChanged, this.parent.path);\n                    break;\n                case 'allowMultiSelection':\n                    if (this.parent.view !== 'LargeIcons') {\n                        break;\n                    }\n                    refresh(this.parent);\n                    break;\n                case 'view':\n                    updateLayout(this.parent, 'LargeIcons');\n                    break;\n            }\n        }\n    };\n    LargeIconsView.prototype.destroy = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.removeEventListener();\n        if (this.listObj) {\n            this.unWireEvents();\n        }\n    };\n    LargeIconsView.prototype.wireEvents = function () {\n        this.wireClickEvent(true);\n        this.keyboardModule = new KeyboardEvents(this.element, {\n            keyAction: this.keyActionHandler.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keyup'\n        });\n        this.keyboardDownModule = new KeyboardEvents(this.element, {\n            keyAction: this.keydownActionHandler.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keydown'\n        });\n        EventHandler.add(this.element, 'mouseover', this.onMouseOver, this);\n    };\n    LargeIconsView.prototype.unWireEvents = function () {\n        this.wireClickEvent(false);\n        EventHandler.remove(this.element, 'mouseover', this.onMouseOver);\n        this.keyboardModule.destroy();\n        this.keyboardDownModule.destroy();\n    };\n    /* istanbul ignore next */\n    LargeIconsView.prototype.onMouseOver = function (e) {\n        var targetEle = closest(e.target, '.e-list-item');\n        removeBlur(this.parent, 'hover');\n        if (targetEle !== null) {\n            targetEle.classList.add(CLS.HOVER);\n        }\n    };\n    LargeIconsView.prototype.wireClickEvent = function (toBind) {\n        if (toBind) {\n            // eslint-disable-next-line\n            var proxy_1 = this;\n            this.clickObj = new Touch(this.element, {\n                tap: function (eve) {\n                    eve.originalEvent.preventDefault();\n                    if (proxy_1.parent.isDevice) {\n                        proxy_1.tapCount = eve.tapCount;\n                        proxy_1.tapEvent = eve;\n                        setTimeout(function () {\n                            if (proxy_1.tapCount > 0) {\n                                proxy_1.doTapAction(proxy_1.tapEvent);\n                            }\n                            proxy_1.tapCount = 0;\n                        }, 350);\n                    }\n                    else {\n                        if (eve.tapCount === 2 && eve.originalEvent.which !== 3) {\n                            proxy_1.dblClickHandler(eve);\n                        }\n                        else {\n                            proxy_1.clickHandler(eve);\n                        }\n                    }\n                },\n                tapHold: function (e) {\n                    if (proxy_1.parent.isDevice) {\n                        proxy_1.multiSelect = proxy_1.parent.allowMultiSelection ? true : false;\n                        if (proxy_1.parent.allowMultiSelection) {\n                            addClass([proxy_1.parent.element], CLS.MULTI_SELECT);\n                        }\n                        proxy_1.clickHandler(e);\n                    }\n                }\n            });\n        }\n        else {\n            if (this.clickObj) {\n                this.clickObj.destroy();\n            }\n        }\n    };\n    LargeIconsView.prototype.doTapAction = function (eve) {\n        var target = eve.originalEvent.target;\n        var item = closest(target, '.' + CLS.LIST_ITEM);\n        if (this.multiSelect || target.classList.contains(CLS.LIST_PARENT) || isNOU(item)) {\n            this.clickHandler(eve);\n        }\n        else {\n            this.parent.isFile = false;\n            this.updateType(item);\n            if (!this.parent.isFile) {\n                this.dblClickHandler(eve);\n            }\n            else if (eve.tapCount === 2) {\n                this.clickHandler(eve);\n                this.dblClickHandler(eve);\n            }\n            else {\n                this.clickHandler(eve);\n            }\n        }\n    };\n    LargeIconsView.prototype.clickHandler = function (e) {\n        var target = e.originalEvent.target;\n        removeBlur(this.parent, 'hover');\n        this.doSelection(target, e.originalEvent);\n        this.parent.activeModule = 'largeiconsview';\n    };\n    /**\n     *\n     * @param {Element} target - specifies the target element.\n     * @param {TouchEventArgs | MouseEventArgs | KeyboardEventArgs} e - specifies event arguements.\n     * @returns {void}\n     * @hidden\n     */\n    LargeIconsView.prototype.doSelection = function (target, e) {\n        var item = closest(target, '.' + CLS.LIST_ITEM);\n        var cList = target.classList;\n        this.parent.isFile = false;\n        var action = 'select';\n        if (e.which === 3 && !isNOU(item) && item.classList.contains(CLS.ACTIVE)) {\n            this.updateType(item);\n            return;\n        }\n        else if (!isNOU(item)) {\n            if (this.parent.allowMultiSelection && item.classList.contains(CLS.ACTIVE)\n                && (e.ctrlKey || target.classList.contains(CLS.CHECK))) {\n                action = 'unselect';\n            }\n            var fileSelectionArgs = this.triggerSelection(action, item);\n            if (fileSelectionArgs.cancel !== true) {\n                if ((!this.parent.allowMultiSelection || (!this.multiSelect && (e && !e.ctrlKey)))\n                    && !cList.contains(CLS.FRAME)) {\n                    this.updateType(item);\n                    this.clearSelect();\n                }\n                if (this.parent.allowMultiSelection && e.shiftKey) {\n                    if (!(e && e.ctrlKey)) {\n                        this.clearSelect();\n                    }\n                    if (!this.startItem) {\n                        this.startItem = item;\n                    }\n                    var startIndex = this.itemList.indexOf(this.startItem);\n                    var endIndex = this.itemList.indexOf(item);\n                    if (startIndex > endIndex) {\n                        for (var i = startIndex; i >= endIndex; i--) {\n                            this.addActive(this.itemList[i]);\n                        }\n                    }\n                    else {\n                        for (var i = startIndex; i <= endIndex; i++) {\n                            this.addActive(this.itemList[i]);\n                        }\n                    }\n                    this.addFocus(this.itemList[endIndex]);\n                }\n                else {\n                    this.startItem = item;\n                    if (this.parent.allowMultiSelection && item.classList.contains(CLS.ACTIVE)) {\n                        this.removeActive(item);\n                    }\n                    else {\n                        this.addActive(item);\n                    }\n                    this.addFocus(item);\n                }\n                if (this.parent.selectedItems.length === 0) {\n                    this.resetMultiSelect();\n                }\n                this.parent.notify(events.selectionChanged, {});\n                this.triggerSelect(action, item);\n            }\n        }\n        else {\n            this.clearSelection();\n        }\n        if (!isNOU(item)) {\n            this.updateType(item);\n        }\n    };\n    LargeIconsView.prototype.dblClickHandler = function (e) {\n        this.parent.activeModule = 'largeiconsview';\n        var target = e.originalEvent.target;\n        this.doOpenAction(target);\n    };\n    LargeIconsView.prototype.clearSelection = function () {\n        this.clearSelect();\n        this.resetMultiSelect();\n        this.parent.notify(events.selectionChanged, {});\n    };\n    LargeIconsView.prototype.resetMultiSelect = function () {\n        this.multiSelect = false;\n        removeClass([this.parent.element], CLS.MULTI_SELECT);\n    };\n    LargeIconsView.prototype.doOpenAction = function (target) {\n        var _this = this;\n        if (isNOU(target)) {\n            return;\n        }\n        var item = closest(target, '.' + CLS.LIST_ITEM);\n        this.parent.isFile = false;\n        if (!isNOU(item)) {\n            this.updateType(item);\n            // eslint-disable-next-line\n            var details_1 = this.getItemObject(item);\n            if (!hasReadAccess(details_1)) {\n                createDeniedDialog(this.parent, details_1, events.permissionRead);\n                return;\n            }\n            var eventArgs = { cancel: false, fileDetails: details_1, module: 'LargeIconsView' };\n            this.parent.trigger('fileOpen', eventArgs, function (fileOpenArgs) {\n                if (!fileOpenArgs.cancel) {\n                    var text = getValue('name', details_1);\n                    if (!_this.parent.isFile) {\n                        var val = _this.parent.breadcrumbbarModule.searchObj.element.value;\n                        if (val === '' && !_this.parent.isFiltered) {\n                            var id = getValue('id', details_1);\n                            var newPath = _this.parent.path + (isNOU(id) ? text : id) + '/';\n                            _this.parent.setProperties({ path: newPath }, true);\n                            _this.parent.pathNames.push(text);\n                            _this.parent.pathId.push(getValue('_fm_id', details_1));\n                            _this.parent.itemData = [details_1];\n                            openAction(_this.parent);\n                        }\n                        else {\n                            openSearchFolder(_this.parent, details_1);\n                        }\n                        _this.parent.isFiltered = false;\n                        _this.parent.setProperties({ selectedItems: [] }, true);\n                    }\n                    else {\n                        var icon = fileType(details_1);\n                        if (icon === CLS.ICON_IMAGE) {\n                            var imgUrl = getImageUrl(_this.parent, details_1);\n                            createImageDialog(_this.parent, text, imgUrl);\n                        }\n                    }\n                }\n            });\n        }\n    };\n    LargeIconsView.prototype.updateType = function (item) {\n        var folder = select('.' + CLS.FOLDER, item);\n        this.parent.isFile = isNOU(folder) ? true : false;\n    };\n    /* istanbul ignore next */\n    // eslint:disable-next-line\n    LargeIconsView.prototype.keydownActionHandler = function (e) {\n        if (!this.isRendered) {\n            return;\n        }\n        switch (e.action) {\n            case 'end':\n            case 'home':\n            case 'moveDown':\n            case 'moveLeft':\n            case 'moveRight':\n            case 'moveUp':\n            case 'ctrlEnd':\n            case 'shiftEnd':\n            case 'csEnd':\n            case 'ctrlHome':\n            case 'shiftHome':\n            case 'csHome':\n            case 'ctrlDown':\n            case 'shiftDown':\n            case 'csDown':\n            case 'ctrlLeft':\n            case 'shiftLeft':\n            case 'csLeft':\n            case 'ctrlRight':\n            case 'shiftRight':\n            case 'csRight':\n            case 'space':\n            case 'ctrlSpace':\n            case 'shiftSpace':\n            case 'csSpace':\n            case 'ctrlA':\n            case 'enter':\n            case 'altEnter':\n            case 'esc':\n            case 'del':\n            case 'shiftdel':\n            case 'ctrlC':\n            case 'ctrlV':\n            case 'ctrlX':\n            case 'f2':\n            case 'ctrlD':\n                e.preventDefault();\n                break;\n            default:\n                break;\n        }\n    };\n    /* istanbul ignore next */\n    // eslint:disable-next-line\n    LargeIconsView.prototype.keyActionHandler = function (e) {\n        if (!this.isRendered) {\n            return;\n        }\n        var fItem = this.getFocusedItem();\n        var firstItem = this.getFirstItem();\n        var lastItem = this.getLastItem();\n        switch (e.action) {\n            case 'end':\n                this.navigateItem(lastItem);\n                break;\n            case 'home':\n                this.navigateItem(firstItem);\n                break;\n            case 'tab':\n                if (!isNOU(fItem)) {\n                    this.addFocus(fItem);\n                }\n                else if (!isNOU(firstItem)) {\n                    this.addFocus(firstItem);\n                }\n                break;\n            case 'moveDown':\n                this.navigateDown(fItem, true);\n                break;\n            case 'moveLeft':\n                this.navigateRight(fItem, false);\n                break;\n            case 'moveRight':\n                this.navigateRight(fItem, true);\n                break;\n            case 'moveUp':\n                this.navigateDown(fItem, false);\n                break;\n            case 'ctrlEnd':\n            case 'shiftEnd':\n            case 'csEnd':\n                this.csEndKey(lastItem, e);\n                break;\n            case 'ctrlHome':\n            case 'shiftHome':\n            case 'csHome':\n                this.csHomeKey(firstItem, e);\n                break;\n            case 'ctrlDown':\n            case 'shiftDown':\n            case 'csDown':\n                this.csDownKey(fItem, e);\n                break;\n            case 'ctrlLeft':\n            case 'shiftLeft':\n            case 'csLeft':\n                this.csLeftKey(fItem, e);\n                break;\n            case 'ctrlRight':\n            case 'shiftRight':\n            case 'csRight':\n                this.csRightKey(fItem, e);\n                break;\n            case 'ctrlUp':\n            case 'shiftUp':\n            case 'csUp':\n                this.csUpKey(fItem, e);\n                break;\n            case 'space':\n                this.spaceKey(fItem);\n                break;\n            case 'ctrlSpace':\n            case 'shiftSpace':\n            case 'csSpace':\n                if (!isNOU(fItem)) {\n                    this.doSelection(fItem, e);\n                }\n                break;\n            case 'ctrlA':\n                this.ctrlAKey(firstItem, lastItem);\n                break;\n            case 'enter':\n                this.doOpenAction(this.parent.visitedItem ? this.parent.visitedItem : this.getVisitedItem());\n                break;\n            case 'altEnter':\n                this.parent.notify(events.detailsInit, {});\n                GetDetails(this.parent, this.parent.selectedItems, this.parent.path, 'details');\n                break;\n            case 'esc':\n                removeActive(this.parent);\n                break;\n            case 'del':\n            case 'shiftdel':\n                this.performDelete();\n                break;\n            case 'ctrlC':\n                copyFiles(this.parent);\n                break;\n            case 'ctrlV':\n                this.parent.folderPath = '';\n                pasteHandler(this.parent);\n                break;\n            case 'ctrlX':\n                cutFiles(this.parent);\n                break;\n            case 'f2':\n                this.performRename();\n                break;\n            case 'ctrlD':\n                this.doDownload();\n                break;\n        }\n    };\n    LargeIconsView.prototype.doDownload = function () {\n        this.updateSelectedData();\n        doDownload(this.parent);\n    };\n    LargeIconsView.prototype.performDelete = function () {\n        if (this.parent.selectedItems && this.parent.selectedItems.length > 0) {\n            this.updateSelectedData();\n            // eslint-disable-next-line\n            var data = this.parent.itemData;\n            for (var i = 0; i < data.length; i++) {\n                if (!hasEditAccess(data[i])) {\n                    createDeniedDialog(this.parent, data[i], events.permissionEdit);\n                    return;\n                }\n            }\n            createDialog(this.parent, 'Delete');\n        }\n    };\n    LargeIconsView.prototype.performRename = function () {\n        if (this.parent.selectedItems.length === 1) {\n            this.updateRenameData();\n            doRename(this.parent);\n        }\n    };\n    LargeIconsView.prototype.updateRenameData = function () {\n        var item = select('.' + CLS.LIST_ITEM + '.' + CLS.ACTIVE, this.element);\n        // eslint-disable-next-line\n        var data = this.getItemObject(item);\n        updateRenamingData(this.parent, data);\n    };\n    LargeIconsView.prototype.getVisitedItem = function () {\n        var item = this.parent.selectedItems[this.parent.selectedItems.length - 1];\n        var indexes = this.getIndexes([item], this.parent.hasId);\n        return this.itemList[indexes[0]];\n    };\n    LargeIconsView.prototype.getFocusedItem = function () {\n        return select('.' + CLS.LIST_ITEM + '.' + CLS.FOCUS, this.element);\n    };\n    LargeIconsView.prototype.getActiveItem = function () {\n        return select('.' + CLS.LIST_ITEM + '.' + CLS.ACTIVE, this.element);\n    };\n    LargeIconsView.prototype.getFirstItem = function () {\n        return this.itemList[0];\n    };\n    LargeIconsView.prototype.getLastItem = function () {\n        return this.itemList[this.itemList.length - 1];\n    };\n    LargeIconsView.prototype.navigateItem = function (item) {\n        this.setFocus(item);\n    };\n    LargeIconsView.prototype.navigateDown = function (fItem, isTowards) {\n        var nItem = this.getNextItem(fItem, isTowards, this.perRow);\n        this.setFocus(nItem);\n    };\n    LargeIconsView.prototype.navigateRight = function (fItem, isTowards) {\n        var nItem = this.getNextItem(fItem, isTowards);\n        this.setFocus(nItem);\n    };\n    LargeIconsView.prototype.getNextItem = function (li, isTowards, perRow) {\n        if (isNOU(li)) {\n            return this.getFocusedItem() || this.getActiveItem() || this.getFirstItem();\n        }\n        var index = this.itemList.indexOf(li);\n        var nextItem;\n        do {\n            if (isTowards) {\n                index = perRow ? index + perRow : index + 1;\n            }\n            else {\n                index = perRow ? index - perRow : index - 1;\n            }\n            nextItem = this.itemList[index];\n            if (isNOU(nextItem)) {\n                return li;\n            }\n        } while (!isVisible(nextItem));\n        return nextItem;\n    };\n    LargeIconsView.prototype.setFocus = function (nextItem) {\n        if (!isNOU(nextItem)) {\n            var fileSelectionArgs = this.triggerSelection('select', nextItem);\n            if (fileSelectionArgs.cancel !== true) {\n                this.startItem = nextItem;\n                this.clearSelect();\n                this.addActive(nextItem);\n                this.addFocus(nextItem);\n                this.parent.notify(events.selectionChanged, {});\n                this.triggerSelect('select', nextItem);\n            }\n        }\n    };\n    LargeIconsView.prototype.spaceKey = function (fItem) {\n        if (!isNOU(fItem) && !fItem.classList.contains(CLS.ACTIVE)) {\n            var fileSelectionArgs = this.triggerSelection('select', fItem);\n            if (fileSelectionArgs.cancel !== true) {\n                this.addActive(fItem);\n                this.parent.notify(events.selectionChanged, {});\n                this.triggerSelect('select', fItem);\n            }\n        }\n    };\n    LargeIconsView.prototype.ctrlAKey = function (firstItem, lastItem) {\n        if (this.parent.allowMultiSelection && !isNOU(firstItem)) {\n            this.startItem = firstItem;\n            var eveArgs = { ctrlKey: true, shiftKey: true };\n            var liParent = this.element.querySelector('.' + CLS.LIST_PARENT);\n            var liScrPos = liParent.scrollTop;\n            var getCurFocusedItem = this.getFocusedItem();\n            this.doSelection(lastItem, eveArgs);\n            liParent.scrollTop = liScrPos;\n            if (!isNOU(getCurFocusedItem)) {\n                this.addFocus(getCurFocusedItem);\n            }\n        }\n    };\n    LargeIconsView.prototype.csEndKey = function (lastItem, e) {\n        if (!this.parent.allowMultiSelection) {\n            this.navigateItem(lastItem);\n        }\n        else if (!isNOU(lastItem)) {\n            if (e.action === 'ctrlEnd') {\n                this.addFocus(lastItem);\n            }\n            else {\n                this.doSelection(lastItem, e);\n            }\n        }\n    };\n    LargeIconsView.prototype.csHomeKey = function (firstItem, e) {\n        if (!this.parent.allowMultiSelection) {\n            this.navigateItem(firstItem);\n        }\n        else if (!isNOU(firstItem)) {\n            if (e.action === 'ctrlHome') {\n                this.addFocus(firstItem);\n            }\n            else {\n                this.doSelection(firstItem, e);\n            }\n        }\n    };\n    LargeIconsView.prototype.csDownKey = function (fItem, e) {\n        if (!this.parent.allowMultiSelection) {\n            this.navigateDown(fItem, true);\n        }\n        else {\n            var dItem = this.getNextItem(fItem, true, this.perRow);\n            if (!isNOU(dItem)) {\n                if (e.action === 'ctrlDown') {\n                    this.addFocus(dItem);\n                }\n                else {\n                    this.doSelection(dItem, e);\n                }\n            }\n        }\n    };\n    LargeIconsView.prototype.csLeftKey = function (fItem, e) {\n        if (!this.parent.allowMultiSelection) {\n            this.navigateRight(fItem, false);\n        }\n        else {\n            var lItem = this.getNextItem(fItem, false);\n            if (!isNOU(lItem)) {\n                if (e.action === 'ctrlLeft') {\n                    this.addFocus(lItem);\n                }\n                else {\n                    this.doSelection(lItem, e);\n                }\n            }\n        }\n    };\n    LargeIconsView.prototype.csRightKey = function (fItem, e) {\n        if (!this.parent.allowMultiSelection) {\n            this.navigateRight(fItem, true);\n        }\n        else {\n            var rItem = this.getNextItem(fItem, true);\n            if (!isNOU(rItem)) {\n                if (e.action === 'ctrlRight') {\n                    this.addFocus(rItem);\n                }\n                else {\n                    this.doSelection(rItem, e);\n                }\n            }\n        }\n    };\n    LargeIconsView.prototype.csUpKey = function (fItem, e) {\n        if (!this.parent.allowMultiSelection) {\n            this.navigateDown(fItem, false);\n        }\n        else {\n            var uItem = this.getNextItem(fItem, false, this.perRow);\n            if (!isNOU(uItem)) {\n                if (e.action === 'ctrlUp') {\n                    this.addFocus(uItem);\n                }\n                else {\n                    this.doSelection(uItem, e);\n                }\n            }\n        }\n    };\n    LargeIconsView.prototype.addActive = function (nextItem) {\n        if (!isNOU(nextItem)) {\n            if (!nextItem.classList.contains(CLS.ACTIVE)) {\n                this.parent.selectedItems.push(this.getDataName(nextItem));\n                this.parent.setProperties({ selectedItems: this.parent.selectedItems }, true);\n                addClass([nextItem], [CLS.ACTIVE]);\n                nextItem.setAttribute('aria-selected', 'true');\n                this.checkState(nextItem, true);\n            }\n            this.parent.visitedItem = nextItem;\n        }\n    };\n    LargeIconsView.prototype.removeActive = function (preItem) {\n        if (!isNOU(preItem)) {\n            removeClass([preItem], [CLS.ACTIVE]);\n            if (this.parent.allowMultiSelection) {\n                preItem.setAttribute('aria-selected', 'false');\n            }\n            else {\n                preItem.removeAttribute('aria-selected');\n            }\n            this.checkState(preItem, false);\n            var index = this.parent.selectedItems.indexOf(this.getDataName(preItem));\n            if (index > -1) {\n                this.parent.selectedItems.splice(index, 1);\n                this.parent.setProperties({ selectedItems: this.parent.selectedItems }, true);\n            }\n            this.parent.visitedItem = null;\n        }\n    };\n    LargeIconsView.prototype.getDataName = function (item) {\n        // eslint-disable-next-line\n        var data = this.getItemObject(item);\n        return getItemName(this.parent, data);\n    };\n    LargeIconsView.prototype.addFocus = function (item) {\n        this.element.setAttribute('tabindex', '-1');\n        var fItem = this.getFocusedItem();\n        if (fItem) {\n            fItem.removeAttribute('tabindex');\n            removeClass([fItem], [CLS.FOCUS]);\n        }\n        addClass([item], [CLS.FOCUS]);\n        item.setAttribute('tabindex', '0');\n        item.focus();\n    };\n    LargeIconsView.prototype.checkState = function (item, toCheck) {\n        if (!this.parent.allowMultiSelection) {\n            return;\n        }\n        var checkEle = select('.' + CLS.FRAME, item);\n        if (isNOU(checkEle)) {\n            return;\n        }\n        if (toCheck) {\n            if (!checkEle.classList.contains(CLS.CHECK)) {\n                addClass([checkEle], CLS.CHECK);\n                closest(checkEle, '.' + CLS.CB_WRAP).setAttribute('aria-checked', 'true');\n            }\n        }\n        else {\n            if (checkEle.classList.contains(CLS.CHECK)) {\n                removeClass([checkEle], CLS.CHECK);\n                closest(checkEle, '.' + CLS.CB_WRAP).setAttribute('aria-checked', 'false');\n            }\n        }\n    };\n    LargeIconsView.prototype.clearSelect = function () {\n        var eles = Array.prototype.slice.call(selectAll('.' + CLS.ACTIVE, this.listElements));\n        var fileSelectionArgs;\n        if (eles.length !== 0) {\n            fileSelectionArgs = this.triggerSelection('unselect', eles[0]);\n            if (fileSelectionArgs.cancel !== true) {\n                for (var i = 0, len = eles.length; i < len; i++) {\n                    this.removeActive(eles[i]);\n                }\n            }\n            this.triggerSelect('unselect', eles[0]);\n        }\n    };\n    LargeIconsView.prototype.resizeHandler = function () {\n        this.getItemCount();\n        if (!isNOU(this.listObj)) {\n            this.adjustHeight();\n        }\n    };\n    LargeIconsView.prototype.splitterResizeHandler = function () {\n        this.getItemCount();\n    };\n    LargeIconsView.prototype.getItemCount = function () {\n        var perRow = 1;\n        if (this.itemList) {\n            for (var i = 0, len = this.itemList.length - 1; i < len; i++) {\n                if (this.itemList[i].getBoundingClientRect().top === this.itemList[i + 1].getBoundingClientRect().top) {\n                    perRow++;\n                }\n                else {\n                    break;\n                }\n            }\n        }\n        this.perRow = perRow;\n    };\n    LargeIconsView.prototype.triggerSelection = function (action, item) {\n        // eslint-disable-next-line\n        var data = this.getItemObject(item);\n        var eventArgs = {\n            action: action, fileDetails: data, isInteracted: this.isInteraction, cancel: false, target: item\n        };\n        this.parent.trigger('fileSelection', eventArgs);\n        this.isInteraction = true;\n        return eventArgs;\n    };\n    LargeIconsView.prototype.triggerSelect = function (action, item) {\n        // eslint-disable-next-line\n        var data = this.getItemObject(item);\n        this.parent.visitedData = data;\n        var eventArgs = { action: action, fileDetails: data, isInteracted: this.isInteracted };\n        this.parent.trigger('fileSelect', eventArgs);\n        this.isInteracted = true;\n    };\n    LargeIconsView.prototype.selectItems = function (items) {\n        var indexes = this.getIndexes(items, this.parent.hasId);\n        for (var j = 0, len = indexes.length; j < len; j++) {\n            var eveArgs = { ctrlKey: true, shiftKey: false };\n            this.doSelection(this.itemList[indexes[j]], eveArgs);\n        }\n    };\n    LargeIconsView.prototype.getIndexes = function (items, byId) {\n        var indexes = [];\n        var filter = byId ? 'id' : 'name';\n        for (var i = 0, len = this.items.length; i < len; i++) {\n            if (items.indexOf(getValue(filter, this.items[i])) !== -1) {\n                indexes.push(i);\n            }\n        }\n        return indexes;\n    };\n    // eslint-disable-next-line\n    LargeIconsView.prototype.getItemObject = function (item) {\n        var index = this.itemList.indexOf(item);\n        return this.items[index];\n    };\n    // eslint-disable-next-line\n    LargeIconsView.prototype.addSelection = function (data) {\n        // eslint-disable-next-line\n        var resultData = [];\n        if (this.parent.hasId) {\n            resultData = new DataManager(this.items).\n                executeLocal(new Query().where('id', 'equal', this.parent.renamedId, false));\n        }\n        else {\n            // eslint-disable-next-line\n            var newData = new DataManager(this.items).\n                executeLocal(new Query().where('name', 'equal', getValue('name', data), false));\n            if (newData.length > 0) {\n                resultData = new DataManager(newData).\n                    executeLocal(new Query().where('filterPath', 'equal', this.parent.filterPath, false));\n            }\n        }\n        if (resultData.length > 0) {\n            var index = this.items.indexOf(resultData[0]);\n            var eveArgs = { ctrlKey: true, shiftKey: false };\n            this.doSelection(this.itemList[index], eveArgs);\n        }\n    };\n    LargeIconsView.prototype.updateSelectedData = function () {\n        // eslint-disable-next-line\n        var data = [];\n        var items = selectAll('.' + CLS.LIST_ITEM + '.' + CLS.ACTIVE, this.element);\n        for (var i = 0; i < items.length; i++) {\n            data[i] = this.getItemObject(items[i]);\n        }\n        this.parent.itemData = data;\n    };\n    // eslint-disable-next-line\n    LargeIconsView.prototype.onMethodCall = function (args) {\n        if (this.parent.view !== 'LargeIcons') {\n            return;\n        }\n        var action = getValue('action', args);\n        switch (action) {\n            case 'deleteFiles':\n                this.deleteFiles(getValue('ids', args));\n                break;\n            case 'downloadFiles':\n                this.downloadFiles(getValue('ids', args));\n                break;\n            case 'openFile':\n                this.openFile(getValue('id', args));\n                break;\n            case 'renameFile':\n                this.isInteraction = false;\n                this.isInteracted = false;\n                this.renameFile(getValue('id', args), getValue('newName', args));\n                break;\n            case 'createFolder':\n                this.isInteraction = false;\n                this.isInteracted = false;\n                break;\n            case 'clearSelection':\n                this.isInteraction = false;\n                this.isInteracted = false;\n                this.onClearAllInit();\n                break;\n            case 'selectAll':\n                this.isInteraction = false;\n                this.isInteracted = false;\n                this.onSelectAllInit();\n                break;\n        }\n    };\n    LargeIconsView.prototype.getItemsIndex = function (items) {\n        var indexes = [];\n        var isFilter = (this.parent.breadcrumbbarModule.searchObj.element.value !== '' || this.parent.isFiltered) ? true : false;\n        var filterName = this.parent.hasId ? 'id' : 'name';\n        if (this.parent.hasId || !isFilter) {\n            for (var i = 0, len = this.items.length; i < len; i++) {\n                if (items.indexOf(getValue(filterName, this.items[i])) !== -1) {\n                    indexes.push(i);\n                }\n            }\n        }\n        else {\n            for (var i = 0, len = this.items.length; i < len; i++) {\n                var name_2 = getValue('filterPath', this.items[i]) + getValue('name', this.items[i]);\n                if ((items.indexOf(name_2) !== -1) || (items.indexOf(getValue(filterName, this.items[i])) !== -1)) {\n                    indexes.push(i);\n                }\n            }\n        }\n        return indexes;\n    };\n    LargeIconsView.prototype.deleteFiles = function (ids) {\n        this.parent.activeModule = 'largeiconsview';\n        if (isNOU(ids)) {\n            this.performDelete();\n            return;\n        }\n        var indexes = this.getItemsIndex(ids);\n        if (indexes.length === 0) {\n            return;\n        }\n        // eslint-disable-next-line\n        var data = [];\n        var newIds = [];\n        for (var i = 0; i < indexes.length; i++) {\n            data[i] = this.items[indexes[i]];\n            newIds[i] = getItemName(this.parent, data[i]);\n        }\n        doDeleteFiles(this.parent, data, newIds);\n    };\n    LargeIconsView.prototype.downloadFiles = function (ids) {\n        if (isNOU(ids)) {\n            this.doDownload();\n            return;\n        }\n        var index = this.getItemsIndex(ids);\n        if (index.length === 0) {\n            return;\n        }\n        // eslint-disable-next-line\n        var data = [];\n        var newIds = [];\n        for (var i = 0; i < index.length; i++) {\n            data[i] = this.items[index[i]];\n            newIds[i] = getItemName(this.parent, data[i]);\n        }\n        doDownloadFiles(this.parent, data, newIds);\n    };\n    LargeIconsView.prototype.openFile = function (id) {\n        if (isNOU(id)) {\n            return;\n        }\n        var indexes = this.getItemsIndex([id]);\n        if (indexes.length > 0) {\n            this.doOpenAction(this.itemList[indexes[0]]);\n        }\n    };\n    LargeIconsView.prototype.renameFile = function (id, name) {\n        this.parent.activeModule = 'largeiconsview';\n        if (isNOU(id)) {\n            this.performRename();\n            return;\n        }\n        var indexes = this.getItemsIndex([id]);\n        if (indexes.length > 0) {\n            updateRenamingData(this.parent, this.items[indexes[0]]);\n            if (isNOU(name)) {\n                doRename(this.parent);\n            }\n            else {\n                if (!hasEditAccess(this.parent.itemData[0])) {\n                    createDeniedDialog(this.parent, this.parent.itemData[0], events.permissionEdit);\n                }\n                else {\n                    rename(this.parent, this.parent.path, name);\n                }\n            }\n        }\n    };\n    return LargeIconsView;\n}());\nexport { LargeIconsView };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}