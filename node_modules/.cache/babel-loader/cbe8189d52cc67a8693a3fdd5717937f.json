{"ast":null,"code":"var _jsxFileName = \"/home/morgan/Desktop/Projets/ENT4/Jwt-Auth-test/react-jwt-auth/react-jwt-auth/src/components2/DataFetching.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport \"../styles/DataFetching.css\";\nimport S1 from \"./S1\";\nimport UpdateComponent from \"./Update.component\";\nimport CreateComponent from \"./Create.component\";\nimport DeleteComponent from \"./Delete.component\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction DataFetching(_ref) {\n  _s();\n\n  let {\n    admin\n  } = _ref;\n  const [isSet, setisSet] = useState(false);\n  const [focusedlist, setfocusedlist] = useState();\n  const [posts, setPosts] = useState([]);\n  const [isModify, setisModify] = useState(false);\n  useEffect(() => {\n    axios.get(\"http://localhost:8080/pb/\").then(res => {\n      setPosts(res.data);\n    }).catch(err => {\n      console.log(err);\n    });\n  }, []);\n\n  function choixPb(e) {\n    setisSet(!isSet);\n    setfocusedlist(e.target.value);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"faq-list-pb\",\n      children: posts.map(_ref2 => {\n        let {\n          id,\n          title_pb\n        } = _ref2;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"faq-item-pb\",\n          children: [\" \", title_pb, /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"button\",\n            value: id,\n            onClick: e => choixPb(e),\n            children: \"Choix\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 38,\n            columnNumber: 13\n          }, this), admin && /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"button\",\n            value: id,\n            onClick: e => {\n              setisModify(!isModify);\n              setfocusedlist(e.target.value);\n            },\n            children: \"Modifier\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 15\n          }, this), isModify && focusedlist === `${id}` && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(UpdateComponent, {\n              id: id,\n              title: title_pb,\n              base: \"pb\",\n              champ: \"title_pb\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(CreateComponent, {\n              id: id,\n              base: \"s1\",\n              champ: \"title_s1\",\n              champ2: \"ind_pb\",\n              title: title_pb\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(DeleteComponent, {\n              id: id,\n              base: \"pb\",\n              champ: \"id\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 15\n          }, this), isSet && focusedlist === `${id}` ? /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(S1, {\n              id: id,\n              adm: admin\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 15\n          }, this) : null]\n        }, id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 11\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 5\n  }, this);\n}\n\n_s(DataFetching, \"RUcfCi39h70jnzm3cVZhMuiBwPw=\");\n\n_c = DataFetching;\nexport default DataFetching;\n\nvar _c;\n\n$RefreshReg$(_c, \"DataFetching\");","map":{"version":3,"names":["React","useState","useEffect","axios","S1","UpdateComponent","CreateComponent","DeleteComponent","DataFetching","admin","isSet","setisSet","focusedlist","setfocusedlist","posts","setPosts","isModify","setisModify","get","then","res","data","catch","err","console","log","choixPb","e","target","value","map","id","title_pb"],"sources":["/home/morgan/Desktop/Projets/ENT4/Jwt-Auth-test/react-jwt-auth/react-jwt-auth/src/components2/DataFetching.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport \"../styles/DataFetching.css\";\nimport S1 from \"./S1\";\nimport UpdateComponent from \"./Update.component\";\nimport CreateComponent from \"./Create.component\";\nimport DeleteComponent from \"./Delete.component\";\n\nfunction DataFetching({ admin }) {\n  const [isSet, setisSet] = useState(false);\n  const [focusedlist, setfocusedlist] = useState();\n  const [posts, setPosts] = useState([]);\n  const [isModify, setisModify] = useState(false);\n\n  useEffect(() => {\n    axios\n      .get(\"http://localhost:8080/pb/\")\n      .then((res) => {\n        setPosts(res.data);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  function choixPb(e) {\n    setisSet(!isSet);\n    setfocusedlist(e.target.value);\n  }\n\n  return (\n    <div>\n      <ul className=\"faq-list-pb\">\n        {posts.map(({ id, title_pb }) => (\n          <div key={id} className=\"faq-item-pb\">\n            {\" \"}\n            {title_pb}\n            <button className=\"button\" value={id} onClick={(e) => choixPb(e)}>\n              Choix\n            </button>\n            {admin && (\n              <button\n                className=\"button\"\n                value={id}\n                onClick={(e) => {\n                  setisModify(!isModify);\n                  setfocusedlist(e.target.value);\n                }}\n              >\n                Modifier\n              </button>\n            )}\n            {isModify && focusedlist === `${id}` && (\n              <div>\n                <UpdateComponent\n                  id={id}\n                  title={title_pb}\n                  base={\"pb\"}\n                  champ={\"title_pb\"}\n                />\n                <CreateComponent\n                  id={id}\n                  base={\"s1\"}\n                  champ={\"title_s1\"}\n                  champ2={\"ind_pb\"}\n                  title={title_pb}\n                />\n                <DeleteComponent id={id} base={\"pb\"} champ={\"id\"} />\n              </div>\n            )}\n            {isSet && focusedlist === `${id}` ? (\n              <div>\n                <S1 id={id} adm={admin} />\n              </div>\n            ) : null}\n          </div>\n        ))}\n      </ul>\n    </div>\n  );\n}\n\nexport default DataFetching;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}