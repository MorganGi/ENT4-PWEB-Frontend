{"ast":null,"code":"var _jsxFileName = \"/home/morgan/Desktop/Projets/ENT4/Jwt-Auth-pdf/react-jwt-auth/react-jwt-auth/src/components2/DataFetching.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport \"../styles/DataFetching.css\";\nimport S1 from \"./S1\";\nimport UpdateComponent from \"./Update.component\";\nimport CreateComponent from \"./Create.component\";\nimport DeleteComponent from \"./Delete.component\";\nimport Searche from \"./search/Search\";\nimport Footer from \"./Footer\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst IP = \"192.168.18.141\"; // import AuthService from \"../services/auth.service\";\n\nfunction DataFetching(_ref) {\n  _s();\n\n  let {\n    admin,\n    techno\n  } = _ref;\n  const [isSet, setisSet] = useState(false);\n  const [focusedlist, setfocusedlist] = useState();\n  const [posts, setPosts] = useState([]);\n  const [isModify, setisModify] = useState(false);\n  const [a, setA] = useState([]);\n  const [findabr, setFindabr] = useState(\"\");\n  useEffect(() => {\n    axios.get(`http://${IP}:8080/pb/${techno}`).then(res => {\n      setPosts(res.data);\n    }).catch(err => {\n      console.log(err);\n    });\n  }, []);\n\n  function rechercheArbre(e) {\n    setFindabr(e.target.value);\n\n    if (e.target.value === \"\" || e.target.value === \" \" || findabr === undefined) {\n      axios.get(`http://${IP}:8080/pb/${techno}`).then(res => {\n        setPosts(res.data);\n      }).catch(err => {\n        console.log(err);\n      });\n    } else {\n      axios.get(`http://${IP}:8080/searchpb/${techno}/${e.target.value}`).then(res => {\n        setPosts(res.data);\n      }).catch(err => {\n        console.log(err);\n      });\n    }\n  }\n\n  function choixPb(e, i) {\n    setisSet(!isSet);\n    setfocusedlist(e.target.value);\n    const newA = a;\n\n    if (newA[i] === e.target.value) {\n      newA[i] = 0;\n    } else {\n      newA[i] = e.target.value;\n      setA(newA);\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: techno + \"-master\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: techno + \"-faq-list-pb\",\n        children: [/*#__PURE__*/_jsxDEV(Searche, {\n          techno: techno\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: techno + \"-mainpbFilter\",\n          type: \"text\",\n          placeholder: \"Filter\",\n          defaultValue: \"\",\n          onChange: e => {\n            rechercheArbre(e);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), posts.map((_ref2, i) => {\n          let {\n            id,\n            title_pb\n          } = _ref2;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"mainpb\",\n            className: techno + \"-mainpb\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: techno + \"-container-pb\",\n              children: [title_pb, /*#__PURE__*/_jsxDEV(\"button\", {\n                className: techno + \"-fleche\",\n                value: id,\n                onClick: e => choixPb(e, i)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 89,\n                columnNumber: 17\n              }, this), admin && /*#__PURE__*/_jsxDEV(\"button\", {\n                className: techno + \"-ecrou\",\n                value: id,\n                onClick: e => {\n                  setisModify(!isModify);\n                  setfocusedlist(e.target.value);\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 19\n              }, this), isModify && focusedlist === `${id}` && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: techno + \"-main_crud\",\n                children: [/*#__PURE__*/_jsxDEV(UpdateComponent, {\n                  id: id,\n                  title: title_pb,\n                  base: \"pb\",\n                  champ: \"title_pb\",\n                  techno: techno\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 106,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(CreateComponent, {\n                  id: id,\n                  base: \"s1\",\n                  champ: \"title_s1\",\n                  champ2: \"ind_pb\",\n                  title: title_pb,\n                  techno: techno\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 113,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(DeleteComponent, {\n                  id: id,\n                  base: \"pb\",\n                  champ: \"id\",\n                  name: title_pb,\n                  techno: techno\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 121,\n                  columnNumber: 21\n                }, this)]\n              }, id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 105,\n                columnNumber: 19\n              }, this)]\n            }, id + \"div2\", true, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 15\n            }, this), a[i] === `${id}` ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: techno + \"-choix-main\",\n              children: /*#__PURE__*/_jsxDEV(S1, {\n                id: id,\n                admin: admin,\n                techno: techno\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 134,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 17\n            }, this) : null]\n          }, id + \"div\", true, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this);\n        }), admin && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: techno + \"-main-create\",\n          children: /*#__PURE__*/_jsxDEV(CreateComponent, {\n            id: \"1\",\n            base: \"pb\",\n            champ: \"title_pb\",\n            champ2: techno,\n            title: \"a\",\n            techno: techno\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: techno + \"-faq-list-pb2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {\n      techno: techno\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 5\n  }, this);\n}\n\n_s(DataFetching, \"kgkgrQZzmszOpNXtbXk6zunN5io=\");\n\n_c = DataFetching;\nexport default DataFetching;\n\nvar _c;\n\n$RefreshReg$(_c, \"DataFetching\");","map":{"version":3,"names":["React","useState","useEffect","axios","S1","UpdateComponent","CreateComponent","DeleteComponent","Searche","Footer","IP","DataFetching","admin","techno","isSet","setisSet","focusedlist","setfocusedlist","posts","setPosts","isModify","setisModify","a","setA","findabr","setFindabr","get","then","res","data","catch","err","console","log","rechercheArbre","e","target","value","undefined","choixPb","i","newA","map","id","title_pb"],"sources":["/home/morgan/Desktop/Projets/ENT4/Jwt-Auth-pdf/react-jwt-auth/react-jwt-auth/src/components2/DataFetching.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport \"../styles/DataFetching.css\";\nimport S1 from \"./S1\";\nimport UpdateComponent from \"./Update.component\";\nimport CreateComponent from \"./Create.component\";\nimport DeleteComponent from \"./Delete.component\";\nimport Searche from \"./search/Search\";\nimport Footer from \"./Footer\";\nconst IP = \"192.168.18.141\";\n// import AuthService from \"../services/auth.service\";\n\nfunction DataFetching({ admin, techno }) {\n  const [isSet, setisSet] = useState(false);\n  const [focusedlist, setfocusedlist] = useState();\n  const [posts, setPosts] = useState([]);\n  const [isModify, setisModify] = useState(false);\n  const [a, setA] = useState([]);\n  const [findabr, setFindabr] = useState(\"\");\n\n  useEffect(() => {\n    axios\n      .get(`http://${IP}:8080/pb/${techno}`)\n      .then((res) => {\n        setPosts(res.data);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  function rechercheArbre(e) {\n    setFindabr(e.target.value);\n    if (\n      e.target.value === \"\" ||\n      e.target.value === \" \" ||\n      findabr === undefined\n    ) {\n      axios\n        .get(`http://${IP}:8080/pb/${techno}`)\n        .then((res) => {\n          setPosts(res.data);\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    } else {\n      axios\n        .get(`http://${IP}:8080/searchpb/${techno}/${e.target.value}`)\n        .then((res) => {\n          setPosts(res.data);\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    }\n  }\n\n  function choixPb(e, i) {\n    setisSet(!isSet);\n    setfocusedlist(e.target.value);\n    const newA = a;\n    if (newA[i] === e.target.value) {\n      newA[i] = 0;\n    } else {\n      newA[i] = e.target.value;\n      setA(newA);\n    }\n  }\n\n  return (\n    <div>\n      <div className={techno + \"-master\"}>\n        <div className={techno + \"-faq-list-pb\"}>\n          <Searche techno={techno} />\n          <input\n            className={techno + \"-mainpbFilter\"}\n            type=\"text\"\n            placeholder=\"Filter\"\n            defaultValue=\"\"\n            onChange={(e) => {\n              rechercheArbre(e);\n            }}\n          ></input>\n          {posts.map(({ id, title_pb }, i) => (\n            <div key={id + \"div\"} id=\"mainpb\" className={techno + \"-mainpb\"}>\n              <div key={id + \"div2\"} className={techno + \"-container-pb\"}>\n                {title_pb}\n                <button\n                  className={techno + \"-fleche\"}\n                  value={id}\n                  onClick={(e) => choixPb(e, i)}\n                ></button>\n                {admin && (\n                  <button\n                    className={techno + \"-ecrou\"}\n                    value={id}\n                    onClick={(e) => {\n                      setisModify(!isModify);\n                      setfocusedlist(e.target.value);\n                    }}\n                  ></button>\n                )}\n                {isModify && focusedlist === `${id}` && (\n                  <div key={id} className={techno + \"-main_crud\"}>\n                    <UpdateComponent\n                      id={id}\n                      title={title_pb}\n                      base={\"pb\"}\n                      champ={\"title_pb\"}\n                      techno={techno}\n                    />\n                    <CreateComponent\n                      id={id}\n                      base={\"s1\"}\n                      champ={\"title_s1\"}\n                      champ2={\"ind_pb\"}\n                      title={title_pb}\n                      techno={techno}\n                    />\n                    <DeleteComponent\n                      id={id}\n                      base={\"pb\"}\n                      champ={\"id\"}\n                      name={title_pb}\n                      techno={techno}\n                    />\n                  </div>\n                )}\n              </div>\n\n              {a[i] === `${id}` ? (\n                <div className={techno + \"-choix-main\"}>\n                  <S1 id={id} admin={admin} techno={techno} />\n                </div>\n              ) : null}\n            </div>\n          ))}\n          {admin && (\n            <div className={techno + \"-main-create\"}>\n              <CreateComponent\n                id={\"1\"}\n                base={\"pb\"}\n                champ={\"title_pb\"}\n                champ2={techno}\n                title={\"a\"}\n                techno={techno}\n              />\n            </div>\n          )}\n        </div>\n        <div className={techno + \"-faq-list-pb2\"}></div>\n      </div>\n      <Footer techno={techno} />\n    </div>\n  );\n}\n\nexport default DataFetching;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}