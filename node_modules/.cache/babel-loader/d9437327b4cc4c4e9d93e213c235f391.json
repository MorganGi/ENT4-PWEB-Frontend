{"ast":null,"code":"var _jsxFileName = \"/home/morgan/Desktop/Projets/ENT4/Jwt-Auth-pdf/react-jwt-auth/react-jwt-auth/src/components2/S2.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport Solutions from \"./Solutions\";\nimport UpdateComponent from \"./Update.component\";\nimport Uploader from \"./Uploader\";\nimport Deleter from \"./Deleter\";\nimport DeleteComponent from \"./Delete.component\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction S2(_ref) {\n  _s();\n\n  let {\n    id_s1,\n    admin\n  } = _ref;\n  const [symps, setSymp] = useState([]);\n  const [isSet, setisSet] = useState(false);\n  const [focusedlist, setfocusedlist] = useState();\n  const [isModify, setisModify] = useState(false);\n  const [a, setA] = useState([]);\n  const uri = `http://localhost:8080/s2/${id_s1}`;\n\n  function choixPb(e, i) {\n    setisSet(!isSet);\n    setfocusedlist(e.target.value);\n    const newA = a;\n\n    if (newA[i] === e.target.value) {\n      newA[i] = 0;\n    } else {\n      newA[i] = e.target.value;\n\n      for (let j = 0; j < newA.length; j++) {\n        if (i === j) {\n          break;\n        } else {\n          newA[j] = 0;\n        }\n      }\n\n      setA(newA);\n    }\n  }\n\n  useEffect(() => {\n    axios.get(uri).then(res => {\n      setSymp(res.data);\n      var doc = document.getElementById(\"mainpb\");\n      doc.style.border = \"1px solid red\";\n    }).catch(err => {\n      console.log(err);\n    }); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  const categories = symps.reduce((acc, symp) => acc.includes(symp.title_s2) ? acc : acc.concat(symp.title_s2), []);\n\n  if (categories.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"pas de symptome N\\xB02\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"s2\",\n      children: symps.map((symp, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"main\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container-s2\",\n          children: [symp.title_s2, /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"fleche\",\n            value: symp.id_s2,\n            onClick: e => choixPb(e, i)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 15\n          }, this), admin && /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"ecrou\",\n            value: symp.id_s2,\n            onClick: e => {\n              setisModify(!isModify);\n              setfocusedlist(e.target.value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 17\n          }, this), isModify && focusedlist === `${symp.id_s2}` && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"main_crud\",\n            children: [/*#__PURE__*/_jsxDEV(UpdateComponent, {\n              id: symp.id_s2,\n              title: symp.title_s2,\n              base: \"s2\",\n              champ: \"title_s2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(DeleteComponent, {\n              id: symp.id_s2,\n              base: \"s2\",\n              champ: \"id_s2\",\n              name: symp.title_s2\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Deleter, {\n              id: symp.id_s2,\n              from: \"s2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Uploader, {\n              id: symp.id_s2,\n              from: \"s2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }, this), a[i] === `${symp.id_s2}` ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"solution\",\n          children: /*#__PURE__*/_jsxDEV(Solutions, {\n            id_s2: symp.id_s2\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 15\n        }, this) : null]\n      }, symp.id_s2, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this);\n  }\n}\n\n_s(S2, \"JV+YY1Ts5HC63vZuh8pUAYKvrPE=\");\n\n_c = S2;\nexport default S2;\n\nvar _c;\n\n$RefreshReg$(_c, \"S2\");","map":{"version":3,"names":["React","useState","useEffect","axios","Solutions","UpdateComponent","Uploader","Deleter","DeleteComponent","S2","id_s1","admin","symps","setSymp","isSet","setisSet","focusedlist","setfocusedlist","isModify","setisModify","a","setA","uri","choixPb","e","i","target","value","newA","j","length","get","then","res","data","doc","document","getElementById","style","border","catch","err","console","log","categories","reduce","acc","symp","includes","title_s2","concat","map","id_s2"],"sources":["/home/morgan/Desktop/Projets/ENT4/Jwt-Auth-pdf/react-jwt-auth/react-jwt-auth/src/components2/S2.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport Solutions from \"./Solutions\";\nimport UpdateComponent from \"./Update.component\";\n\nimport Uploader from \"./Uploader\";\nimport Deleter from \"./Deleter\";\nimport DeleteComponent from \"./Delete.component\";\n\nfunction S2({ id_s1, admin }) {\n  const [symps, setSymp] = useState([]);\n  const [isSet, setisSet] = useState(false);\n  const [focusedlist, setfocusedlist] = useState();\n  const [isModify, setisModify] = useState(false);\n  const [a, setA] = useState([]);\n\n  const uri = `http://localhost:8080/s2/${id_s1}`;\n\n  function choixPb(e, i) {\n    setisSet(!isSet);\n    setfocusedlist(e.target.value);\n    const newA = a;\n    if (newA[i] === e.target.value) {\n      newA[i] = 0;\n    } else {\n      newA[i] = e.target.value;\n      for (let j = 0; j < newA.length; j++) {\n        if (i === j) {\n          break;\n        } else {\n          newA[j] = 0;\n        }\n      }\n      setA(newA);\n    }\n  }\n\n  useEffect(() => {\n    axios\n      .get(uri)\n      .then((res) => {\n        setSymp(res.data);\n        var doc = document.getElementById(\"mainpb\");\n        doc.style.border = \"1px solid red\";\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const categories = symps.reduce(\n    (acc, symp) =>\n      acc.includes(symp.title_s2) ? acc : acc.concat(symp.title_s2),\n    []\n  );\n\n  if (categories.length === 0) {\n    return (\n      <div>\n        <p>pas de symptome NÂ°2</p>\n      </div>\n    );\n  } else {\n    return (\n      <div className=\"s2\">\n        {symps.map((symp, i) => (\n          <div className=\"main\" key={symp.id_s2}>\n            <div className=\"container-s2\">\n              {symp.title_s2}\n              <button\n                className=\"fleche\"\n                value={symp.id_s2}\n                onClick={(e) => choixPb(e, i)}\n              ></button>\n              {admin && (\n                <button\n                  className=\"ecrou\"\n                  value={symp.id_s2}\n                  onClick={(e) => {\n                    setisModify(!isModify);\n                    setfocusedlist(e.target.value);\n                  }}\n                ></button>\n              )}\n              {isModify && focusedlist === `${symp.id_s2}` && (\n                <div className=\"main_crud\">\n                  <UpdateComponent\n                    id={symp.id_s2}\n                    title={symp.title_s2}\n                    base={\"s2\"}\n                    champ={\"title_s2\"}\n                  />\n                  <DeleteComponent\n                    id={symp.id_s2}\n                    base={\"s2\"}\n                    champ={\"id_s2\"}\n                    name={symp.title_s2}\n                  />\n                  <Deleter id={symp.id_s2} from=\"s2\" />\n                  <Uploader id={symp.id_s2} from=\"s2\" />\n                </div>\n              )}\n            </div>\n            {a[i] === `${symp.id_s2}` ? (\n              <div className=\"solution\">\n                <Solutions id_s2={symp.id_s2} />\n              </div>\n            ) : null}\n          </div>\n        ))}\n      </div>\n    );\n  }\n}\n\nexport default S2;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}