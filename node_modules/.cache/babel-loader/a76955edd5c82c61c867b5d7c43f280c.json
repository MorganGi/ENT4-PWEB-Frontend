{"ast":null,"code":"/* eslint-disable */\nimport { Browser, createElement } from \"@syncfusion/ej2-base\";\nimport { cornersPointsBeforeRotation, Rect, splitArrayCollection, processPathData, randomId } from \"@syncfusion/ej2-drawings\";\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { Dialog, Tooltip } from \"@syncfusion/ej2-popups\";\nimport { Tab } from \"@syncfusion/ej2-navigations\";\nimport { DropDownButton } from '@syncfusion/ej2-splitbuttons';\nimport { ColorPicker, Slider, TextBox, NumericTextBox } from \"@syncfusion/ej2-inputs\";\nimport { DropDownList } from \"@syncfusion/ej2-dropdowns\";\nimport { Button, CheckBox } from \"@syncfusion/ej2-buttons\";\nimport { DisplayMode, FontStyle } from '../base/types';\nimport { cloneObject } from '../drawing/drawing-util';\n/* eslint-disable */\n\n/**\n * The `FormDesigner` module is used to handle form designer actions of PDF viewer.\n */\n\nvar FormDesigner =\n/** @class */\nfunction () {\n  /**\n  * @param viewer\n  * @param base\n  * @private\n  */\n  function FormDesigner(viewer, base) {\n    this.isFormFieldExistingInCollection = false;\n    this.multilineCheckboxCheckedState = false;\n    this.formFieldListItemCollection = [];\n    this.formFieldListItemDataSource = [];\n    this.isInitialField = false;\n    this.isSetFormFieldMode = false;\n    /**\n     * @private\n     */\n\n    this.disableSignatureClickEvent = false;\n    /**\n     * @private\n     */\n\n    this.formFieldIndex = 0;\n    /**\n     * @private\n     */\n\n    this.formFieldIdIndex = 0;\n    /**\n     * @private\n     */\n\n    this.isProgrammaticSelection = false;\n    /**\n     * @private\n    */\n\n    this.isShapeCopied = false;\n    this.isDrawHelper = false;\n    this.isFormFieldUpdated = false;\n    this.pdfViewer = viewer;\n    this.pdfViewerBase = base;\n  }\n  /**\n   * @private\n   */\n\n\n  FormDesigner.prototype.drawHelper = function (formFieldAnnotationType, obj, event) {\n    var textLayer = document.getElementById(this.pdfViewer.element.id + '_textLayer_' + this.pdfViewerBase.activeElements.activePageID);\n    var canvasElement = document.getElementById(this.pdfViewer.element.id + '_pageCanvas_' + this.pdfViewerBase.activeElements.activePageID);\n\n    if (canvasElement !== null && textLayer !== null) {\n      var zoomValue = this.pdfViewerBase.getZoomFactor();\n      var htmlElement = void 0;\n      var HtmlElementAttribute = {\n        'id': 'FormField_helper_html_element',\n        'class': 'foreign-object'\n      };\n      var bounds = this.updateFormFieldInitialSize(obj, formFieldAnnotationType);\n      htmlElement = this.createHtmlElement('div', HtmlElementAttribute);\n      this.isDrawHelper = true;\n\n      if (formFieldAnnotationType === \"SignatureField\" || formFieldAnnotationType === \"InitialField\") {\n        htmlElement.appendChild(this.createSignatureDialog(this.pdfViewer, obj, bounds));\n      } else if (formFieldAnnotationType === \"DropdownList\") {\n        var element = {\n          id: \"dropdown_helper\"\n        };\n        htmlElement.appendChild(this.createDropDownList(element, obj));\n      } else if (formFieldAnnotationType === \"ListBox\") {\n        var element = {\n          id: \"listbox_helper\"\n        };\n        htmlElement.appendChild(this.createListBox(element, obj));\n      } else {\n        htmlElement.appendChild(this.createInputElement(formFieldAnnotationType, obj, bounds));\n      }\n\n      textLayer.appendChild(htmlElement);\n      var point = this.pdfViewerBase.getMousePosition(event);\n      htmlElement.setAttribute('style', 'height:' + bounds.height * zoomValue + 'px; width:' + bounds.width * zoomValue + 'px;left:' + point.x * zoomValue + 'px; top:' + point.y * zoomValue + 'px;' + 'position:absolute;opacity: 0.5;');\n    }\n  };\n  /**\n   * @private\n   */\n\n\n  FormDesigner.prototype.drawHTMLContent = function (formFieldAnnotationType, element, drawingObject, pageIndex, commandHandler) {\n    var textLayer = document.getElementById(this.pdfViewer.element.id + '_textLayer_' + pageIndex);\n    var canvasElement = document.getElementById(this.pdfViewer.element.id + '_pageCanvas_' + pageIndex);\n\n    if (element !== null && canvasElement !== null && textLayer !== null) {\n      var zoomValue = this.pdfViewerBase.getZoomFactor();\n      var htmlElement = void 0;\n      var parentHtmlElement = void 0;\n      var parentHtmlElementAttribute = {\n        'id': \"form_field_\" + element.id + '_html_element',\n        'class': 'foreign-object'\n      };\n      parentHtmlElement = this.createHtmlElement('div', parentHtmlElementAttribute);\n      var HtmlElementAttribute = {\n        'id': element.id + '_html_element',\n        'class': 'foreign-object'\n      };\n      htmlElement = this.createHtmlElement('div', HtmlElementAttribute);\n\n      if (formFieldAnnotationType === \"SignatureField\" || formFieldAnnotationType === \"InitialField\") {\n        element.template = htmlElement.appendChild(this.createSignatureDialog(commandHandler, drawingObject));\n      } else if (formFieldAnnotationType === \"DropdownList\") {\n        element.template = htmlElement.appendChild(this.createDropDownList(element, drawingObject));\n      } else if (formFieldAnnotationType === \"ListBox\") {\n        element.template = htmlElement.appendChild(this.createListBox(element, drawingObject));\n      } else {\n        element.template = htmlElement.appendChild(this.createInputElement(formFieldAnnotationType, drawingObject));\n      }\n\n      this.isSetFormFieldMode = false;\n      var divElement = document.createElement(\"div\");\n      divElement.id = drawingObject.id + '_designer_name';\n      divElement.style.fontSize = drawingObject.fontSize ? drawingObject.fontSize * zoomValue + 'px' : 10 * zoomValue + 'px';\n      divElement.className = \"e-pv-show-designer-name\";\n\n      if (this.pdfViewer.designerMode) {\n        divElement.innerHTML = drawingObject.name;\n        divElement.style.position = 'absolute';\n      } else {\n        divElement.innerHTML = \"\";\n        divElement.style.position = 'initial';\n      }\n\n      htmlElement.appendChild(divElement);\n      parentHtmlElement.appendChild(htmlElement);\n      textLayer.appendChild(parentHtmlElement);\n\n      if (formFieldAnnotationType === \"RadioButton\") {\n        if (document.getElementsByClassName(\"e-pv-radiobtn-span\").length > 0) {\n          var spanElement = document.getElementsByClassName(\"e-pv-radiobtn-span\");\n\n          for (var i = 0; i < spanElement.length; i++) {\n            var bounds = this.getCheckboxRadioButtonBounds(drawingObject);\n            spanElement[i].style.width = bounds.width - 10 + \"px\";\n            spanElement[i].style.height = bounds.height - 10 + \"px\";\n\n            if (parseInt(spanElement[i].style.width, 10) <= 1 || parseInt(spanElement[i].style.height, 10) <= 1) {\n              spanElement[i].style.width = \"1px\";\n              spanElement[i].style.height = \"1px\";\n              spanElement[i].style.margin = \"1px\";\n            }\n          }\n        }\n      }\n\n      var point = cornersPointsBeforeRotation(element).topLeft;\n      htmlElement.setAttribute('style', 'height:' + element.actualSize.height * zoomValue + 'px; width:' + element.actualSize.width * zoomValue + 'px;left:' + point.x * zoomValue + 'px; top:' + point.y * zoomValue + 'px;' + 'position:absolute;transform:rotate(' + (element.rotateAngle + element.parentTransform) + 'deg);' + 'pointer-events:' + (this.pdfViewer.designerMode ? 'none' : 'all') + ';visibility:' + (element.visible ? 'visible' : 'hidden') + ';opacity:' + element.style.opacity + ';');\n      this.updateFormDesignerFieldInSessionStorage(point, element, formFieldAnnotationType, drawingObject);\n      var field = {\n        name: drawingObject.name,\n        id: drawingObject.id,\n        value: drawingObject.value,\n        fontFamily: drawingObject.fontFamily,\n        fontSize: drawingObject.fontSize,\n        fontStyle: drawingObject.fontStyle,\n        color: drawingObject.color,\n        backgroundColor: drawingObject.backgroundColor,\n        alignment: drawingObject.alignment,\n        isReadonly: drawingObject.isReadonly,\n        visibility: drawingObject.visibility,\n        maxLength: drawingObject.maxLength,\n        isRequired: drawingObject.isRequired,\n        isPrint: drawingObject.isPrint,\n        rotation: drawingObject.rotateAngle,\n        tooltip: drawingObject.tooltip,\n        borderColor: drawingObject.borderColor,\n        thickness: drawingObject.thickness,\n        options: drawingObject.options,\n        pageNumber: drawingObject.pageNumber,\n        isChecked: drawingObject.isChecked,\n        isSelected: drawingObject.isSelected\n      };\n      this.pdfViewer.fireFormFieldAddEvent(\"formFieldAdd\", field, this.pdfViewerBase.activeElements.activePageID);\n    } else {\n      var point = cornersPointsBeforeRotation(element).topLeft;\n      this.updateFormDesignerFieldInSessionStorage(point, element, formFieldAnnotationType, drawingObject);\n    }\n\n    return element.template;\n  };\n  /**\n   * @private\n  */\n\n\n  FormDesigner.prototype.updateFormDesignerFieldInSessionStorage = function (point, element, formFieldType, drawingObject) {\n    var zoomValue = this.pdfViewerBase.getZoomFactor();\n    var formDesignObj = {\n      id: element.id,\n      lineBound: {\n        X: point.x * zoomValue,\n        Y: point.y * zoomValue,\n        Width: element.actualSize.width * zoomValue,\n        Height: element.actualSize.height * zoomValue\n      },\n      name: drawingObject.name,\n      zoomValue: zoomValue,\n      pageNumber: drawingObject.pageNumber,\n      value: drawingObject.value,\n      formFieldAnnotationType: formFieldType,\n      isMultiline: drawingObject.isMultiline,\n      signatureType: drawingObject.signatureType,\n      signatureBound: drawingObject.signatureBound,\n      fontFamily: drawingObject.fontFamily,\n      fontSize: drawingObject.fontSize,\n      fontStyle: drawingObject.fontStyle,\n      fontColor: this.getRgbCode(drawingObject.color),\n      borderColor: this.getRgbCode(drawingObject.borderColor),\n      thickness: drawingObject.thickness,\n      backgroundColor: this.getRgbCode(drawingObject.backgroundColor),\n      textAlign: drawingObject.alignment,\n      isChecked: drawingObject.isChecked,\n      isSelected: drawingObject.isSelected,\n      isReadonly: drawingObject.isReadonly,\n      font: {\n        isBold: drawingObject.font.isBold,\n        isItalic: drawingObject.font.isItalic,\n        isStrikeout: drawingObject.font.isStrikeout,\n        isUnderline: drawingObject.font.isUnderline\n      },\n      selectedIndex: drawingObject.selectedIndex,\n      radiobuttonItem: null,\n      option: drawingObject.options ? drawingObject.options : [],\n      visibility: drawingObject.visibility,\n      maxLength: drawingObject.maxLength,\n      isRequired: drawingObject.isRequired,\n      isPrint: drawingObject.isPrint,\n      rotation: drawingObject.rotateAngle,\n      tooltip: drawingObject.tooltip\n    };\n\n    if (formDesignObj.formFieldAnnotationType === \"RadioButton\") {\n      formDesignObj.radiobuttonItem = [];\n      formDesignObj.radiobuttonItem.push({\n        id: element.id,\n        lineBound: {\n          X: point.x * zoomValue,\n          Y: point.y * zoomValue,\n          Width: element.actualSize.width * zoomValue,\n          Height: element.actualSize.height * zoomValue\n        },\n        name: drawingObject.name,\n        zoomValue: zoomValue,\n        pageNumber: drawingObject.pageNumber,\n        value: drawingObject.value,\n        formFieldAnnotationType: formFieldType,\n        fontFamily: drawingObject.fontFamily,\n        fontSize: drawingObject.fontSize,\n        fontStyle: drawingObject.fontStyle,\n        fontColor: this.getRgbCode(drawingObject.color),\n        borderColor: this.getRgbCode(drawingObject.borderColor),\n        thickness: drawingObject.thickness,\n        backgroundColor: this.getRgbCode(drawingObject.backgroundColor),\n        textAlign: drawingObject.alignment,\n        isChecked: drawingObject.isChecked,\n        isSelected: drawingObject.isSelected,\n        isReadonly: drawingObject.isReadonly,\n        visibility: drawingObject.visibility,\n        maxLength: drawingObject.maxLength,\n        isRequired: drawingObject.isRequired,\n        isPrint: drawingObject.isPrint,\n        rotation: 0,\n        tooltip: drawingObject.tooltip\n      });\n    }\n\n    var isItemAdd = this.getRadioButtonItem(formDesignObj, drawingObject);\n\n    if (!isItemAdd) {\n      for (var i = 0; i < this.pdfViewerBase.formFieldCollection.length; i++) {\n        var formFieldElement = this.pdfViewerBase.formFieldCollection[i];\n\n        if (formFieldElement[\"Key\"] === formDesignObj.id) {\n          this.pdfViewerBase.formFieldCollection.splice(i, 1);\n          this.pdfViewerBase.formFieldCollection.push({\n            Key: element.id,\n            FormField: formDesignObj\n          });\n          this.isFormFieldExistingInCollection = true;\n        }\n      }\n\n      if (!this.isFormFieldExistingInCollection) {\n        this.pdfViewerBase.formFieldCollection.push({\n          Key: element.id,\n          FormField: formDesignObj\n        });\n      }\n\n      this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection, '_formDesigner');\n      this.isFormFieldExistingInCollection = false;\n\n      if (this.pdfViewerBase.formFieldCollection.length > 0) {\n        this.pdfViewerBase.enableFormFieldButton(true);\n      } else {\n        this.pdfViewerBase.enableFormFieldButton(false);\n      }\n    }\n  };\n\n  FormDesigner.prototype.getRadioButtonItem = function (radiobutton, formFieldProperty) {\n    var data = this.pdfViewerBase.getItemFromSessionStorage('_formDesigner');\n\n    if (data) {\n      var formFieldsData = JSON.parse(data);\n      var isItemAdd = false;\n\n      for (var i = 0; i < formFieldsData.length; i++) {\n        var currentData = formFieldsData[i];\n        var radiobuttonItem = void 0;\n\n        if (radiobutton.formFieldAnnotationType === \"RadioButton\") {\n          if (radiobutton.radiobuttonItem && currentData.FormField.radiobuttonItem) {\n            for (var m = 0; m < currentData.FormField.radiobuttonItem.length; m++) {\n              if (currentData.FormField.radiobuttonItem[m].id === radiobutton.id) {\n                radiobuttonItem = {\n                  lineBound: radiobutton.lineBound,\n                  id: radiobutton.id,\n                  name: radiobutton.name,\n                  zoomValue: radiobutton.zoomValue,\n                  pageNumber: radiobutton.pageNumber,\n                  value: radiobutton.value,\n                  formFieldAnnotationType: radiobutton.formFieldAnnotationType,\n                  fontFamily: radiobutton.fontFamily,\n                  fontSize: radiobutton.fontSize,\n                  fontStyle: radiobutton.fontStyle,\n                  fontColor: this.getRgbCode(formFieldProperty.color),\n                  borderColor: this.getRgbCode(formFieldProperty.borderColor),\n                  thickness: formFieldProperty.thickness,\n                  backgroundColor: this.getRgbCode(formFieldProperty.backgroundColor),\n                  textAlign: radiobutton.textAlign,\n                  isChecked: radiobutton.isChecked,\n                  isSelected: radiobutton.isSelected,\n                  isReadonly: radiobutton.isReadonly,\n                  visibility: radiobutton.visibility,\n                  maxLength: radiobutton.maxLength,\n                  isRequired: radiobutton.isRequired,\n                  isPrint: radiobutton.isPrint,\n                  rotation: 0,\n                  tooltip: radiobutton.tooltip\n                };\n                currentData.FormField.radiobuttonItem.splice(m, 1);\n                currentData.FormField.radiobuttonItem.push(radiobuttonItem);\n\n                if (!isNullOrUndefined(this.pdfViewerBase.formFieldCollection[i])) {\n                  if (this.pdfViewerBase.formFieldCollection[i].FormField.name === currentData.FormField.name) {\n                    this.pdfViewerBase.formFieldCollection[i].FormField.radiobuttonItem = currentData.FormField.radiobuttonItem;\n                    isItemAdd = true;\n                  }\n                }\n\n                break;\n              } else {\n                if (radiobutton.formFieldAnnotationType === currentData.FormField.formFieldAnnotationType && radiobutton.name === currentData.FormField.name) {\n                  radiobuttonItem = {\n                    lineBound: radiobutton.lineBound,\n                    id: radiobutton.id,\n                    name: radiobutton.name,\n                    zoomValue: radiobutton.zoomValue,\n                    pageNumber: radiobutton.pageNumber,\n                    value: radiobutton.value,\n                    formFieldAnnotationType: radiobutton.formFieldAnnotationType,\n                    fontFamily: radiobutton.fontFamily,\n                    fontSize: radiobutton.fontSize,\n                    fontStyle: radiobutton.fontStyle,\n                    fontColor: this.getRgbCode(formFieldProperty.color),\n                    borderColor: this.getRgbCode(formFieldProperty.borderColor),\n                    thickness: formFieldProperty.thickness,\n                    backgroundColor: this.getRgbCode(formFieldProperty.backgroundColor),\n                    textAlign: radiobutton.textAlign,\n                    isChecked: radiobutton.isChecked,\n                    isSelected: radiobutton.isSelected,\n                    isReadonly: radiobutton.isReadonly,\n                    visibility: radiobutton.visibility,\n                    maxLength: radiobutton.maxLength,\n                    isRequired: radiobutton.isRequired,\n                    isPrint: radiobutton.isPrint,\n                    rotation: 0,\n                    tooltip: radiobutton.tooltip\n                  };\n                  var isContainsRadiobuttonItem = false;\n\n                  for (var i_1 = 0; i_1 < currentData.FormField.radiobuttonItem.length; i_1++) {\n                    if (currentData.FormField.radiobuttonItem[i_1].id === radiobuttonItem.id) {\n                      currentData.FormField.radiobuttonItem[i_1] = radiobuttonItem;\n                      isContainsRadiobuttonItem = true;\n                      break;\n                    }\n                  }\n\n                  if (!isContainsRadiobuttonItem) {\n                    currentData.FormField.radiobuttonItem.push(radiobuttonItem);\n                  }\n\n                  if (!isNullOrUndefined(this.pdfViewerBase.formFieldCollection[i])) {\n                    this.pdfViewerBase.formFieldCollection[i].FormField.radiobuttonItem = currentData.FormField.radiobuttonItem;\n                    isItemAdd = true;\n\n                    for (var l = 0; l < this.pdfViewerBase.formFieldCollection.length; l++) {\n                      var formFieldElement = this.pdfViewerBase.formFieldCollection[l];\n\n                      if (formFieldElement[\"Key\"] === radiobuttonItem.id) {\n                        this.pdfViewerBase.formFieldCollection.splice(l, 1);\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n\n      if (isItemAdd) {\n        this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection, '_formDesigner');\n      }\n    }\n\n    return isItemAdd;\n  }; // eslint-disable-next-line\n\n\n  FormDesigner.prototype.getRgbCode = function (colorString) {\n    if (!colorString.match(/#([a-z0-9]+)/gi) && !colorString.match(/^rgba?\\((\\d+),\\s*(\\d+),\\s*(\\d+)(?:,\\s*(\\d+(?:\\.\\d+)?))?\\)$/)) {\n      var colorCode = this.nameToHash(colorString);\n      if (colorCode != \"\") colorString = colorCode;\n    }\n\n    var stringArray = colorString.split(',');\n\n    if (isNullOrUndefined(stringArray[1])) {\n      colorString = this.getValue(colorString, 'rgba');\n      stringArray = colorString.split(',');\n    } // eslint-disable-next-line radix\n\n\n    var r = parseInt(stringArray[0].split('(')[1]); // eslint-disable-next-line radix\n\n    var g = parseInt(stringArray[1]); // eslint-disable-next-line radix\n\n    var b = parseInt(stringArray[2]); // eslint-disable-next-line radix\n\n    var a = parseFloat(stringArray[3]) * 100;\n\n    if (isNaN(a)) {\n      a = 0;\n    }\n\n    return {\n      r: r,\n      g: g,\n      b: b,\n      a: a\n    };\n  };\n  /**\n   * @param colour\n   * @private\n   */\n  // eslint-disable-next-line\n\n\n  FormDesigner.prototype.nameToHash = function (colour) {\n    // eslint-disable-next-line\n    var colours = {\n      'aliceblue': '#f0f8ff',\n      'antiquewhite': '#faebd7',\n      'aqua': '#00ffff',\n      'aquamarine': '#7fffd4',\n      'azure': '#f0ffff',\n      'beige': '#f5f5dc',\n      'bisque': '#ffe4c4',\n      'black': '#000000',\n      'blanchedalmond': '#ffebcd',\n      'blue': '#0000ff',\n      'blueviolet': '#8a2be2',\n      'brown': '#a52a2a',\n      'burlywood': '#deb887',\n      'yellow': '#ffff00',\n      'yellowgreen': '#9acd32',\n      'cadetblue': '#5f9ea0',\n      'chartreuse': '#7fff00',\n      'chocolate': '#d2691e',\n      'coral': '#ff7f50',\n      'cornflowerblue': '#6495ed',\n      'cornsilk': '#fff8dc',\n      'crimson': '#dc143c',\n      'cyan': '#00ffff',\n      'darkblue': '#00008b',\n      'darkcyan': '#008b8b',\n      'darkgoldenrod': '#b8860b',\n      'darkgray': '#a9a9a9',\n      'darkred': '#8b0000',\n      'darksalmon': '#e9967a',\n      'darkgreen': '#006400',\n      'darkkhaki': '#bdb76b',\n      'darkmagenta': '#8b008b',\n      'darkolivegreen': '#556b2f',\n      'darkorange': '#ff8c00',\n      'darkorchid': '#9932cc',\n      'darkseagreen': '#8fbc8f',\n      'darkslateblue': '#483d8b',\n      'darkslategray': '#2f4f4f',\n      'darkturquoise': '#00ced1',\n      'darkviolet': '#9400d3',\n      'deeppink': '#ff1493',\n      'deepskyblue': '#00bfff',\n      'dimgray': '#696969',\n      'dodgerblue': '#1e90ff',\n      'firebrick': '#b22222',\n      'floralwhite': '#fffaf0',\n      'forestgreen': '#228b22',\n      'fuchsia': '#ff00ff',\n      'gainsboro': '#dcdcdc',\n      'ghostwhite': '#f8f8ff',\n      'gold': '#ffd700',\n      'goldenrod': '#daa520',\n      'gray': '#808080',\n      'green': '#008000',\n      'greenyellow': '#adff2f',\n      'honeydew': '#f0fff0',\n      'hotpink': '#ff69b4',\n      'indianred ': '#cd5c5c',\n      'mediumorchid': '#ba55d3',\n      'mediumpurple': '#9370d8',\n      'indigo': '#4b0082',\n      'ivory': '#fffff0',\n      'navy': '#000080',\n      'oldlace': '#fdf5e6',\n      'olive': '#808000',\n      'khaki': '#f0e68c',\n      'lavender': '#e6e6fa',\n      'lavenderblush': '#fff0f5',\n      'lawngreen': '#7cfc00',\n      'lemonchiffon': '#fffacd',\n      'lightblue': '#add8e6',\n      'lightcoral': '#f08080',\n      'lightcyan': '#e0ffff',\n      'lightgoldenrodyellow': '#fafad2',\n      'lightgrey': '#d3d3d3',\n      'lightgreen': '#90ee90',\n      'lightpink': '#ffb6c1',\n      'lightsalmon': '#ffa07a',\n      'lightseagreen': '#20b2aa',\n      'lightskyblue': '#87cefa',\n      'lightslategray': '#778899',\n      'lightsteelblue': '#b0c4de',\n      'lightyellow': '#ffffe0',\n      'lime': '#00ff00',\n      'limegreen': '#32cd32',\n      'linen': '#faf0e6',\n      'magenta': '#ff00ff',\n      'maroon': '#800000',\n      'mediumaquamarine': '#66cdaa',\n      'mediumblue': '#0000cd',\n      'mediumseagreen': '#3cb371',\n      'mediumslateblue': '#7b68ee',\n      'mediumspringgreen': '#00fa9a',\n      'mediumturquoise': '#48d1cc',\n      'mediumvioletred': '#c71585',\n      'midnightblue': '#191970',\n      'mintcream': '#f5fffa',\n      'mistyrose': '#ffe4e1',\n      'moccasin': '#ffe4b5',\n      'navajowhite': '#ffdead',\n      'rebeccapurple': '#663399',\n      'red': '#ff0000',\n      'rosybrown': '#bc8f8f',\n      'royalblue': '#4169e1',\n      'olivedrab': '#6b8e23',\n      'orange': '#ffa500',\n      'orangered': '#ff4500',\n      'orchid': '#da70d6',\n      'palegoldenrod': '#eee8aa',\n      'palegreen': '#98fb98',\n      'paleturquoise': '#afeeee',\n      'palevioletred': '#d87093',\n      'papayawhip': '#ffefd5',\n      'peachpuff': '#ffdab9',\n      'peru': '#cd853f',\n      'wheat': '#f5deb3',\n      'white': '#ffffff',\n      'whitesmoke': '#f5f5f5',\n      'pink': '#ffc0cb',\n      'plum': '#dda0dd',\n      'steelblue': '#4682b4',\n      'violet': '#ee82ee',\n      'powderblue': '#b0e0e6',\n      'purple': '#800080',\n      'saddlebrown': '#8b4513',\n      'salmon': '#fa8072',\n      'sandybrown': '#f4a460',\n      'seagreen': '#2e8b57',\n      'seashell': '#fff5ee',\n      'sienna': '#a0522d',\n      'silver': '#c0c0c0',\n      'skyblue': '#87ceeb',\n      'slateblue': '#6a5acd',\n      'slategray': '#708090',\n      'snow': '#fffafa',\n      'springgreen': '#00ff7f',\n      'tan': '#d2b48c',\n      'teal': '#008080',\n      'thistle': '#d8bfd8',\n      'tomato': '#ff6347',\n      'turquoise': '#40e0d0'\n    };\n\n    if (typeof colours[colour.toLowerCase()] !== 'undefined') {\n      return colours[colour.toLowerCase()];\n    }\n\n    return '';\n  };\n  /**\n   * @param value\n   * @param type\n   * @param value\n   * @param type\n   * @private\n   */\n\n\n  FormDesigner.prototype.getValue = function (value, type) {\n    type = !type ? 'hex' : type.toLowerCase();\n\n    if (value[0] === 'r') {\n      var cValue = this.convertRgbToNumberArray(value);\n\n      if (type === 'hex' || type === 'hexa') {\n        var hex = this.rgbToHex(cValue);\n        return type === 'hex' ? hex.slice(0, 7) : hex;\n      } else {\n        if (type === 'hsv') {\n          return this.convertToHsvString(this.rgbToHsv.apply(this, cValue.slice(0, 3)));\n        } else {\n          if (type === 'hsva') {\n            return this.convertToHsvString(this.rgbToHsv.apply(this, cValue));\n          } else {\n            return 'null';\n          }\n        }\n      }\n    } else {\n      if (value[0] === 'h') {\n        var cValue = this.hsvToRgb.apply(this, this.convertRgbToNumberArray(value));\n\n        if (type === 'rgba') {\n          return this.convertToRgbString(cValue);\n        } else {\n          if (type === 'hex' || type === 'hexa') {\n            var hex = this.rgbToHex(cValue);\n            return type === 'hex' ? hex.slice(0, 7) : hex;\n          } else {\n            if (type === 'rgb') {\n              return this.convertToRgbString(cValue.slice(0, 3));\n            } else {\n              return 'null';\n            }\n          }\n        }\n      } else {\n        value = this.roundValue(value);\n        var rgb = this.hexToRgb(value);\n\n        if (type === 'rgb' || type === 'hsv') {\n          rgb = rgb.slice(0, 3);\n        }\n\n        if (type === 'rgba' || type === 'rgb') {\n          return this.convertToRgbString(rgb);\n        } else {\n          if (type === 'hsva' || type === 'hsv') {\n            return this.convertToHsvString(this.rgbToHsv.apply(this, rgb));\n          } else {\n            if (type === 'hex') {\n              return value.slice(0, 7);\n            } else {\n              if (type === 'a') {\n                return rgb[3].toString();\n              } else {\n                return 'null';\n              }\n            }\n          }\n        }\n      }\n    }\n  };\n\n  FormDesigner.prototype.convertRgbToNumberArray = function (value) {\n    // eslint-disable-next-line max-len\n    return value.slice(value.indexOf('(') + 1, value.indexOf(')')).split(',').map(function (n, i) {\n      return i !== 3 ? parseInt(n, 10) : parseFloat(n);\n    });\n  };\n\n  FormDesigner.prototype.convertToRgbString = function (rgb) {\n    return rgb.length ? rgb.length === 4 ? 'rgba(' + rgb.join() + ')' : 'rgb(' + rgb.join() + ')' : '';\n  };\n\n  FormDesigner.prototype.convertToHsvString = function (hsv) {\n    return hsv.length === 4 ? 'hsva(' + hsv.join() + ')' : 'hsv(' + hsv.join() + ')';\n  };\n\n  FormDesigner.prototype.roundValue = function (value) {\n    if (!value) {\n      return '';\n    }\n\n    if (value[0] !== '#') {\n      value = '#' + value;\n    }\n\n    var len = value.length;\n\n    if (len === 4) {\n      value += 'f';\n      len = 5;\n    }\n\n    if (len === 5) {\n      var tempValue = '';\n\n      for (var i = 1, len_1 = value.length; i < len_1; i++) {\n        tempValue += value.charAt(i) + value.charAt(i);\n      }\n\n      value = '#' + tempValue;\n      len = 9;\n    }\n\n    if (len === 7) {\n      value += 'ff';\n    }\n\n    return value;\n  };\n\n  FormDesigner.prototype.hexToRgb = function (hex) {\n    if (!hex) {\n      return [];\n    }\n\n    hex = hex.trim();\n\n    if (hex.length !== 9) {\n      hex = this.roundValue(hex);\n    }\n\n    var opacity = Number((parseInt(hex.slice(-2), 16) / 255).toFixed(2));\n    hex = hex.slice(1, 7);\n    var bigInt = parseInt(hex, 16);\n    var h = [];\n    h.push(bigInt >> 16 & 255);\n    h.push(bigInt >> 8 & 255);\n    h.push(bigInt & 255);\n    h.push(opacity);\n    return h;\n  };\n\n  FormDesigner.prototype.rgbToHsv = function (r, g, b, opacity) {\n    r /= 255;\n    g /= 255;\n    b /= 255;\n    var max = Math.max(r, g, b);\n    var min = Math.min(r, g, b);\n    var h;\n    var s;\n    var v = max;\n    var d = max - min;\n    s = max === 0 ? 0 : d / max;\n\n    if (max === min) {\n      h = 0;\n    } else {\n      switch (max) {\n        case r:\n          h = (g - b) / d + (g < b ? 6 : 0);\n          break;\n\n        case g:\n          h = (b - r) / d + 2;\n          break;\n\n        case b:\n          h = (r - g) / d + 4;\n          break;\n      }\n\n      h /= 6;\n    }\n\n    var hsv = [Math.round(h * 360), Math.round(s * 1000) / 10, Math.round(v * 1000) / 10];\n\n    if (!isNullOrUndefined(opacity)) {\n      hsv.push(opacity);\n    }\n\n    return hsv;\n  };\n\n  FormDesigner.prototype.hsvToRgb = function (h, s, v, opacity) {\n    var r;\n    var g;\n    var b;\n    var i;\n    var f;\n    var p;\n    var q;\n    var t;\n    s /= 100;\n    v /= 100;\n\n    if (s === 0) {\n      r = g = b = v;\n      return [Math.round(r * 255), Math.round(g * 255), Math.round(b * 255), opacity];\n    }\n\n    h /= 60;\n    i = Math.floor(h);\n    f = h - i;\n    p = v * (1 - s);\n    q = v * (1 - s * f);\n    t = v * (1 - s * (1 - f));\n\n    switch (i) {\n      case 0:\n        r = v;\n        g = t;\n        b = p;\n        break;\n\n      case 1:\n        r = q;\n        g = v;\n        b = p;\n        break;\n\n      case 2:\n        r = p;\n        g = v;\n        b = t;\n        break;\n\n      case 3:\n        r = p;\n        g = q;\n        b = v;\n        break;\n\n      case 4:\n        r = t;\n        g = p;\n        b = v;\n        break;\n\n      default:\n        r = v;\n        g = p;\n        b = q;\n    }\n\n    var rgb = [Math.round(r * 255), Math.round(g * 255), Math.round(b * 255)];\n\n    if (!isNullOrUndefined(opacity)) {\n      rgb.push(opacity);\n    }\n\n    return rgb;\n  };\n\n  FormDesigner.prototype.rgbToHex = function (rgb) {\n    // eslint-disable-next-line max-len\n    return rgb.length ? '#' + this.hex(rgb[0]) + this.hex(rgb[1]) + this.hex(rgb[2]) + (!isNullOrUndefined(rgb[3]) ? rgb[3] !== 0 ? (Math.round(rgb[3] * 255) + 0x10000).toString(16).substr(-2) : '00' : '') : '';\n  };\n  /**\n   * @private\n   */\n\n\n  FormDesigner.prototype.updateCanvas = function (pageNumber, canvas) {\n    if (canvas !== null && canvas !== undefined) {\n      canvas = canvas;\n    } else {\n      canvas = this.pdfViewerBase.getElement('_annotationCanvas_' + pageNumber);\n      var zoom = this.pdfViewerBase.getZoomFactor();\n      var ratio = this.pdfViewerBase.getZoomRatio(zoom);\n\n      if (canvas) {\n        var width = this.pdfViewerBase.pageSize[pageNumber].width;\n        var height = this.pdfViewerBase.pageSize[pageNumber].height;\n        canvas.width = width * ratio;\n        canvas.height = height * ratio;\n        canvas.style.width = width * zoom + 'px';\n        canvas.style.height = height * zoom + 'px';\n      }\n    }\n\n    this.pdfViewer.drawing.refreshCanvasDiagramLayer(canvas, pageNumber);\n  };\n  /**\n   * @private\n  */\n\n\n  FormDesigner.prototype.rerenderFormFields = function (pageIndex) {\n    var zoomValue = this.pdfViewerBase.getZoomFactor();\n    var data = this.pdfViewerBase.getItemFromSessionStorage('_formDesigner');\n\n    if (data) {\n      var formFieldsData = JSON.parse(data);\n      var textLayer = document.getElementById(this.pdfViewer.element.id + '_textLayer_' + pageIndex);\n      var canvasElement = document.getElementById(this.pdfViewer.element.id + '_pageCanvas_' + pageIndex);\n\n      if (formFieldsData !== null && canvasElement !== null && textLayer !== null) {\n        for (var i = 0; i < formFieldsData.length; i++) {\n          // eslint-disable-next-line\n          var currentData = formFieldsData[i].FormField;\n\n          if (currentData.pageNumber === pageIndex + 1) {\n            var domElementId = document.getElementById('form_field_' + currentData.id + '_html_element');\n\n            if (!domElementId) {\n              var signatureField = this.pdfViewer.nameTable[formFieldsData[i].Key.split(\"_\")[0]];\n              var element = signatureField.wrapper.children[0];\n\n              if (element) {\n                if (currentData.formFieldAnnotationType === \"RadioButton\") {\n                  for (var j = 0; j < currentData.radiobuttonItem.length; j++) {\n                    signatureField = this.pdfViewer.nameTable[currentData.radiobuttonItem[j].id.split(\"_\")[0]];\n                    element = signatureField.wrapper.children[0];\n                    currentData.radiobuttonItem[j] = this.renderFormFieldsInZooming(element, currentData.radiobuttonItem[j], signatureField, zoomValue);\n                    this.pdfViewerBase.formFieldCollection[i].FormField.radiobuttonItem[j].lineBound = currentData.radiobuttonItem[j].lineBound;\n                    this.pdfViewerBase.formFieldCollection[i].FormField.radiobuttonItem[j].zoomValue = zoomValue;\n                  }\n                } else {\n                  currentData.lineBound = this.renderFormFieldsInZooming(element, currentData, signatureField, zoomValue).lineBound;\n                  this.pdfViewerBase.formFieldCollection[i].FormField.lineBound = currentData.lineBound;\n                  this.pdfViewerBase.formFieldCollection[i].FormField.zoomValue = zoomValue;\n                }\n\n                this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection, '_formDesigner');\n              }\n            }\n          }\n        }\n      }\n    }\n  };\n\n  FormDesigner.prototype.renderFormFieldsInZooming = function (element, currentData, signatureField, zoomValue) {\n    if (element) {\n      var htmlElement = void 0;\n      var parentHtmlElement = void 0;\n      var parentHtmlElementAttribute = {\n        'id': \"form_field_\" + element.id + '_html_element',\n        'class': 'foreign-object'\n      };\n      parentHtmlElement = this.createHtmlElement('div', parentHtmlElementAttribute);\n      var HtmlElementAttribute = {\n        'id': element.id + '_html_element',\n        'class': 'foreign-object'\n      };\n      htmlElement = this.createHtmlElement('div', HtmlElementAttribute);\n\n      if (currentData.formFieldAnnotationType === \"SignatureField\" || currentData.formFieldAnnotationType === \"InitialField\") {\n        this.disableSignatureClickEvent = true;\n        signatureField.value = currentData.value;\n        signatureField.signatureType = currentData.signatureType;\n        signatureField.signatureBound = currentData.signatureBound;\n        element.template = htmlElement.appendChild(this.createSignatureDialog(this.pdfViewer, signatureField));\n        this.disableSignatureClickEvent = false;\n      } else if (currentData.formFieldAnnotationType === \"DropdownList\") {\n        element.template = htmlElement.appendChild(this.createDropDownList(element, signatureField));\n      } else if (currentData.formFieldAnnotationType === \"ListBox\") {\n        element.template = htmlElement.appendChild(this.createListBox(element, signatureField));\n      } else {\n        element.template = htmlElement.appendChild(this.createInputElement(currentData.formFieldAnnotationType, signatureField));\n      }\n\n      var divElement = document.createElement(\"div\");\n      divElement.id = signatureField.id + '_designer_name';\n      divElement.style.fontSize = signatureField.fontSize ? signatureField.fontSize * zoomValue + 'px' : 10 * zoomValue + 'px';\n      divElement.className = \"e-pv-show-designer-name\";\n\n      if (this.pdfViewer.designerMode) {\n        divElement.innerHTML = signatureField.name;\n        divElement.style.position = 'absolute';\n      } else {\n        divElement.innerHTML = \"\";\n        divElement.style.position = 'initial';\n      }\n\n      htmlElement.appendChild(divElement);\n      parentHtmlElement.appendChild(htmlElement);\n      var textLayer = document.getElementById(this.pdfViewer.element.id + '_textLayer_' + (currentData.pageNumber - 1));\n      textLayer.appendChild(parentHtmlElement);\n\n      if (signatureField.formFieldAnnotationType === \"RadioButton\") {\n        if (document.getElementsByClassName(\"e-pv-radiobtn-span\").length > 0) {\n          var bounds = this.getCheckboxRadioButtonBounds(signatureField);\n          var spanElement = document.getElementsByClassName(\"e-pv-radiobtn-span\"); // this.renderRadioButtonSpan(spanElement, bounds, zoomValue);\n        }\n      }\n\n      var point = cornersPointsBeforeRotation(signatureField.wrapper.children[0]).topLeft;\n      htmlElement.setAttribute('style', 'height:' + element.actualSize.height * zoomValue + 'px; width:' + element.actualSize.width * zoomValue + 'px;left:' + point.x * zoomValue + 'px; top:' + point.y * zoomValue + 'px;' + 'position:absolute;transform:rotate(' + (element.rotateAngle + element.parentTransform) + 'deg);' + 'pointer-events:' + (this.pdfViewer.designerMode ? 'none' : 'all') + ';visibility:' + (element.visible ? 'visible' : 'hidden') + ';opacity:' + element.style.opacity + ';');\n      currentData.lineBound = {\n        X: point.x * zoomValue,\n        Y: point.y * zoomValue,\n        Width: element.actualSize.width * zoomValue,\n        Height: element.actualSize.height * zoomValue\n      };\n    }\n\n    return currentData;\n  };\n  /* This method was commented for this task ID EJ2-61222, A method renderRadioButtonSpan was\n      implemented and the values which was already taken from getCheckBoxRadioButtonBounds,\n      are again calculated based on zoomValues and the size of the radio button was changed.\n      This makes the radio button big in size. Refer previous task IDs EJ2-50668 and EJ2-57850 Where these lines were added. */\n\n  /* private renderRadioButtonSpan(spanElement: HTMLCollectionOf<Element>, bounds: any, zoomValue: number): void {\n      for (let i: number = 0; i < spanElement.length; i++) {\n          (spanElement as any)[i].style.width = Math.floor(bounds.width - 10) + \"px\";\n          (spanElement as any)[i].style.height = Math.floor(bounds.height - 10) + \"px\";\n          if (bounds.width <= 14 && parseInt((spanElement as any)[i].style.width, 10) >= 2) {\n              if (parseInt((spanElement as any)[i].style.width, 10) <= 5) {\n                  if (bounds.width > 10) {\n                      (spanElement as any)[i].style.width = Math.floor(bounds.width / (1 + zoomValue)) + \"px\";\n                      (spanElement as any)[i].style.height = Math.floor(bounds.height / (1 + zoomValue)) + \"px\";\n                      (spanElement as any)[i].style.margin = Math.round(bounds.width / 4) + \"px\";\n                  }\n                  else if (bounds.width < 10 && bounds.width > 5) {\n                      (spanElement as any)[i].style.width = (bounds.width / 1.85) + \"px\";\n                      (spanElement as any)[i].style.height = (bounds.height / 1.85) + \"px\";\n                  }\n                  else if (bounds.width <= 5) {\n                      (spanElement as any)[i].style.width = (bounds.width / 1.85) + \"px\";\n                      (spanElement as any)[i].style.height = (bounds.height / 1.85) + \"px\";\n                      (spanElement as any)[i].style.margin = (bounds.width / 3.5) + \"px\";\n                  }\n              }\n          }\n          if (parseInt((spanElement as any)[i].style.width, 10) <= 1 || parseInt((spanElement as any)[i].style.height, 10) <= 1) {\n              if ((bounds.width * zoomValue) >= 2) {\n                  (spanElement as any)[i].style.width = Math.round(bounds.width / 1.65) + \"px\";\n                  (spanElement as any)[i].style.height = Math.round(bounds.height / 1.65) + \"px\";\n                  (spanElement as any)[i].style.margin = bounds.width / 3.8 + \"px\";;\n              } else {\n                  (spanElement as any)[i].style.width = \"1px\";\n                  (spanElement as any)[i].style.height = \"1px\";\n                  (spanElement as any)[i].style.margin = \"1px\";\n              }\n          }\n          if (bounds.width > 14) {\n              (spanElement as any)[i].style.width = (bounds.width / 2) + \"px\";\n              (spanElement[i] as any).style.height = (bounds.height / 2) + \"px\";\n          }\n          if (zoomValue <= 1 && zoomValue > 0.70) {\n              (spanElement as any)[i].style.width = (bounds.width / 1.85) + \"px\";\n              (spanElement[i] as any).style.height = (bounds.height / 1.85) + \"px\";\n          }\n       }\n  }\n  */\n\n  /**\n   * @private\n   */\n\n\n  FormDesigner.prototype.updateFormFieldInitialSize = function (obj, formFieldAnnotationType) {\n    var zoomValue = this.pdfViewerBase.getZoomFactor();\n\n    switch (formFieldAnnotationType) {\n      case 'Textbox':\n        obj.width = 200 * zoomValue;\n        obj.height = 24 * zoomValue;\n        break;\n\n      case 'PasswordField':\n        obj.width = 200 * zoomValue;\n        obj.height = 24 * zoomValue;\n        break;\n\n      case 'SignatureField':\n      case 'InitialField':\n        obj.width = 200 * zoomValue;\n        obj.height = 63 * zoomValue;\n        break;\n\n      case 'Checkbox':\n        obj.width = 20 * zoomValue;\n        obj.height = 20 * zoomValue;\n        break;\n\n      case 'RadioButton':\n        obj.width = 20 * zoomValue;\n        obj.height = 20 * zoomValue;\n        break;\n\n      case 'DropdownList':\n        obj.width = 200 * zoomValue;\n        obj.height = 24 * zoomValue;\n        break;\n\n      case 'ListBox':\n        obj.width = 198 * zoomValue;\n        obj.height = 66 * zoomValue;\n        break;\n    }\n\n    return {\n      width: obj.width,\n      height: obj.height\n    };\n  };\n  /**\n   * @private\n  */\n\n\n  FormDesigner.prototype.updateHTMLElement = function (actualObject) {\n    var element = actualObject.wrapper.children[0];\n    var zoomValue = this.pdfViewerBase.getZoomFactor();\n\n    if (element) {\n      var htmlElement = document.getElementById(element.id + \"_html_element\");\n\n      if (!isNullOrUndefined(htmlElement)) {\n        var point = cornersPointsBeforeRotation(actualObject.wrapper.children[0]).topLeft;\n        htmlElement.setAttribute('style', 'height:' + element.actualSize.height * zoomValue + 'px; width:' + element.actualSize.width * zoomValue + 'px;left:' + point.x * zoomValue + 'px; top:' + point.y * zoomValue + 'px;' + 'position:absolute;transform:rotate(' + (element.rotateAngle + element.parentTransform) + 'deg);' + 'pointer-events:' + (this.pdfViewer.designerMode ? 'none' : 'all') + ';visibility:' + (element.visible ? 'visible' : 'hidden') + ';opacity:' + element.style.opacity + ';');\n        var data = this.pdfViewerBase.getItemFromSessionStorage('_formDesigner');\n\n        if (actualObject.formFieldAnnotationType === \"RadioButton\") {\n          var labelContainer = htmlElement.firstElementChild.firstElementChild;\n          var spanElement = htmlElement.firstElementChild.firstElementChild.lastElementChild;\n\n          if (element.actualSize.width > element.actualSize.height) {\n            htmlElement.firstElementChild.style.display = \"inherit\";\n            labelContainer.style.width = labelContainer.style.height = element.actualSize.height * zoomValue + \"px\";\n            spanElement.style.width = spanElement.style.height = element.actualSize.height - 10 + \"px\";\n          } else {\n            htmlElement.firstElementChild.style.display = \"flex\";\n            labelContainer.style.width = labelContainer.style.height = element.actualSize.width * zoomValue + \"px\";\n            spanElement.style.width = spanElement.style.height = element.actualSize.width - 10 + \"px\";\n          }\n        }\n\n        if (actualObject.formFieldAnnotationType === \"Checkbox\") {\n          var minCheckboxWidth = 20;\n          var labelContainer = htmlElement.firstElementChild.firstElementChild;\n          var spanElement = htmlElement.firstElementChild.firstElementChild.lastElementChild.firstElementChild;\n\n          if (element.actualSize.width > element.actualSize.height) {\n            htmlElement.firstElementChild.style.display = \"inherit\";\n            labelContainer.style.width = labelContainer.style.height = element.actualSize.height * zoomValue + \"px\";\n            spanElement.style.width = element.actualSize.height / 5 * zoomValue + \"px\";\n            spanElement.style.height = element.actualSize.height / 2.5 * zoomValue + \"px\";\n            spanElement.style.left = element.actualSize.height / 2.5 * zoomValue + \"px\";\n            spanElement.style.top = element.actualSize.height / 5 * zoomValue + \"px\";\n          } else {\n            htmlElement.firstElementChild.style.display = \"flex\";\n            labelContainer.style.width = labelContainer.style.height = element.actualSize.width * zoomValue + \"px\";\n            spanElement.style.width = element.actualSize.width / 5 * zoomValue + \"px\";\n            spanElement.style.height = element.actualSize.width / 2.5 * zoomValue + \"px\";\n            spanElement.style.left = element.actualSize.width / 2.5 * zoomValue + \"px\";\n            spanElement.style.top = element.actualSize.width / 5 * zoomValue + \"px\";\n          }\n\n          if (spanElement.className.indexOf(\"e-pv-cb-checked\") !== -1) {\n            var checkboxWidth = parseInt(labelContainer.style.width, 10);\n\n            if (checkboxWidth > minCheckboxWidth) {\n              spanElement.style.borderWidth = \"3px\";\n            } else if (checkboxWidth <= 15) {\n              spanElement.style.borderWidth = \"1px\";\n            } else {\n              spanElement.style.borderWidth = \"2px\";\n            }\n          }\n        }\n\n        if (actualObject.formFieldAnnotationType === \"SignatureField\") {\n          var signatureDiv = htmlElement.firstElementChild.firstElementChild;\n          var indicatorSpan = signatureDiv.nextElementSibling;\n          var bounds = this.getBounds(indicatorSpan);\n          var options = {\n            height: element.actualSize.height,\n            width: element.actualSize.width,\n            signatureIndicatorSettings: {\n              text: indicatorSpan.textContent,\n              width: bounds.width,\n              height: bounds.height\n            }\n          };\n          this.updateSignatureIndicator(actualObject, options, signatureDiv);\n        }\n\n        var formFieldsData = JSON.parse(data);\n\n        for (var i = 0; i < formFieldsData.length; i++) {\n          if (formFieldsData[i].FormField.formFieldAnnotationType === \"RadioButton\") {\n            for (var j = 0; j < formFieldsData[i].FormField.radiobuttonItem.length; j++) {\n              if (element.id === formFieldsData[i].FormField.radiobuttonItem[j].id) {\n                this.pdfViewerBase.formFieldCollection[i].FormField.radiobuttonItem[j].lineBound = {\n                  X: point.x * zoomValue,\n                  Y: point.y * zoomValue,\n                  Width: element.actualSize.width * zoomValue,\n                  Height: element.actualSize.height * zoomValue\n                };\n                this.pdfViewerBase.formFieldCollection[i].FormField.radiobuttonItem[j].zoomValue = zoomValue;\n                break;\n              }\n            }\n          } else {\n            if (formFieldsData[i].Key === element.id) {\n              formFieldsData[i].FormField.lineBound = {\n                X: point.x * zoomValue,\n                Y: point.y * zoomValue,\n                Width: element.actualSize.width * zoomValue,\n                Height: element.actualSize.height * zoomValue\n              };\n              this.pdfViewerBase.formFieldCollection[i].FormField.lineBound = formFieldsData[i].FormField.lineBound;\n            }\n          }\n        }\n\n        this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection, '_formDesigner');\n      }\n    }\n  };\n\n  FormDesigner.prototype.getCheckboxRadioButtonBounds = function (drawingObject, bounds) {\n    var zoomValue = this.pdfViewerBase.getZoomFactor();\n    var width = 0;\n    var height = 0;\n    var display = '';\n\n    if (bounds) {\n      if (bounds.width > bounds.height) {\n        width = height = bounds.height * zoomValue;\n        display = \"inherit\";\n      } else {\n        width = height = bounds.width * zoomValue;\n        display = \"flex\";\n      }\n    } else if (drawingObject) {\n      if (drawingObject.bounds.width > drawingObject.bounds.height) {\n        width = height = drawingObject.bounds.height * zoomValue;\n        display = \"inherit\";\n      } else {\n        width = height = drawingObject.bounds.width * zoomValue;\n        display = \"flex\";\n      }\n    }\n\n    return {\n      width: width,\n      height: height,\n      display: display\n    };\n  };\n\n  FormDesigner.prototype.updateSessionFormFieldProperties = function (updatedFormFields) {\n    var zoomValue = this.pdfViewerBase.getZoomFactor();\n    var element = updatedFormFields.wrapper.children[0];\n    var data = this.pdfViewerBase.getItemFromSessionStorage('_formDesigner');\n    var formFieldsData = JSON.parse(data);\n\n    for (var i = 0; i < formFieldsData.length; i++) {\n      if (formFieldsData[i].FormField.formFieldAnnotationType === \"RadioButton\") {\n        for (var j = 0; j < formFieldsData[i].FormField.radiobuttonItem.length; j++) {\n          if (element.id === formFieldsData[i].FormField.radiobuttonItem[j].id) {\n            var radioButtonItemUpdate = {\n              id: element.id,\n              lineBound: {\n                X: element.bounds.x * zoomValue,\n                Y: element.bounds.y * zoomValue,\n                Width: element.bounds.width * zoomValue,\n                Height: element.bounds.height * zoomValue\n              },\n              name: updatedFormFields.name,\n              zoomValue: zoomValue,\n              pageNumber: updatedFormFields.pageNumber,\n              value: updatedFormFields.value,\n              formFieldAnnotationType: updatedFormFields.formFieldAnnotationType,\n              fontFamily: updatedFormFields.fontFamily,\n              fontSize: updatedFormFields.fontSize,\n              fontStyle: updatedFormFields.fontStyle,\n              fontColor: this.getRgbCode(updatedFormFields.color),\n              backgroundColor: this.getRgbCode(updatedFormFields.backgroundColor),\n              borderColor: this.getRgbCode(updatedFormFields.borderColor),\n              thickness: updatedFormFields.thickness,\n              textAlign: updatedFormFields.alignment,\n              isChecked: updatedFormFields.isChecked,\n              isSelected: updatedFormFields.isSelected,\n              isReadonly: updatedFormFields.isReadonly,\n              visibility: updatedFormFields.visibility,\n              maxLength: updatedFormFields.maxLength,\n              isRequired: updatedFormFields.isRequired,\n              isPrint: updatedFormFields.isPrint,\n              rotation: 0,\n              tooltip: updatedFormFields.tooltip\n            };\n            formFieldsData[i].FormField.radiobuttonItem[j] = radioButtonItemUpdate;\n\n            if (this.pdfViewerBase.formFieldCollection[i] && this.pdfViewerBase.formFieldCollection[i].FormField && this.pdfViewerBase.formFieldCollection[i].FormField.radiobuttonItem[j]) {\n              this.pdfViewerBase.formFieldCollection[i].FormField.radiobuttonItem[j] = radioButtonItemUpdate;\n            }\n\n            break;\n          }\n        }\n      } else if (formFieldsData[i].Key === element.id) {\n        var formDesignObj = {\n          id: element.id,\n          lineBound: {\n            X: element.bounds.x * zoomValue,\n            Y: element.bounds.y * zoomValue,\n            Width: element.bounds.width * zoomValue,\n            Height: element.bounds.height * zoomValue\n          },\n          name: updatedFormFields.name,\n          zoomValue: zoomValue,\n          pageNumber: updatedFormFields.pageNumber,\n          value: updatedFormFields.value,\n          formFieldAnnotationType: updatedFormFields.formFieldAnnotationType,\n          fontFamily: updatedFormFields.fontFamily,\n          fontSize: updatedFormFields.fontSize,\n          fontStyle: updatedFormFields.fontStyle,\n          fontColor: this.getRgbCode(updatedFormFields.color),\n          backgroundColor: this.getRgbCode(updatedFormFields.backgroundColor),\n          borderColor: this.getRgbCode(updatedFormFields.borderColor),\n          thickness: updatedFormFields.thickness,\n          textAlign: updatedFormFields.alignment,\n          isChecked: updatedFormFields.isChecked,\n          isSelected: updatedFormFields.isSelected,\n          isReadonly: updatedFormFields.isReadonly,\n          font: {\n            isBold: updatedFormFields.font.isBold,\n            isItalic: updatedFormFields.font.isItalic,\n            isStrikeout: updatedFormFields.font.isStrikeout,\n            isUnderline: updatedFormFields.font.isUnderline\n          },\n          selectedIndex: [],\n          radiobuttonItem: null,\n          option: updatedFormFields.options ? updatedFormFields.options : [],\n          visibility: updatedFormFields.visibility,\n          maxLength: updatedFormFields.maxLength,\n          isRequired: updatedFormFields.isRequired,\n          isPrint: updatedFormFields.isPrint,\n          rotation: 0,\n          tooltip: updatedFormFields.tooltip\n        };\n\n        if (formFieldsData[i].FormField.formFieldAnnotationType === \"SignatureField\" || formFieldsData[i].FormField.formFieldAnnotationType === \"InitialField\") {\n          var updatedSignatureFormFields = updatedFormFields;\n          var formDesignObj_1 = {\n            id: element.id,\n            lineBound: {\n              X: element.bounds.x * zoomValue,\n              Y: element.bounds.y * zoomValue,\n              Width: element.bounds.width * zoomValue,\n              Height: element.bounds.height * zoomValue\n            },\n            name: updatedFormFields.name,\n            zoomValue: zoomValue,\n            pageNumber: updatedFormFields.pageNumber,\n            value: updatedFormFields.value,\n            formFieldAnnotationType: updatedFormFields.formFieldAnnotationType,\n            fontFamily: updatedFormFields.fontFamily,\n            fontSize: updatedFormFields.fontSize,\n            fontStyle: updatedFormFields.fontStyle,\n            fontColor: this.getRgbCode(updatedFormFields.color),\n            backgroundColor: this.getRgbCode(updatedFormFields.backgroundColor),\n            borderColor: this.getRgbCode(updatedFormFields.borderColor),\n            thickness: updatedFormFields.thickness,\n            textAlign: updatedFormFields.alignment,\n            isChecked: updatedFormFields.isChecked,\n            isSelected: updatedFormFields.isSelected,\n            isReadonly: updatedFormFields.isReadonly,\n            font: {\n              isBold: updatedFormFields.font.isBold,\n              isItalic: updatedFormFields.font.isItalic,\n              isStrikeout: updatedFormFields.font.isStrikeout,\n              isUnderline: updatedFormFields.font.isUnderline\n            },\n            selectedIndex: [],\n            radiobuttonItem: null,\n            option: updatedFormFields.options ? updatedFormFields.options : [],\n            visibility: updatedFormFields.visibility,\n            maxLength: updatedFormFields.maxLength,\n            isRequired: updatedFormFields.isRequired,\n            isPrint: updatedFormFields.isPrint,\n            rotation: 0,\n            tooltip: updatedFormFields.tooltip,\n            signatureType: updatedFormFields.signatureType,\n            signatureBound: updatedSignatureFormFields.signatureBound\n          };\n          formFieldsData[i].FormField = formDesignObj_1;\n          this.pdfViewerBase.formFieldCollection[i].FormField = formDesignObj_1;\n        } else {\n          formFieldsData[i].FormField = formDesignObj;\n          this.pdfViewerBase.formFieldCollection[i].FormField = formDesignObj;\n        }\n\n        break;\n      }\n    }\n\n    if (this.pdfViewerBase.formFieldCollection.length > 0) {\n      this.pdfViewerBase.enableFormFieldButton(true);\n    } else {\n      this.pdfViewerBase.enableFormFieldButton(false);\n    }\n\n    this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection, '_formDesigner');\n  };\n  /**\n   * @private\n   */\n\n\n  FormDesigner.prototype.createSignatureDialog = function (commandHandler, signatureField, bounds, isPrint) {\n    this.isInitialField = isNullOrUndefined(signatureField.isInitialField) ? false : signatureField.isInitialField;\n    this.pdfViewerBase.isInitialField = this.isInitialField;\n    this.pdfViewerBase.isInitialField = signatureField.isInitialField;\n    var element = createElement(\"div\");\n    element.className = \"foreign-object\";\n    element.style.position = \"absolute\";\n    element.style.width = \"100%\";\n    element.style.height = \"100%\";\n    var divElement = createElement(\"div\");\n    divElement.style.width = \"100%\";\n    divElement.style.height = \"100%\";\n    divElement.style.position = \"absolute\";\n    divElement.style.backgroundColor = \"transparent\";\n    divElement.style.border = \"1px solid #303030\";\n\n    if (!isNullOrUndefined(signatureField.value) && signatureField.value !== '') {\n      divElement.className = 'e-pdfviewer-signatureformfields-signature';\n      divElement.style.pointerEvents = 'none';\n    } else {\n      divElement.className = 'e-pdfviewer-signatureformfields';\n      divElement.style.pointerEvents = '';\n    }\n\n    divElement.id = signatureField.id;\n    divElement.disabled = signatureField.isReadonly;\n    element.appendChild(divElement);\n    var signatureFieldSettings = this.pdfViewer.signatureFieldSettings;\n\n    if (!signatureFieldSettings.signatureIndicatorSettings) {\n      signatureFieldSettings.signatureIndicatorSettings = {\n        opacity: 1,\n        backgroundColor: 'orange',\n        width: 19,\n        height: 10,\n        fontSize: 10,\n        text: null,\n        color: 'black'\n      };\n    }\n\n    if (!signatureFieldSettings.signatureDialogSettings) {\n      signatureFieldSettings.signatureDialogSettings = {\n        displayMode: DisplayMode.Draw | DisplayMode.Text | DisplayMode.Upload,\n        hideSaveSignature: false\n      };\n    } //check whether the width for sign indicator has default value or not and then set the default width value for initial field.\n\n\n    var defaultWidth = this.pdfViewer.signatureFieldSettings.signatureIndicatorSettings.width === 19 ? signatureField.isInitialField ? 30 : 25 : this.pdfViewer.signatureFieldSettings.signatureIndicatorSettings.width;\n    var signatureFieldIndicatorWidth = signatureField.signatureIndicatorSettings && signatureField.signatureIndicatorSettings.width ? signatureField.signatureIndicatorSettings.width : defaultWidth;\n    var defaultHeight = this.pdfViewer.signatureFieldSettings.signatureIndicatorSettings.height === 10 ? 13 : this.pdfViewer.signatureFieldSettings.signatureIndicatorSettings.height;\n    var signatureFieldIndicatorHeight = signatureField.signatureIndicatorSettings && signatureField.signatureIndicatorSettings.height ? signatureField.signatureIndicatorSettings.height : defaultHeight;\n    var signatureFieldIndicatorBG = this.pdfViewer.signatureFieldSettings.signatureIndicatorSettings.backgroundColor === 'orange' ? '#FFE48559' : this.pdfViewer.signatureFieldSettings.signatureIndicatorSettings.backgroundColor;\n    var signIndicator = signatureField.isInitialField ? \"Initial\" : \"Sign\";\n    var signatureFieldWidth = signatureField.bounds ? signatureField.bounds.width : bounds.width;\n    var signatureFieldHeight = signatureField.bounds ? signatureField.bounds.height : bounds.height; // eslint-disable-next-line max-len\n\n    var height = signatureFieldIndicatorHeight > signatureFieldHeight / 2 ? signatureFieldHeight / 2 : signatureFieldIndicatorHeight; // eslint-disable-next-line max-len\n\n    var width = signatureFieldIndicatorWidth > signatureFieldWidth / 2 ? signatureFieldWidth / 2 : signatureFieldIndicatorWidth;\n    var fontSize = 10;\n    if (signatureField.signatureIndicatorSettings && signatureField.signatureIndicatorSettings.fontSize) // eslint-disable-next-line max-len\n      fontSize = signatureField.signatureIndicatorSettings.fontSize > height / 2 ? 10 : signatureField.signatureIndicatorSettings.fontSize;else // eslint-disable-next-line max-len\n      fontSize = this.pdfViewer.signatureFieldSettings.signatureIndicatorSettings.fontSize > height / 2 ? 10 : this.pdfViewer.signatureFieldSettings.signatureIndicatorSettings.fontSize;\n    var spanElement = createElement(\"span\");\n    var initialFieldSettings = this.pdfViewer.initialFieldSettings;\n\n    if (!initialFieldSettings.initialIndicatorSettings) {\n      initialFieldSettings.initialIndicatorSettings = {\n        opacity: 1,\n        backgroundColor: 'orange',\n        width: 19,\n        height: 10,\n        fontSize: 10,\n        text: null,\n        color: 'black'\n      };\n    }\n\n    if (!initialFieldSettings.initialDialogSettings) {\n      initialFieldSettings.initialDialogSettings = {\n        displayMode: DisplayMode.Draw | DisplayMode.Text | DisplayMode.Upload,\n        hideSaveSignature: false\n      };\n    }\n\n    var fieldText = signatureField.signatureIndicatorSettings ? signatureField.signatureIndicatorSettings.text : null;\n\n    if (signatureField.isInitialField) {\n      spanElement.id = \"initialIcon\" + signatureField.pageIndex + \"_\" + this.setFormFieldIdIndex();\n      this.setIndicatorText(spanElement, fieldText, this.pdfViewer.initialFieldSettings.initialIndicatorSettings.text, \"Initial\");\n    } else {\n      spanElement.style.height = '';\n      spanElement.style.width = '';\n      spanElement.id = \"signIcon\" + signatureField.pageIndex + \"_\" + this.setFormFieldIdIndex();\n      this.setIndicatorText(spanElement, fieldText, this.pdfViewer.signatureFieldSettings.signatureIndicatorSettings.text, \"Sign\");\n    }\n\n    spanElement.style.overflow = \"hidden\";\n    spanElement.style.whiteSpace = \"nowrap\";\n    spanElement.style.padding = \"2px 3px 2px 1px\";\n    spanElement.style.boxSizing = \"border-box\";\n    var zoomValue = this.pdfViewerBase.getZoomFactor();\n    spanElement.style.textAlign = \"left\";\n    spanElement.style.fontSize = fontSize * zoomValue + 'px';\n    var boundsOfSpan = this.getBounds(spanElement);\n    spanElement.style.color = signatureField.signatureIndicatorSettings && signatureField.signatureIndicatorSettings.color ? signatureField.signatureIndicatorSettings.color : this.pdfViewer.signatureFieldSettings.signatureIndicatorSettings.color; // eslint-disable-next-line\n\n    spanElement.style.backgroundColor = signatureField.signatureIndicatorSettings && signatureField.signatureIndicatorSettings.backgroundColor ? signatureField.signatureIndicatorSettings.backgroundColor : signatureFieldIndicatorBG;\n    spanElement.style.background = signatureField.signatureIndicatorSettings && signatureField.signatureIndicatorSettings.background ? signatureField.signatureIndicatorSettings.background : spanElement.style.backgroundColor;\n    spanElement.style.opacity = signatureField.signatureIndicatorSettings && signatureField.signatureIndicatorSettings.opacity ? signatureField.signatureIndicatorSettings.opacity : this.pdfViewer.signatureFieldSettings.signatureIndicatorSettings.opacity;\n    spanElement.style.position = \"absolute\";\n    spanElement.style.width = width * zoomValue + 'px';\n    spanElement.style.height = height * zoomValue + 'px';\n    var widthNew = this.setHeightWidth(signatureFieldWidth, width, boundsOfSpan.width + fontSize, zoomValue);\n    spanElement.style.width = widthNew + fontSize * zoomValue + \"px\";\n    var heightNew = this.setHeightWidth(signatureFieldHeight, height, boundsOfSpan.height, zoomValue);\n    spanElement.style.height = heightNew + \"px\";\n\n    if (!isPrint) {\n      element.appendChild(spanElement);\n    }\n\n    this.updateSignInitialFieldProperties(signatureField, signatureField.isInitialField, this.pdfViewer.isFormDesignerToolbarVisible, this.isSetFormFieldMode);\n\n    if (!isNullOrUndefined(signatureField.tooltip) && signatureField.tooltip != \"\") {\n      this.setToolTip(signatureField.tooltip, element);\n    }\n\n    this.updateSignatureFieldProperties(signatureField, element, isPrint);\n    return element;\n  }; // eslint-disable-next-line\n\n\n  FormDesigner.prototype.setIndicatorText = function (spanElement, fieldText, indicatorText, defaultText) {\n    spanElement.innerHTML = fieldText ? fieldText : indicatorText ? indicatorText : defaultText;\n  };\n\n  FormDesigner.prototype.getBounds = function (htmlElement) {\n    var clonedElement = htmlElement.cloneNode(true);\n    clonedElement.style.height = '';\n    clonedElement.style.width = '';\n    clonedElement.id = clonedElement.id + \"_clonedElement\";\n    document.body.appendChild(clonedElement);\n    var clone = document.getElementById(clonedElement.id);\n    var bounds = clone.getBoundingClientRect();\n    document.body.removeChild(clonedElement);\n    return bounds;\n  };\n\n  FormDesigner.prototype.updateSignatureIndicator = function (formFieldObject, options, htmlElement) {\n    if (htmlElement !== null) {\n      var fieldBounds = htmlElement.getBoundingClientRect();\n      var zoomValue = this.pdfViewerBase.getZoomFactor();\n      var spanElement = htmlElement.nextElementSibling;\n      var objIndicatorSettings = formFieldObject.signatureIndicatorSettings;\n      var indicatorSettings = options.signatureIndicatorSettings;\n      spanElement.style.width = '';\n      spanElement.style.height = '';\n\n      if (indicatorSettings.text !== undefined) {\n        this.setIndicatorText(spanElement, indicatorSettings.text, indicatorSettings.text, \"Sign\");\n        objIndicatorSettings.text = indicatorSettings.text;\n      }\n\n      if (indicatorSettings.fontSize) {\n        spanElement.style.fontSize = indicatorSettings.fontSize > formFieldObject.height / 2 ? 10 : indicatorSettings.fontSize * zoomValue + \"px\";\n        objIndicatorSettings.fontSize = indicatorSettings.fontSize;\n      }\n\n      var bounds = this.getBounds(spanElement);\n\n      if (indicatorSettings.color) {\n        spanElement.style.color = indicatorSettings.color;\n        objIndicatorSettings.color = this.nameToHash(indicatorSettings.color);\n      }\n\n      if (indicatorSettings.backgroundColor) {\n        spanElement.style.backgroundColor = indicatorSettings.backgroundColor;\n        objIndicatorSettings.backgroundColor = this.nameToHash(indicatorSettings.backgroundColor);\n      }\n\n      if (indicatorSettings.opacity) {\n        spanElement.style.opacity = indicatorSettings.opacity;\n        objIndicatorSettings.opacity = indicatorSettings.opacity;\n      }\n\n      if (indicatorSettings.width || options.width || indicatorSettings.text) {\n        var width = this.setHeightWidth(fieldBounds.width, indicatorSettings.width, bounds.width, zoomValue);\n        spanElement.style.width = width + objIndicatorSettings.fontSize * zoomValue + \"px\";\n        objIndicatorSettings.width = width;\n      }\n\n      if (indicatorSettings.height || options.height || indicatorSettings.text) {\n        var height = this.setHeightWidth(fieldBounds.height, indicatorSettings.height, bounds.height, zoomValue);\n        spanElement.style.height = height + \"px\";\n        objIndicatorSettings.height = height;\n      }\n\n      this.updateSignatureFieldProperties(formFieldObject, htmlElement, formFieldObject.isPrint);\n      formFieldObject.signatureIndicatorSettings = objIndicatorSettings;\n      return formFieldObject;\n    }\n  };\n\n  FormDesigner.prototype.setHeightWidth = function (fieldBound, indicatorBound, referenceBound, zoomValue) {\n    var heightOrWidth;\n\n    if (fieldBound / 2 > indicatorBound && referenceBound < indicatorBound) {\n      heightOrWidth = indicatorBound * zoomValue;\n    } else if (referenceBound <= fieldBound / 2) {\n      heightOrWidth = referenceBound * zoomValue;\n    } else {\n      heightOrWidth = fieldBound / 2 * zoomValue;\n    }\n\n    return heightOrWidth;\n  };\n  /**\n   * @private\n   */\n\n\n  FormDesigner.prototype.createDropDownList = function (dropdownElement, drawingObject) {\n    var element = createElement(\"div\");\n    element.className = \"foreign-object\";\n    element.style.position = \"absolute\";\n    element.style.width = \"100%\";\n    element.style.height = \"100%\";\n    var select = document.createElement(\"select\");\n    select.addEventListener('change', this.dropdownChange.bind(this));\n    select.id = drawingObject.id;\n    select.name = \"editabledropdown\" + this.pdfViewerBase.activeElements.activePageID + dropdownElement.id;\n    select.className = \"e-pv-formfield-dropdown\";\n    select.style.width = \"100%\";\n    select.style.height = \"100%\";\n    select.style.position = \"absolute\";\n    this.updateDropdownFieldSettingsProperties(drawingObject, this.pdfViewer.isFormDesignerToolbarVisible, this.isSetFormFieldMode);\n    var dropDownChildren = drawingObject.options ? drawingObject.options : [];\n    this.updateDropdownListProperties(drawingObject, select);\n\n    for (var j = 0; j < dropDownChildren.length; j++) {\n      var option = document.createElement(\"option\");\n      option.className = \"e-pv-formfield-dropdown\";\n      option.value = dropDownChildren[j].itemValue;\n      option.text = dropDownChildren[j].itemName;\n      this.updateDropdownListProperties(drawingObject, option);\n      select.appendChild(option);\n    }\n\n    select.selectedIndex = !isNullOrUndefined(drawingObject.selectedIndex) ? drawingObject.selectedIndex : 0;\n    element.appendChild(select);\n\n    if (!isNullOrUndefined(drawingObject.tooltip) && drawingObject.tooltip != \"\") {\n      this.setToolTip(drawingObject.tooltip, element);\n    }\n\n    return element;\n  };\n  /**\n   * @private\n   */\n\n\n  FormDesigner.prototype.createListBox = function (listBoxElement, drawingObject) {\n    var element = createElement(\"div\");\n    element.className = \"foreign-object\";\n    element.style.position = \"absolute\";\n    element.style.width = \"100%\";\n    element.style.height = \"100%\";\n    var select = document.createElement(\"select\");\n    select.addEventListener('click', this.listBoxChange.bind(this));\n    select.id = drawingObject.id;\n    select.name = \"editabledropdown\" + this.pdfViewerBase.activeElements.activePageID + listBoxElement.id;\n    select.className = \"e-pv-formfield-listbox\";\n    select.style.width = \"100%\";\n    select.style.height = \"100%\";\n    select.style.position = \"absolute\";\n    select.multiple = true;\n    this.updatelistBoxFieldSettingsProperties(drawingObject, this.pdfViewer.isFormDesignerToolbarVisible, this.isSetFormFieldMode);\n    var dropDownChildren = drawingObject.options ? drawingObject.options : [];\n    this.updateListBoxProperties(drawingObject, select);\n\n    for (var j = 0; j < dropDownChildren.length; j++) {\n      var option = document.createElement(\"option\");\n      option.className = \"e-pv-formfield-listbox\";\n      option.value = dropDownChildren[j].itemValue;\n      option.text = dropDownChildren[j].itemName;\n\n      if (!isNullOrUndefined(drawingObject.selectedIndex)) {\n        for (var k = 0; k < drawingObject.selectedIndex.length; k++) {\n          if (j === drawingObject.selectedIndex[k]) {\n            option.selected = true;\n          }\n        }\n      }\n\n      select.appendChild(option);\n    }\n\n    element.appendChild(select);\n\n    if (!isNullOrUndefined(drawingObject.tooltip) && drawingObject.tooltip != \"\") {\n      this.setToolTip(drawingObject.tooltip, element);\n    }\n\n    return element;\n  };\n  /**\n   * @private\n   */\n\n\n  FormDesigner.prototype.createInputElement = function (formFieldAnnotationType, drawingObject, formFieldBounds, isPrint) {\n    var zoomValue = this.pdfViewerBase.getZoomFactor();\n    var element = createElement(\"div\");\n    element.className = \"foreign-object\";\n    element.style.position = \"absolute\";\n    element.style.width = \"100%\";\n    element.style.height = \"100%\";\n    var labelElement;\n    var checkboxDiv;\n    var innerSpan;\n    var inputElement = createElement(\"input\");\n    var textArea = createElement('textarea');\n    inputElement.id = drawingObject.id;\n    inputElement.style.position = \"absolute\";\n\n    if (formFieldAnnotationType === \"Textbox\") {\n      if (drawingObject.isMultiline) {\n        textArea = this.createTextAreaElement(inputElement.id);\n        this.updateTextFieldSettingProperties(drawingObject, this.pdfViewer.isFormDesignerToolbarVisible, this.isSetFormFieldMode);\n        this.updateTextboxProperties(drawingObject, textArea);\n      } else {\n        inputElement = this.createTextboxElement(inputElement.id);\n        this.updateTextFieldSettingProperties(drawingObject, this.pdfViewer.isFormDesignerToolbarVisible, this.isSetFormFieldMode);\n        this.updateTextboxProperties(drawingObject, inputElement);\n      }\n    } else if (formFieldAnnotationType == \"Checkbox\") {\n      var minCheckboxWidth = 20;\n      element.style.textAlign = Browser.info.name === \"chrome\" ? \"-webkit-center\" : \"center\";\n      element.style.display = \"flex\";\n      element.style.alignItems = \"center\";\n      var bounds = this.getCheckboxRadioButtonBounds(drawingObject, formFieldBounds);\n      element.style.display = bounds.display;\n      labelElement = createElement(\"label\", {\n        className: \"e-pv-checkbox-container\"\n      });\n      labelElement.style.width = bounds.width + \"px\";\n      labelElement.style.height = bounds.height + \"px\";\n      if (this.isDrawHelper) labelElement.style.cursor = 'crosshair';else labelElement.style.cursor = 'pointer';\n      checkboxDiv = createElement(\"div\", {\n        className: \"e-pv-checkbox-div\"\n      });\n      checkboxDiv.addEventListener('click', this.setCheckBoxState.bind(this));\n      checkboxDiv.id = drawingObject.id + \"_input\";\n\n      if (drawingObject.isChecked) {\n        innerSpan = createElement(\"span\", {\n          className: \"e-pv-checkbox-span e-pv-cb-checked\"\n        });\n      } else innerSpan = createElement(\"span\", {\n        className: \"e-pv-checkbox-span e-pv-cb-unchecked\"\n      });\n\n      innerSpan.id = drawingObject.id + \"_input_span\";\n      labelElement.id = drawingObject.id + \"_input_label\";\n      innerSpan.style.width = bounds.width / 5 + \"px\";\n      innerSpan.style.height = bounds.height / 2.5 + \"px\";\n      innerSpan.style.left = bounds.width / 2.5 + \"px\";\n      innerSpan.style.top = bounds.height / 5 + \"px\";\n\n      if (innerSpan.className.indexOf(\"e-pv-cb-checked\") !== -1) {\n        var checkboxWidth = parseInt(labelElement.style.width, 10);\n\n        if (checkboxWidth > minCheckboxWidth) {\n          innerSpan.style.borderWidth = \"3px\";\n        } else if (checkboxWidth <= 15) {\n          innerSpan.style.borderWidth = \"1px\";\n        } else {\n          innerSpan.style.borderWidth = \"2px\";\n        }\n      }\n\n      inputElement.type = \"checkbox\";\n      inputElement.style.margin = \"0px\";\n      inputElement.style.width = bounds.width + \"px\";\n      inputElement.style.height = bounds.height + \"px\";\n\n      if (isPrint) {\n        this.updateCheckboxProperties(drawingObject, inputElement);\n      } else {\n        this.updateCheckBoxFieldSettingsProperties(drawingObject, this.pdfViewer.isFormDesignerToolbarVisible, this.isSetFormFieldMode);\n        this.updateCheckboxProperties(drawingObject, checkboxDiv);\n      }\n\n      labelElement.appendChild(inputElement);\n      labelElement.appendChild(checkboxDiv);\n      checkboxDiv.appendChild(innerSpan);\n\n      if (isPrint) {\n        inputElement.style.outlineWidth = drawingObject.thickness + 'px';\n        inputElement.style.outlineColor = drawingObject.borderColor;\n        inputElement.style.outlineStyle = 'solid';\n        inputElement.style.background = drawingObject.backgroundColor;\n      }\n    } else if (formFieldAnnotationType == \"PasswordField\") {\n      inputElement.type = \"password\";\n      inputElement.className = \"e-pv-formfield-input\";\n      inputElement.style.width = '100%';\n      inputElement.style.height = '100%';\n      inputElement.addEventListener('click', this.inputElementClick.bind(this));\n      inputElement.addEventListener('change', this.getTextboxValue.bind(this));\n      this.updatePasswordFieldSettingProperties(drawingObject, this.pdfViewer.isFormDesignerToolbarVisible, this.isSetFormFieldMode);\n      this.updatePasswordFieldProperties(drawingObject, inputElement);\n    } else {\n      /*\n      The below line have been commented for \"EJ2-59941 bug\"\n      While setting the textAlign to center the radio button position moved from center to the parent element\n      instead of left to the parent element\n      element.style.textAlign = (Browser.info.name === \"chrome\") ? \"-webkit-center\" : \"center\";\n      */\n      element.style.display = \"flex\";\n      element.style.alignItems = \"center\";\n      var bounds = this.getCheckboxRadioButtonBounds(drawingObject, formFieldBounds);\n      element.style.display = bounds.display;\n      labelElement = createElement(\"label\", {\n        className: \"e-pv-radiobtn-container\"\n      });\n      labelElement.style.width = bounds.width + \"px\";\n      labelElement.style.height = bounds.height + \"px\";\n      labelElement.style.display = \"table\";\n      labelElement.style.verticalAlign = \"middle\";\n      labelElement.style.boxShadow = drawingObject.borderColor + ' 0px 0px 0px ' + drawingObject.thickness + 'px';\n      labelElement.style.borderRadius = '50%';\n      labelElement.style.visibility = drawingObject.visibility;\n      if (this.isDrawHelper) labelElement.style.cursor = 'crosshair';else labelElement.style.cursor = 'pointer';\n      labelElement.style.background = drawingObject.backgroundColor;\n      innerSpan = createElement(\"span\", {\n        className: \"e-pv-radiobtn-span\"\n      });\n      innerSpan.id = drawingObject.id;\n      innerSpan.style.width = Math.floor(bounds.width / 2) + \"px\";\n      innerSpan.style.height = Math.floor(bounds.height / 2) + \"px\";\n\n      if (zoomValue < 1 && bounds.width <= 20 && bounds.height <= 20) {\n        innerSpan.style.margin = Math.round(parseInt(labelElement.style.width) / 3.5) + \"px\";\n      } else {\n        innerSpan.style.margin = Math.round(parseInt(labelElement.style.width) / 4) + \"px\";\n      }\n\n      labelElement.addEventListener('click', this.setRadioButtonState.bind(this));\n      labelElement.id = drawingObject.id + \"_input_label\";\n      inputElement.type = \"radio\";\n      if (!isPrint) inputElement.className = \"e-pv-radio-btn\";\n      inputElement.style.margin = \"0px\";\n      inputElement.addEventListener('click', function (event) {\n        event.stopPropagation();\n      });\n      inputElement.style.width = bounds.width + \"px\";\n      inputElement.style.height = bounds.height + \"px\";\n      this.updateRadioButtonFieldSettingProperties(drawingObject, this.pdfViewer.isFormDesignerToolbarVisible, this.isSetFormFieldMode);\n      this.updateRadioButtonProperties(drawingObject, inputElement);\n      labelElement.appendChild(inputElement);\n      labelElement.appendChild(innerSpan);\n\n      if (drawingObject.isRequired) {\n        labelElement.style.boxShadow = 'red 0px 0px 0px ' + drawingObject.thickness + 'px';\n      } // if (isPrint) {\n      //     inputElement.style.outlineWidth = drawingObject.thickness + 'px';\n      //     inputElement.style.outlineColor = drawingObject.borderColor;\n      //     inputElement.style.outlineStyle = 'solid';\n      //     inputElement.style.background = drawingObject.backgroundColor;\n      // }\n\n    }\n\n    if ((formFieldAnnotationType === \"Checkbox\" || formFieldAnnotationType === \"RadioButton\") && !isPrint) {\n      element.appendChild(labelElement);\n    } else {\n      if (drawingObject.isMultiline) {\n        element.appendChild(textArea);\n      } else {\n        element.appendChild(inputElement);\n      }\n    }\n\n    if (!isNullOrUndefined(drawingObject.tooltip) && drawingObject.tooltip != \"\") {\n      if (formFieldAnnotationType === 'RadioButton') this.setToolTip(drawingObject.tooltip, labelElement);else this.setToolTip(drawingObject.tooltip, element);\n    }\n\n    this.isDrawHelper = false;\n    return element;\n  };\n\n  FormDesigner.prototype.listBoxChange = function (event) {\n    var data = this.pdfViewerBase.getItemFromSessionStorage('_formDesigner');\n    var formFieldsData = JSON.parse(data);\n\n    for (var i = 0; i < formFieldsData.length; i++) {\n      if (formFieldsData[i].Key.split(\"_\")[0] === event.currentTarget.id.split(\"_\")[0] || this.pdfViewer.nameTable[event.currentTarget.id.split(\"_\")[0]].name === formFieldsData[i].FormField.name) {\n        if (formFieldsData[i].Key.split(\"_\")[0] !== event.currentTarget.id.split(\"_\")[0]) {\n          var inputElement = document.getElementById(formFieldsData[i].Key.split(\"_\")[0] + \"_content_html_element\").firstElementChild.firstElementChild;\n\n          for (var k = 0; k < event.currentTarget.options.length; k++) {\n            inputElement.options[k].selected = event.currentTarget.options[k].selected;\n          }\n        }\n\n        formFieldsData[i].FormField.selectedIndex = [];\n        var oldValues = this.pdfViewerBase.formFieldCollection[i].FormField.selectedIndex;\n\n        for (var j = 0; j < event.currentTarget.selectedOptions.length; j++) {\n          var selectIndex = event.currentTarget.selectedOptions[j].index;\n          var oldValueIndex = 0;\n\n          if (this.pdfViewerBase.formFieldCollection[i].FormField.selectedIndex && this.pdfViewerBase.formFieldCollection[i].FormField.selectedIndex.length !== 0) {\n            oldValueIndex = this.pdfViewerBase.formFieldCollection[i].FormField.selectedIndex.pop();\n            this.pdfViewerBase.formFieldCollection[i].FormField.selectedIndex.push(oldValueIndex);\n          }\n\n          var oldValue = formFieldsData[i].FormField.option[oldValueIndex].itemValue;\n          formFieldsData[i].FormField.selectedIndex.push(selectIndex);\n          this.pdfViewer.nameTable[formFieldsData[i].Key.split(\"_\")[0]].selectedIndex = formFieldsData[i].FormField.selectedIndex;\n          this.pdfViewerBase.formFieldCollection[i].FormField.selectedIndex = formFieldsData[i].FormField.selectedIndex;\n          var newValue = formFieldsData[i].FormField.option[selectIndex].itemValue;\n          this.pdfViewerBase.formFieldCollection[i].FormField.value = newValue;\n          this.updateFormFieldCollections(this.pdfViewerBase.formFieldCollection[i].FormField);\n          this.pdfViewer.fireFormFieldPropertiesChangeEvent(\"formFieldPropertiesChange\", formFieldsData[i].FormField, this.pdfViewerBase.formFieldCollection[i].FormField.pageNumber, true, false, false, false, false, false, false, false, false, false, false, false, false, false, false, oldValue, newValue);\n        }\n\n        if (this.pdfViewer.annotation) {\n          this.pdfViewer.annotation.addAction(this.pdfViewerBase.formFieldCollection[i].FormField.pageNumber, null, this.pdfViewerBase.formFieldCollection[i].FormField, 'FormField Value Change', '', oldValues, this.pdfViewerBase.formFieldCollection[i].FormField.selectedIndex);\n        }\n      }\n    }\n\n    this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection, '_formDesigner');\n  };\n\n  FormDesigner.prototype.dropdownChange = function (event) {\n    var data = this.pdfViewerBase.getItemFromSessionStorage('_formDesigner');\n    var formFieldsData = JSON.parse(data);\n\n    for (var i = 0; i < formFieldsData.length; i++) {\n      if (formFieldsData[i].Key.split(\"_\")[0] === event.target.id.split(\"_\")[0] || this.pdfViewer.nameTable[event.target.id.split(\"_\")[0]].name === formFieldsData[i].FormField.name) {\n        this.pdfViewerBase.formFieldCollection[i].FormField.selectedIndex = [];\n        var selectIndex = document.getElementById(event.currentTarget.id).selectedIndex;\n        var oldValueIndex = 0;\n\n        if (formFieldsData[i].FormField.selectedIndex.length !== 0) {\n          oldValueIndex = formFieldsData[i].FormField.selectedIndex.pop();\n          formFieldsData[i].FormField.selectedIndex.push(oldValueIndex);\n        }\n\n        var oldValue = formFieldsData[i].FormField.option[oldValueIndex].itemValue;\n        formFieldsData[i].FormField.selectedIndex.push(selectIndex);\n        this.pdfViewer.nameTable[formFieldsData[i].Key.split(\"_\")[0]].selectedIndex = selectIndex;\n        this.pdfViewerBase.formFieldCollection[i].FormField.selectedIndex.push(selectIndex);\n        var newValue = formFieldsData[i].FormField.option[selectIndex].itemValue;\n        this.pdfViewerBase.formFieldCollection[i].FormField.value = newValue;\n\n        if (formFieldsData[i].Key.split(\"_\")[0] !== event.target.id.split(\"_\")[0]) {\n          var inputElement = document.getElementById(formFieldsData[i].Key.split(\"_\")[0] + \"_content_html_element\").firstElementChild.firstElementChild;\n          inputElement.selectedIndex = selectIndex;\n        }\n\n        this.updateFormFieldCollections(this.pdfViewerBase.formFieldCollection[i].FormField);\n        this.pdfViewer.fireFormFieldPropertiesChangeEvent(\"formFieldPropertiesChange\", formFieldsData[i].FormField, this.pdfViewerBase.formFieldCollection[i].FormField.pageNumber, true, false, false, false, false, false, false, false, false, false, false, false, false, false, false, oldValue, newValue);\n\n        if (this.pdfViewer.annotation) {\n          this.pdfViewer.annotation.addAction(this.pdfViewerBase.formFieldCollection[i].FormField.pageNumber, null, this.pdfViewerBase.formFieldCollection[i].FormField, 'FormField Value Change', '', oldValueIndex, selectIndex);\n        }\n      }\n    }\n\n    this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection, '_formDesigner');\n  };\n\n  FormDesigner.prototype.setCheckBoxState = function (event) {\n    var minCheckboxWidth = 20;\n    var isChecked = false;\n\n    if (!this.pdfViewer.nameTable[event.target.id.split(\"_\")[0]].isReadonly) {\n      if (event.target && event.target.firstElementChild && event.target.firstElementChild.className === \"e-pv-checkbox-span e-pv-cb-checked\") {\n        event.target.firstElementChild.classList.remove(\"e-pv-cb-checked\");\n        event.target.firstElementChild.classList.add(\"e-pv-checkbox-span\", \"e-pv-cb-unchecked\");\n        isChecked = false;\n      } else if (event.target.className === \"e-pv-checkbox-span e-pv-cb-checked\") {\n        event.target.classList.remove(\"e-pv-cb-checked\");\n        event.target.classList.add(\"e-pv-checkbox-span\", \"e-pv-cb-unchecked\");\n        isChecked = false;\n      } else {\n        event.target.firstElementChild.classList.remove(\"e-pv-cb-unchecked\");\n        event.target.firstElementChild.classList.add(\"e-pv-checkbox-span\", \"e-pv-cb-checked\");\n        isChecked = true;\n      }\n\n      var data = this.pdfViewerBase.getItemFromSessionStorage('_formDesigner');\n\n      if (isChecked) {\n        if (event.target.firstElementChild.className.indexOf(\"e-pv-cb-checked\") !== -1) {\n          var checkboxWidth = parseInt(event.target.parentElement.style.width, 10);\n\n          if (checkboxWidth > minCheckboxWidth) {\n            event.target.firstElementChild.style.borderWidth = \"3px\";\n          } else if (checkboxWidth <= 15) {\n            event.target.firstElementChild.style.borderWidth = \"1px\";\n          } else {\n            event.target.firstElementChild.style.borderWidth = \"2px\";\n          }\n        }\n      }\n\n      var formFieldsData = JSON.parse(data);\n\n      for (var i = 0; i < formFieldsData.length; i++) {\n        if (formFieldsData[i].Key.split(\"_\")[0] === event.target.id.split(\"_\")[0] || this.pdfViewer.nameTable[event.target.id.split(\"_\")[0]].name === formFieldsData[i].FormField.name) {\n          this.pdfViewer.nameTable[formFieldsData[i].Key.split(\"_\")[0]].isChecked = isChecked;\n          var oldValue = this.pdfViewerBase.formFieldCollection[i].FormField.isChecked;\n          formFieldsData[i].FormField.isChecked = isChecked;\n          this.pdfViewerBase.formFieldCollection[i].FormField.isChecked = formFieldsData[i].FormField.isChecked;\n\n          if (formFieldsData[i].Key.split(\"_\")[0] !== event.target.id.split(\"_\")[0]) {\n            var checkboxElement = document.getElementById(formFieldsData[i].Key.split(\"_\")[0] + \"_input\").firstElementChild;\n\n            if (isChecked) {\n              if (checkboxElement.classList.contains('e-pv-cb-unchecked')) checkboxElement.classList.remove('e-pv-cb-unchecked');\n              checkboxElement.classList.add(\"e-pv-cb-checked\");\n            } else {\n              if (checkboxElement.classList.contains('e-pv-cb-checked')) checkboxElement.classList.remove('e-pv-cb-checked');\n              checkboxElement.classList.add(\"e-pv-cb-unchecked\");\n            }\n          }\n\n          this.updateFormFieldCollections(this.pdfViewerBase.formFieldCollection[i].FormField);\n          this.pdfViewer.fireFormFieldPropertiesChangeEvent(\"formFieldPropertiesChange\", formFieldsData[i].FormField, this.pdfViewerBase.formFieldCollection[i].FormField.pageNumber, true, false, false, false, false, false, false, false, false, false, false, false, false, false, false, oldValue, isChecked);\n\n          if (this.pdfViewer.annotation) {\n            this.pdfViewer.annotation.addAction(this.pdfViewerBase.formFieldCollection[i].FormField.pageNumber, null, this.pdfViewerBase.formFieldCollection[i].FormField, 'FormField Value Change', '', oldValue, isChecked);\n          }\n        }\n      }\n\n      this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection, '_formDesigner');\n    }\n  };\n\n  FormDesigner.prototype.setCheckedValue = function (element, isChecked) {\n    if (isChecked) {\n      element.firstElementChild.classList.remove(\"e-pv-cb-unchecked\");\n      element.firstElementChild.classList.add(\"e-pv-checkbox-span\", \"e-pv-cb-checked\");\n    } else {\n      element.firstElementChild.classList.remove(\"e-pv-cb-checked\");\n      element.firstElementChild.classList.add(\"e-pv-checkbox-span\", \"e-pv-cb-unchecked\");\n    }\n  };\n\n  FormDesigner.prototype.setRadioButtonState = function (event) {\n    var data = this.pdfViewerBase.getItemFromSessionStorage('_formDesigner');\n    var formFieldsData = JSON.parse(data);\n\n    for (var i = 0; i < formFieldsData.length; i++) {\n      if (formFieldsData[i].FormField.radiobuttonItem != null) {\n        var oldValue = void 0;\n        var undoElement = void 0;\n        var redoElement = void 0;\n\n        for (var j = 0; j < formFieldsData[i].FormField.radiobuttonItem.length; j++) {\n          if (formFieldsData[i].FormField.radiobuttonItem[j].id.split(\"_\")[0] === event.currentTarget.id.split(\"_\")[0]) {\n            this.pdfViewer.nameTable[event.currentTarget.id.split(\"_\")[0]].isSelected = true;\n            formFieldsData[i].FormField.radiobuttonItem[j].isSelected = true;\n            oldValue = this.pdfViewerBase.formFieldCollection[i].FormField.radiobuttonItem[j].isSelected;\n            if (!oldValue) undoElement = this.pdfViewerBase.formFieldCollection[i].FormField.radiobuttonItem[j];\n            this.pdfViewerBase.formFieldCollection[i].FormField.radiobuttonItem[j].isSelected = true;\n            this.pdfViewer.fireFormFieldPropertiesChangeEvent(\"formFieldPropertiesChange\", formFieldsData[i].FormField, this.pdfViewerBase.formFieldCollection[i].FormField.pageNumber, true, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, true);\n          } else {\n            if (this.pdfViewer.nameTable[event.currentTarget.id.split(\"_\")[0]].name === formFieldsData[i].FormField.radiobuttonItem[j].name) {\n              this.pdfViewer.nameTable[formFieldsData[i].FormField.radiobuttonItem[j].id.split(\"_\")[0]].isSelected = false;\n              var oldValue_1 = this.pdfViewerBase.formFieldCollection[i].FormField.radiobuttonItem[j].isSelected;\n              formFieldsData[i].FormField.radiobuttonItem[j].isSelected = false;\n              oldValue_1 = this.pdfViewerBase.formFieldCollection[i].FormField.radiobuttonItem[j].isSelected;\n              if (oldValue_1) redoElement = this.pdfViewerBase.formFieldCollection[i].FormField.radiobuttonItem[j];\n              this.pdfViewerBase.formFieldCollection[i].FormField.radiobuttonItem[j].isSelected = formFieldsData[i].FormField.radiobuttonItem[j].isSelected;\n              this.pdfViewer.fireFormFieldPropertiesChangeEvent(\"formFieldPropertiesChange\", formFieldsData[i].FormField, this.pdfViewerBase.formFieldCollection[i].FormField.pageNumber, true, false, false, false, false, false, false, false, false, false, false, false, false, false, false, true, false);\n            }\n          }\n\n          this.updateFormFieldCollections(this.pdfViewerBase.formFieldCollection[i].FormField.radiobuttonItem[j]);\n        }\n\n        if ((undoElement != null || redoElement != null) && this.pdfViewer.annotation) {\n          this.pdfViewer.annotation.addAction(this.pdfViewerBase.formFieldCollection[i].FormField.pageNumber, null, this.pdfViewerBase.formFieldCollection[i].FormField, 'FormField Value Change', '', undoElement, redoElement);\n        }\n      }\n    }\n\n    this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection, '_formDesigner');\n  };\n\n  FormDesigner.prototype.getTextboxValue = function (event) {\n    var data = this.pdfViewerBase.getItemFromSessionStorage('_formDesigner');\n    var formFieldsData = JSON.parse(data);\n\n    for (var i = 0; i < formFieldsData.length; i++) {\n      if (formFieldsData[i].Key.split(\"_\")[0] === event.target.id.split(\"_\")[0] || this.pdfViewer.nameTable[event.target.id.split(\"_\")[0]].name === formFieldsData[i].FormField.name) {\n        var oldValue = this.pdfViewerBase.formFieldCollection[i].FormField.value;\n        formFieldsData[i].FormField.value = event.target.value;\n        this.pdfViewer.nameTable[formFieldsData[i].Key.split(\"_\")[0]].value = formFieldsData[i].FormField.value;\n        this.pdfViewerBase.formFieldCollection[i].FormField.value = formFieldsData[i].FormField.value;\n\n        if (formFieldsData[i].Key.split(\"_\")[0] !== event.target.id.split(\"_\")[0]) {\n          var element = document.getElementById(formFieldsData[i].Key.split(\"_\")[0] + \"_content_html_element\");\n\n          if (element && element.firstElementChild && element.firstElementChild.firstElementChild) {\n            var inputElement = element.firstElementChild.firstElementChild;\n            inputElement.value = formFieldsData[i].FormField.value;\n          }\n        }\n\n        this.updateFormFieldCollections(this.pdfViewerBase.formFieldCollection[i].FormField);\n        this.pdfViewer.fireFormFieldPropertiesChangeEvent(\"formFieldPropertiesChange\", this.pdfViewerBase.formFieldCollection[i].FormField, this.pdfViewerBase.formFieldCollection[i].FormField.pageNumber, true, false, false, false, false, false, false, false, false, false, false, false, false, false, false, oldValue, event.target.value);\n\n        if (this.pdfViewer.annotation) {\n          this.pdfViewer.annotation.addAction(this.pdfViewerBase.formFieldCollection[i].FormField.pageNumber, null, this.pdfViewerBase.formFieldCollection[i].FormField, 'FormField Value Change', '', oldValue, event.target.value);\n        }\n      }\n    }\n\n    this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection, '_formDesigner');\n  };\n\n  FormDesigner.prototype.inputElementClick = function (event) {\n    event.target.focus();\n  };\n  /**\n   * Adds form field to the PDF page.\n   *\n   * @param formFieldType\n   * @param options\n   * @returns HTMLElement\n   */\n\n\n  FormDesigner.prototype.addFormField = function (formFieldType, options, isCollection, id) {\n    var obj = {\n      thickness: 0,\n      bounds: {\n        x: options.bounds.X,\n        y: options.bounds.Y,\n        width: options.bounds.Width,\n        height: options.bounds.Height\n      },\n      fontFamily: !isNullOrUndefined(options.fontFamily) ? options.fontFamily : \"Helvetica\",\n      fontSize: !isNullOrUndefined(options.fontSize) ? options.fontSize : 10,\n      color: !isNullOrUndefined(options.color) ? options.color : \"black\",\n      backgroundColor: !isNullOrUndefined(options.backgroundColor) ? options.backgroundColor : \"#daeaf7ff\",\n      alignment: !isNullOrUndefined(options.alignment) ? options.alignment : \"left\",\n      isReadonly: options.isReadOnly ? options.isReadOnly : false,\n      rotateAngle: options.rotateAngle\n    };\n    obj.fontStyle = !isNullOrUndefined(options.fontStyle) ? options.fontStyle : \"None\";\n    obj.visibility = !isNullOrUndefined(options.visibility) ? options.visibility : \"visible\";\n    obj.value = !isNullOrUndefined(options.value) ? options.value : \"\";\n    obj.isRequired = options.isRequired ? options.isRequired : false;\n    obj.isPrint = options.isPrint;\n    obj.pageNumber = !isNullOrUndefined(options.pageNumber) ? options.pageNumber : this.pdfViewerBase.currentPageNumber;\n    obj.pageIndex = obj.pageNumber - 1;\n    obj.font = options.font;\n    obj.id = id;\n\n    if (isCollection) {\n      this.setFormFieldIndex();\n    }\n\n    switch (formFieldType) {\n      case 'Textbox':\n        obj.formFieldAnnotationType = formFieldType;\n        obj.isMultiline = options.isMultiline;\n        obj.name = !isNullOrUndefined(options.name) ? options.name : 'Textbox' + this.formFieldIndex;\n        obj.maxLength = options.maxLength;\n        obj.thickness = !isNullOrUndefined(options.thickness) ? options.thickness : 1;\n        obj.borderColor = !isNullOrUndefined(options.borderColor) ? options.borderColor : '#303030';\n        break;\n\n      case 'Password':\n        obj.formFieldAnnotationType = 'PasswordField';\n        obj.name = !isNullOrUndefined(options.name) ? options.name : 'Password' + this.formFieldIndex;\n        obj.maxLength = options.maxLength;\n        obj.thickness = !isNullOrUndefined(options.thickness) ? options.thickness : 1;\n        obj.borderColor = !isNullOrUndefined(options.borderColor) ? options.borderColor : '#303030';\n        break;\n\n      case 'DropDown':\n        obj.formFieldAnnotationType = 'DropdownList';\n        obj.name = !isNullOrUndefined(options.name) ? options.name : 'Dropdown' + this.formFieldIndex;\n        obj.options = options.options ? options.options : [];\n\n        for (var i = 0; i < this.pdfViewer.formFieldCollection.length; i++) {\n          var formField = this.pdfViewer.formFieldCollection[i];\n\n          if (formField.formFieldAnnotationType === 'DropdownList' && formField.name === obj.name) {\n            obj.options = formField.options;\n            break;\n          }\n        }\n\n        obj.selectedIndex = options.selectedIndex;\n        obj.thickness = !isNullOrUndefined(options.thickness) ? options.thickness : 1;\n        obj.borderColor = !isNullOrUndefined(options.borderColor) ? options.borderColor : '#303030';\n        break;\n\n      case 'ListBox':\n        obj.formFieldAnnotationType = formFieldType;\n        obj.name = !isNullOrUndefined(options.name) ? options.name : 'List Box' + this.formFieldIndex;\n        obj.options = options.options ? options.options : [];\n\n        for (var i = 0; i < this.pdfViewer.formFieldCollection.length; i++) {\n          var formField = this.pdfViewer.formFieldCollection[i];\n\n          if (formField.formFieldAnnotationType === formFieldType && formField.name === obj.name) {\n            obj.options = formField.options;\n            break;\n          }\n        }\n\n        obj.selectedIndex = options.selectedIndex;\n        obj.thickness = !isNullOrUndefined(options.thickness) ? options.thickness : 1;\n        obj.borderColor = !isNullOrUndefined(options.borderColor) ? options.borderColor : '#303030';\n        break;\n\n      case 'CheckBox':\n        obj.formFieldAnnotationType = 'Checkbox';\n        obj.bounds = {\n          x: options.bounds.X,\n          y: options.bounds.Y,\n          width: options.bounds.Width,\n          height: options.bounds.Height\n        };\n        obj.backgroundColor = !isNullOrUndefined(options.backgroundColor) ? options.backgroundColor : \"#daeaf7ff\";\n        obj.isReadonly = options.isReadOnly ? options.isReadOnly : false;\n        obj.name = !isNullOrUndefined(options.name) ? options.name : 'Check Box' + this.formFieldIndex;\n        obj.isChecked = options.isChecked ? options.isChecked : false;\n        obj.visibility = options.visibility ? options.visibility : \"visible\";\n        obj.isRequired = options.isRequired ? options.isRequired : false;\n        obj.thickness = !isNullOrUndefined(options.thickness) ? options.thickness : 1;\n        obj.borderColor = !isNullOrUndefined(options.borderColor) ? options.borderColor : '#303030';\n        break;\n\n      case 'RadioButton':\n        obj.formFieldAnnotationType = formFieldType;\n        obj.bounds = {\n          x: options.bounds.X,\n          y: options.bounds.Y,\n          width: options.bounds.Width,\n          height: options.bounds.Height\n        };\n        obj.backgroundColor = !isNullOrUndefined(options.backgroundColor) ? options.backgroundColor : \"#daeaf7ff\";\n        obj.isReadonly = options.isReadOnly ? options.isReadOnly : false;\n        obj.name = !isNullOrUndefined(options.name) ? options.name : 'Radio Button' + this.formFieldIndex;\n        obj.isSelected = options.isSelected ? options.isSelected : false;\n        obj.visibility = options.visibility ? options.visibility : \"visible\";\n        obj.isRequired = options.isRequired ? options.isRequired : false;\n        obj.thickness = !isNullOrUndefined(options.thickness) ? options.thickness : 1;\n        obj.borderColor = !isNullOrUndefined(options.borderColor) ? options.borderColor : '#303030';\n        break;\n\n      case 'SignatureField':\n        obj.formFieldAnnotationType = formFieldType;\n        obj.bounds = {\n          x: options.bounds.X,\n          y: options.bounds.Y,\n          width: options.bounds.Width,\n          height: options.bounds.Height\n        };\n        obj.backgroundColor = !isNullOrUndefined(options.backgroundColor) ? options.backgroundColor : \"#daeaf7ff\";\n        obj.fontSize = !isNullOrUndefined(options.fontSize) ? options.fontSize : 10;\n        obj.fontStyle = !isNullOrUndefined(options.fontStyle) ? options.fontStyle : \"None\";\n        obj.name = !isNullOrUndefined(options.name) ? options.name : 'Signature' + this.formFieldIndex;\n        obj.isRequired = options.isRequired ? options.isRequired : false;\n        obj.isReadonly = options.isReadOnly ? options.isReadOnly : false;\n        obj.signatureIndicatorSettings = options.signatureIndicatorSettings ? {\n          opacity: options.signatureIndicatorSettings.opacity ? options.signatureIndicatorSettings.opacity : 1,\n          backgroundColor: options.signatureIndicatorSettings.backgroundColor ? options.signatureIndicatorSettings.backgroundColor : 'orange',\n          width: options.signatureIndicatorSettings.width ? options.signatureIndicatorSettings.width : 19,\n          height: options.signatureIndicatorSettings.height ? options.signatureIndicatorSettings.height : 10,\n          fontSize: options.signatureIndicatorSettings.fontSize ? options.signatureIndicatorSettings.fontSize : 10,\n          text: options.signatureIndicatorSettings.text ? options.signatureIndicatorSettings.text : null,\n          color: options.signatureIndicatorSettings.color ? options.signatureIndicatorSettings.color : 'black'\n        } : null;\n        break;\n\n      case 'InitialField':\n        obj.formFieldAnnotationType = formFieldType;\n        obj.bounds = {\n          x: options.bounds.X,\n          y: options.bounds.Y,\n          width: options.bounds.Width,\n          height: options.bounds.Height\n        };\n        obj.backgroundColor = !isNullOrUndefined(options.backgroundColor) ? options.backgroundColor : \"#daeaf7ff\";\n        obj.fontSize = !isNullOrUndefined(options.fontSize) ? options.fontSize : 10;\n        obj.fontStyle = !isNullOrUndefined(options.fontStyle) ? options.fontStyle : \"None\";\n        obj.name = !isNullOrUndefined(options.name) ? options.name : 'Initial' + this.formFieldIndex;\n        obj.isRequired = options.isRequired ? options.isRequired : false;\n        obj.isReadonly = options.isReadOnly ? options.isReadOnly : false;\n        obj.isInitialField = true;\n        obj.signatureIndicatorSettings = options.signatureIndicatorSettings ? {\n          opacity: options.signatureIndicatorSettings.opacity ? options.signatureIndicatorSettings.opacity : 1,\n          backgroundColor: options.signatureIndicatorSettings.backgroundColor ? options.signatureIndicatorSettings.backgroundColor : 'orange',\n          width: options.signatureIndicatorSettings.width ? options.signatureIndicatorSettings.width : 19,\n          height: options.signatureIndicatorSettings.height ? options.signatureIndicatorSettings.height : 10,\n          fontSize: options.signatureIndicatorSettings.fontSize ? options.signatureIndicatorSettings.fontSize : 10,\n          text: options.signatureIndicatorSettings.text ? options.signatureIndicatorSettings.text : null,\n          color: options.signatureIndicatorSettings.color ? options.signatureIndicatorSettings.color : 'black'\n        } : null;\n        break;\n    }\n\n    obj.tooltip = !isNullOrUndefined(options.tooltip) ? options.tooltip : '';\n    var HTMLElement = null;\n\n    if (isCollection) {\n      this.addFieldCollection(obj);\n    } else {\n      this.pdfViewerBase.disableTextSelectionMode();\n      HTMLElement = this.drawFormField(obj);\n    }\n\n    return HTMLElement;\n  };\n\n  FormDesigner.prototype.addFieldCollection = function (node) {\n    var formField = {\n      id: randomId(),\n      name: node.name,\n      value: node.value,\n      type: node.formFieldAnnotationType,\n      isReadOnly: node.isReadonly,\n      fontFamily: node.fontFamily,\n      fontSize: node.fontSize,\n      fontStyle: node.fontStyle,\n      color: node.color,\n      backgroundColor: node.backgroundColor,\n      isMultiline: node.isMultiline,\n      alignment: node.alignment,\n      visibility: node.visibility,\n      maxLength: node.maxLength,\n      isRequired: node.isRequired,\n      isPrint: node.isPrint,\n      isSelected: node.isSelected,\n      isChecked: node.isChecked,\n      tooltip: node.tooltip,\n      bounds: node.bounds,\n      thickness: node.thickness,\n      pageIndex: node.pageIndex,\n      borderColor: node.borderColor,\n      signatureIndicatorSettings: node.signatureIndicatorSettings\n    };\n    this.pdfViewer.formFieldCollections.push(formField);\n  };\n  /**\n   * @private\n   */\n\n\n  FormDesigner.prototype.drawFormField = function (obj) {\n    var node = this.pdfViewer.add(obj);\n    var index = this.pdfViewer.formFieldCollections.findIndex(function (el) {\n      return el.id === node.id;\n    }); // eslint-disable-next-line\n\n    var data;\n\n    if (index > -1) {\n      data = this.pdfViewer.formFieldCollections[index];\n\n      if (this.isFormFieldUpdated) {\n        this.updateNodeBasedOnCollections(node, data);\n      }\n    }\n\n    var formFieldIndex = this.pdfViewer.formFieldCollection.findIndex(function (el) {\n      return el.id === node.id;\n    });\n\n    if (formFieldIndex < 0) {\n      this.pdfViewer.formFieldCollection.push(node);\n    } else if (formFieldIndex > -1) {\n      this.pdfViewer.formFieldCollection[formFieldIndex] = node;\n    }\n\n    var formField = {\n      id: node.id,\n      name: node.name,\n      value: node.value,\n      type: node.formFieldAnnotationType,\n      isReadOnly: node.isReadonly,\n      fontFamily: node.fontFamily,\n      fontSize: node.fontSize,\n      fontStyle: node.fontStyle,\n      color: node.color,\n      backgroundColor: node.backgroundColor,\n      isMultiline: node.isMultiline,\n      alignment: node.alignment,\n      visibility: node.visibility,\n      maxLength: node.maxLength,\n      isRequired: node.isRequired,\n      isPrint: node.isPrint,\n      isSelected: node.isSelected,\n      isChecked: node.isChecked,\n      tooltip: node.tooltip,\n      bounds: node.bounds,\n      pageIndex: node.pageIndex,\n      thickness: node.thickness,\n      borderColor: node.borderColor,\n      signatureIndicatorSettings: node.signatureIndicatorSettings\n    };\n\n    if (index > -1) {\n      this.pdfViewer.formFieldCollections[index] = formField;\n    } else {\n      this.pdfViewer.formFieldCollections.push(formField);\n    }\n\n    var HTMLElement = this.drawHTMLContent(node.formFieldAnnotationType, node.wrapper.children[0], node, obj.pageNumber - 1, this.pdfViewer);\n    return HTMLElement;\n  };\n  /**\n  * Update the node value based on the collections\n  *\n  * @param node\n  * @param data\n  * @returns void\n  */\n\n\n  FormDesigner.prototype.updateNodeBasedOnCollections = function (node, data) {\n    node.name = data.name;\n    node.value = data.value;\n    node.isReadonly = data.isReadOnly;\n    node.fontFamily = data.fontFamily;\n    node.fontSize = data.fontSize;\n    node.fontStyle = data.fontStyle.toString();\n    node.color = data.color;\n    node.backgroundColor = data.backgroundColor;\n    node.alignment = data.alignment;\n    node.visibility = data.visibility;\n    node.maxLength = data.maxLength;\n    node.isRequired = data.isRequired;\n    node.isPrint = data.isPrint;\n    node.isSelected = data.isSelected;\n    node.isChecked = data.isChecked;\n    node.tooltip = data.tooltip;\n    node.thickness = data.thickness;\n    node.borderColor = data.borderColor;\n  };\n  /**\n   * Set the form field mode to add the form field on user interaction.\n   *\n   * @param formFieldId\n   * @param options\n   * @returns void\n   */\n\n\n  FormDesigner.prototype.setFormFieldMode = function (formFieldType, options) {\n    switch (formFieldType) {\n      case 'Textbox':\n        this.activateTextboxElement(formFieldType);\n        this.isSetFormFieldMode = true;\n        break;\n\n      case 'Password':\n        var passwordType = 'PasswordField';\n        this.activatePasswordField(passwordType);\n        this.isSetFormFieldMode = true;\n        break;\n\n      case 'CheckBox':\n        var checkboxType = 'Checkbox';\n        this.activateCheckboxElement(checkboxType);\n        this.isSetFormFieldMode = true;\n        break;\n\n      case 'RadioButton':\n        this.activateRadioButtonElement(formFieldType);\n        this.isSetFormFieldMode = true;\n        break;\n\n      case 'DropDown':\n        var dropdownType = 'DropdownList';\n        this.activateDropDownListElement(dropdownType, options);\n        this.isSetFormFieldMode = true;\n        break;\n\n      case 'ListBox':\n        this.activateListboxElement(formFieldType, options);\n        this.isSetFormFieldMode = true;\n        break;\n\n      case 'SignatureField':\n      case 'InitialField':\n        this.activateSignatureBoxElement(formFieldType);\n        this.isSetFormFieldMode = true;\n    }\n  };\n  /**\n   * Reset the form fields into its original state.\n   *\n   * @param formFieldId\n   * @returns void\n   */\n\n\n  FormDesigner.prototype.resetFormField = function (formFieldId) {\n    var formField = this.getFormField(formFieldId);\n\n    if (formField) {\n      switch (formField.formFieldAnnotationType) {\n        case 'Textbox':\n          this.resetTextboxProperties(formField);\n          break;\n\n        case 'PasswordField':\n          this.resetPasswordProperties(formField);\n          break;\n\n        case 'Checkbox':\n          this.resetCheckboxProperties(formField);\n          break;\n\n        case 'RadioButton':\n          this.resetRadioButtonProperties(formField);\n          break;\n\n        case 'DropdownList':\n          this.resetDropdownListProperties(formField);\n          break;\n\n        case 'ListBox':\n          this.resetListBoxProperties(formField);\n          break;\n\n        case 'SignatureField':\n        case 'InitialField':\n          this.resetSignatureTextboxProperties(formField);\n          break;\n      }\n\n      this.updateSessionFormFieldProperties(formField);\n    }\n  };\n  /**\n   * Select the form field in the PDF Viewer.\n   *\n   * @param formFieldId\n   * @returns void\n   */\n\n\n  FormDesigner.prototype.selectFormField = function (formFieldId) {\n    var formField = this.getFormField(formFieldId);\n\n    if (formField) {\n      this.isProgrammaticSelection = true;\n      this.pdfViewer.select([formField.id]);\n      this.isProgrammaticSelection = false;\n    }\n  };\n  /**\n   * Update the form field with the given properties and value.\n   *\n   * @param formFieldId\n   * @param options\n   * @returns void\n   */\n\n\n  FormDesigner.prototype.updateFormField = function (formFieldId, options) {\n    var formField = this.getFormField(formFieldId);\n    this.isFormFieldUpdated = true;\n\n    if (formField) {\n      switch (formField.formFieldAnnotationType) {\n        case 'Textbox':\n        case 'PasswordField':\n        case 'DropdownList':\n        case 'ListBox':\n        case 'SignatureField':\n        case 'InitialField':\n          var inputElement = document.getElementById(formField.id + \"_content_html_element\");\n\n          if (inputElement) {\n            inputElement = inputElement.firstElementChild.firstElementChild;\n            this.formFieldPropertyChange(formField, options, inputElement);\n          } else {\n            this.updateFormFieldsInCollections(formFieldId, options);\n          }\n\n          break;\n\n        case 'RadioButton':\n          var radioButtonDivDivElement = document.getElementById(formField.id + \"_content_html_element\");\n\n          if (radioButtonDivDivElement) {\n            radioButtonDivDivElement = radioButtonDivDivElement.firstElementChild.firstElementChild.firstElementChild;\n            this.formFieldPropertyChange(formField, options, radioButtonDivDivElement);\n          } else {\n            this.updateFormFieldsInCollections(formFieldId, options);\n          }\n\n          break;\n\n        case 'Checkbox':\n          var checkboxDivElement = document.getElementById(formField.id + \"_content_html_element\");\n\n          if (checkboxDivElement) {\n            checkboxDivElement = checkboxDivElement.firstElementChild.firstElementChild.lastElementChild;\n            this.formFieldPropertyChange(formField, options, checkboxDivElement);\n          } else {\n            this.updateFormFieldsInCollections(formFieldId, options);\n          }\n\n          break;\n      }\n    } else {\n      this.updateFormFieldsInCollections(formFieldId, options);\n    }\n  };\n  /**\n  * Update the form field in the form field collections.\n  * @param formFieldId\n  * @param options\n  * @returns void\n  */\n\n\n  FormDesigner.prototype.updateFormFieldsInCollections = function (formFieldId, options) {\n    var formFieldCollection = this.pdfViewer.formFieldCollections;\n\n    for (var i = 0; i < formFieldCollection.length; i++) {\n      var currentData = formFieldCollection[i];\n\n      if (currentData.id === formFieldId) {\n        this.updateFormFieldData(currentData, options);\n        var formFieldIndex = this.pdfViewer.formFieldCollections.findIndex(function (el) {\n          return el.id === formFieldId;\n        });\n        this.pdfViewer.formFieldCollections[formFieldIndex] = currentData;\n      }\n    }\n  };\n  /**\n  * Update the form field data based on the value\n  * @param currentData\n  * @param options\n  * @returns void\n  */\n\n\n  FormDesigner.prototype.updateFormFieldData = function (currentData, options) {\n    if (options.name && currentData.name !== options.name) {\n      currentData.name = options.name;\n    }\n\n    if (currentData.type !== 'SignatureField' || currentData.type !== 'InitialField') {\n      if (options.thickness && currentData.thickness !== options.thickness) {\n        currentData.thickness = options.thickness;\n      }\n\n      if (options.borderColor) {\n        var borderColor = this.colorNametoHashValue(options.borderColor);\n\n        if (currentData.borderColor !== borderColor) {\n          currentData.borderColor = borderColor;\n        }\n      }\n    }\n\n    if (options.backgroundColor) {\n      var backColor = this.colorNametoHashValue(options.backgroundColor);\n\n      if (currentData.backgroundColor !== backColor) {\n        currentData.backgroundColor = backColor;\n      }\n    }\n\n    if (!isNullOrUndefined(options.isReadOnly) && currentData.isReadonly !== options.isReadOnly) {\n      currentData.isReadOnly = options.isReadOnly;\n    }\n\n    if (!isNullOrUndefined(options.isRequired) && currentData.isRequired !== options.isRequired) {\n      currentData.isRequired = options.isRequired;\n    }\n\n    if (!isNullOrUndefined(options.isPrint) && currentData.isPrint !== options.isPrint) {\n      currentData.isPrint = options.isPrint;\n    }\n\n    if (options.visibility && currentData.visibility !== options.visibility) {\n      currentData.visibility = options.visibility;\n    }\n\n    if (options.tooltip && currentData.tooltip !== options.tooltip) {\n      currentData.tooltip = options.tooltip;\n    }\n\n    if (currentData.type === 'Checkbox' && !isNullOrUndefined(options.isChecked) && currentData.isChecked === options.isChecked) {\n      currentData.isChecked = options.isChecked;\n    }\n\n    if (currentData.type === 'RadioButton' && !isNullOrUndefined(options.isSelected) && currentData.isSelected === options.isSelected) {\n      currentData.isSelected = options.isSelected;\n    }\n\n    if ((currentData.type === 'DropdownList' || currentData.type === 'ListBox') && options.options) {\n      currentData.options = options.options;\n    }\n\n    if (currentData.type === 'Textbox' || currentData.type === 'SignatureField' || currentData.type === 'InitialField' || currentData.type === 'DropdownList' || currentData.type === 'ListBox' || currentData.type === 'PasswordField') {\n      if (options.value && currentData.value !== options.value) {\n        currentData.value = options.value;\n      }\n\n      if (options.fontSize && currentData.fontSize !== options.fontSize) {\n        currentData.fontSize = options.fontSize;\n      }\n\n      if (options.color) {\n        var color = this.colorNametoHashValue(options.color);\n\n        if (currentData.color !== color) {\n          currentData.color = color;\n        }\n      }\n\n      if (currentData.type !== 'SignatureField') {\n        if (options.alignment && currentData.alignment !== options.alignment) {\n          currentData.alignment = options.alignment;\n        }\n\n        if (options.maxLength && currentData.maxLength !== options.maxLength) {\n          currentData.maxLength = options.maxLength;\n        }\n      }\n\n      if (currentData.type !== 'PasswordField') {\n        if (options.fontFamily && currentData.fontFamily !== options.fontFamily) {\n          currentData.fontFamily = options.fontFamily;\n        }\n\n        if (options.fontStyle && currentData.fontStyle !== options.fontStyle) {\n          currentData.fontStyle = options.fontStyle;\n        }\n      }\n    }\n  };\n\n  FormDesigner.prototype.getSignatureBackground = function (color) {\n    if (color.includes('#')) {\n      if (color.length > 8) {\n        color = color.slice(0, -2) + '60';\n      } else {\n        color += '60';\n      }\n    }\n\n    return color;\n  };\n\n  FormDesigner.prototype.formFieldPropertyChange = function (formFieldObject, options, htmlElement) {\n    var isValueChanged = false,\n        isFontFamilyChanged = false,\n        isFontSizeChanged = false,\n        isFontStyleChanged = false,\n        isColorChanged = false,\n        isBackgroundColorChanged = false,\n        isBorderColorChanged = false,\n        isBorderWidthChanged = false,\n        isAlignmentChanged = false,\n        isReadOnlyChanged = false,\n        isVisibilityChanged = false,\n        isMaxLengthChanged = false,\n        isRequiredChanged = false,\n        isPrintChanged = false,\n        isToolTipChanged = false,\n        isNameChanged = false;\n    var oldValue, newValue;\n    var zoomValue = this.pdfViewerBase.getZoomFactor();\n\n    if (options.name) {\n      if (formFieldObject.name !== options.name) {\n        isNameChanged = true;\n      }\n\n      formFieldObject.name = options.name;\n      var designerName = document.getElementById(formFieldObject.id + \"_designer_name\");\n      designerName.innerHTML = formFieldObject.name;\n      designerName.style.fontSize = formFieldObject.fontSize ? formFieldObject.fontSize * zoomValue + 'px' : 10 * zoomValue + 'px';\n      htmlElement.name = options.name;\n      this.pdfViewer.nameTable[formFieldObject.id.split('_')[0]].name = formFieldObject.name;\n\n      if (isNameChanged) {\n        this.updateFormFieldPropertiesChanges(\"formFieldPropertiesChange\", formFieldObject, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, oldValue, newValue, isNameChanged);\n      }\n    }\n\n    if (formFieldObject.formFieldAnnotationType !== 'SignatureField') {\n      if (options.thickness) {\n        if (formFieldObject.thickness !== options.thickness) {\n          isBorderWidthChanged = true;\n          oldValue = formFieldObject.thickness;\n          newValue = options.thickness;\n        }\n\n        htmlElement.style.borderWidth = options.thickness.toString() + 'px';\n        formFieldObject.thickness = options.thickness;\n        this.pdfViewer.nameTable[formFieldObject.id.split('_')[0]].thickness = options.thickness;\n\n        if (isBorderWidthChanged) {\n          this.updateFormFieldPropertiesChanges(\"formFieldPropertiesChange\", formFieldObject, false, false, false, false, false, false, false, isBorderWidthChanged, false, false, false, false, false, false, false, oldValue, newValue);\n        }\n      }\n\n      if (options.borderColor) {\n        var borderColor = this.colorNametoHashValue(options.borderColor);\n\n        if (formFieldObject.borderColor !== borderColor) {\n          isBorderColorChanged = true;\n          oldValue = formFieldObject.borderColor;\n          newValue = borderColor;\n        }\n\n        formFieldObject.borderColor = borderColor;\n        htmlElement.style.borderColor = borderColor;\n\n        if (formFieldObject.formFieldAnnotationType === 'RadioButton') {\n          htmlElement.parentElement.style.boxShadow = borderColor + ' 0px 0px 0px ' + formFieldObject.thickness + 'px';\n          this.setToolTip(options.tooltip, htmlElement.parentElement);\n        }\n\n        this.pdfViewer.nameTable[formFieldObject.id.split('_')[0]].borderColor = borderColor;\n\n        if (isBorderColorChanged) {\n          this.updateFormFieldPropertiesChanges(\"formFieldPropertiesChange\", formFieldObject, false, false, false, false, false, false, isBorderColorChanged, false, false, false, false, false, false, false, false, oldValue, newValue);\n        }\n      }\n    }\n\n    if (options.backgroundColor) {\n      var backColor = this.colorNametoHashValue(options.backgroundColor);\n      backColor = this.getSignatureBackground(backColor);\n\n      if (formFieldObject.backgroundColor !== backColor) {\n        isBackgroundColorChanged = true;\n        oldValue = formFieldObject.backgroundColor;\n        newValue = backColor;\n      }\n\n      formFieldObject.backgroundColor = backColor;\n\n      if (formFieldObject.formFieldAnnotationType === 'SignatureField' || formFieldObject.formFieldAnnotationType === 'InitialField') {\n        htmlElement.parentElement.style.background = backColor;\n      } else {\n        htmlElement.style.background = backColor;\n      }\n\n      if (formFieldObject.formFieldAnnotationType === 'RadioButton') {\n        htmlElement.parentElement.style.background = formFieldObject.backgroundColor;\n      }\n\n      this.pdfViewer.nameTable[formFieldObject.id.split('_')[0]].backgroundColor = backColor;\n\n      if (isBackgroundColorChanged) {\n        this.updateFormFieldPropertiesChanges(\"formFieldPropertiesChange\", formFieldObject, false, false, false, false, false, isBackgroundColorChanged, false, false, false, false, false, false, false, false, false, oldValue, newValue);\n      }\n    }\n\n    if (options.bounds) {\n      formFieldObject.bounds = {\n        x: options.bounds.X,\n        y: options.bounds.Y,\n        width: options.bounds.Width,\n        height: options.bounds.Height\n      };\n      var formField_1 = this.pdfViewer.nameTable[formFieldObject.id.split(\"_\")[0]];\n      formField_1.bounds = {\n        x: options.bounds.X,\n        y: options.bounds.Y,\n        width: options.bounds.Width,\n        height: options.bounds.Height\n      };\n      formField_1.wrapper.bounds = new Rect(options.bounds.X, options.bounds.Y, options.bounds.Width, options.bounds.Height);\n      this.pdfViewer.drawing.nodePropertyChange(formField_1, {\n        bounds: {\n          x: formField_1.wrapper.bounds.x,\n          y: formField_1.wrapper.bounds.y,\n          width: formField_1.wrapper.bounds.width,\n          height: formField_1.wrapper.bounds.height\n        }\n      });\n      var element = formField_1.wrapper.children[0];\n      var point = cornersPointsBeforeRotation(formField_1.wrapper.children[0]).topLeft;\n      var hEment = document.getElementById(element.id + \"_html_element\");\n\n      if (!isNullOrUndefined(hEment)) {\n        hEment.setAttribute('style', 'height:' + element.actualSize.height * zoomValue + 'px; width:' + element.actualSize.width * zoomValue + 'px;left:' + point.x * zoomValue + 'px; top:' + point.y * zoomValue + 'px;' + 'position:absolute;transform:rotate(' + (element.rotateAngle + element.parentTransform) + 'deg);' + 'pointer-events:' + (this.pdfViewer.designerMode ? 'none' : 'all') + ';visibility:' + (element.visible ? 'visible' : 'hidden') + ';opacity:' + element.style.opacity + ';');\n      }\n    }\n\n    if (!isNullOrUndefined(options.isReadOnly)) {\n      if (formFieldObject.isReadonly !== options.isReadOnly) {\n        isReadOnlyChanged = true;\n        oldValue = formFieldObject.isReadonly;\n        newValue = options.isReadOnly;\n      }\n\n      formFieldObject.isReadonly = options.isReadOnly;\n      this.setReadOnlyToElement(formFieldObject, htmlElement, options.isReadOnly);\n      this.setReadOnlyToFormField(formFieldObject, options.isReadOnly);\n      this.pdfViewer.nameTable[formFieldObject.id.split('_')[0]].isReadonly = options.isReadOnly;\n\n      if (isReadOnlyChanged) {\n        this.updateFormFieldPropertiesChanges(\"formFieldPropertiesChange\", formFieldObject, false, false, false, false, false, false, false, false, false, isReadOnlyChanged, false, false, false, false, false, oldValue, newValue);\n      }\n    }\n\n    if (!isNullOrUndefined(options.isRequired)) {\n      if (formFieldObject.isRequired !== options.isRequired) {\n        isRequiredChanged = true;\n        oldValue = formFieldObject.isRequired;\n        newValue = options.isRequired;\n      }\n\n      formFieldObject.isRequired = options.isRequired;\n      this.setRequiredToElement(formFieldObject, htmlElement, options.isRequired);\n      this.setRequiredToFormField(formFieldObject, options.isRequired);\n      this.pdfViewer.nameTable[formFieldObject.id.split('_')[0]].isRequired = options.isRequired;\n\n      if (isRequiredChanged) {\n        this.updateFormFieldPropertiesChanges(\"formFieldPropertiesChange\", formFieldObject, false, false, false, false, false, false, false, false, false, false, false, false, isRequiredChanged, false, false, oldValue, newValue);\n      }\n    }\n\n    if (options.visibility) {\n      if (formFieldObject.visibility !== options.visibility) {\n        isVisibilityChanged = true;\n        oldValue = formFieldObject.visibility;\n        newValue = options.visibility;\n      }\n\n      formFieldObject.visibility = options.visibility;\n      htmlElement.style.visibility = options.visibility;\n\n      if (formFieldObject.formFieldAnnotationType === 'RadioButton') {\n        htmlElement.parentElement.style.visibility = formFieldObject.visibility;\n      }\n\n      if (formFieldObject.formFieldAnnotationType === 'SignatureField' || formFieldObject.formFieldAnnotationType === 'InitialField') {\n        htmlElement.parentElement.style.visibility = formFieldObject.visibility;\n        var annotation = this.pdfViewer.nameTable[formFieldObject.id.split('_')[0] + \"_content\"];\n        var data = this.pdfViewerBase.getItemFromSessionStorage('_formDesigner');\n        var formFieldsData = JSON.parse(data);\n        var index = this.getFormFiledIndex(formFieldObject.id.split('_')[0]);\n\n        if (formFieldObject.visibility === \"hidden\") {\n          if (annotation) {\n            this.hideSignatureValue(formFieldObject, annotation, index, formFieldsData);\n          }\n        } else {\n          if (annotation) {\n            this.showSignatureValue(formFieldObject, oldValue, annotation, index, formFieldsData);\n          }\n        }\n      }\n\n      this.pdfViewer.nameTable[formFieldObject.id.split('_')[0]].visibility = options.visibility;\n\n      if (isVisibilityChanged) {\n        this.updateFormFieldPropertiesChanges(\"formFieldPropertiesChange\", formFieldObject, false, false, false, false, false, false, false, false, false, false, isVisibilityChanged, false, false, false, false, oldValue, newValue);\n      }\n    }\n\n    if (!isNullOrUndefined(options.isPrint)) {\n      if (formFieldObject.isPrint !== options.isPrint) {\n        isPrintChanged = true;\n        oldValue = formFieldObject.isPrint;\n        newValue = options.isPrint;\n      }\n\n      formFieldObject.isPrint = options.isPrint;\n      this.pdfViewer.nameTable[formFieldObject.id.split('_')[0]].isPrint = options.isPrint;\n\n      if (isPrintChanged) {\n        this.updateFormFieldPropertiesChanges(\"formFieldPropertiesChange\", formFieldObject, false, false, false, false, false, false, false, false, false, false, false, false, false, isPrintChanged, false, oldValue, newValue);\n      }\n    }\n\n    if (options.tooltip) {\n      if (formFieldObject.tooltip !== options.tooltip) {\n        isToolTipChanged = true;\n        oldValue = formFieldObject.tooltip;\n        newValue = options.tooltip;\n      }\n\n      formFieldObject.tooltip = options.tooltip;\n\n      if (!isNullOrUndefined(options.tooltip)) {\n        if (formFieldObject.formFieldAnnotationType === 'RadioButton') {\n          this.setToolTip(options.tooltip, htmlElement.parentElement);\n        } else {\n          this.setToolTip(options.tooltip, htmlElement);\n        }\n      }\n\n      this.pdfViewer.nameTable[formFieldObject.id.split('_')[0]].tooltip = options.tooltip;\n\n      if (isToolTipChanged) {\n        this.updateFormFieldPropertiesChanges(\"formFieldPropertiesChange\", formFieldObject, false, false, false, false, false, false, false, false, false, false, false, false, false, false, isToolTipChanged, oldValue, newValue);\n      }\n    }\n\n    if (formFieldObject.formFieldAnnotationType === 'Checkbox' && !isNullOrUndefined(options.isChecked) || options.isChecked) {\n      if (formFieldObject.isChecked !== this.checkboxCheckedState) {\n        isValueChanged = true;\n        oldValue = formFieldObject.isChecked;\n        newValue = options.isChecked;\n      }\n\n      formFieldObject.isChecked = options.isChecked;\n      htmlElement.checked = options.isChecked;\n      this.setCheckedValue(htmlElement, options.isChecked);\n      this.pdfViewer.nameTable[formFieldObject.id.split('_')[0]].isChecked = options.isChecked;\n\n      if (isValueChanged) {\n        this.updateFormFieldPropertiesChanges(\"formFieldPropertiesChange\", formFieldObject, isValueChanged, false, false, false, false, false, false, false, false, false, false, false, false, false, false, oldValue, newValue);\n      }\n    }\n\n    if (formFieldObject.formFieldAnnotationType === 'RadioButton' && !isNullOrUndefined(options.isSelected) || options.isSelected) {\n      if (formFieldObject.isSelected !== options.isSelected) {\n        isValueChanged = true;\n        oldValue = formFieldObject.isSelected;\n        newValue = this.checkboxCheckedState;\n      }\n\n      formFieldObject.isSelected = options.isSelected;\n      htmlElement.checked = options.isSelected;\n      this.pdfViewer.nameTable[formFieldObject.id.split('_')[0]].isSelected = options.isSelected;\n\n      if (isValueChanged) {\n        this.updateFormFieldPropertiesChanges(\"formFieldPropertiesChange\", formFieldObject, isValueChanged, false, false, false, false, false, false, false, false, false, false, false, false, false, false, oldValue, newValue);\n      }\n    }\n\n    if (formFieldObject.formFieldAnnotationType === 'DropdownList' || formFieldObject.formFieldAnnotationType === 'ListBox') {\n      if (options.options) {\n        formFieldObject.options = options.options;\n        this.updateDropDownListDataSource(formFieldObject, htmlElement);\n        this.pdfViewer.nameTable[formFieldObject.id.split('_')[0]].options = formFieldObject.options;\n      }\n    }\n\n    if (formFieldObject.formFieldAnnotationType === 'Textbox' || formFieldObject.formFieldAnnotationType === 'SignatureField' || formFieldObject.formFieldAnnotationType === 'InitialField' || formFieldObject.formFieldAnnotationType === 'DropdownList' || formFieldObject.formFieldAnnotationType === 'ListBox' || formFieldObject.formFieldAnnotationType === 'PasswordField') {\n      if (options.value) {\n        if (formFieldObject.value !== options.value) {\n          isValueChanged = true;\n          oldValue = formFieldObject.value;\n          newValue = options.value;\n        }\n\n        formFieldObject.value = options.value;\n\n        if (!(formFieldObject.formFieldAnnotationType === 'DropdownList' || formFieldObject.formFieldAnnotationType === 'ListBox')) {\n          htmlElement.value = options.value;\n        } else if (formFieldObject.formFieldAnnotationType === \"DropdownList\" || formFieldObject.formFieldAnnotationType === \"ListBox\") {\n          for (var i = 0; i < htmlElement.options.length; i++) {\n            if (htmlElement.options[i].text === options.value) {\n              htmlElement.options.selectedIndex = i;\n            }\n          }\n        }\n\n        this.pdfViewer.nameTable[formFieldObject.id.split('_')[0]].value = options.value;\n\n        if (isValueChanged) {\n          this.updateFormFieldPropertiesChanges(\"formFieldPropertiesChange\", formFieldObject, isValueChanged, false, false, false, false, false, false, false, false, false, false, false, false, false, false, oldValue, newValue);\n        }\n      }\n\n      if (options.fontSize) {\n        if (formFieldObject.fontSize !== options.fontSize) {\n          isFontSizeChanged = true;\n          oldValue = formFieldObject.fontSize;\n          newValue = options.fontSize;\n        }\n\n        formFieldObject.fontSize = options.fontSize;\n        htmlElement.style.fontSize = options.fontSize * zoomValue + 'px';\n        this.pdfViewer.nameTable[formFieldObject.id.split('_')[0]].fontSize = options.fontSize;\n\n        if (isFontSizeChanged) {\n          this.updateFormFieldPropertiesChanges(\"formFieldPropertiesChange\", formFieldObject, false, false, isFontSizeChanged, false, false, false, false, false, false, false, false, false, false, false, false, oldValue, newValue);\n        }\n      }\n\n      if (options.color) {\n        var color = this.colorNametoHashValue(options.color);\n\n        if (formFieldObject.color !== color) {\n          isColorChanged = true;\n          oldValue = formFieldObject.color;\n          newValue = color;\n        }\n\n        formFieldObject.color = color;\n        htmlElement.style.color = color;\n        this.pdfViewer.nameTable[formFieldObject.id.split('_')[0]].color = color;\n\n        if (isColorChanged) {\n          this.updateFormFieldPropertiesChanges(\"formFieldPropertiesChange\", formFieldObject, false, false, false, false, isColorChanged, false, false, false, false, false, false, false, false, false, false, oldValue, newValue);\n        }\n      }\n\n      if (formFieldObject.formFieldAnnotationType !== 'SignatureField') {\n        if (options.alignment) {\n          if (formFieldObject.alignment !== options.alignment) {\n            isAlignmentChanged = true;\n            oldValue = formFieldObject.alignment;\n            newValue = options.alignment;\n          }\n\n          formFieldObject.alignment = options.alignment;\n          htmlElement.style.textAlign = options.alignment;\n          this.pdfViewer.nameTable[formFieldObject.id.split('_')[0]].alignment = options.alignment;\n\n          if (isAlignmentChanged) {\n            this.updateFormFieldPropertiesChanges(\"formFieldPropertiesChange\", formFieldObject, false, false, false, false, false, false, false, false, isAlignmentChanged, false, false, false, false, false, false, oldValue, newValue);\n          }\n        }\n\n        if (options.maxLength) {\n          if (formFieldObject.maxLength !== options.maxLength) {\n            isMaxLengthChanged = true;\n            oldValue = formFieldObject.maxLength;\n            newValue = options.maxLength;\n          }\n\n          formFieldObject.maxLength = options.maxLength;\n          htmlElement.maxLength = options.maxLength;\n          this.pdfViewer.nameTable[formFieldObject.id.split('_')[0]].maxLength = options.maxLength;\n\n          if (isMaxLengthChanged) {\n            this.updateFormFieldPropertiesChanges(\"formFieldPropertiesChange\", formFieldObject, false, false, false, false, false, false, false, false, false, false, false, isMaxLengthChanged, false, false, false, oldValue, newValue);\n          }\n        }\n      }\n\n      if (formFieldObject.formFieldAnnotationType !== 'PasswordField') {\n        if (options.fontFamily) {\n          if (formFieldObject.fontFamily !== options.fontFamily) {\n            isFontFamilyChanged = true;\n            oldValue = formFieldObject.fontFamily;\n            newValue = options.fontFamily;\n          }\n\n          formFieldObject.fontFamily = options.fontFamily;\n          htmlElement.style.fontFamily = options.fontFamily;\n          this.pdfViewer.nameTable[formFieldObject.id.split('_')[0]].fontFamily = options.fontFamily;\n\n          if (isFontFamilyChanged) {\n            this.updateFormFieldPropertiesChanges(\"formFieldPropertiesChange\", formFieldObject, false, isFontFamilyChanged, false, false, false, false, false, false, false, false, false, false, false, false, false, oldValue, newValue);\n          }\n        }\n\n        var oldFontStyle = '';\n        var newFontStyle = '';\n\n        if (options.fontStyle) {\n          oldFontStyle += formFieldObject.font.isBold ? 'Bold' + \", \" : '';\n          oldFontStyle += formFieldObject.font.isItalic ? 'Italic' + \", \" : '';\n          oldFontStyle += formFieldObject.font.isStrikeout ? 'Strikethrough' + \", \" : '';\n          oldFontStyle += formFieldObject.font.isUnderline ? 'Underline' + \", \" : '';\n\n          if ((options.fontStyle & FontStyle.Bold) !== 0) {\n            htmlElement.style.fontWeight = \"bold\";\n            formFieldObject.fontStyle = \"Bold\";\n            formFieldObject.font.isBold = true;\n            this.pdfViewer.nameTable[formFieldObject.id.split('_')[0]].font.isBold = true;\n          }\n\n          newFontStyle += formFieldObject.font.isBold ? 'Bold' + \", \" : '';\n\n          if ((options.fontStyle & FontStyle.Italic) !== 0) {\n            htmlElement.style.fontStyle = \"italic\";\n            formFieldObject.fontStyle = \"Italic\";\n            formFieldObject.font.isItalic = true;\n            this.pdfViewer.nameTable[formFieldObject.id.split('_')[0]].font.isItalic = true;\n          }\n\n          newFontStyle += formFieldObject.font.isItalic ? 'Italic' + \", \" : '';\n\n          if ((options.fontStyle & FontStyle.Strikethrough) !== 0) {\n            htmlElement.style.textDecoration = \"line-through\";\n            formFieldObject.font.isStrikeout = true;\n            formFieldObject.fontStyle = \"Strikethrough\";\n            this.pdfViewer.nameTable[formFieldObject.id.split('_')[0]].font.isStrikeout = true;\n          }\n\n          newFontStyle += formFieldObject.font.isStrikeout ? 'Strikethrough' + \", \" : '';\n\n          if ((options.fontStyle & FontStyle.Underline) !== 0) {\n            htmlElement.style.textDecoration = \"underline\";\n            formFieldObject.fontStyle = \"Underline\";\n            formFieldObject.font.isUnderline = true;\n            this.pdfViewer.nameTable[formFieldObject.id.split('_')[0]].font.isUnderline = true;\n          }\n\n          newFontStyle += formFieldObject.font.isUnderline ? 'Underline' + \", \" : '';\n          isFontStyleChanged = true;\n\n          if (isFontStyleChanged) {\n            this.updateFormFieldPropertiesChanges(\"formFieldPropertiesChange\", formFieldObject, false, false, false, isFontStyleChanged, false, false, false, false, false, false, false, false, false, false, false, oldFontStyle, newFontStyle);\n          }\n        }\n      }\n    }\n\n    if (formFieldObject.formFieldAnnotationType === 'SignatureField' && options.signatureIndicatorSettings) {\n      formFieldObject = this.updateSignatureIndicator(formFieldObject, options, htmlElement);\n    }\n\n    this.updateSessionFormFieldProperties(formFieldObject);\n    var formField = {\n      id: formFieldObject.id,\n      name: formFieldObject.name,\n      value: formFieldObject.value,\n      type: formFieldObject.formFieldAnnotationType,\n      isReadOnly: formFieldObject.isReadonly,\n      fontFamily: formFieldObject.fontFamily,\n      fontSize: formFieldObject.fontSize,\n      fontStyle: formFieldObject.fontStyle,\n      color: formFieldObject.color,\n      backgroundColor: formFieldObject.backgroundColor,\n      alignment: formFieldObject.alignment,\n      visibility: formFieldObject.visibility,\n      maxLength: formFieldObject.maxLength,\n      isRequired: formFieldObject.isRequired,\n      isPrint: formFieldObject.isPrint,\n      tooltip: formFieldObject.tooltip,\n      bounds: formFieldObject.bounds,\n      thickness: formFieldObject.thickness,\n      borderColor: formFieldObject.borderColor\n    };\n    this.pdfViewer.formFieldCollections[this.pdfViewer.formFieldCollections.findIndex(function (el) {\n      return el.id === formField.id;\n    })] = formField;\n  };\n\n  FormDesigner.prototype.colorNametoHashValue = function (colorString) {\n    var colorCode = colorString;\n\n    if (!colorCode.match(/#([a-z0-9]+)/gi) && !colorCode.match(/^rgba?\\((\\d+),\\s*(\\d+),\\s*(\\d+)(?:,\\s*(\\d+(?:\\.\\d+)?))?\\)$/)) {\n      colorCode = this.nameToHash(colorCode);\n    }\n\n    return colorCode !== '' ? colorCode : colorString;\n  };\n  /**\n   * @private\n   */\n\n\n  FormDesigner.prototype.getFormField = function (formFieldId) {\n    var formField;\n    var formFieldCollectionObject;\n\n    if (typeof formFieldId === 'object') {\n      formFieldCollectionObject = this.getAnnotationsFromAnnotationCollections(formFieldId.id);\n      if (formFieldCollectionObject) formField = this.pdfViewer.nameTable[formFieldCollectionObject.id];\n    }\n\n    if (typeof formFieldId === 'string') {\n      formFieldCollectionObject = this.getAnnotationsFromAnnotationCollections(formFieldId);\n      if (formFieldCollectionObject) formField = this.pdfViewer.nameTable[formFieldCollectionObject.id];\n    }\n\n    return formField;\n  };\n\n  FormDesigner.prototype.resetTextboxProperties = function (obj) {\n    var inputElement = document.getElementById(obj.id + \"_content_html_element\").firstElementChild.firstElementChild;\n\n    if (inputElement) {\n      obj.name = 'textboxField';\n      obj.value = '';\n      obj.fontFamily = 'Helvetica';\n      obj.fontSize = 10;\n      obj.fontStyle = \"None\";\n      obj.color = 'black';\n      obj.backgroundColor = '#daeaf7ff';\n      obj.alignment = 'left';\n      obj.visibility = 'visible';\n      obj.isReadonly = false;\n      obj.isRequired = false;\n      obj.tooltip = '';\n      obj.isPrint = true;\n      obj.borderColor = '#303030';\n      obj.thickness = 1;\n      obj.maxLength = 0;\n      this.updateTextboxProperties(obj, inputElement);\n    }\n  };\n\n  FormDesigner.prototype.resetPasswordProperties = function (obj) {\n    var inputElement = document.getElementById(obj.id + \"_content_html_element\").firstElementChild.firstElementChild;\n\n    if (inputElement) {\n      obj.name = 'passswordField';\n      obj.value = '';\n      obj.fontFamily = 'Helvetica';\n      obj.fontSize = 10;\n      obj.fontStyle = \"None\";\n      obj.color = 'black';\n      obj.backgroundColor = '#daeaf7ff';\n      obj.alignment = 'left';\n      obj.visibility = 'visible';\n      obj.isReadonly = false;\n      obj.isRequired = false;\n      obj.tooltip = '';\n      obj.isPrint = true;\n      obj.borderColor = '#303030';\n      obj.thickness = 1;\n      obj.maxLength = 0;\n      this.updatePasswordFieldProperties(obj, inputElement);\n    }\n  };\n\n  FormDesigner.prototype.resetCheckboxProperties = function (obj) {\n    var inputElement = document.getElementById(obj.id + \"_content_html_element\").firstElementChild.firstElementChild;\n\n    if (inputElement) {\n      obj.name = 'checkboxField';\n      obj.isChecked = false;\n      obj.backgroundColor = '#daeaf7ff';\n      obj.visibility = 'visible';\n      obj.isReadonly = false;\n      obj.isRequired = false;\n      obj.tooltip = '';\n      obj.isPrint = true;\n      obj.borderColor = '#303030';\n      obj.thickness = 1;\n      this.updateCheckboxProperties(obj, inputElement);\n    }\n  };\n\n  FormDesigner.prototype.resetRadioButtonProperties = function (obj) {\n    var inputElement = document.getElementById(obj.id + \"_content_html_element\").firstElementChild.firstElementChild;\n\n    if (inputElement) {\n      obj.name = 'RadioButtonField';\n      obj.isSelected = false;\n      obj.backgroundColor = '#daeaf7ff';\n      obj.visibility = 'visible';\n      obj.isReadonly = false;\n      obj.isRequired = false;\n      obj.tooltip = '';\n      obj.isPrint = true;\n      obj.borderColor = '#303030';\n      obj.thickness = 1;\n      this.updateRadioButtonProperties(obj, inputElement);\n    }\n  };\n\n  FormDesigner.prototype.resetDropdownListProperties = function (obj) {\n    var inputElement = document.getElementById(obj.id + \"_content_html_element\").firstElementChild.firstElementChild;\n\n    if (inputElement) {\n      obj.name = 'dropDownField';\n      obj.value = '';\n      obj.fontFamily = 'Helvetica';\n      obj.fontSize = 10;\n      obj.fontStyle = \"None\";\n      obj.color = 'black';\n      obj.backgroundColor = '#daeaf7ff';\n      obj.alignment = 'left';\n      obj.visibility = 'visible';\n      obj.isReadonly = false;\n      obj.isRequired = false;\n      obj.tooltip = '';\n      obj.isPrint = true;\n      obj.borderColor = '#303030';\n      obj.thickness = 1;\n      obj.options = [];\n      this.updateDropdownListProperties(obj, inputElement);\n\n      if (obj.options) {\n        this.updateDropDownListDataSource(obj, inputElement);\n      }\n    }\n  };\n\n  FormDesigner.prototype.resetListBoxProperties = function (obj) {\n    var inputElement = document.getElementById(obj.id + \"_content_html_element\").firstElementChild.firstElementChild;\n\n    if (inputElement) {\n      obj.name = 'listBoxField';\n      obj.value = '';\n      obj.fontFamily = 'Helvetica';\n      obj.fontSize = 10;\n      obj.fontStyle = \"None\";\n      obj.color = 'black';\n      obj.backgroundColor = '#daeaf7ff';\n      obj.alignment = 'left';\n      obj.visibility = 'visible';\n      obj.isReadonly = false;\n      obj.isRequired = false;\n      obj.tooltip = '';\n      obj.isPrint = true;\n      obj.borderColor = '#303030';\n      obj.thickness = 1;\n      obj.options = [];\n      this.updateListBoxProperties(obj, inputElement);\n\n      if (obj.options) {\n        this.updateDropDownListDataSource(obj, inputElement);\n      }\n    }\n  };\n\n  FormDesigner.prototype.resetSignatureTextboxProperties = function (obj) {\n    var inputElement = document.getElementById(obj.id + \"_content_html_element\").firstElementChild.firstElementChild;\n\n    if (inputElement) {\n      obj.name = 'signatureField';\n      obj.value = '';\n      obj.fontFamily = 'Helvetica';\n      obj.fontSize = 10;\n      obj.fontStyle = \"None\";\n      obj.color = 'black';\n      obj.backgroundColor = '#daeaf7ff';\n      obj.isRequired = false;\n      obj.isReadonly = false;\n      obj.tooltip = '';\n      obj.isPrint = true;\n      obj.visibility = 'visible';\n      this.updateSignatureFieldProperties(obj, inputElement);\n    }\n  };\n  /**\n   * Deletes the form field from the PDF page.\n   *\n   * @param formFieldId\n   * @param addAction\n   * @returns void\n   */\n\n\n  FormDesigner.prototype.deleteFormField = function (formFieldId, addAction) {\n    if (addAction === void 0) {\n      addAction = true;\n    }\n\n    var formField = this.getFormField(formFieldId);\n\n    if (formField) {\n      this.clearSelection(formFieldId);\n      this.pdfViewer.remove(formField);\n      this.pdfViewer.renderDrawing();\n      if (!isNullOrUndefined(this.pdfViewer.toolbar) && !isNullOrUndefined(this.pdfViewer.toolbar.formDesignerToolbarModule)) this.pdfViewer.toolbar.formDesignerToolbarModule.showHideDeleteIcon(false);\n\n      if (this.pdfViewerBase.formFieldCollection.length > 0) {\n        this.pdfViewerBase.enableFormFieldButton(true);\n      } else {\n        this.pdfViewerBase.enableFormFieldButton(false);\n      }\n\n      if (addAction && this.pdfViewer.annotation) {\n        this.pdfViewer.annotation.addAction(this.pdfViewerBase.currentPageNumber, null, formField, 'Delete', '', formField, formField);\n      }\n    }\n  };\n  /**\n   * Clears the selection of the form field in the PDF page.\n   *\n   * @param formFieldId\n   * @returns void\n   */\n\n\n  FormDesigner.prototype.clearSelection = function (formFieldId) {\n    var formField;\n    var formFieldCollectionObject;\n\n    if (typeof formFieldId === 'object') {\n      formFieldCollectionObject = this.getAnnotationsFromAnnotationCollections(formFieldId.id);\n      formField = this.pdfViewer.nameTable[formFieldCollectionObject.id];\n    }\n\n    if (typeof formFieldId === 'string') {\n      formFieldCollectionObject = this.getAnnotationsFromAnnotationCollections(formFieldId);\n      formField = this.pdfViewer.nameTable[formFieldCollectionObject.id];\n    }\n\n    if (formField && this.pdfViewer.selectedItems && !isNullOrUndefined(this.pdfViewer.selectedItems.properties.formFields) && this.pdfViewer.selectedItems.properties.formFields.length > 0 && this.pdfViewer.selectedItems.properties.formFields[0].id === formField.id) {\n      this.pdfViewer.clearSelection(this.pdfViewerBase.activeElements.activePageID);\n    }\n  };\n  /**\n   * @private\n   */\n\n\n  FormDesigner.prototype.setMode = function (mode) {\n    if (mode && mode.indexOf(\"designer\") !== -1) {\n      this.enableDisableFormFieldsInteraction(true);\n      this.pdfViewerBase.disableTextSelectionMode();\n    } else {\n      this.enableDisableFormFieldsInteraction(false);\n\n      if (this.pdfViewer.textSelectionModule) {\n        this.pdfViewer.textSelectionModule.enableTextSelectionMode();\n      }\n    }\n  };\n\n  FormDesigner.prototype.enableDisableFormFieldsInteraction = function (enableDesignerMode) {\n    var collections = this.pdfViewer.formFieldCollection;\n\n    if (collections && collections.length > 0) {\n      for (var i = 0; i < collections.length; i++) {\n        var element = document.getElementById(collections[i].id + \"_content_html_element\");\n        var designerName = document.getElementById(collections[i].id + \"_designer_name\");\n\n        if (element) {\n          if (enableDesignerMode) {\n            this.pdfViewer.designerMode = true;\n            element.style.pointerEvents = \"none\";\n            designerName.innerHTML = collections[i].name;\n            var zoomValue = this.pdfViewerBase.getZoomFactor();\n            designerName.style.fontSize = collections[i].fontSize ? collections[i].fontSize * zoomValue + 'px' : 10 * zoomValue + 'px';\n            designerName.style.position = 'absolute';\n          } else {\n            this.pdfViewer.designerMode = false;\n            element.style.pointerEvents = \"all\";\n            designerName.innerHTML = \"\";\n            designerName.style.position = 'initial';\n\n            if (collections[i].formFieldAnnotationType === 'RadioButton') {\n              this.updateRadioButtonDesignerProperties(collections[i]);\n            }\n\n            if (collections[i].formFieldAnnotationType === 'Checkbox') {\n              this.updateCheckboxFormDesignerProperties(collections[i]);\n            }\n\n            this.pdfViewer.clearSelection(collections[i].pageIndex);\n          }\n        }\n      }\n    }\n  }; // eslint-disable-next-line\n\n\n  FormDesigner.prototype.getAnnotationsFromAnnotationCollections = function (annotationId) {\n    // eslint-disable-next-line\n    var collections = this.pdfViewer.formFieldCollection;\n\n    if (collections && annotationId) {\n      for (var i = 0; i < collections.length; i++) {\n        if (collections[i].id === annotationId) {\n          return collections[i];\n        }\n      }\n    }\n  };\n  /**\n   * @private\n   */\n\n\n  FormDesigner.prototype.updateSignatureValue = function (formFieldId) {\n    for (var i = 0; i < this.pdfViewerBase.formFieldCollection.length; i++) {\n      if (formFieldId === this.pdfViewerBase.formFieldCollection[i].FormField.id) {\n        this.pdfViewerBase.formFieldCollection[i].FormField.value = '';\n        this.pdfViewer.nameTable[this.pdfViewerBase.formFieldCollection[i].FormField.id.split('_')[0]].value = '';\n        this.pdfViewer.nameTable[this.pdfViewerBase.formFieldCollection[i].FormField.id].value = '';\n        this.pdfViewerBase.formFieldCollection[i].FormField.signatureType = '';\n        this.pdfViewer.nameTable[this.pdfViewerBase.formFieldCollection[i].FormField.id.split('_')[0]].signatureType = '';\n        this.pdfViewer.nameTable[this.pdfViewerBase.formFieldCollection[i].FormField.id].signatureType = '';\n      }\n    }\n  };\n  /**\n   * @private\n   */\n\n\n  FormDesigner.prototype.removeFieldsFromAnnotationCollections = function (annotationId) {\n    var data = this.pdfViewerBase.getItemFromSessionStorage('_formDesigner');\n    var formFieldsData = JSON.parse(data);\n\n    for (var i = 0; i < formFieldsData.length; i++) {\n      if (formFieldsData[i].Key.split(\"_\")[0] === annotationId) {\n        formFieldsData.splice(i, 1);\n        this.pdfViewerBase.formFieldCollection.splice(i, 1);\n        break;\n      }\n    }\n\n    this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection, '_formDesigner');\n    var storeObject = window.sessionStorage.getItem(this.pdfViewerBase.documentId + '_annotations_shape');\n\n    if (storeObject) {\n      var annotObject = JSON.parse(storeObject);\n      var index = this.pdfViewer.annotationModule.getPageCollection(annotObject, this.pdfViewerBase.currentPageNumber - 1);\n\n      if (annotObject[index]) {\n        for (var m = 0; m < annotObject[index].annotations.length; m++) {\n          if (annotationId === annotObject[index].annotations[m].id) {\n            annotObject[index].annotations.splice(m, 1);\n            break;\n          }\n        }\n\n        var annotationStringified = JSON.stringify(annotObject);\n        window.sessionStorage.setItem(this.pdfViewerBase.documentId + '_annotations_shape', annotationStringified);\n      }\n    } // eslint-disable-next-line\n\n\n    var collections = this.pdfViewer.formFieldCollection;\n\n    if (collections && annotationId) {\n      for (var i = 0; i < collections.length; i++) {\n        if (collections[i].formFieldId === annotationId) {\n          this.pdfViewer.formFieldCollection.splice(i, 1);\n        }\n      }\n    }\n  };\n  /**\n   * @private\n  */\n\n\n  FormDesigner.prototype.setFormFieldIndex = function () {\n    this.formFieldIndex = this.formFieldIndex + 1;\n    return this.formFieldIndex;\n  };\n\n  FormDesigner.prototype.setFormFieldIdIndex = function () {\n    this.formFieldIdIndex = this.formFieldIdIndex + 1;\n    return this.formFieldIdIndex;\n  };\n\n  FormDesigner.prototype.activateTextboxElement = function (formFieldType) {\n    this.pdfViewer.drawingObject = {\n      formFieldAnnotationType: formFieldType,\n      name: 'Textbox' + this.setFormFieldIndex(),\n      value: '',\n      fontFamily: 'Helvetica',\n      fontSize: 10 * this.pdfViewerBase.getZoomFactor(),\n      fontStyle: 'None',\n      color: 'black',\n      backgroundColor: '#daeaf7ff',\n      thickness: 1,\n      borderColor: '#303030',\n      alignment: 'left',\n      isReadonly: false,\n      visibility: \"visible\",\n      isRequired: false,\n      isPrint: true,\n      rotateAngle: 0,\n      tooltip: '',\n      font: {\n        isItalic: false,\n        isBold: false,\n        isStrikeout: false,\n        isUnderline: false\n      }\n    };\n    this.pdfViewer.tool = \"DrawTool\";\n  };\n\n  FormDesigner.prototype.activatePasswordField = function (formFieldType) {\n    this.pdfViewer.drawingObject = {\n      formFieldAnnotationType: formFieldType,\n      name: 'Password' + this.setFormFieldIndex(),\n      value: '',\n      fontFamily: 'Helvetica',\n      fontSize: 10 * this.pdfViewerBase.getZoomFactor(),\n      fontStyle: 'None',\n      color: 'black',\n      alignment: 'left',\n      backgroundColor: '#daeaf7ff',\n      thickness: 1,\n      borderColor: '#303030',\n      isReadonly: false,\n      visibility: \"visible\",\n      isRequired: false,\n      isPrint: true,\n      rotateAngle: 0,\n      tooltip: '',\n      font: {\n        isItalic: false,\n        isBold: false,\n        isStrikeout: false,\n        isUnderline: false\n      }\n    };\n    this.pdfViewer.tool = \"DrawTool\";\n  };\n\n  FormDesigner.prototype.activateCheckboxElement = function (formFieldType) {\n    this.pdfViewer.drawingObject = {\n      formFieldAnnotationType: formFieldType,\n      name: 'Check Box' + this.setFormFieldIndex(),\n      isChecked: false,\n      fontSize: 10 * this.pdfViewerBase.getZoomFactor(),\n      backgroundColor: '#daeaf7ff',\n      color: 'black',\n      thickness: 1,\n      borderColor: '#303030',\n      isReadonly: false,\n      visibility: \"visible\",\n      isPrint: true,\n      rotateAngle: 0,\n      tooltip: ''\n    };\n    this.pdfViewer.tool = \"DrawTool\";\n  };\n\n  FormDesigner.prototype.activateRadioButtonElement = function (formFieldType) {\n    this.pdfViewer.drawingObject = {\n      formFieldAnnotationType: formFieldType,\n      name: 'Radio Button' + this.setFormFieldIndex(),\n      isSelected: false,\n      fontSize: 10 * this.pdfViewerBase.getZoomFactor(),\n      backgroundColor: '#daeaf7ff',\n      color: 'black',\n      thickness: 1,\n      borderColor: '#303030',\n      isReadonly: false,\n      visibility: \"visible\",\n      isPrint: true,\n      rotateAngle: 0,\n      tooltip: ''\n    };\n    this.pdfViewer.tool = \"DrawTool\";\n  };\n\n  FormDesigner.prototype.activateDropDownListElement = function (formFieldType, dropDownOptions) {\n    this.pdfViewer.drawingObject = {\n      formFieldAnnotationType: formFieldType,\n      name: 'Dropdown' + this.setFormFieldIndex(),\n      fontFamily: 'Helvetica',\n      fontSize: 10 * this.pdfViewerBase.getZoomFactor(),\n      fontStyle: 'None',\n      color: 'black',\n      backgroundColor: '#daeaf7ff',\n      thickness: 1,\n      borderColor: '#303030',\n      alignment: 'left',\n      isReadonly: false,\n      visibility: \"visible\",\n      isRequired: false,\n      isPrint: true,\n      rotateAngle: 0,\n      tooltip: '',\n      options: dropDownOptions,\n      isMultiSelect: false,\n      font: {\n        isItalic: false,\n        isBold: false,\n        isStrikeout: false,\n        isUnderline: false\n      }\n    };\n    this.pdfViewer.tool = \"DrawTool\";\n  };\n\n  FormDesigner.prototype.activateListboxElement = function (formFieldType, listBoxOptions) {\n    this.pdfViewer.drawingObject = {\n      formFieldAnnotationType: formFieldType,\n      name: 'List Box' + this.setFormFieldIndex(),\n      fontFamily: 'Helvetica',\n      fontSize: 10 * this.pdfViewerBase.getZoomFactor(),\n      fontStyle: 'None',\n      color: 'black',\n      backgroundColor: '#daeaf7ff',\n      thickness: 1,\n      borderColor: '#303030',\n      alignment: 'left',\n      isReadonly: false,\n      visibility: \"visible\",\n      isRequired: false,\n      isPrint: true,\n      rotateAngle: 0,\n      tooltip: '',\n      options: listBoxOptions,\n      isMultiSelect: true,\n      font: {\n        isItalic: false,\n        isBold: false,\n        isStrikeout: false,\n        isUnderline: false\n      }\n    };\n    this.pdfViewer.tool = \"DrawTool\";\n  };\n\n  FormDesigner.prototype.activateSignatureBoxElement = function (formFieldType) {\n    this.pdfViewer.drawingObject = {\n      formFieldAnnotationType: formFieldType,\n      name: formFieldType === 'InitialField' || this.pdfViewer.isInitialFieldToolbarSelection ? 'Initial' + this.setFormFieldIndex() : 'Signature' + this.setFormFieldIndex(),\n      fontFamily: 'Helvetica',\n      fontSize: 10 * this.pdfViewerBase.getZoomFactor(),\n      fontStyle: 'None',\n      color: 'black',\n      backgroundColor: '#daeaf7ff',\n      alignment: 'left',\n      isReadonly: false,\n      visibility: \"visible\",\n      isRequired: false,\n      isPrint: true,\n      rotateAngle: 0,\n      tooltip: '',\n      font: {\n        isItalic: false,\n        isBold: false,\n        isStrikeout: false,\n        isUnderline: false\n      },\n      isInitialField: formFieldType === 'InitialField' || this.pdfViewer.isInitialFieldToolbarSelection ? true : false\n    };\n    this.pdfViewer.tool = \"DrawTool\";\n  };\n  /**\n   * @private\n  */\n\n\n  FormDesigner.prototype.updateTextboxProperties = function (obj, inputElement) {\n    inputElement.name = obj.name ? obj.name : 'Textbox' + this.setFormFieldIndex();\n    inputElement.value = obj.value ? obj.value : '';\n    inputElement.style.fontFamily = obj.fontFamily && this.getFontFamily(obj.fontFamily) ? obj.fontFamily : 'Helvetica';\n    var zoomValue = this.pdfViewerBase.getZoomFactor();\n    inputElement.style.fontSize = obj.fontSize ? obj.fontSize * zoomValue + 'px' : 10 * zoomValue + 'px';\n\n    if (obj.font.isBold) {\n      inputElement.style.fontWeight = \"bold\";\n    }\n\n    if (obj.font.isItalic) {\n      inputElement.style.fontStyle = \"italic\";\n    }\n\n    if (obj.font.isStrikeout) {\n      inputElement.style.textDecoration = \"line-through\";\n    }\n\n    if (obj.font.isUnderline) {\n      inputElement.style.textDecoration = \"underline\";\n    }\n\n    inputElement.style.color = obj.color ? obj.color : 'black';\n    inputElement.style.backgroundColor = obj.backgroundColor ? obj.backgroundColor : '#daeaf7ff';\n    inputElement.style.borderWidth = !isNullOrUndefined(obj.thickness) ? obj.thickness + 'px' : '1px';\n    inputElement.style.borderColor = obj.borderColor ? obj.borderColor : '#303030';\n    inputElement.style.textAlign = obj.alignment ? obj.alignment.toLowerCase() : 'left';\n    inputElement.style.visibility = obj.visibility ? obj.visibility : 'visible';\n    inputElement.style.pointerEvents = obj.isReadonly ? 'none' : 'default';\n\n    if (obj.isReadonly) {\n      inputElement.disabled = true;\n      inputElement.style.cursor = 'default';\n      inputElement.style.backgroundColor = 'transparent';\n    }\n\n    if (obj.isRequired) {\n      inputElement.required = true;\n      inputElement.style.border = '1px solid red';\n      inputElement.style.borderWidth = !isNullOrUndefined(obj.thickness) ? obj.thickness + 'px' : '1px';\n    }\n\n    if (obj.maxLength != undefined) {\n      inputElement.maxLength = obj.maxLength === 0 ? 524288 : obj.maxLength;\n    }\n\n    inputElement.tabIndex = this.formFieldIndex;\n  };\n  /**\n   * @private\n  */\n\n\n  FormDesigner.prototype.updatePasswordFieldProperties = function (obj, inputElement) {\n    inputElement.name = obj.name ? obj.name : 'Password' + this.setFormFieldIndex();\n    inputElement.value = obj.value ? obj.value : '';\n    inputElement.style.fontFamily = obj.fontFamily ? obj.fontFamily : 'Helvetica';\n    var zoomValue = this.pdfViewerBase.getZoomFactor();\n    inputElement.style.fontSize = obj.fontSize ? obj.fontSize * zoomValue + 'px' : 10 * zoomValue + 'px';\n\n    if (obj.font.isBold) {\n      inputElement.style.fontWeight = \"bold\";\n    }\n\n    if (obj.font.isItalic) {\n      inputElement.style.fontStyle = \"italic\";\n    }\n\n    if (obj.font.isStrikeout) {\n      inputElement.style.textDecoration = \"line-through\";\n    }\n\n    if (obj.font.isUnderline) {\n      inputElement.style.textDecoration = \"underline\";\n    }\n\n    inputElement.style.borderWidth = !isNullOrUndefined(obj.thickness) ? obj.thickness + 'px' : '1px';\n    inputElement.style.color = obj.color ? obj.color : 'black';\n    inputElement.style.backgroundColor = obj.backgroundColor ? obj.backgroundColor : '#daeaf7ff';\n    inputElement.style.borderColor = obj.borderColor ? obj.borderColor : '#303030';\n    inputElement.style.textAlign = obj.alignment ? obj.alignment.toLowerCase() : 'left';\n    inputElement.style.visibility = obj.visibility ? obj.visibility : 'visible';\n    inputElement.style.pointerEvents = obj.isReadonly ? 'none' : 'default';\n\n    if (obj.isReadonly) {\n      inputElement.disabled = true;\n      inputElement.style.cursor = 'default';\n      inputElement.style.backgroundColor = 'transparent';\n    }\n\n    if (obj.isRequired) {\n      inputElement.required = true;\n      inputElement.style.border = '1px solid red';\n      inputElement.style.borderWidth = !isNullOrUndefined(obj.thickness) ? obj.thickness + 'px' : '1px';\n    }\n\n    if (obj.maxLength != undefined) {\n      inputElement.maxLength = obj.maxLength === 0 ? 524288 : obj.maxLength;\n    }\n\n    inputElement.tabIndex = this.formFieldIndex;\n  };\n  /**\n   * @private\n  */\n\n\n  FormDesigner.prototype.updateCheckboxProperties = function (obj, inputElement) {\n    inputElement.name = obj.name ? obj.name : 'Check Box' + this.setFormFieldIndex();\n    inputElement.checked = obj.isChecked ? true : false;\n    inputElement.style.backgroundColor = obj.backgroundColor ? obj.backgroundColor : '#daeaf7ff';\n    inputElement.style.borderColor = obj.borderColor ? obj.borderColor : '#303030';\n    inputElement.style.visibility = obj.visibility ? obj.visibility : 'visible';\n    inputElement.style.pointerEvents = obj.isReadonly ? 'none' : 'default';\n    inputElement.style.borderWidth = !isNullOrUndefined(obj.thickness) ? obj.thickness + 'px' : '1px';\n\n    if (obj.isReadonly) {\n      inputElement.disabled = true;\n      inputElement.style.cursor = 'default';\n      inputElement.style.backgroundColor = 'transparent';\n    }\n\n    if (obj.isRequired) {\n      inputElement.required = true;\n      inputElement.style.border = '1px solid red';\n      inputElement.style.borderWidth = !isNullOrUndefined(obj.thickness) ? obj.thickness + 'px' : '1px';\n    }\n\n    inputElement.tabIndex = this.formFieldIndex;\n  };\n  /**\n   * @private\n  */\n\n\n  FormDesigner.prototype.updateRadioButtonProperties = function (obj, inputElement) {\n    inputElement.name = obj.name ? obj.name : 'Radio Button' + this.setFormFieldIndex();\n    inputElement.checked = obj.isSelected ? true : false;\n    inputElement.style.backgroundColor = obj.backgroundColor ? obj.backgroundColor : '#daeaf7ff';\n    inputElement.style.borderColor = obj.borderColor ? obj.borderColor : '#303030';\n    inputElement.style.visibility = obj.visibility ? obj.visibility : 'visible';\n    inputElement.style.pointerEvents = obj.isReadonly ? 'none' : 'default';\n    inputElement.style.borderWidth = !isNullOrUndefined(obj.thickness) ? obj.thickness + 'px' : '1px';\n\n    if (obj.isReadonly) {\n      inputElement.disabled = true;\n      inputElement.style.cursor = 'default';\n      inputElement.style.backgroundColor = 'transparent';\n    }\n\n    if (obj.isRequired) {\n      inputElement.required = true;\n      inputElement.style.border = '1px solid red';\n      inputElement.style.borderWidth = !isNullOrUndefined(obj.thickness) ? obj.thickness + 'px' : '1px';\n    }\n\n    inputElement.tabIndex = this.formFieldIndex;\n  };\n  /**\n   * @private\n  */\n\n\n  FormDesigner.prototype.updateDropdownListProperties = function (obj, inputElement) {\n    inputElement.name = obj.name ? obj.name : 'Dropdown' + this.setFormFieldIndex();\n    inputElement.value = obj.value ? obj.value : '';\n    inputElement.style.fontFamily = obj.fontFamily ? obj.fontFamily : 'Helvetica';\n    var zoomValue = this.pdfViewerBase.getZoomFactor();\n    inputElement.style.fontSize = obj.fontSize ? obj.fontSize * zoomValue + 'px' : 10 * zoomValue + 'px';\n\n    if (obj.font.isBold) {\n      inputElement.style.fontWeight = \"bold\";\n    }\n\n    if (obj.font.isItalic) {\n      inputElement.style.fontStyle = \"italic\";\n    }\n\n    if (obj.font.isStrikeout) {\n      inputElement.style.textDecoration = \"line-through\";\n    }\n\n    if (obj.font.isUnderline) {\n      inputElement.style.textDecoration = \"underline\";\n    }\n\n    inputElement.style.borderWidth = !isNullOrUndefined(obj.thickness) ? obj.thickness + 'px' : '1px';\n    inputElement.style.color = obj.color ? obj.color : 'black';\n    inputElement.style.backgroundColor = obj.backgroundColor ? obj.backgroundColor : '#daeaf7ff';\n    inputElement.style.borderColor = obj.borderColor ? obj.borderColor : '#303030';\n    inputElement.style.textAlign = obj.alignment ? obj.alignment.toLowerCase() : 'left';\n    inputElement.style.visibility = obj.visibility ? obj.visibility : 'visible';\n    inputElement.style.pointerEvents = obj.isReadonly ? 'none' : 'default';\n\n    if (obj.isReadonly) {\n      inputElement.disabled = true;\n      inputElement.style.cursor = 'default';\n      inputElement.style.backgroundColor = 'transparent';\n    }\n\n    if (obj.isRequired) {\n      inputElement.required = true;\n      inputElement.style.border = '1px solid red';\n      inputElement.style.borderWidth = !isNullOrUndefined(obj.thickness) ? obj.thickness + 'px' : '1px';\n    }\n\n    inputElement.tabIndex = this.formFieldIndex;\n  };\n  /**\n   * @private\n  */\n\n\n  FormDesigner.prototype.updateListBoxProperties = function (obj, inputElement) {\n    inputElement.name = obj.name ? obj.name : 'List Box' + this.setFormFieldIndex();\n    inputElement.value = obj.value ? obj.value : '';\n    inputElement.style.fontFamily = obj.fontFamily ? obj.fontFamily : 'Helvetica';\n    var zoomValue = this.pdfViewerBase.getZoomFactor();\n    inputElement.style.fontSize = obj.fontSize ? obj.fontSize * zoomValue + 'px' : 10 * zoomValue + 'px';\n\n    if (obj.font.isBold) {\n      inputElement.style.fontWeight = \"bold\";\n    }\n\n    if (obj.font.isItalic) {\n      inputElement.style.fontStyle = \"italic\";\n    }\n\n    if (obj.font.isStrikeout) {\n      inputElement.style.textDecoration = \"line-through\";\n    }\n\n    if (obj.font.isUnderline) {\n      inputElement.style.textDecoration = \"underline\";\n    }\n\n    inputElement.style.color = obj.color ? obj.color : 'black';\n    inputElement.style.backgroundColor = obj.backgroundColor ? obj.backgroundColor : '#daeaf7ff';\n    inputElement.style.borderColor = obj.borderColor ? obj.borderColor : '#303030';\n    inputElement.style.textAlign = obj.alignment ? obj.alignment.toLowerCase() : 'left';\n    inputElement.style.visibility = obj.visibility ? obj.visibility : 'visible';\n    inputElement.style.pointerEvents = obj.isReadonly ? 'none' : 'default';\n    inputElement.style.borderWidth = !isNullOrUndefined(obj.thickness) ? obj.thickness + 'px' : '1px';\n\n    if (obj.isReadonly) {\n      inputElement.disabled = true;\n      inputElement.style.cursor = 'default';\n      inputElement.style.backgroundColor = 'transparent';\n    }\n\n    if (obj.isRequired) {\n      inputElement.required = true;\n      inputElement.style.border = '1px solid red';\n      inputElement.style.borderWidth = !isNullOrUndefined(obj.thickness) ? obj.thickness + 'px' : '1px';\n    }\n\n    inputElement.tabIndex = this.formFieldIndex;\n  };\n  /**\n   * @private\n  */\n\n\n  FormDesigner.prototype.updateSignatureFieldProperties = function (obj, inputElement, isPrint) {\n    inputElement.name = obj.name ? obj.name : 'Signature' + this.setFormFieldIndex();\n    inputElement.value = obj.value ? obj.value : '';\n    inputElement.style.fontFamily = obj.fontFamily ? obj.fontFamily : 'Helvetica';\n    inputElement.style.visibility = obj.visibility ? obj.visibility : 'visible';\n    var zoomValue = this.pdfViewerBase.getZoomFactor();\n    inputElement.style.fontSize = obj.fontSize ? obj.fontSize * zoomValue + 'px' : 10 * zoomValue + 'px';\n\n    if (obj.font.isBold) {\n      inputElement.style.fontWeight = \"bold\";\n    }\n\n    if (obj.font.isItalic) {\n      inputElement.style.fontStyle = \"italic\";\n    }\n\n    if (obj.font.isStrikeout) {\n      inputElement.style.textDecoration = \"line-through\";\n    }\n\n    if (obj.font.isUnderline) {\n      inputElement.style.textDecoration = \"underline\";\n    }\n\n    inputElement.style.color = obj.color ? obj.color : 'black';\n    inputElement.style.borderWidth = !isNullOrUndefined(obj.thickness) ? obj.thickness + 'px' : '1px';\n    var background = obj.backgroundColor ? obj.backgroundColor : '#FFE48559';\n    background = this.getSignatureBackground(background);\n    inputElement.style.backgroundColor = isPrint ? 'transparent' : background;\n\n    if (obj.isReadonly) {\n      inputElement.disabled = true;\n      inputElement.style.cursor = 'default';\n      inputElement.style.backgroundColor = 'transparent';\n    }\n\n    if (obj.isRequired) {\n      inputElement.required = true;\n      inputElement.firstElementChild.style.border = '1px solid red';\n      inputElement.style.borderWidth = obj.thickness ? obj.thickness + 'px' : '1px';\n    }\n\n    inputElement.tabIndex = this.formFieldIndex;\n  };\n  /**\n   * @private\n   */\n\n\n  FormDesigner.prototype.createHtmlElement = function (elementType, attribute) {\n    var element = createElement(elementType);\n    this.setAttributeHtml(element, attribute);\n    return element;\n  };\n\n  FormDesigner.prototype.setAttributeHtml = function (element, attributes) {\n    var keys = Object.keys(attributes);\n\n    for (var i = 0; i < keys.length; i++) {\n      if (keys[i] !== 'style') {\n        element.setAttribute(keys[i], attributes[keys[i]]);\n      } else {\n        this.applyStyleAgainstCsp(element, attributes[keys[i]]);\n      }\n    }\n  };\n\n  FormDesigner.prototype.applyStyleAgainstCsp = function (svg, attributes) {\n    var keys = attributes.split(';');\n\n    for (var i = 0; i < keys.length; i++) {\n      var attribute = keys[i].split(':');\n\n      if (attribute.length === 2) {\n        svg.style[attribute[0].trim()] = attribute[1].trim();\n      }\n    }\n  }; // eslint-disable-next-line\n\n\n  FormDesigner.prototype.getFieldBounds = function (bound, pageIndex) {\n    // eslint-disable-next-line\n    var pageDetails = this.pdfViewerBase.pageSize[pageIndex]; // eslint-disable-next-line max-len\n\n    bound = {\n      X: bound.X ? bound.X : bound.x,\n      Y: bound.Y ? bound.Y : bound.y,\n      Width: bound.Width ? bound.Width : bound.width,\n      Height: bound.Height ? bound.Height : bound.height\n    }; // eslint-disable-next-line\n\n    var bounds;\n\n    if (pageDetails) {\n      switch (pageDetails.rotation) {\n        case 0:\n          bounds = bound;\n          break;\n\n        case 1:\n          bounds = {\n            X: bound.Y - (bound.Width / 2 - bound.Height / 2),\n            Y: pageDetails.width - bound.X - bound.Height - (bound.Width / 2 - bound.Height / 2),\n            Width: bound.Width,\n            Height: bound.Height\n          };\n          break;\n\n        case 2:\n          bounds = {\n            X: pageDetails.width - bound.X - bound.Width,\n            Y: pageDetails.height - bound.Y - bound.Height,\n            Width: bound.Width,\n            Height: bound.Height\n          };\n          break;\n\n        case 3:\n          bounds = {\n            X: pageDetails.height - bound.Y - bound.Width + (bound.Width / 2 - bound.Height / 2),\n            Y: bound.X + (bound.Width / 2 - bound.Height / 2),\n            Width: bound.Height,\n            Height: bound.Width\n          };\n          break;\n      }\n    }\n\n    if (!bounds) {\n      bounds = bound;\n    }\n\n    return bounds;\n  };\n  /**\n   * @private\n   */\n  // eslint-disable-next-line\n\n\n  FormDesigner.prototype.downloadFormDesigner = function () {\n    var data = this.pdfViewerBase.getItemFromSessionStorage('_formDesigner');\n\n    if (data) {\n      var formFieldsData = JSON.parse(data);\n\n      for (var i = 0; i < formFieldsData.length; i++) {\n        var currentData = formFieldsData[i].FormField;\n        currentData.Multiline = currentData.isMultiline;\n\n        if (currentData.isRequired) {\n          if (currentData.formFieldAnnotationType === 'Textbox' || currentData.formFieldAnnotationType === 'PasswordField' || currentData.Multiline) {\n            if (currentData.value === null || currentData.value === '') {\n              this.pdfViewerBase.validateForm = true;\n              this.pdfViewerBase.nonFillableFields[currentData.name] = currentData.value;\n            } else {\n              delete this.pdfViewerBase.nonFillableFields[currentData.name];\n            }\n          } else if (currentData.formFieldAnnotationType === 'RadioButton') {\n            if (currentData.radiobuttonItem) {\n              var isSelected = false;\n\n              for (var j = 0; j < currentData.radiobuttonItem.length; j++) {\n                if (currentData.radiobuttonItem[j].isSelected) {\n                  isSelected = true;\n                  break;\n                }\n              }\n\n              if (!isSelected) {\n                this.pdfViewerBase.validateForm = true;\n                this.pdfViewerBase.nonFillableFields[currentData.name] = isSelected;\n              } else {\n                delete this.pdfViewerBase.nonFillableFields[currentData.name];\n              }\n            }\n          } else if (currentData.formFieldAnnotationType === 'Checkbox') {\n            if (currentData.isChecked === false) {\n              this.pdfViewerBase.validateForm = true;\n              this.pdfViewerBase.nonFillableFields[currentData.name] = currentData.isChecked;\n            } else {\n              delete this.pdfViewerBase.nonFillableFields[currentData.name];\n            }\n          } else if (currentData.formFieldAnnotationType === 'DropdownList' || currentData.formFieldAnnotationType === 'ListBox') {\n            if (isNullOrUndefined(currentData.selectedIndex) || currentData.selectedIndex.length === 0) {\n              this.pdfViewerBase.validateForm = true;\n              this.pdfViewerBase.nonFillableFields[currentData.name] = currentData.selectedIndex;\n            } else {\n              delete this.pdfViewerBase.nonFillableFields[currentData.name];\n            }\n          } else if (currentData.formFieldAnnotationType === 'SignatureField' || currentData.formFieldAnnotationType === 'InitialField') {\n            if (currentData.value === null || currentData.value === '') {\n              this.pdfViewerBase.validateForm = true;\n              this.pdfViewerBase.nonFillableFields[currentData.name] = currentData.value;\n            } else {\n              delete this.pdfViewerBase.nonFillableFields[currentData.name];\n            }\n          }\n        }\n      }\n\n      return JSON.stringify(formFieldsData);\n    } else {\n      return null;\n    }\n  };\n  /**\n   * @private\n   */\n  // eslint-disable-next-line max-len\n\n\n  FormDesigner.prototype.createAnnotationLayer = function (pageDiv, pageWidth, pageHeight, pageNumber, displayMode) {\n    var canvas = this.pdfViewerBase.getElement('_annotationCanvas_' + pageNumber);\n\n    if (canvas) {\n      this.updateAnnotationCanvas(canvas, pageWidth, pageHeight, pageNumber);\n      return canvas;\n    } else {\n      // eslint-disable-next-line max-len\n      var annotationCanvas = createElement('canvas', {\n        id: this.pdfViewer.element.id + '_annotationCanvas_' + pageNumber,\n        className: 'e-pv-annotation-canvas'\n      });\n      this.updateAnnotationCanvas(annotationCanvas, pageWidth, pageHeight, pageNumber);\n      pageDiv.appendChild(annotationCanvas);\n      return annotationCanvas;\n    }\n  };\n  /**\n   * @private\n  */\n\n\n  FormDesigner.prototype.resizeAnnotations = function (width, height, pageNumber) {\n    var canvas = this.pdfViewerBase.getElement('_annotationCanvas_' + pageNumber);\n\n    if (canvas) {\n      canvas.style.width = width + 'px';\n      canvas.style.height = height + 'px';\n      this.pdfViewerBase.applyElementStyles(canvas, pageNumber);\n    }\n  };\n  /**\n   * @private\n  */\n\n\n  FormDesigner.prototype.getEventPageNumber = function (event) {\n    var eventTarget = event.target;\n\n    if (eventTarget.classList.contains('e-pv-hyperlink')) {\n      eventTarget = eventTarget.parentElement;\n    } else if (eventTarget.parentElement.classList.contains('foreign-object')) {\n      eventTarget = eventTarget.parentElement.parentElement.parentElement.parentElement;\n    } // eslint-disable-next-line\n\n\n    var pageString = eventTarget.id.split('_text_')[1] || eventTarget.id.split('_textLayer_')[1] || eventTarget.id.split('_annotationCanvas_')[1] || eventTarget.id.split('_pageDiv_')[1];\n\n    if (isNaN(pageString)) {\n      event = this.pdfViewerBase.annotationEvent;\n\n      if (event) {\n        eventTarget = event.target; // eslint-disable-next-line\n\n        pageString = eventTarget.id.split('_text_')[1] || eventTarget.id.split('_textLayer_')[1] || eventTarget.id.split('_annotationCanvas_')[1] || eventTarget.id.split('_pageDiv_')[1];\n      }\n    } // eslint-disable-next-line\n\n\n    return parseInt(pageString);\n  };\n\n  FormDesigner.prototype.getPropertyPanelHeaderContent = function (formFieldType) {\n    switch (formFieldType) {\n      case 'Textbox':\n        return this.pdfViewer.localeObj.getConstant('Textbox');\n\n      case 'PasswordField':\n        return this.pdfViewer.localeObj.getConstant('Password');\n\n      case 'Checkbox':\n        return this.pdfViewer.localeObj.getConstant('Check Box');\n\n      case 'RadioButton':\n        return this.pdfViewer.localeObj.getConstant('Radio Button');\n\n      case 'DropdownList':\n        return this.pdfViewer.localeObj.getConstant('Dropdown');\n\n      case 'ListBox':\n        return this.pdfViewer.localeObj.getConstant('List Box');\n\n      case 'InitialField':\n        return this.pdfViewer.localeObj.getConstant('Initial');\n\n      case 'SignatureField':\n        return this.pdfViewer.localeObj.getConstant('Signature');\n    }\n  };\n  /**\n   * @private\n  */\n\n\n  FormDesigner.prototype.createPropertiesWindow = function () {\n    var _this = this;\n\n    var elementID = this.pdfViewer.element.id;\n    var propertyWinMinHeight; // eslint-disable-next-line max-len\n\n    var dialogDiv = createElement('div', {\n      id: elementID + '_properties_window',\n      className: 'e-pv-properties-form-field-window'\n    });\n    var appearanceTab = this.createAppearanceTab();\n    this.pdfViewerBase.pageContainer.appendChild(dialogDiv);\n    if (this.pdfViewer.selectedItems.formFields[0].formFieldAnnotationType !== 'DropdownList' && this.pdfViewer.selectedItems.formFields[0].formFieldAnnotationType !== 'ListBox') propertyWinMinHeight = '430px';else propertyWinMinHeight = '505px';\n    this.propertiesDialog = new Dialog({\n      showCloseIcon: true,\n      closeOnEscape: false,\n      isModal: true,\n      header: '<div class=\"e-pv-form-field-property-header\"> ' + this.getPropertyPanelHeaderContent(this.pdfViewer.selectedItems.formFields[0].formFieldAnnotationType) + ' ' + this.pdfViewer.localeObj.getConstant('Properties') + '</div>',\n      minHeight: propertyWinMinHeight,\n      target: this.pdfViewer.element,\n      content: appearanceTab,\n      allowDragging: true,\n      close: function () {\n        _this.destroyPropertiesWindow();\n      }\n    });\n\n    if (!Browser.isDevice || this.pdfViewer.enableDesktopMode) {\n      this.propertiesDialog.buttons = [// eslint-disable-next-line max-len\n      {\n        buttonModel: {\n          content: this.pdfViewer.localeObj.getConstant('Cancel')\n        },\n        click: this.onCancelClicked.bind(this)\n      }, {\n        buttonModel: {\n          content: this.pdfViewer.localeObj.getConstant('OK'),\n          isPrimary: true\n        },\n        click: this.onOkClicked.bind(this)\n      }];\n    } else {\n      this.propertiesDialog.buttons = [{\n        buttonModel: {\n          content: this.pdfViewer.localeObj.getConstant('Cancel')\n        },\n        click: this.onCancelClicked.bind(this)\n      }, // eslint-disable-next-line max-len\n      {\n        buttonModel: {\n          content: this.pdfViewer.localeObj.getConstant('OK'),\n          isPrimary: true\n        },\n        click: this.onOkClicked.bind(this)\n      }];\n    }\n\n    if (this.pdfViewer.enableRtl) {\n      this.propertiesDialog.enableRtl = true;\n    }\n\n    var propertySpliterBottom = createElement('div');\n    propertySpliterBottom.className = 'e-pv-properties-bottom-spliter';\n    dialogDiv.appendChild(propertySpliterBottom);\n    this.propertiesDialog.appendTo(dialogDiv);\n  };\n\n  FormDesigner.prototype.onOkClicked = function (args) {\n    var selectedItem = this.pdfViewer.selectedItems.formFields[0];\n    var clonedItem = cloneObject(selectedItem);\n\n    if (selectedItem) {\n      switch (selectedItem.formFieldAnnotationType) {\n        case 'Textbox':\n        case 'PasswordField':\n          if (this.formFieldMultiline && this.formFieldMultiline.checked && selectedItem.formFieldAnnotationType === 'Textbox' && this.multilineCheckboxCheckedState) {\n            this.renderMultilineText(selectedItem);\n          } else if (selectedItem.formFieldAnnotationType === 'Textbox' && this.multilineCheckboxCheckedState) {\n            this.renderTextbox(selectedItem);\n          }\n\n          if (selectedItem.formFieldAnnotationType === 'PasswordField') {\n            this.updateTextboxFormDesignerProperties(selectedItem);\n          }\n\n          if (selectedItem.formFieldAnnotationType === 'Textbox') {\n            var textboxCollection = this.checkTextboxName(selectedItem);\n\n            if (textboxCollection && textboxCollection.length > 0) {\n              for (var i = 0; i < textboxCollection.length; i++) {\n                var item = textboxCollection[i];\n\n                if (selectedItem.isMultiline) {\n                  this.renderMultilineText(item);\n                } else {\n                  this.renderTextbox(item);\n                }\n\n                document.getElementById(item.id + \"_content_html_element\") ? this.updateTextboxFormDesignerProperties(item) : this.updateFormFieldPropertiesInCollections(item);\n              }\n            }\n          }\n\n          this.multilineCheckboxCheckedState = false;\n          var point = cornersPointsBeforeRotation(selectedItem.wrapper.children[0]).topLeft;\n          this.updateFormDesignerFieldInSessionStorage(point, selectedItem.wrapper.children[0], selectedItem.formFieldAnnotationType, selectedItem);\n          break;\n\n        case 'Checkbox':\n          this.updateCheckboxFormDesignerProperties(selectedItem);\n          var point1 = cornersPointsBeforeRotation(selectedItem.wrapper.children[0]).topLeft;\n          this.updateFormDesignerFieldInSessionStorage(point1, selectedItem.wrapper.children[0], selectedItem.formFieldAnnotationType, selectedItem);\n          break;\n\n        case 'RadioButton':\n          this.updateRadioButtonDesignerProperties(selectedItem);\n          var point2 = cornersPointsBeforeRotation(selectedItem.wrapper.children[0]).topLeft;\n          this.updateFormDesignerFieldInSessionStorage(point2, selectedItem.wrapper.children[0], selectedItem.formFieldAnnotationType, selectedItem);\n          break;\n\n        case 'SignatureField':\n        case 'InitialField':\n          this.updateSignatureTextboxProperties(selectedItem);\n          var point3 = cornersPointsBeforeRotation(selectedItem.wrapper.children[0]).topLeft;\n          this.updateFormDesignerFieldInSessionStorage(point3, selectedItem.wrapper.children[0], selectedItem.formFieldAnnotationType, selectedItem);\n          break;\n\n        case 'DropdownList':\n          this.updateDropdownFormDesignerProperties(selectedItem);\n          var point4 = cornersPointsBeforeRotation(selectedItem.wrapper.children[0]).topLeft;\n          this.updateFormDesignerFieldInSessionStorage(point4, selectedItem.wrapper.children[0], selectedItem.formFieldAnnotationType, selectedItem);\n          break;\n\n        case 'ListBox':\n          this.updateListBoxFormDesignerProperties(selectedItem);\n          var point5 = cornersPointsBeforeRotation(selectedItem.wrapper.children[0]).topLeft;\n          this.updateFormDesignerFieldInSessionStorage(point5, selectedItem.wrapper.children[0], selectedItem.formFieldAnnotationType, selectedItem);\n          break;\n      }\n\n      this.updateFormFieldCollections(selectedItem);\n      var cloneChangedNode = cloneObject(selectedItem);\n\n      if (this.pdfViewer.annotation) {\n        this.pdfViewer.annotation.addAction(this.pdfViewerBase.currentPageNumber, null, selectedItem, 'FormDesigner Properties Change', '', clonedItem, cloneChangedNode);\n      }\n    }\n\n    this.propertiesDialog.hide();\n  };\n  /**\n   * Update the form fields properties to the collection while rendering the page\n  */\n\n\n  FormDesigner.prototype.updateFormFieldPropertiesInCollections = function (item) {\n    var formFieldCollection = this.pdfViewer.formFieldCollections;\n\n    for (var i = 0; i < formFieldCollection.length; i++) {\n      var currentData = formFieldCollection[i];\n\n      if (currentData.id === item.id && currentData.name === item.name) {\n        this.formFieldName && this.formFieldName.value ? currentData.name = this.formFieldName.value : null;\n        this.formFieldValue && item.value !== this.formFieldValue.value ? currentData.value = this.formFieldValue.value : null;\n        this.formFieldAlign && item.alignment !== this.formFieldAlign ? currentData.alignment = this.formFieldAlign : null;\n        this.formFieldPrinting && item.isPrint !== this.formFieldPrinting.checked ? currentData.isPrint = this.formFieldPrinting.checked : null;\n        this.formFieldTooltip && item.tooltip !== this.formFieldTooltip.value ? currentData.tooltip = this.formFieldTooltip.value : null;\n        this.formFieldVisibility && item.visibility !== this.formFieldVisibility.value ? currentData.visibility = this.formFieldVisibility : null;\n        this.formFieldFontFamily && this.formFieldFontFamily.value ? currentData.fontFamily = this.formFieldFontFamily.value : null;\n        this.formFieldFontSize && this.formFieldFontSize.value ? currentData.fontSize = parseInt(this.formFieldFontSize.value.toString()) : null;\n        this.fontColorValue && item.color !== this.fontColorValue ? currentData.color = this.fontColorValue : null;\n        this.backgroundColorValue && item.backgroundColor !== this.backgroundColorValue ? currentData.backgroundColor = this.backgroundColorValue : null;\n        this.borderColorValue && item.borderColor !== this.borderColorValue ? currentData.borderColor = this.borderColorValue : null;\n        this.formFieldBorderWidth && item.thickness !== parseInt(this.formFieldBorderWidth) ? currentData.thickness = parseInt(this.formFieldBorderWidth) : null;\n        this.formFieldReadOnly && item.isReadonly !== this.formFieldReadOnly.checked ? currentData.isReadOnly = this.formFieldReadOnly.checked : null;\n        this.formFieldRequired && item.isRequired !== this.formFieldRequired.checked ? currentData.isRequired = this.formFieldRequired.checked : null;\n        i !== 0 && i < this.pdfViewer.formFieldCollection.length ? currentData.fontStyle = this.pdfViewer.formFieldCollection[i - 1].fontStyle : currentData.fontStyle = this.pdfViewer.formFieldCollection[i + 1].fontStyle;\n        var formFieldIndex = this.pdfViewer.formFieldCollections.findIndex(function (el) {\n          return el.id === item.id;\n        });\n        this.pdfViewer.formFieldCollections[formFieldIndex] = currentData;\n      }\n    }\n  };\n\n  FormDesigner.prototype.checkTextboxName = function (selectedItem) {\n    var textboxObjectCollection = [];\n\n    for (var i = 0; i < this.pdfViewer.formFieldCollection.length; i++) {\n      var item = this.pdfViewer.formFieldCollection[i];\n\n      if (item.name === selectedItem.name && item.formFieldAnnotationType === 'Textbox') {\n        textboxObjectCollection.push(item);\n      }\n    }\n\n    return textboxObjectCollection;\n  };\n\n  FormDesigner.prototype.renderMultilineText = function (selectedItem, isUndoRedo) {\n    if (isUndoRedo) {\n      this.reRenderMultilineTextbox(selectedItem, \"e-pv-formfield-input\");\n    } else {\n      this.addMultilineTextbox(selectedItem, \"e-pv-formfield-input\", true);\n    }\n  };\n\n  FormDesigner.prototype.renderTextbox = function (selectedItem, isUndoRedo) {\n    if (isUndoRedo) {\n      this.reRenderMultilineTextbox(selectedItem, \"e-pv-formfield-textarea\");\n    } else {\n      this.addMultilineTextbox(selectedItem, \"e-pv-formfield-textarea\", false);\n    }\n  };\n\n  FormDesigner.prototype.addMultilineTextbox = function (selectedItem, className, isMultiline) {\n    var wrapperElement = selectedItem.wrapper.children[0];\n    selectedItem.isMultiline = isMultiline;\n\n    if (document.getElementById(wrapperElement.id + '_html_element')) {\n      var htmlElement = document.getElementById(wrapperElement.id + '_html_element').children[0];\n      var textAreaId = htmlElement.children[0].id;\n      document.getElementById(htmlElement.children[0].id).remove();\n\n      if (className.indexOf(\"e-pv-formfield-textarea\") !== -1) {\n        var inputElement = this.createTextboxElement(textAreaId);\n        wrapperElement.template = htmlElement.appendChild(inputElement);\n      } else {\n        var textArea = this.createTextAreaElement(textAreaId);\n        wrapperElement.template = htmlElement.appendChild(textArea);\n      }\n\n      var index = this.getFormFiledIndex(selectedItem.id.split('_')[0]);\n      this.pdfViewerBase.formFieldCollection[index].FormField.isMultiline = selectedItem.isMultiline;\n      this.pdfViewer.nameTable[selectedItem.id.split('_')[0]].isMultiline = selectedItem.isMultiline;\n    }\n  };\n\n  FormDesigner.prototype.reRenderMultilineTextbox = function (selectedItem, className) {\n    var wrapperElement = document.getElementById(selectedItem.id + \"_content_html_element\");\n\n    if (wrapperElement) {\n      var textareaElement = wrapperElement.firstElementChild.firstElementChild;\n      var textareaId = textareaElement.id;\n      textareaElement.remove();\n\n      if (className.indexOf('e-pv-formfield-textarea') !== -1) {\n        var textboxElement = this.createTextboxElement(textareaId);\n        wrapperElement.firstElementChild.appendChild(textboxElement);\n      } else {\n        var textboxElement = this.createTextAreaElement(textareaId);\n        wrapperElement.firstElementChild.appendChild(textboxElement);\n      }\n    }\n  };\n\n  FormDesigner.prototype.createTextAreaElement = function (id) {\n    var textArea = createElement('textarea');\n    textArea.id = id;\n    textArea.className = 'e-pv-formfield-textarea';\n    textArea.style.width = '100%';\n    textArea.style.height = '100%';\n    textArea.addEventListener('click', this.inputElementClick.bind(this));\n    textArea.addEventListener('change', this.getTextboxValue.bind(this));\n    return textArea;\n  };\n\n  FormDesigner.prototype.createTextboxElement = function (id) {\n    var inputElement = createElement('input');\n    inputElement.id = id;\n    inputElement.type = \"text\";\n    inputElement.className = \"e-pv-formfield-input\";\n    inputElement.autocomplete = \"off\";\n    inputElement.style.width = '100%';\n    inputElement.style.height = '100%';\n    inputElement.style.position = \"absolute\";\n    inputElement.addEventListener('click', this.inputElementClick.bind(this));\n    inputElement.addEventListener('change', this.getTextboxValue.bind(this));\n    return inputElement;\n  };\n  /**\n   * @private\n   */\n\n\n  FormDesigner.prototype.updateFormFieldCollections = function (formFieldObject) {\n    var formField = {\n      id: formFieldObject.id.split('_')[0],\n      name: formFieldObject.name,\n      value: formFieldObject.value,\n      type: formFieldObject.type ? formFieldObject.type : formFieldObject.formFieldAnnotationType,\n      isReadOnly: formFieldObject.isReadonly,\n      fontFamily: formFieldObject.fontFamily,\n      isMultiline: formFieldObject.isMultiline,\n      fontSize: formFieldObject.fontSize,\n      fontStyle: formFieldObject.fontStyle,\n      color: formFieldObject.color ? formFieldObject.color : this.getRgbToHex(formFieldObject.fontColor),\n      backgroundColor: typeof formFieldObject.backgroundColor === 'string' ? formFieldObject.backgroundColor : this.getRgbToHex(formFieldObject.backgroundColor),\n      alignment: formFieldObject.alignment ? formFieldObject.alignment : formFieldObject.textAlign,\n      visibility: formFieldObject.visibility,\n      maxLength: formFieldObject.maxLength,\n      isRequired: formFieldObject.isRequired,\n      isPrint: formFieldObject.isPrint,\n      isSelected: formFieldObject.isSelected,\n      isChecked: formFieldObject.isChecked,\n      tooltip: formFieldObject.tooltip,\n      bounds: formFieldObject.bounds ? formFieldObject.bounds : formFieldObject.lineBound,\n      thickness: formFieldObject.thickness,\n      borderColor: typeof formFieldObject.borderColor === 'string' ? formFieldObject.borderColor : this.getRgbToHex(formFieldObject.borderColor),\n      pageIndex: !isNullOrUndefined(formFieldObject.pageNumber) ? formFieldObject.pageNumber : formFieldObject.pageIndex\n    };\n    this.pdfViewer.formFieldCollections[this.pdfViewer.formFieldCollections.findIndex(function (el) {\n      return el.id === formField.id;\n    })] = formField;\n  };\n  /**\n  * Get the Hex value from the RGB value.\n  */\n\n\n  FormDesigner.prototype.getRgbToHex = function (color) {\n    return '#' + this.hex(color.r) + this.hex(color.g) + this.hex(color.b);\n  };\n  /**\n   * @private\n   */\n\n\n  FormDesigner.prototype.updateDropdownFormDesignerProperties = function (selectedItem, isUndoRedo) {\n    var dropdownElement = document.getElementById(selectedItem.id + \"_content_html_element\").firstElementChild.firstElementChild;\n\n    if (this.pdfViewer.designerMode || isUndoRedo) {\n      var data = this.pdfViewerBase.getItemFromSessionStorage('_formDesigner');\n      var formFieldsData = JSON.parse(data);\n      var index_1 = this.getFormFiledIndex(selectedItem.id.split('_')[0]);\n      selectedItem.options = this.createDropdownDataSource(selectedItem);\n      this.updateDropDownListDataSource(selectedItem, dropdownElement);\n      selectedItem.selectedIndex = [];\n\n      if (index_1 > -1) {\n        formFieldsData[index_1].FormField.option = selectedItem.options;\n        this.pdfViewerBase.formFieldCollection[index_1].FormField.option = selectedItem.options;\n\n        if (!isNullOrUndefined(selectedItem.options) && selectedItem.options.length > 0) {\n          formFieldsData[index_1] && formFieldsData[index_1].FormField.value ? selectedItem.selectedIndex.push(selectedItem.options.findIndex(function (x) {\n            return x.itemValue === formFieldsData[index_1].FormField.value;\n          })) : selectedItem.selectedIndex.push(0);\n        }\n      }\n\n      this.pdfViewer.nameTable[selectedItem.id.split('_')[0]].options = selectedItem.options;\n\n      if (this.formFieldName && this.formFieldName.value || isUndoRedo) {\n        this.updateNamePropertyChange(selectedItem, dropdownElement, isUndoRedo, index_1, formFieldsData);\n      }\n\n      if (this.formFieldValue && formFieldsData[index_1] && formFieldsData[index_1].FormField.value || isUndoRedo) {\n        this.updateValuePropertyChange(selectedItem, dropdownElement, isUndoRedo, index_1, formFieldsData);\n      }\n\n      if (this.formFieldPrinting || isUndoRedo) {\n        this.updateIsPrintPropertyChange(selectedItem, isUndoRedo, index_1, formFieldsData);\n      }\n\n      if (this.formFieldTooltip || isUndoRedo) {\n        this.updateTooltipPropertyChange(selectedItem, dropdownElement, isUndoRedo, index_1, formFieldsData);\n      }\n\n      if (this.formFieldVisibility || isUndoRedo) {\n        this.updateVisibilityPropertyChange(selectedItem, dropdownElement, isUndoRedo, index_1, formFieldsData);\n      }\n\n      if (this.formFieldFontFamily && this.formFieldFontFamily.value || isUndoRedo) {\n        this.updateFontFamilyPropertyChange(selectedItem, dropdownElement, isUndoRedo, index_1, formFieldsData);\n      }\n\n      if (this.formFieldFontSize && this.formFieldFontSize.value || isUndoRedo) {\n        this.updateFontSizePropertyChange(selectedItem, dropdownElement, isUndoRedo, index_1, formFieldsData);\n      }\n\n      this.updateFontStylePropertyChange(selectedItem, dropdownElement, isUndoRedo, index_1, formFieldsData);\n\n      if (this.formFieldAlign || isUndoRedo) {\n        this.updateAlignmentPropertyChange(selectedItem, dropdownElement, isUndoRedo, index_1, formFieldsData);\n      }\n\n      if (this.fontColorValue || isUndoRedo) {\n        this.updateColorPropertyChange(selectedItem, dropdownElement, isUndoRedo, index_1, formFieldsData);\n      }\n\n      if (this.backgroundColorValue || isUndoRedo) {\n        this.updateBackgroundColorPropertyChange(selectedItem, dropdownElement, isUndoRedo, index_1, formFieldsData);\n      }\n\n      if (this.borderColorValue || isUndoRedo) {\n        this.updateBorderColorPropertyChange(selectedItem, dropdownElement, isUndoRedo, index_1, formFieldsData);\n      }\n\n      if (this.formFieldBorderWidth || isUndoRedo) {\n        this.updateBorderThicknessPropertyChange(selectedItem, dropdownElement, isUndoRedo, index_1, formFieldsData);\n      }\n\n      if (this.formFieldReadOnly || isUndoRedo) {\n        this.updateIsReadOnlyPropertyChange(selectedItem, dropdownElement, isUndoRedo, index_1, formFieldsData);\n      }\n\n      if (this.formFieldRequired || isUndoRedo) {\n        this.updateIsRequiredPropertyChange(selectedItem, dropdownElement, isUndoRedo, index_1, formFieldsData);\n      }\n    }\n\n    if (isUndoRedo) this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection, '_formDesigner');\n  };\n  /**\n   * @private\n   */\n\n\n  FormDesigner.prototype.updateListBoxFormDesignerProperties = function (selectedItem, isUndoRedo) {\n    var dropdownElement = document.getElementById(selectedItem.id + \"_content_html_element\").firstElementChild.firstElementChild;\n\n    if (this.pdfViewer.designerMode || isUndoRedo) {\n      var data = this.pdfViewerBase.getItemFromSessionStorage('_formDesigner');\n      var formFieldsData = JSON.parse(data);\n      var index_2 = this.getFormFiledIndex(selectedItem.id.split('_')[0]);\n      selectedItem.options = this.createDropdownDataSource(selectedItem);\n      this.updateDropDownListDataSource(selectedItem, dropdownElement);\n      selectedItem.selectedIndex = [];\n\n      if (index_2 > -1) {\n        formFieldsData[index_2].FormField.option = selectedItem.options;\n        this.pdfViewerBase.formFieldCollection[index_2].FormField.option = selectedItem.options;\n\n        if (!isNullOrUndefined(selectedItem.options) && selectedItem.options.length > 0) {\n          formFieldsData[index_2] && formFieldsData[index_2].FormField.value ? selectedItem.selectedIndex.push(selectedItem.options.findIndex(function (x) {\n            return x.itemValue === formFieldsData[index_2].FormField.value;\n          })) : selectedItem.selectedIndex.push(0);\n        }\n      }\n\n      this.pdfViewer.nameTable[selectedItem.id.split('_')[0]].options = selectedItem.options;\n\n      if (this.formFieldName && this.formFieldName.value || isUndoRedo) {\n        this.updateNamePropertyChange(selectedItem, dropdownElement, isUndoRedo, index_2, formFieldsData);\n      }\n\n      if (this.formFieldPrinting || isUndoRedo) {\n        this.updateIsPrintPropertyChange(selectedItem, isUndoRedo, index_2, formFieldsData);\n      }\n\n      if (this.formFieldTooltip || isUndoRedo) {\n        this.updateTooltipPropertyChange(selectedItem, dropdownElement, isUndoRedo, index_2, formFieldsData);\n      }\n\n      if (this.formFieldVisibility || isUndoRedo) {\n        this.updateVisibilityPropertyChange(selectedItem, dropdownElement, isUndoRedo, index_2, formFieldsData);\n      }\n\n      if (this.formFieldFontFamily && this.formFieldFontFamily.value || isUndoRedo) {\n        this.updateFontFamilyPropertyChange(selectedItem, dropdownElement, isUndoRedo, index_2, formFieldsData);\n      }\n\n      if (this.formFieldFontSize && this.formFieldFontSize.value || isUndoRedo) {\n        this.updateFontSizePropertyChange(selectedItem, dropdownElement, isUndoRedo, index_2, formFieldsData);\n      }\n\n      this.updateFontStylePropertyChange(selectedItem, dropdownElement, isUndoRedo, index_2, formFieldsData);\n\n      if (this.formFieldAlign || isUndoRedo) {\n        this.updateAlignmentPropertyChange(selectedItem, dropdownElement, isUndoRedo, index_2, formFieldsData);\n      }\n\n      if (this.fontColorValue || isUndoRedo) {\n        this.updateColorPropertyChange(selectedItem, dropdownElement, isUndoRedo, index_2, formFieldsData);\n      }\n\n      if (this.backgroundColorValue || isUndoRedo) {\n        this.updateBackgroundColorPropertyChange(selectedItem, dropdownElement, isUndoRedo, index_2, formFieldsData);\n      }\n\n      if (this.borderColorValue || isUndoRedo) {\n        this.updateBorderColorPropertyChange(selectedItem, dropdownElement, isUndoRedo, index_2, formFieldsData);\n      }\n\n      if (this.formFieldBorderWidth || isUndoRedo) {\n        this.updateBorderThicknessPropertyChange(selectedItem, dropdownElement, isUndoRedo, index_2, formFieldsData);\n      }\n\n      if (this.formFieldReadOnly || isUndoRedo) {\n        this.updateIsReadOnlyPropertyChange(selectedItem, dropdownElement, isUndoRedo, index_2, formFieldsData);\n      }\n\n      if (this.formFieldRequired || isUndoRedo) {\n        this.updateIsRequiredPropertyChange(selectedItem, dropdownElement, isUndoRedo, index_2, formFieldsData);\n      }\n    }\n\n    if (isUndoRedo) this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection, '_formDesigner');\n  };\n\n  FormDesigner.prototype.updateDropDownListDataSource = function (selectedItem, dropdownElement) {\n    while (dropdownElement.firstChild) {\n      dropdownElement.firstChild.remove();\n    }\n\n    for (var j = 0; j < selectedItem.options.length; j++) {\n      var option = document.createElement(\"option\");\n      option.className = \"e-pv-formfield-dropdown\";\n      option.value = selectedItem.options[j].itemValue;\n      option.text = selectedItem.options[j].itemName;\n      dropdownElement.appendChild(option);\n    }\n  };\n\n  FormDesigner.prototype.createDropdownDataSource = function (selectedItem) {\n    var ulItem = document.getElementById(this.pdfViewer.element.id + '_ul_list_item');\n    this.formFieldListItemDataSource = [];\n\n    if (ulItem && ulItem.children && ulItem.children.length > 0) {\n      for (var i = 0; i < ulItem.children.length; i++) {\n        var liItem = ulItem.children[i];\n        this.formFieldListItemDataSource.push({\n          itemName: liItem.innerHTML,\n          itemValue: liItem.innerHTML\n        });\n      }\n    } else if (selectedItem && selectedItem.options.length > 0) {\n      this.formFieldListItemDataSource = selectedItem.options;\n    }\n\n    return this.formFieldListItemDataSource;\n  };\n  /**\n   * @private\n   */\n\n\n  FormDesigner.prototype.updateSignatureTextboxProperties = function (selectedItem, isUndoRedo) {\n    var inputElement = document.getElementById(selectedItem.id + \"_content_html_element\").firstElementChild.firstElementChild;\n    var data = this.pdfViewerBase.getItemFromSessionStorage('_formDesigner');\n    var formFieldsData = JSON.parse(data);\n    var index = this.getFormFiledIndex(selectedItem.id.split('_')[0]);\n\n    if (this.pdfViewer.designerMode || isUndoRedo) {\n      if (this.formFieldName && this.formFieldName.value || isUndoRedo) {\n        this.updateNamePropertyChange(selectedItem, inputElement, isUndoRedo, index, formFieldsData);\n      }\n\n      if (this.formFieldPrinting || isUndoRedo) {\n        this.updateIsPrintPropertyChange(selectedItem, isUndoRedo, index, formFieldsData);\n      }\n\n      if (this.formFieldTooltip || isUndoRedo) {\n        this.updateTooltipPropertyChange(selectedItem, inputElement, isUndoRedo, index, formFieldsData);\n      }\n\n      if (this.formFieldVisibility || isUndoRedo) {\n        this.updateVisibilityPropertyChange(selectedItem, inputElement, isUndoRedo, index, formFieldsData);\n      }\n\n      if (this.formFieldReadOnly || isUndoRedo) {\n        this.updateIsReadOnlyPropertyChange(selectedItem, inputElement, isUndoRedo, index, formFieldsData);\n      }\n\n      if (this.formFieldRequired || isUndoRedo) {\n        this.updateIsRequiredPropertyChange(selectedItem, inputElement, isUndoRedo, index, formFieldsData);\n      }\n    }\n\n    if (isUndoRedo) this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection, '_formDesigner');\n  };\n  /**\n   * @private\n   */\n\n\n  FormDesigner.prototype.updateCheckboxFormDesignerProperties = function (selectedItem, isUndoRedo) {\n    var checkBoxElement = document.getElementById(selectedItem.id + \"_content_html_element\").firstElementChild.firstElementChild.lastElementChild;\n    var data = this.pdfViewerBase.getItemFromSessionStorage('_formDesigner');\n    var formFieldsData = JSON.parse(data);\n    var index = this.getFormFiledIndex(selectedItem.id.split('_')[0]);\n\n    if (this.formFieldName && this.formFieldName.value || isUndoRedo) {\n      this.updateNamePropertyChange(selectedItem, checkBoxElement, isUndoRedo, index, formFieldsData);\n    }\n\n    if (this.backgroundColorValue || isUndoRedo) {\n      this.updateBackgroundColorPropertyChange(selectedItem, checkBoxElement, isUndoRedo, index, formFieldsData);\n    }\n\n    if (this.borderColorValue || isUndoRedo) {\n      this.updateBorderColorPropertyChange(selectedItem, checkBoxElement, isUndoRedo, index, formFieldsData);\n    }\n\n    if (this.formFieldBorderWidth || isUndoRedo) {\n      this.updateBorderThicknessPropertyChange(selectedItem, checkBoxElement, isUndoRedo, index, formFieldsData);\n    }\n\n    if (this.formFieldChecked) {\n      this.checkboxCheckedState = this.formFieldChecked.checked;\n    }\n\n    if (this.formFieldPrinting || isUndoRedo) {\n      this.updateIsPrintPropertyChange(selectedItem, isUndoRedo, index, formFieldsData);\n    }\n\n    if (this.formFieldTooltip || isUndoRedo) {\n      this.updateTooltipPropertyChange(selectedItem, checkBoxElement, isUndoRedo, index, formFieldsData);\n    }\n\n    if (this.formFieldVisibility || isUndoRedo) {\n      this.updateVisibilityPropertyChange(selectedItem, checkBoxElement, isUndoRedo, index, formFieldsData);\n    }\n\n    if (this.checkboxCheckedState != undefined || isUndoRedo) {\n      this.updateIsCheckedPropertyChange(selectedItem, checkBoxElement, isUndoRedo, index, formFieldsData);\n    }\n\n    if (this.pdfViewer.designerMode && this.borderColorValue || isUndoRedo) {\n      this.updateBorderColorPropertyChange(selectedItem, checkBoxElement, isUndoRedo, index, formFieldsData);\n    }\n\n    if (this.pdfViewer.designerMode && this.formFieldBorderWidth || isUndoRedo) {\n      this.updateBorderThicknessPropertyChange(selectedItem, checkBoxElement, isUndoRedo, index, formFieldsData);\n    }\n\n    if (this.formFieldReadOnly || isUndoRedo) {\n      this.updateIsReadOnlyPropertyChange(selectedItem, checkBoxElement, isUndoRedo, index, formFieldsData);\n    }\n\n    if (this.formFieldRequired || isUndoRedo) {\n      this.updateIsRequiredPropertyChange(selectedItem, checkBoxElement, isUndoRedo, index, formFieldsData);\n    }\n\n    if (isUndoRedo) this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection, '_formDesigner');\n  };\n  /**\n   * @private\n   */\n\n\n  FormDesigner.prototype.updateRadioButtonDesignerProperties = function (selectedItem, isUndoRedo) {\n    var radioButton = document.getElementById(selectedItem.id + \"_content_html_element\").firstElementChild.firstElementChild.firstElementChild;\n    var data = this.pdfViewerBase.getItemFromSessionStorage('_formDesigner');\n    var formFieldsData = JSON.parse(data);\n    var index = this.getFormFiledIndex(selectedItem.id.split('_')[0]);\n\n    if (this.formFieldName && this.formFieldName.value || isUndoRedo) {\n      this.updateNamePropertyChange(selectedItem, radioButton, isUndoRedo, index, formFieldsData);\n    }\n\n    if (this.formFieldChecked) {\n      this.checkboxCheckedState = this.formFieldChecked.checked;\n    }\n\n    if (this.formFieldPrinting || isUndoRedo) {\n      this.updateIsPrintPropertyChange(selectedItem, isUndoRedo, index, formFieldsData);\n    }\n\n    if (this.formFieldTooltip || isUndoRedo) {\n      this.updateTooltipPropertyChange(selectedItem, radioButton, isUndoRedo, index, formFieldsData);\n    }\n\n    if (this.formFieldVisibility || isUndoRedo) {\n      this.updateVisibilityPropertyChange(selectedItem, radioButton, isUndoRedo, index, formFieldsData);\n    }\n\n    if (this.pdfViewer.designerMode && this.formFieldBorderWidth || isUndoRedo) {\n      this.updateBorderThicknessPropertyChange(selectedItem, radioButton, isUndoRedo, index, formFieldsData);\n    }\n\n    if (this.backgroundColorValue || isUndoRedo) {\n      this.updateBackgroundColorPropertyChange(selectedItem, radioButton, isUndoRedo, index, formFieldsData);\n    }\n\n    if (this.borderColorValue || isUndoRedo) {\n      this.updateBorderColorPropertyChange(selectedItem, radioButton, isUndoRedo, index, formFieldsData);\n    }\n\n    if (this.checkboxCheckedState != undefined || isUndoRedo) {\n      this.updateIsSelectedPropertyChange(selectedItem, radioButton, isUndoRedo, index, formFieldsData);\n    }\n\n    if (this.formFieldReadOnly || isUndoRedo) {\n      this.updateIsReadOnlyPropertyChange(selectedItem, radioButton, isUndoRedo, index, formFieldsData);\n    }\n\n    if (this.formFieldRequired || isUndoRedo) {\n      this.updateIsRequiredPropertyChange(selectedItem, radioButton, isUndoRedo, index, formFieldsData);\n    }\n\n    if (isUndoRedo) {\n      var formField = this.pdfViewer.nameTable[selectedItem.id.split('_')[0]];\n      var point2 = cornersPointsBeforeRotation(formField.wrapper.children[0]).topLeft;\n      this.updateFormDesignerFieldInSessionStorage(point2, formField.wrapper.children[0], formField.formFieldAnnotationType, formField);\n    }\n  };\n  /**\n   * @private\n   */\n\n\n  FormDesigner.prototype.updateTextboxFormDesignerProperties = function (selectedItem, isUndoRedo) {\n    var inputElement = document.getElementById(selectedItem.id + \"_content_html_element\").firstElementChild.firstElementChild;\n    var isMaxLengthChanged = false;\n    var oldValue, newValue;\n    var data = this.pdfViewerBase.getItemFromSessionStorage('_formDesigner');\n    var formFieldsData = JSON.parse(data);\n    var index = this.getFormFiledIndex(selectedItem.id.split('_')[0]);\n\n    if (this.pdfViewer.designerMode || isUndoRedo) {\n      if (this.formFieldName && this.formFieldName.value || isUndoRedo) {\n        this.updateNamePropertyChange(selectedItem, inputElement, isUndoRedo, index, formFieldsData);\n      }\n\n      if (this.formFieldValue || isUndoRedo) {\n        this.updateValuePropertyChange(selectedItem, inputElement, isUndoRedo, index, formFieldsData);\n      }\n\n      if (this.formFieldPrinting || isUndoRedo) {\n        this.updateIsPrintPropertyChange(selectedItem, isUndoRedo, index, formFieldsData);\n      }\n\n      if (this.formFieldTooltip || isUndoRedo) {\n        this.updateTooltipPropertyChange(selectedItem, inputElement, isUndoRedo, index, formFieldsData);\n      }\n\n      if (this.formFieldVisibility || isUndoRedo) {\n        this.updateVisibilityPropertyChange(selectedItem, inputElement, isUndoRedo, index, formFieldsData);\n      }\n\n      if (this.formFieldFontFamily && this.formFieldFontFamily.value || isUndoRedo) {\n        this.updateFontFamilyPropertyChange(selectedItem, inputElement, isUndoRedo, index, formFieldsData);\n      }\n\n      if (this.formFieldFontSize && this.formFieldFontSize.value || isUndoRedo) {\n        this.updateFontSizePropertyChange(selectedItem, inputElement, isUndoRedo, index, formFieldsData);\n      }\n\n      this.updateFontStylePropertyChange(selectedItem, inputElement, isUndoRedo, index, formFieldsData);\n\n      if (this.formFieldAlign || isUndoRedo || this.multilineCheckboxCheckedState) {\n        this.updateAlignmentPropertyChange(selectedItem, inputElement, isUndoRedo, index, formFieldsData);\n      }\n\n      if (this.maxLengthItem || isUndoRedo) {\n        if (this.maxLengthItem && selectedItem.maxLength !== this.maxLengthItem.value) {\n          isMaxLengthChanged = true;\n          oldValue = selectedItem.maxLength;\n          newValue = this.maxLengthItem.value;\n        }\n\n        var maxLength = this.maxLengthItem.value === 0 ? 524288 : this.maxLengthItem.value;\n\n        if (isUndoRedo && selectedItem.maxLength !== 0) {\n          inputElement.maxLength = selectedItem.maxLength;\n        } else {\n          inputElement.maxLength = maxLength;\n          selectedItem.maxLength = this.maxLengthItem.value;\n        }\n\n        if (index > -1) {\n          formFieldsData[index].FormField.maxLength = selectedItem.maxLength;\n          this.pdfViewerBase.formFieldCollection[index].FormField.maxLength = selectedItem.maxLength;\n        }\n\n        this.pdfViewer.nameTable[selectedItem.id.split('_')[0]].maxLength = selectedItem.maxLength;\n\n        if (isMaxLengthChanged) {\n          this.updateFormFieldPropertiesChanges(\"formFieldPropertiesChange\", selectedItem, false, false, false, false, false, false, false, false, false, false, false, isMaxLengthChanged, false, false, false, oldValue, newValue);\n        }\n      }\n\n      if (this.fontColorValue || isUndoRedo || this.multilineCheckboxCheckedState) {\n        this.updateColorPropertyChange(selectedItem, inputElement, isUndoRedo, index, formFieldsData);\n      }\n\n      if (this.backgroundColorValue || isUndoRedo || this.multilineCheckboxCheckedState) {\n        this.updateBackgroundColorPropertyChange(selectedItem, inputElement, isUndoRedo, index, formFieldsData);\n      }\n\n      if (this.borderColorValue || isUndoRedo || this.multilineCheckboxCheckedState) {\n        this.updateBorderColorPropertyChange(selectedItem, inputElement, isUndoRedo, index, formFieldsData);\n      }\n\n      if (this.formFieldBorderWidth || isUndoRedo) {\n        this.updateBorderThicknessPropertyChange(selectedItem, inputElement, isUndoRedo, index, formFieldsData);\n      }\n\n      if (this.formFieldReadOnly || isUndoRedo) {\n        this.updateIsReadOnlyPropertyChange(selectedItem, inputElement, isUndoRedo, index, formFieldsData);\n      }\n\n      if (this.formFieldRequired || isUndoRedo) {\n        this.updateIsRequiredPropertyChange(selectedItem, inputElement, isUndoRedo, index, formFieldsData);\n      }\n    }\n\n    if (!this.pdfViewer.designerMode) {\n      if (this.formFieldVisibility && this.formFieldVisibility.value) {\n        selectedItem.visibility = this.formFieldVisibility.value;\n        var visibleItem = document.getElementById(selectedItem.id + '_content_html_element').firstElementChild.firstElementChild;\n        visibleItem.style.visibility = selectedItem.visibility;\n      }\n    }\n\n    this.updateFormFieldCollections(selectedItem);\n    if (isUndoRedo) this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection, '_formDesigner');\n  };\n  /**\n   * @private\n   */\n\n\n  FormDesigner.prototype.updateIsCheckedPropertyChange = function (selectedItem, element, isUndoRedo, index, formFieldsData) {\n    if (this.pdfViewer.designerMode || isUndoRedo) {\n      var isValueChanged = false;\n      var oldValue = void 0,\n          newValue = void 0;\n\n      if (selectedItem.isChecked !== this.checkboxCheckedState) {\n        isValueChanged = true;\n        oldValue = selectedItem.isChecked;\n        newValue = this.checkboxCheckedState;\n      }\n\n      if (!isUndoRedo) {\n        selectedItem.isChecked = this.checkboxCheckedState;\n      }\n\n      if (index > -1) {\n        formFieldsData[index].FormField.isChecked = selectedItem.isChecked;\n        this.pdfViewerBase.formFieldCollection[index].FormField.isChecked = selectedItem.isChecked;\n      }\n\n      this.pdfViewer.nameTable[selectedItem.id.split('_')[0]].isChecked = selectedItem.isChecked;\n\n      if (isValueChanged) {\n        this.updateFormFieldPropertiesChanges(\"formFieldPropertiesChange\", selectedItem, isValueChanged, false, false, false, false, false, false, false, false, false, false, false, false, false, false, oldValue, newValue);\n      }\n    }\n\n    if (!this.pdfViewer.designerMode || isUndoRedo) {\n      var checkboxElement = document.getElementById(selectedItem.id + \"_input\").firstElementChild;\n\n      if (selectedItem.isChecked) {\n        if (checkboxElement.classList.contains('e-pv-cb-unchecked')) checkboxElement.classList.remove('e-pv-cb-unchecked');\n        checkboxElement.classList.add(\"e-pv-cb-checked\");\n      } else {\n        if (checkboxElement.classList.contains('e-pv-cb-checked')) checkboxElement.classList.remove('e-pv-cb-checked');\n        checkboxElement.classList.add(\"e-pv-cb-unchecked\");\n      }\n    }\n  };\n  /**\n  * @private\n  */\n\n\n  FormDesigner.prototype.updateIsSelectedPropertyChange = function (selectedItem, element, isUndoRedo, index, formFieldsData) {\n    if (this.pdfViewer.designerMode || isUndoRedo) {\n      var isValueChanged = false;\n      var oldValue = void 0,\n          newValue = void 0;\n\n      if (selectedItem.isSelected !== this.checkboxCheckedState) {\n        isValueChanged = true;\n        oldValue = selectedItem.isSelected;\n        newValue = this.checkboxCheckedState;\n      }\n\n      if (!isUndoRedo) {\n        selectedItem.isSelected = this.checkboxCheckedState;\n      }\n\n      if (index > -1) {\n        formFieldsData[index].FormField.isSelected = selectedItem.isSelected;\n        this.pdfViewerBase.formFieldCollection[index].FormField.isSelected = selectedItem.isSelected;\n\n        for (var i = 0; i < formFieldsData[index].FormField.radiobuttonItem.length; i++) {\n          if (formFieldsData[index].FormField.radiobuttonItem[i].id.split(\"_\")[0] === selectedItem.id.split(\"_\")[0]) {\n            formFieldsData[index].FormField.radiobuttonItem[i].isSelected = selectedItem.isSelected;\n            this.pdfViewerBase.formFieldCollection[index].FormField.radiobuttonItem[i].isSelected = selectedItem.isSelected;\n          }\n        }\n      }\n\n      this.pdfViewer.nameTable[selectedItem.id.split('_')[0]].isSelected = selectedItem.isSelected;\n\n      if (isValueChanged) {\n        this.updateFormFieldPropertiesChanges(\"formFieldPropertiesChange\", selectedItem, isValueChanged, false, false, false, false, false, false, false, false, false, false, false, false, false, false, oldValue, newValue);\n      }\n    }\n\n    if (!this.pdfViewer.designerMode || isUndoRedo) {\n      element.checked = selectedItem.isSelected;\n\n      if (index > -1) {\n        formFieldsData[index].FormField.isSelected = selectedItem.isSelected;\n        this.pdfViewerBase.formFieldCollection[index].FormField.isSelected = selectedItem.isSelected;\n\n        for (var i = 0; i < formFieldsData[index].FormField.radiobuttonItem.length; i++) {\n          if (formFieldsData[index].FormField.radiobuttonItem[i].id.split(\"_\")[0] === selectedItem.id.split(\"_\")[0]) {\n            formFieldsData[index].FormField.radiobuttonItem[i].isSelected = selectedItem.isSelected;\n            this.pdfViewerBase.formFieldCollection[index].FormField.radiobuttonItem[i].isSelected = selectedItem.isSelected;\n          }\n        }\n      }\n\n      this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection, '_formDesigner');\n      this.pdfViewer.nameTable[selectedItem.id.split('_')[0]].isSelected = selectedItem.isSelected;\n    }\n  };\n  /**\n   * @private\n   */\n\n\n  FormDesigner.prototype.updateValuePropertyChange = function (selectedItem, element, isUndoRedo, index, formFieldsData) {\n    var isValueChanged = false;\n    var oldValue, newValue;\n\n    if (selectedItem.formFieldAnnotationType !== \"DropdownList\" && this.formFieldValue && selectedItem.value !== this.formFieldValue.value) {\n      isValueChanged = true;\n      oldValue = selectedItem.value;\n      newValue = this.formFieldValue.value;\n    } else if (selectedItem.formFieldAnnotationType === \"DropdownList\" && this.formFieldValue && selectedItem.value !== formFieldsData[index].FormField.value) {\n      isValueChanged = true;\n      oldValue = selectedItem.value;\n      newValue = formFieldsData[index].FormField.value;\n    }\n\n    if (isUndoRedo) {\n      element.value = selectedItem.value;\n    } else {\n      selectedItem.formFieldAnnotationType === \"DropdownList\" ? selectedItem.value = formFieldsData[index].FormField.value : selectedItem.value = this.formFieldValue.value;\n      selectedItem.formFieldAnnotationType === \"DropdownList\" ? element.value = formFieldsData[index].FormField.value : element.value = this.formFieldValue.value;\n    }\n\n    if (index > -1) {\n      formFieldsData[index].FormField.value = selectedItem.value;\n      this.pdfViewerBase.formFieldCollection[index].FormField.value = selectedItem.value;\n    }\n\n    this.pdfViewer.nameTable[selectedItem.id.split('_')[0]].value = selectedItem.value;\n\n    if (isValueChanged) {\n      this.updateFormFieldPropertiesChanges(\"formFieldPropertiesChange\", selectedItem, isValueChanged, false, false, false, false, false, false, false, false, false, false, false, false, false, false, oldValue, newValue);\n    }\n  };\n\n  FormDesigner.prototype.updateFontStylePropertyChange = function (selectedItem, element, isUndoRedo, index, formFieldsData) {\n    var isFontStyleChanged = false;\n    var oldValue = '';\n    var newValue = '';\n    var result = this.updateFontStyle(element, selectedItem, isUndoRedo, index, formFieldsData);\n    isFontStyleChanged = result[0];\n    oldValue = result[1];\n    newValue = result[2];\n\n    if (index > -1) {\n      formFieldsData[index].FormField.fontStyle = selectedItem.fontStyle;\n      this.pdfViewerBase.formFieldCollection[index].FormField.fontStyle = selectedItem.fontStyle;\n    }\n\n    this.pdfViewer.nameTable[selectedItem.id.split('_')[0]].fontStyle = selectedItem.fontStyle;\n\n    if (isFontStyleChanged) {\n      this.updateFormFieldPropertiesChanges(\"formFieldPropertiesChange\", selectedItem, false, false, false, isFontStyleChanged, false, false, false, false, false, false, false, false, false, false, false, oldValue, newValue);\n    }\n  };\n\n  FormDesigner.prototype.updateBorderThicknessPropertyChange = function (selectedItem, element, isUndoRedo, index, formFieldsData) {\n    var isBorderWidthChanged = false;\n    var oldValue, newValue;\n    var borderWidth = parseInt(this.formFieldBorderWidth);\n\n    if (selectedItem.thickness !== borderWidth) {\n      isBorderWidthChanged = true;\n      oldValue = selectedItem.thickness;\n      newValue = borderWidth ? borderWidth : selectedItem.thickness;\n    }\n\n    if (isUndoRedo) {\n      element.style.borderWidth = selectedItem.thickness.toString();\n    } else {\n      element.style.borderWidth = this.formFieldBorderWidth ? this.formFieldBorderWidth : selectedItem.thickness;\n      selectedItem.thickness = borderWidth;\n    }\n\n    if (index > -1) {\n      formFieldsData[index].FormField.thickness = selectedItem.thickness;\n      this.pdfViewerBase.formFieldCollection[index].FormField.thickness = selectedItem.thickness;\n    }\n\n    this.pdfViewer.nameTable[selectedItem.id.split('_')[0]].thickness = selectedItem.thickness;\n\n    if (isBorderWidthChanged) {\n      this.updateFormFieldPropertiesChanges(\"formFieldPropertiesChange\", selectedItem, false, false, false, false, false, false, false, isBorderWidthChanged, false, false, false, false, false, false, false, oldValue, newValue);\n    }\n  };\n\n  FormDesigner.prototype.updateBorderColorPropertyChange = function (selectedItem, element, isUndoRedo, index, formFieldsData) {\n    var isBorderColorChanged = false;\n    var oldValue, newValue;\n\n    if (selectedItem.borderColor !== this.borderColorValue) {\n      isBorderColorChanged = true;\n      oldValue = selectedItem.borderColor;\n      newValue = this.borderColorValue ? this.borderColorValue : selectedItem.borderColor;\n    }\n\n    if (isUndoRedo) {\n      element.style.borderColor = selectedItem.borderColor;\n    } else {\n      element.style.borderColor = this.borderColorValue ? this.borderColorValue : selectedItem.borderColor;\n      selectedItem.borderColor = this.borderColorValue ? this.borderColorValue : selectedItem.borderColor;\n    }\n\n    if (selectedItem.formFieldAnnotationType == \"RadioButton\") element.parentElement.style.boxShadow = this.borderColorValue + ' 0px 0px 0px ' + selectedItem.thickness + 'px';\n\n    if (index > -1) {\n      formFieldsData[index].FormField.borderColor = this.getRgbCode(selectedItem.borderColor);\n      this.pdfViewerBase.formFieldCollection[index].FormField.borderColor = this.getRgbCode(selectedItem.borderColor);\n    }\n\n    this.pdfViewer.nameTable[selectedItem.id.split('_')[0]].borderColor = selectedItem.borderColor;\n\n    if (isBorderColorChanged) {\n      this.updateFormFieldPropertiesChanges(\"formFieldPropertiesChange\", selectedItem, false, false, false, false, false, false, isBorderColorChanged, false, false, false, false, false, false, false, false, oldValue, newValue);\n    }\n  };\n\n  FormDesigner.prototype.updateBackgroundColorPropertyChange = function (selectedItem, element, isUndoRedo, index, formFieldsData) {\n    var isBackgroundColorChanged = false;\n    var oldValue, newValue;\n\n    if (selectedItem.backgroundColor !== this.backgroundColorValue) {\n      isBackgroundColorChanged = true;\n      oldValue = selectedItem.backgroundColor;\n      newValue = this.backgroundColorValue ? this.backgroundColorValue : selectedItem.backgroundColor;\n    }\n\n    if (isUndoRedo) {\n      if (selectedItem.formFieldAnnotationType == \"RadioButton\") element.parentElement.style.background = selectedItem.backgroundColor;else element.style.background = selectedItem.backgroundColor;\n    } else {\n      if (selectedItem.formFieldAnnotationType == \"RadioButton\") element.parentElement.style.background = this.backgroundColorValue ? this.backgroundColorValue : selectedItem.backgroundColor;else element.style.background = this.backgroundColorValue ? this.backgroundColorValue : selectedItem.backgroundColor;\n      selectedItem.backgroundColor = this.backgroundColorValue ? this.backgroundColorValue : selectedItem.backgroundColor;\n    }\n\n    if (index > -1) {\n      formFieldsData[index].FormField.backgroundColor = this.getRgbCode(selectedItem.backgroundColor);\n      this.pdfViewerBase.formFieldCollection[index].FormField.backgroundColor = this.getRgbCode(selectedItem.backgroundColor);\n    }\n\n    this.pdfViewer.nameTable[selectedItem.id.split('_')[0]].backgroundColor = selectedItem.backgroundColor;\n\n    if (isBackgroundColorChanged) {\n      this.updateFormFieldPropertiesChanges(\"formFieldPropertiesChange\", selectedItem, false, false, false, false, false, isBackgroundColorChanged, false, false, false, false, false, false, false, false, false, oldValue, newValue);\n    }\n  };\n\n  FormDesigner.prototype.updateColorPropertyChange = function (selectedItem, element, isUndoRedo, index, formFieldsData) {\n    var isColorChanged = false;\n    var oldValue, newValue;\n\n    if (selectedItem.color !== this.fontColorValue) {\n      isColorChanged = true;\n      oldValue = selectedItem.color;\n      newValue = this.fontColorValue ? this.fontColorValue : selectedItem.color;\n    }\n\n    if (isUndoRedo) {\n      element.style.color = selectedItem.color;\n    } else {\n      element.style.color = this.fontColorValue ? this.fontColorValue : selectedItem.color;\n      selectedItem.color = this.fontColorValue ? this.fontColorValue : selectedItem.color;\n    }\n\n    if (index > -1) {\n      formFieldsData[index].FormField.color = this.getRgbCode(selectedItem.color);\n      this.pdfViewerBase.formFieldCollection[index].FormField.color = this.getRgbCode(selectedItem.color);\n    }\n\n    this.pdfViewer.nameTable[selectedItem.id.split('_')[0]].color = selectedItem.color;\n\n    if (isColorChanged) {\n      this.updateFormFieldPropertiesChanges(\"formFieldPropertiesChange\", selectedItem, false, false, false, false, isColorChanged, false, false, false, false, false, false, false, false, false, false, oldValue, newValue);\n    }\n  };\n\n  FormDesigner.prototype.updateAlignmentPropertyChange = function (selectedItem, element, isUndoRedo, index, formFieldsData) {\n    var isAlignmentChanged = false;\n    var oldValue, newValue;\n\n    if (selectedItem.alignment !== this.formFieldAlign) {\n      isAlignmentChanged = true;\n      oldValue = selectedItem.alignment;\n      newValue = this.formFieldAlign ? this.formFieldAlign : selectedItem.alignment;\n    }\n\n    if (isUndoRedo) {\n      element.style.textAlign = selectedItem.alignment;\n\n      if ((selectedItem.formFieldAnnotationType == \"ListBox\" || selectedItem.formFieldAnnotationType == \"DropdownList\") && element.children.length > 0) {\n        element.style.textAlignLast = selectedItem.alignment;\n\n        for (var i = 0; i < element.children.length; i++) {\n          var dropDownChild = element.children[i];\n          dropDownChild.style.textAlignLast = selectedItem.alignment;\n          dropDownChild.style.textAlign = selectedItem.alignment;\n        }\n      }\n    } else {\n      element.style.textAlign = this.formFieldAlign ? this.formFieldAlign : selectedItem.alignment;\n      selectedItem.alignment = this.formFieldAlign ? this.formFieldAlign : selectedItem.alignment;\n\n      if ((selectedItem.formFieldAnnotationType == \"ListBox\" || selectedItem.formFieldAnnotationType == \"DropdownList\") && element.children.length > 0) {\n        element.style.textAlignLast = this.formFieldAlign ? this.formFieldAlign : selectedItem.alignment;\n\n        for (var i = 0; i < element.children.length; i++) {\n          var dropDownChild = element.children[i];\n          dropDownChild.style.textAlignLast = this.formFieldAlign ? this.formFieldAlign : selectedItem.alignment;\n          dropDownChild.style.textAlign = this.formFieldAlign ? this.formFieldAlign : selectedItem.alignment;\n        }\n      }\n    }\n\n    if (index > -1) {\n      formFieldsData[index].FormField.alignment = selectedItem.alignment;\n      this.pdfViewerBase.formFieldCollection[index].FormField.alignment = selectedItem.alignment;\n    }\n\n    this.pdfViewer.nameTable[selectedItem.id.split('_')[0]].alignment = selectedItem.alignment;\n\n    if (isAlignmentChanged) {\n      this.updateFormFieldPropertiesChanges(\"formFieldPropertiesChange\", selectedItem, false, false, false, false, false, false, false, false, isAlignmentChanged, false, false, false, false, false, false, oldValue, newValue);\n    }\n  };\n\n  FormDesigner.prototype.updateFontSizePropertyChange = function (selectedItem, element, isUndoRedo, index, formFieldsData) {\n    var isFontSizeChanged = false;\n    var oldValue, newValue;\n    var zoomValue = this.pdfViewerBase.getZoomFactor();\n    var fontSize = this.formFieldFontSize ? parseInt(this.formFieldFontSize.value.toString()) : null;\n    var selectedFontSize = parseInt(selectedItem.fontSize);\n\n    if (selectedFontSize !== fontSize) {\n      isFontSizeChanged = true;\n      oldValue = selectedItem.fontSize;\n      newValue = fontSize;\n    }\n\n    if (isUndoRedo) {\n      element.style.fontSize = selectedItem.fontSize * zoomValue + 'px'.toString();\n    } else {\n      selectedItem.fontSize = fontSize;\n      element.style.fontSize = parseInt(this.formFieldFontSize.value.toString()) * zoomValue + 'px';\n    }\n\n    if (index > -1) {\n      formFieldsData[index].FormField.fontSize = selectedItem.fontSize;\n      this.pdfViewerBase.formFieldCollection[index].FormField.fontSize = selectedItem.fontSize;\n    }\n\n    this.pdfViewer.nameTable[selectedItem.id.split('_')[0]].fontSize = selectedItem.fontSize;\n\n    if (isFontSizeChanged) {\n      this.updateFormFieldPropertiesChanges(\"formFieldPropertiesChange\", selectedItem, false, false, isFontSizeChanged, false, false, false, false, false, false, false, false, false, false, false, false, oldValue, newValue);\n    }\n  };\n\n  FormDesigner.prototype.updateFontFamilyPropertyChange = function (selectedItem, element, isUndoRedo, index, formFieldsData) {\n    var isFontFamilyChanged = false;\n    var oldValue, newValue;\n    var fontFamily = this.formFieldFontFamily ? this.formFieldFontFamily.value.toString() : \"\";\n\n    if (selectedItem.fontFamily !== fontFamily) {\n      isFontFamilyChanged = true;\n      oldValue = selectedItem.fontFamily;\n      newValue = fontFamily;\n    }\n\n    if (isUndoRedo) {\n      element.style.fontFamily = selectedItem.fontFamily;\n    } else {\n      selectedItem.fontFamily = fontFamily;\n      element.style.fontFamily = fontFamily;\n    }\n\n    if (index > -1) {\n      formFieldsData[index].FormField.fontFamily = selectedItem.fontFamily;\n      this.pdfViewerBase.formFieldCollection[index].FormField.fontFamily = selectedItem.fontFamily;\n    }\n\n    this.pdfViewer.nameTable[selectedItem.id.split('_')[0]].fontFamily = selectedItem.fontFamily;\n\n    if (isFontFamilyChanged) {\n      this.updateFormFieldPropertiesChanges(\"formFieldPropertiesChange\", selectedItem, false, isFontFamilyChanged, false, false, false, false, false, false, false, false, false, false, false, false, false, oldValue, newValue);\n    }\n  };\n\n  FormDesigner.prototype.updateVisibilityPropertyChange = function (selectedItem, element, isUndoRedo, index, formFieldsData) {\n    var isVisibilityChanged = false;\n    var oldValue, newValue;\n\n    if (this.formFieldVisibility && selectedItem.visibility !== this.formFieldVisibility.value) {\n      isVisibilityChanged = true;\n      oldValue = selectedItem.visibility;\n      newValue = this.formFieldVisibility.value;\n    }\n\n    if (!isUndoRedo) {\n      selectedItem.visibility = this.formFieldVisibility.value;\n    }\n\n    element.style.visibility = selectedItem.visibility;\n\n    if (selectedItem.formFieldAnnotationType === \"RadioButton\") {\n      element.parentElement.style.visibility = selectedItem.visibility;\n    }\n\n    if (selectedItem.formFieldAnnotationType === \"SignatureField\" || selectedItem.formFieldAnnotationType === \"InitialField\") {\n      var signElement = document.getElementById(selectedItem.id + \"_content_html_element\").firstElementChild.children[1];\n      signElement.style.visibility = selectedItem.visibility;\n      signElement.parentElement.style.visibility = selectedItem.visibility;\n      var annotation = this.pdfViewer.nameTable[selectedItem.id.split('_')[0] + \"_content\"];\n\n      if (selectedItem.visibility === \"hidden\") {\n        if (annotation) {\n          this.hideSignatureValue(selectedItem, annotation, index, formFieldsData);\n        }\n      } else {\n        if (annotation) {\n          this.showSignatureValue(selectedItem, oldValue, annotation, index, formFieldsData);\n        }\n      }\n    }\n\n    if (index > -1) {\n      formFieldsData[index].FormField.visibility = selectedItem.visibility;\n      this.pdfViewerBase.formFieldCollection[index].FormField.visibility = selectedItem.visibility;\n    } // selectedItem.visibility = this.formFieldVisibility.value;\n\n\n    this.pdfViewer.nameTable[selectedItem.id.split('_')[0]].visibility = selectedItem.visibility;\n\n    if (isVisibilityChanged) {\n      this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection, '_formDesigner');\n      this.updateFormFieldPropertiesChanges(\"formFieldPropertiesChange\", selectedItem, false, false, false, false, false, false, false, false, false, false, isVisibilityChanged, false, false, false, false, oldValue, newValue);\n    }\n  };\n\n  FormDesigner.prototype.hideSignatureValue = function (selectedItem, annotation, index, formFieldsData) {\n    selectedItem.wrapper.children.splice(selectedItem.wrapper.children.indexOf(annotation.wrapper.children[0]), 1);\n    selectedItem.value = '';\n    selectedItem.signatureType = '';\n    formFieldsData[index].FormField.value = '';\n    formFieldsData[index].FormField.signatureType = '';\n    this.pdfViewerBase.formFieldCollection[index].FormField.value = '';\n    this.pdfViewerBase.formFieldCollection[index].FormField.signatureType = '';\n    this.pdfViewer.remove(annotation);\n    this.pdfViewer.renderDrawing();\n  };\n\n  FormDesigner.prototype.showSignatureValue = function (selectedItem, oldValue, annotation, index, formFieldsData) {\n    if (annotation.shapeAnnotationType === \"SignatureText\") {\n      selectedItem.value = annotation.data;\n      selectedItem.signatureType = \"Text\";\n      formFieldsData[index].FormField.signatureType = \"Text\";\n      formFieldsData[index].FormField.value = annotation.data;\n      this.pdfViewerBase.formFieldCollection[index].FormField.value = annotation.data;\n      this.pdfViewerBase.formFieldCollection[index].FormField.signatureType = \"Text\";\n    } else if (annotation.shapeAnnotationType === \"SignatureImage\") {\n      selectedItem.value = annotation.data;\n      selectedItem.signatureType = \"Image\";\n      formFieldsData[index].FormField.signatureType = \"Image\";\n      formFieldsData[index].FormField.value = annotation.data;\n      this.pdfViewerBase.formFieldCollection[index].FormField.value = annotation.data;\n      this.pdfViewerBase.formFieldCollection[index].FormField.signatureType = \"Image\";\n    } else {\n      formFieldsData[index].FormField.signatureType = \"Path\";\n      selectedItem.signatureType = \"Path\";\n      this.pdfViewerBase.formFieldCollection[index].FormField.signatureType = \"Path\";\n      var collectionData = processPathData(annotation.data);\n      var csData = splitArrayCollection(collectionData);\n      selectedItem.value = JSON.stringify(csData);\n      formFieldsData[index].FormField.value = JSON.stringify(csData);\n      this.pdfViewerBase.formFieldCollection[index].FormField.value = JSON.stringify(csData);\n    }\n\n    selectedItem.signatureBound = annotation.signatureBound;\n\n    if (oldValue === 'hidden') {\n      this.pdfViewer.add(annotation);\n      selectedItem.wrapper.children.push(annotation.wrapper);\n      var canvass = document.getElementById(this.pdfViewer.element.id + '_annotationCanvas_' + selectedItem.pageIndex);\n      this.pdfViewer.renderDrawing(canvass, selectedItem.pageIndex);\n    }\n\n    ;\n    this.pdfViewer.renderDrawing();\n  };\n\n  FormDesigner.prototype.updateTooltipPropertyChange = function (selectedItem, element, isUndoRedo, index, formFieldsData) {\n    var isToolTipChanged = false;\n    var oldValue, newValue;\n\n    if (this.formFieldTooltip && selectedItem.tooltip !== this.formFieldTooltip.value) {\n      isToolTipChanged = true;\n      oldValue = selectedItem.tooltip;\n      newValue = this.formFieldTooltip.value;\n    }\n\n    if (isUndoRedo) {\n      this.formFieldTooltip = new TextBox();\n      this.formFieldTooltip.value = selectedItem.tooltip;\n    } else {\n      selectedItem.tooltip = this.formFieldTooltip ? this.formFieldTooltip.value : selectedItem.tooltip;\n    }\n\n    if (index > -1) {\n      formFieldsData[index].FormField.tooltip = selectedItem.tooltip;\n      this.pdfViewerBase.formFieldCollection[index].FormField.tooltip = selectedItem.tooltip;\n    }\n\n    this.pdfViewer.nameTable[selectedItem.id.split('_')[0]].tooltip = this.formFieldTooltip.value;\n\n    if (!isNullOrUndefined(this.formFieldTooltip.value) && this.formFieldTooltip.value !== '') {\n      this.setToolTip(this.formFieldTooltip.value, selectedItem.formFieldAnnotationType == \"RadioButton\" || selectedItem.formFieldAnnotationType == \"DropdownList\" ? element.parentElement : element);\n    }\n\n    if (isToolTipChanged) {\n      this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection, '_formDesigner');\n      this.updateFormFieldPropertiesChanges(\"formFieldPropertiesChange\", selectedItem, false, false, false, false, false, false, false, false, false, false, false, false, false, false, isToolTipChanged, oldValue, newValue);\n    }\n  };\n\n  FormDesigner.prototype.updateNamePropertyChange = function (selectedItem, element, isUndoRedo, index, formFieldsData) {\n    var designerName = document.getElementById(selectedItem.id + \"_designer_name\");\n    var zoomValue = this.pdfViewerBase.getZoomFactor();\n    designerName.style.fontSize = selectedItem.fontSize ? selectedItem.fontSize * zoomValue + 'px' : 10 * zoomValue + 'px';\n\n    if (isUndoRedo) {\n      designerName.innerHTML = selectedItem.name;\n    } else {\n      selectedItem.name = this.formFieldName ? this.formFieldName.value : selectedItem.name;\n      designerName.innerHTML = selectedItem.name;\n    }\n\n    if (index > -1) {\n      if (formFieldsData[index].FormField.name !== selectedItem.name) {\n        this.updateFormFieldPropertiesChanges(\"formFieldPropertiesChange\", selectedItem, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, null, null, true, formFieldsData[index].FormField.name);\n      }\n\n      formFieldsData[index].FormField.name = selectedItem.name;\n      this.pdfViewerBase.formFieldCollection[index].FormField.name = selectedItem.name;\n    }\n\n    element.name = selectedItem.name;\n    this.pdfViewer.nameTable[selectedItem.id.split('_')[0]].name = selectedItem.name;\n\n    if (selectedItem.formFieldAnnotationType == \"DropdownList\" || selectedItem.formFieldAnnotationType == \"ListBox\") {\n      for (var i = 0; i < this.pdfViewer.formFieldCollection.length; i++) {\n        var formField = this.pdfViewer.formFieldCollection[i];\n\n        if ((formField.formFieldAnnotationType === \"DropdownList\" || formField.formFieldAnnotationType === \"ListBox\") && formField.name === selectedItem.name && formField.id !== selectedItem.id) {\n          selectedItem.options = formField.options;\n          this.updateDropDownListDataSource(selectedItem, element);\n          break;\n        }\n      }\n    }\n  };\n\n  FormDesigner.prototype.updateIsReadOnlyPropertyChange = function (selectedItem, element, isUndoRedo, index, formFieldsData) {\n    var isReadOnlyChanged = false;\n    var oldValue, newValue;\n\n    if (this.formFieldReadOnly && selectedItem.isReadonly !== this.formFieldReadOnly.checked) {\n      isReadOnlyChanged = true;\n      oldValue = selectedItem.isReadonly;\n      newValue = this.formFieldReadOnly.checked;\n    }\n\n    if (isUndoRedo) {\n      this.formFieldReadOnly = new CheckBox();\n      this.formFieldReadOnly.checked = selectedItem.isReadonly;\n    } else {\n      selectedItem.isReadonly = this.formFieldReadOnly.checked;\n    }\n\n    if (index > -1) {\n      formFieldsData[index].FormField.isReadonly = selectedItem.isReadonly;\n      this.pdfViewerBase.formFieldCollection[index].FormField.isReadonly = selectedItem.isReadonly;\n    }\n\n    this.pdfViewer.nameTable[selectedItem.id.split('_')[0]].isReadonly = selectedItem.isReadonly;\n    this.setReadOnlyToElement(selectedItem, element, selectedItem.isReadonly);\n    this.setReadOnlyToFormField(selectedItem, selectedItem.isReadonly);\n\n    if (isReadOnlyChanged) {\n      this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection, '_formDesigner');\n      this.updateFormFieldPropertiesChanges(\"formFieldPropertiesChange\", selectedItem, false, false, false, false, false, false, false, false, false, isReadOnlyChanged, false, false, false, false, false, oldValue, newValue);\n    }\n  };\n\n  FormDesigner.prototype.updateIsRequiredPropertyChange = function (selectedItem, element, isUndoRedo, index, formFieldsData) {\n    var isRequiredChanged = false;\n    var oldValue, newValue;\n\n    if (this.formFieldRequired && selectedItem.isRequired !== this.formFieldRequired.checked) {\n      isRequiredChanged = true;\n      oldValue = selectedItem.isRequired;\n      newValue = this.formFieldRequired.checked;\n    }\n\n    if (isUndoRedo) {\n      this.formFieldRequired = new CheckBox();\n      this.formFieldRequired.checked = selectedItem.isRequired;\n    } else {\n      selectedItem.isRequired = this.formFieldRequired.checked;\n    }\n\n    if (index > -1) {\n      formFieldsData[index].FormField.isRequired = selectedItem.isRequired;\n      this.pdfViewerBase.formFieldCollection[index].FormField.isRequired = selectedItem.isRequired;\n\n      if (this.pdfViewerBase.formFieldCollection[index].FormField.radiobuttonItem) {\n        for (var i = 0; i < this.pdfViewerBase.formFieldCollection[index].FormField.radiobuttonItem.length; i++) {\n          this.pdfViewerBase.formFieldCollection[index].FormField.radiobuttonItem[i].isRequired = selectedItem.isRequired;\n          this.pdfViewer.nameTable[this.pdfViewerBase.formFieldCollection[index].FormField.radiobuttonItem[i].id.split('_')[0]].isRequired = selectedItem.isRequired;\n        }\n\n        this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection, '_formDesigner');\n      }\n    }\n\n    this.pdfViewer.nameTable[selectedItem.id.split('_')[0]].isRequired = selectedItem.isRequired;\n    this.setRequiredToElement(selectedItem, element, selectedItem.isRequired);\n    this.setRequiredToFormField(selectedItem, selectedItem.isRequired);\n\n    if (isRequiredChanged) {\n      this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection, '_formDesigner');\n      this.updateFormFieldPropertiesChanges(\"formFieldPropertiesChange\", selectedItem, false, false, false, false, false, false, false, false, false, false, false, false, isRequiredChanged, false, false, oldValue, newValue);\n    }\n  };\n\n  FormDesigner.prototype.updateIsPrintPropertyChange = function (selectedItem, isUndoRedo, index, formFieldsData) {\n    var isPrintChanged = false;\n    var oldValue, newValue;\n\n    if (this.formFieldPrinting && selectedItem.isPrint !== this.formFieldPrinting.checked) {\n      isPrintChanged = true;\n      oldValue = selectedItem.isPrint;\n      newValue = this.formFieldPrinting.checked;\n    }\n\n    if (isUndoRedo) {\n      this.formFieldPrinting = new CheckBox();\n      this.formFieldPrinting.checked = selectedItem.isPrint;\n    } else {\n      selectedItem.isPrint = this.formFieldPrinting.checked;\n    }\n\n    if (index > -1) {\n      formFieldsData[index].FormField.isPrint = selectedItem.isPrint;\n      this.pdfViewerBase.formFieldCollection[index].FormField.isPrint = selectedItem.isPrint;\n    }\n\n    this.pdfViewer.nameTable[selectedItem.id.split('_')[0]].isPrint = selectedItem.isPrint;\n\n    if (isPrintChanged) {\n      this.updateFormFieldPropertiesChanges(\"formFieldPropertiesChange\", selectedItem, false, false, false, false, false, false, false, false, false, false, false, false, false, isPrintChanged, false, oldValue, newValue);\n    }\n  };\n  /**\n   * @private\n   */\n\n\n  FormDesigner.prototype.getFormFiledIndex = function (id) {\n    if (this.pdfViewerBase.formFieldCollection == null || this.pdfViewerBase.formFieldCollection.length == 0) return -1;\n    var index = this.pdfViewerBase.formFieldCollection.findIndex(function (el) {\n      return el.Key.split('_')[0] === id;\n    });\n\n    if (index > -1) {\n      return index;\n    } else {\n      for (var i = 0; i < this.pdfViewerBase.formFieldCollection.length; i++) {\n        if (this.pdfViewerBase.formFieldCollection[i].FormField.formFieldAnnotationType === 'RadioButton' && this.pdfViewerBase.formFieldCollection[i].FormField.radiobuttonItem) {\n          for (var k = 0; k < this.pdfViewerBase.formFieldCollection[i].FormField.radiobuttonItem.length; k++) {\n            if (this.pdfViewerBase.formFieldCollection[i].FormField.radiobuttonItem[k].id.split(\"_\")[0] === id) {\n              return i;\n            }\n          }\n        }\n      }\n    }\n\n    return -1;\n  };\n\n  FormDesigner.prototype.updateFontStyle = function (inputElement, selectedItem, isUndoRedo, index, formFieldsData) {\n    var isFontStyleChanged = false;\n    var oldValue = '';\n    var newValue = '';\n\n    if (this.formFieldBold) {\n      if (selectedItem.fontStyle !== 'Bold') {\n        isFontStyleChanged = true;\n        oldValue += selectedItem.font.isBold ? 'Bold' + \", \" : '';\n      }\n\n      if (isUndoRedo) {\n        if (selectedItem.font.isBold) {\n          this.setFontStyleValues(selectedItem, 'Bold', this.formFieldBold, inputElement, true, 'bold', index, formFieldsData);\n        } else {\n          this.setFontStyleValues(selectedItem, 'None', this.formFieldBold, inputElement, false, '', index, formFieldsData);\n        }\n      } else if (this.formFieldBold === 'bold') {\n        this.setFontStyleValues(selectedItem, 'Bold', this.formFieldBold, inputElement, true, 'bold', index, formFieldsData);\n      } else {\n        this.setFontStyleValues(selectedItem, 'None', 'bold', inputElement, false, '', index, formFieldsData);\n      }\n    } else if (selectedItem.font.isBold) {\n      this.setFontStyleValues(selectedItem, 'None', 'bold', inputElement, false, '', index, formFieldsData);\n    }\n\n    newValue += selectedItem.font.isBold ? 'Bold' + \", \" : '';\n\n    if (this.formFieldItalic) {\n      if (selectedItem.fontStyle !== 'Italic') {\n        isFontStyleChanged = true;\n        oldValue += selectedItem.font.isItalic ? 'Italic' + \", \" : '';\n      }\n\n      if (isUndoRedo) {\n        if (selectedItem.font.isItalic) {\n          this.setFontStyleValues(selectedItem, 'Italic', this.formFieldItalic, inputElement, true, 'italic', index, formFieldsData);\n        } else {\n          this.setFontStyleValues(selectedItem, 'None', this.formFieldItalic, inputElement, false, '', index, formFieldsData);\n        }\n      } else if (this.formFieldItalic === 'italic') {\n        this.setFontStyleValues(selectedItem, 'Italic', this.formFieldItalic, inputElement, true, 'italic', index, formFieldsData);\n      } else {\n        this.setFontStyleValues(selectedItem, 'None', 'italic', inputElement, false, '', index, formFieldsData);\n      }\n    } else if (selectedItem.font.isItalic) {\n      this.setFontStyleValues(selectedItem, 'None', 'italic', inputElement, false, '', index, formFieldsData);\n    }\n\n    newValue += selectedItem.font.isItalic ? 'Italic' + \", \" : '';\n\n    if (this.formFieldUnderline) {\n      if (selectedItem.fontStyle !== 'Underline') {\n        isFontStyleChanged = true;\n        oldValue += selectedItem.font.isUnderline ? 'Underline' + \", \" : '';\n      }\n\n      if (isUndoRedo) {\n        if (selectedItem.font.isUnderline) {\n          this.setFontStyleValues(selectedItem, 'Underline', this.formFieldUnderline, inputElement, true, 'underline', index, formFieldsData);\n        } else {\n          this.setFontStyleValues(selectedItem, 'None', this.formFieldUnderline, inputElement, false, '', index, formFieldsData);\n        }\n      } else if (this.formFieldUnderline === 'underline') {\n        this.setFontStyleValues(selectedItem, 'Underline', this.formFieldUnderline, inputElement, true, 'underline', index, formFieldsData);\n      } else {\n        this.setFontStyleValues(selectedItem, 'None', 'underline', inputElement, false, '', index, formFieldsData);\n      }\n    } else if (selectedItem.font.isUnderline) {\n      this.setFontStyleValues(selectedItem, 'None', 'underline', inputElement, false, '', index, formFieldsData);\n    }\n\n    newValue += selectedItem.font.isUnderline ? 'Underline' + \", \" : '';\n\n    if (this.formFieldStrikeOut) {\n      if (selectedItem.fontStyle !== 'Strikethrough') {\n        isFontStyleChanged = true;\n        oldValue += selectedItem.font.isStrikeout ? 'Strikethrough' + \", \" : '';\n      }\n\n      if (isUndoRedo) {\n        if (selectedItem.font.isStrikeout) {\n          this.setFontStyleValues(selectedItem, 'Strikethrough', this.formFieldStrikeOut, inputElement, true, 'line-through', index, formFieldsData);\n        } else {\n          this.setFontStyleValues(selectedItem, 'None', this.formFieldStrikeOut, inputElement, false, '', index, formFieldsData);\n        }\n      } else if (this.formFieldStrikeOut === 'line-through') {\n        this.setFontStyleValues(selectedItem, 'Strikethrough', this.formFieldStrikeOut, inputElement, true, 'line-through', index, formFieldsData);\n      } else {\n        this.setFontStyleValues(selectedItem, 'None', 'line-through', inputElement, false, '', index, formFieldsData);\n      }\n    } else if (selectedItem.font.isStrikeout) {\n      this.setFontStyleValues(selectedItem, 'None', 'line-through', inputElement, false, '', index, formFieldsData);\n    }\n\n    newValue += selectedItem.font.isStrikeout ? 'Strikethrough' + \", \" : '';\n    return [isFontStyleChanged, oldValue, newValue];\n  };\n\n  FormDesigner.prototype.setFontStyleValues = function (selectedItem, selectedItemFontStyle, fontStyleType, inputElement, isFontStyleEnabled, fontStyleValue, index, formFieldsData) {\n    if (fontStyleType === 'bold') {\n      selectedItem.fontStyle = selectedItemFontStyle;\n      selectedItem.font.isBold = isFontStyleEnabled;\n      inputElement.style.fontWeight = fontStyleValue;\n      this.setDropdownFontStyleValue(inputElement, fontStyleType, fontStyleValue);\n\n      if (index > -1) {\n        formFieldsData[index].FormField.font.isBold = isFontStyleEnabled;\n        this.pdfViewerBase.formFieldCollection[index].FormField.font.isBold = isFontStyleEnabled;\n      }\n\n      this.pdfViewer.nameTable[selectedItem.id.split('_')[0]].font.isBold = isFontStyleEnabled;\n    } else if (fontStyleType === 'italic') {\n      inputElement.style.fontStyle = fontStyleValue;\n      this.setDropdownFontStyleValue(inputElement, fontStyleType, fontStyleValue);\n      selectedItem.fontStyle = selectedItemFontStyle;\n      selectedItem.font.isItalic = isFontStyleEnabled;\n\n      if (index > -1) {\n        formFieldsData[index].FormField.font.isItalic = isFontStyleEnabled;\n        this.pdfViewerBase.formFieldCollection[index].FormField.font.isItalic = isFontStyleEnabled;\n      }\n\n      this.pdfViewer.nameTable[selectedItem.id.split('_')[0]].font.isItalic = isFontStyleEnabled;\n    } else if (fontStyleType === 'underline') {\n      this.setDropdownFontStyleValue(inputElement, fontStyleType, fontStyleValue);\n      inputElement.style.textDecoration = fontStyleValue;\n      selectedItem.fontStyle = selectedItemFontStyle;\n      selectedItem.font.isUnderline = isFontStyleEnabled;\n\n      if (index > -1) {\n        formFieldsData[index].FormField.font.isUnderline = isFontStyleEnabled;\n        this.pdfViewerBase.formFieldCollection[index].FormField.font.isUnderline = isFontStyleEnabled;\n      }\n\n      this.pdfViewer.nameTable[selectedItem.id.split('_')[0]].font.isUnderline = isFontStyleEnabled;\n    } else if (fontStyleType === 'line-through') {\n      this.setDropdownFontStyleValue(inputElement, fontStyleType, fontStyleValue);\n      inputElement.style.textDecoration = fontStyleValue;\n      selectedItem.fontStyle = selectedItemFontStyle;\n      selectedItem.font.isStrikeout = isFontStyleEnabled;\n\n      if (index > -1) {\n        formFieldsData[index].FormField.font.isStrikeout = isFontStyleEnabled;\n        this.pdfViewerBase.formFieldCollection[index].FormField.font.isStrikeout = isFontStyleEnabled;\n      }\n\n      this.pdfViewer.nameTable[selectedItem.id.split('_')[0]].font.isStrikeout = isFontStyleEnabled;\n    }\n  };\n\n  FormDesigner.prototype.setDropdownFontStyleValue = function (dropdownElement, fontStyleType, value) {\n    if (dropdownElement.length > 0) {\n      for (var i = 0; i < dropdownElement.length; i++) {\n        if (fontStyleType === 'bold') {\n          dropdownElement[i].style.fontWeight = value;\n        } else if (fontStyleType === 'italic') {\n          dropdownElement[i].style.fontStyle = value;\n        } else if (fontStyleType === 'underline') {\n          dropdownElement[i].style.textDecoration = value;\n        } else if (fontStyleType === 'line-through') {\n          dropdownElement[i].style.textDecoration = value;\n        }\n      }\n    }\n  };\n  /**\n   * @private\n   */\n\n\n  FormDesigner.prototype.updateFormFieldPropertiesChanges = function (name, selectedItem, isValueChanged, isFontFamilyChanged, isFontSizeChanged, isFontStyleChanged, isColorChanged, isBackgroundColorChanged, isBorderColorChanged, isBorderWidthChanged, isAlignmentChanged, isReadOnlyChanged, isVisibilityChanged, isMaxLengthChanged, isRequiredChanged, isPrintChanged, isToolTipChanged, oldValue, newValue, isNamechanged, previousName) {\n    var field = {\n      name: selectedItem.name,\n      id: selectedItem.id,\n      value: selectedItem.value,\n      fontFamily: selectedItem.fontFamily,\n      fontSize: selectedItem.fontSize,\n      fontStyle: selectedItem.fontStyle,\n      color: selectedItem.color,\n      backgroundColor: selectedItem.backgroundColor,\n      alignment: selectedItem.alignment,\n      isReadonly: selectedItem.isReadonly,\n      visibility: selectedItem.visibility,\n      maxLength: selectedItem.maxLength,\n      isRequired: selectedItem.isRequired,\n      isPrint: selectedItem.isPrint,\n      rotation: selectedItem.rotateAngle,\n      tooltip: selectedItem.tooltip,\n      options: selectedItem.options,\n      isChecked: selectedItem.isChecked,\n      isSelected: selectedItem.isSelected,\n      previousName: previousName,\n      currentName: selectedItem.name\n    };\n    this.pdfViewer.fireFormFieldPropertiesChangeEvent(\"formFieldPropertiesChange\", field, selectedItem.pageIndex, isValueChanged, isFontFamilyChanged, isFontSizeChanged, isFontStyleChanged, isColorChanged, isBackgroundColorChanged, isBorderColorChanged, isBorderWidthChanged, isAlignmentChanged, isReadOnlyChanged, isVisibilityChanged, isMaxLengthChanged, isRequiredChanged, isPrintChanged, isToolTipChanged, oldValue, newValue, isNamechanged);\n  };\n\n  FormDesigner.prototype.onCancelClicked = function (args) {\n    this.propertiesDialog.hide();\n  };\n\n  FormDesigner.prototype.createAppearanceTab = function () {\n    var elementID = this.pdfViewer.element.id; // eslint-disable-next-line max-len\n\n    var appearanceDiv = createElement('div', {\n      id: elementID + '_properties_appearance'\n    });\n\n    if (this.pdfViewer.selectedItems.formFields[0].formFieldAnnotationType !== 'DropdownList' && this.pdfViewer.selectedItems.formFields[0].formFieldAnnotationType !== 'ListBox') {\n      appearanceDiv.style.height = '260px';\n    } else {\n      appearanceDiv.style.height = '336px';\n    }\n\n    var propertySpliter = createElement('div');\n    propertySpliter.className = 'e-pv-properties-header-spliter';\n    appearanceDiv.appendChild(propertySpliter);\n    var tabContainer = createElement('div', {\n      className: 'e-pv-properties-tab-style-prop'\n    });\n    appearanceDiv.appendChild(tabContainer); // <div style=\"/* border-color: red; *//* border-width: 2px; *//* background: red; *//* height: 1px; */width: 100%;position: absolute;padding-top: 35px;/* border-bottom-color: black; *//* border-bottom-width: 2px; *//* border: solid; */border-bottom-style: solid;border-bottom-width: 1px;left: 0;border-bottom-color: #E0E0E0;\"></div>\n\n    if (this.pdfViewer.selectedItems && (this.pdfViewer.selectedItems.formFields[0].formFieldAnnotationType === 'ListBox' || this.pdfViewer.selectedItems.formFields[0].formFieldAnnotationType === 'DropdownList')) {\n      // eslint-disable-next-line max-len\n      this.tabControl = new Tab({\n        items: [{\n          header: {\n            'text': '<div class=\"e-pv-form-field-property-header-general\"> ' + this.pdfViewer.localeObj.getConstant('General') + '</div>'\n          },\n          content: this.createGeneralProperties()\n        }, {\n          header: {\n            'text': '<div class=\"e-pv-form-field-property-header-general\"> ' + this.pdfViewer.localeObj.getConstant('Appearance') + '</div>'\n          },\n          content: this.createAppearanceProperties()\n        }, {\n          header: {\n            'text': '<div class=\"e-pv-form-field-property-header-general\"> ' + this.pdfViewer.localeObj.getConstant('Options') + '</div>'\n          },\n          content: this.createOptionProperties()\n        }]\n      }, tabContainer);\n    } else if (this.pdfViewer.selectedItems && (this.pdfViewer.selectedItems.formFields[0].formFieldAnnotationType === 'SignatureField' || this.pdfViewer.selectedItems.formFields[0].formFieldAnnotationType === 'InitialField')) {\n      // eslint-disable-next-line max-len\n      this.tabControl = new Tab({\n        items: [{\n          header: {\n            'text': '<div class=\"e-pv-form-field-property-header-general\"> ' + this.pdfViewer.localeObj.getConstant('General') + '</div>'\n          },\n          content: this.createGeneralProperties()\n        }]\n      }, tabContainer);\n    } else {\n      // eslint-disable-next-line max-len\n      this.tabControl = new Tab({\n        items: [{\n          header: {\n            'text': '<div class=\"e-pv-form-field-property-header-general\"> ' + this.pdfViewer.localeObj.getConstant('General') + '</div>'\n          },\n          content: this.createGeneralProperties()\n        }, {\n          header: {\n            'text': '<div class=\"e-pv-form-field-property-header-general\"> ' + this.pdfViewer.localeObj.getConstant('Appearance') + '</div>'\n          },\n          content: this.createAppearanceProperties()\n        }]\n      }, tabContainer);\n    }\n\n    tabContainer.children[1].style.height = '100%';\n    return appearanceDiv;\n  };\n\n  FormDesigner.prototype.createGeneralProperties = function () {\n    var selectedItem = this.pdfViewer.selectedItems.formFields ? this.pdfViewer.selectedItems.formFields[0] : null;\n    var visibilityItems = ['visible', 'hidden']; // eslint-disable-next-line max-len\n\n    var elementID = this.pdfViewer.element.id;\n    var generalPropertiesDiv = createElement('div', {\n      id: elementID + '_general_prop_appearance'\n    });\n    var textStyleContainer = createElement('div', {\n      className: 'e-pv-properties-text-edit-prop'\n    });\n    generalPropertiesDiv.appendChild(textStyleContainer);\n    var formFieldNameMainDiv = createElement('div', {\n      className: 'e-pv-properties-form-field-name-main-div'\n    }); // eslint-disable-next-line max-len\n\n    var formFieldNameDiv = createElement('div', {\n      className: 'e-pv-properties-name-edit-prop'\n    });\n    var formFieldNameContainer = createElement('input', {\n      className: 'e-pv-properties-name-edit-input e-input'\n    });\n    formFieldNameDiv.appendChild(formFieldNameContainer);\n    formFieldNameMainDiv.appendChild(formFieldNameDiv); // eslint-disable-next-line max-len\n\n    this.formFieldName = new TextBox({\n      type: \"text\",\n      floatLabelType: 'Always',\n      placeholder: this.pdfViewer.localeObj.getConstant('Name'),\n      value: selectedItem.name,\n      cssClass: 'e-pv-properties-formfield-name'\n    }, formFieldNameContainer);\n    textStyleContainer.appendChild(formFieldNameMainDiv);\n    var formFieldTooltipMainDiv = createElement('div', {\n      className: 'e-pv-properties-form-field-tooltip-main-div'\n    });\n    var formFieldTooltipDiv = createElement('div', {\n      className: 'e-pv-properties-tooltip-edit-prop'\n    });\n    var formFieldTooltipContainer = createElement('input', {\n      className: 'e-pv-properties-tooltip-prop-input e-input'\n    });\n    formFieldTooltipDiv.appendChild(formFieldTooltipContainer);\n    formFieldTooltipMainDiv.appendChild(formFieldTooltipDiv); // eslint-disable-next-line max-len\n\n    this.formFieldTooltip = new TextBox({\n      type: \"text\",\n      floatLabelType: 'Always',\n      placeholder: this.pdfViewer.localeObj.getConstant('Tooltip'),\n      value: selectedItem.tooltip,\n      cssClass: 'e-pv-properties-formfield-tooltip'\n    }, formFieldTooltipContainer);\n    textStyleContainer.appendChild(formFieldTooltipMainDiv);\n    var visibilityContainer = createElement('div', {\n      className: 'e-pv-properties-visibility-style-prop'\n    });\n    generalPropertiesDiv.appendChild(visibilityContainer);\n    var formFieldValueMainDiv = createElement('div', {\n      className: 'e-pv-properties-form-field-value-main-div'\n    });\n    var formFieldValueDiv = createElement('div', {\n      className: 'e-pv-properties-value-edit-prop'\n    });\n    var formFieldValueContainer = createElement('input', {\n      className: 'e-pv-properties-value-input e-input'\n    });\n    formFieldValueDiv.appendChild(formFieldValueContainer);\n    formFieldValueMainDiv.appendChild(formFieldValueDiv); // eslint-disable-next-line max-len\n\n    this.formFieldValue = new TextBox({\n      type: \"text\",\n      floatLabelType: 'Always',\n      placeholder: this.pdfViewer.localeObj.getConstant('Value'),\n      value: selectedItem.value,\n      cssClass: 'e-pv-properties-formfield-value'\n    }, formFieldValueContainer);\n\n    if (this.pdfViewer.selectedItems.formFields[0].formFieldAnnotationType !== 'Textbox') {\n      this.formFieldValue.enabled = false;\n      this.formFieldValue.value = '';\n    }\n\n    visibilityContainer.appendChild(formFieldValueMainDiv);\n    var formFieldVisibilityMainDiv = createElement('div', {\n      className: 'e-pv-properties-form-field-visibility-main-div'\n    });\n    var formFieldVisibilityDiv = createElement('div', {\n      className: 'e-pv-properties-visibility-edit-prop'\n    });\n    var formFieldVisibilityContainer = createElement('div', {\n      className: 'e-pv-properties-formfield-visibility'\n    });\n    formFieldVisibilityDiv.appendChild(formFieldVisibilityContainer);\n    formFieldVisibilityMainDiv.appendChild(formFieldVisibilityDiv);\n    var selectedIndex = selectedItem.visibility === 'visible' ? 0 : 1;\n    this.formFieldVisibility = new DropDownList({\n      dataSource: visibilityItems,\n      floatLabelType: 'Always',\n      index: selectedIndex,\n      value: selectedItem.visibility,\n      placeholder: this.pdfViewer.localeObj.getConstant('Form Field Visibility'),\n      cssClass: 'e-pv-properties-formfield-visibility'\n    }, formFieldVisibilityContainer);\n    visibilityContainer.appendChild(formFieldVisibilityMainDiv);\n    var checkboxMainDiv = createElement('div', {\n      className: 'e-pv-properties-checkbox-main-div-prop'\n    });\n    var readOnly = createElement('input', {\n      className: 'e-pv-properties-checkbox-readonly-input e-input'\n    });\n    checkboxMainDiv.appendChild(readOnly);\n    this.formFieldReadOnly = new CheckBox({\n      label: this.pdfViewer.localeObj.getConstant('Read Only'),\n      checked: selectedItem.isReadonly,\n      cssClass: 'e-pv-properties-form-field-checkbox'\n    }, readOnly);\n\n    if (this.pdfViewer.selectedItems.formFields[0].formFieldAnnotationType === 'Checkbox' || this.pdfViewer.selectedItems.formFields[0].formFieldAnnotationType === 'RadioButton') {\n      var checkedState = createElement('input', {\n        className: 'e-pv-properties-checkbox-checked-input e-input'\n      });\n      checkboxMainDiv.appendChild(checkedState);\n      this.formFieldChecked = new CheckBox({\n        label: this.pdfViewer.localeObj.getConstant('Checked'),\n        cssClass: 'e-pv-properties-form-field-checkbox',\n        checked: selectedItem.isChecked || selectedItem.isSelected,\n        change: this.checkBoxChange.bind(this)\n      }, checkedState);\n    }\n\n    var required = createElement('input', {\n      className: 'e-pv-properties-checkbox-required-input e-input'\n    });\n    checkboxMainDiv.appendChild(required);\n    this.formFieldRequired = new CheckBox({\n      label: this.pdfViewer.localeObj.getConstant('Required'),\n      checked: selectedItem.isRequired,\n      cssClass: 'e-pv-properties-form-field-checkbox'\n    }, required);\n    var showPrinting = createElement('input', {\n      className: 'e-pv-properties-checkbox-printing-input e-input'\n    });\n    checkboxMainDiv.appendChild(showPrinting);\n    this.formFieldPrinting = new CheckBox({\n      label: this.pdfViewer.localeObj.getConstant('Show Printing'),\n      checked: selectedItem.isPrint,\n      cssClass: 'e-pv-properties-form-field-checkbox'\n    }, showPrinting);\n\n    if (selectedItem.formFieldAnnotationType === 'Textbox') {\n      var multilineTextbox = createElement('input', {\n        className: 'e-pv-properties-checkbox-multiline-input e-input'\n      });\n      checkboxMainDiv.appendChild(multilineTextbox);\n      this.formFieldMultiline = new CheckBox({\n        label: this.pdfViewer.localeObj.getConstant('Multiline'),\n        checked: selectedItem.isMultiline,\n        cssClass: 'e-pv-properties-form-field-checkbox',\n        change: this.multilineCheckboxChange.bind(this)\n      }, multilineTextbox);\n    }\n\n    generalPropertiesDiv.appendChild(checkboxMainDiv);\n    return generalPropertiesDiv;\n  };\n\n  FormDesigner.prototype.checkBoxChange = function (args) {\n    this.checkboxCheckedState = args.checked;\n  };\n\n  FormDesigner.prototype.multilineCheckboxChange = function (args) {\n    this.multilineCheckboxCheckedState = true;\n  };\n\n  FormDesigner.prototype.setToolTip = function (tooltipContent, targetElement) {\n    //initialize tooltip component\n    var tooltip = new Tooltip({\n      content: tooltipContent\n    }); // render initialized tooltip\n\n    tooltip.appendTo(targetElement);\n    tooltip.beforeOpen = this.tooltipBeforeOpen.bind(this);\n  };\n\n  FormDesigner.prototype.tooltipBeforeOpen = function (args) {\n    var currentFormField = this.pdfViewer.nameTable[args.target.id.split('_')[0]];\n\n    if (!isNullOrUndefined(currentFormField)) {\n      args.element.children[0].innerHTML = currentFormField.tooltip;\n    }\n  };\n\n  FormDesigner.prototype.createAppearanceProperties = function () {\n    var selectedItem = this.pdfViewer.selectedItems.formFields ? this.pdfViewer.selectedItems.formFields[0] : null;\n    var fontFamilyItems = ['Helvetica', 'Courier', 'Times New Roman', 'Symbol', 'ZapfDingbats'];\n    var fontSizeItems = ['6px', '8px', '10px', '12px', '14px', '16px', '18px', '20px', '24px', '28px', '32px', '36px', '40px'];\n    var elementID = this.pdfViewer.element.id;\n    var appearancePropertiesDiv = createElement('div', {\n      id: elementID + '_formatting_text_prop_appearance'\n    });\n    var formatTextStyleContainer = createElement('div', {\n      className: 'e-pv-properties-format-text-style-prop'\n    });\n    appearancePropertiesDiv.appendChild(formatTextStyleContainer);\n    this.createLabelElement(this.pdfViewer.localeObj.getConstant('Formatting'), formatTextStyleContainer, true, 'e-pv-properties-formfield-label', elementID + '_properties_formfield_formatting');\n    var fontItemsContainer = createElement('div', {\n      className: 'e-pv-properties-font-items-container'\n    });\n    var fontFamilyDropdownContainer = createElement('div', {\n      className: 'e-pv-properties-font-family-container'\n    });\n    var formatdropdownContainer = createElement('div', {\n      className: 'e-pv-properties-format-font-family-prop'\n    });\n    fontFamilyDropdownContainer.appendChild(formatdropdownContainer);\n    fontItemsContainer.appendChild(fontFamilyDropdownContainer);\n    this.formFieldFontFamily = new DropDownList({\n      dataSource: fontFamilyItems,\n      value: this.getFontFamily(selectedItem.fontFamily) ? selectedItem.fontFamily : 'Helvetica',\n      cssClass: 'e-pv-properties-formfield-fontfamily'\n    }, formatdropdownContainer);\n    this.setToolTip(this.pdfViewer.localeObj.getConstant('Font family'), fontFamilyDropdownContainer);\n    var fontSizeContainer = createElement('div', {\n      className: 'e-pv-properties-font-size-container'\n    });\n    var fontSizeDropdownContainer = createElement('div', {\n      className: 'e-pv-properties-format-font-family-prop'\n    });\n    fontSizeContainer.appendChild(fontSizeDropdownContainer);\n    fontItemsContainer.appendChild(fontSizeContainer);\n    this.formFieldFontSize = new DropDownList({\n      dataSource: fontSizeItems,\n      value: selectedItem.fontSize + 'px',\n      cssClass: 'e-pv-properties-formfield-fontsize'\n    }, fontSizeDropdownContainer);\n    this.setToolTip(this.pdfViewer.localeObj.getConstant('Font size'), fontSizeContainer);\n    var fontStyleContainer = createElement('div', {\n      className: 'e-pv-properties-form-field-font-style'\n    });\n    fontStyleContainer.onclick = this.fontStyleClicked.bind(this);\n    fontStyleContainer.appendChild(this.addClassFontItem('_formField_bold', 'e-pv-bold-icon', selectedItem.font.isBold));\n    fontStyleContainer.appendChild(this.addClassFontItem('_formField_italic', 'e-pv-italic-icon', selectedItem.font.isItalic));\n    fontStyleContainer.appendChild(this.addClassFontItem('_formField_underline_textinput', 'e-pv-underlinetext-icon', selectedItem.font.isUnderline)); // eslint-disable-next-line max-len\n\n    fontStyleContainer.appendChild(this.addClassFontItem('_formField_strikeout', 'e-pv-strikeout-icon', selectedItem.font.isStrikeout));\n    fontItemsContainer.appendChild(fontStyleContainer);\n    this.getFontStyle(selectedItem.font);\n    appearancePropertiesDiv.appendChild(fontItemsContainer);\n    var fontColorContainer = createElement('div', {\n      className: 'e-pv-properties-font-color-container'\n    });\n    var fontAlignContainer = createElement('div', {\n      className: 'e-pv-properties-form-field-font-align'\n    });\n    fontAlignContainer.onclick = this.fontAlignClicked.bind(this);\n    var alignment = selectedItem.alignment.toLowerCase();\n    fontAlignContainer.appendChild(this.addClassFontItem('_formField_left_align', 'e-pv-left-align-icon', alignment === 'left' ? true : false));\n    fontAlignContainer.appendChild(this.addClassFontItem('_formField_center_align', 'e-pv-center-align-icon', alignment === 'center' ? true : false));\n    fontAlignContainer.appendChild(this.addClassFontItem('_formField_right_align', 'e-pv-right-align-icon', alignment === 'right' ? true : false));\n    this.getAlignment(alignment);\n    fontColorContainer.appendChild(fontAlignContainer);\n    this.fontColorElement = createElement('div', {\n      className: 'e-pv-formfield-textcolor-icon',\n      id: this.pdfViewer.element.id + 'formField_textColor'\n    });\n    this.fontColorPalette = this.createColorPicker(this.fontColorElement.id, selectedItem.color);\n    selectedItem.color !== 'black' ? this.fontColorValue = selectedItem.color : null;\n    this.fontColorPalette.change = this.onFontColorChange.bind(this);\n    this.fontColorDropDown = this.createDropDownButton(this.fontColorElement, 'e-pv-annotation-textcolor-icon', this.fontColorPalette.element.parentElement);\n    fontColorContainer.appendChild(this.fontColorElement);\n    this.setToolTip(this.pdfViewer.localeObj.getConstant('Font color'), this.fontColorDropDown.element);\n    this.updateColorInIcon(this.fontColorElement, this.pdfViewer.selectedItems.formFields[0].color);\n\n    if (selectedItem.formFieldAnnotationType === 'Checkbox' || selectedItem.formFieldAnnotationType === 'RadioButton') {\n      this.fontColorPalette.disabled = true;\n      this.fontColorDropDown.disabled = true;\n      this.fontColorElement.style.pointerEvents = 'none';\n      this.fontColorElement.style.opacity = '0.5';\n      fontAlignContainer.style.pointerEvents = 'none';\n      fontAlignContainer.style.opacity = '0.5';\n      this.formFieldFontSize.enabled = false;\n      this.formFieldFontFamily.enabled = false;\n      fontFamilyDropdownContainer.style.pointerEvents = 'none';\n      fontSizeContainer.style.pointerEvents = 'none';\n      fontStyleContainer.style.pointerEvents = 'none';\n      fontStyleContainer.style.opacity = '0.5';\n    }\n\n    var maxLengthGroup = createElement('div', {\n      className: 'e-pv-formfield-maxlength-group',\n      id: this.pdfViewer.element.id + 'formField_maxlength_group'\n    });\n    var maxLengthContainer = createElement('div', {\n      className: 'e-pv-formfield-maxlength-icon',\n      id: this.pdfViewer.element.id + 'formField_maxlength'\n    });\n    maxLengthGroup.appendChild(maxLengthContainer);\n    this.createLabelElement(this.pdfViewer.localeObj.getConstant('Max Length'), maxLengthContainer, true, 'e-pv-properties-formfield-label', elementID + '_properties_formfield_maxlength');\n    var maxLengthDropdownContainer = createElement('div', {\n      className: 'e-pv-formfield-maxlength',\n      id: this.pdfViewer.element.id + 'formField_maxlength_container'\n    });\n    var maxLengthItemDropdown = createElement('input', {\n      className: 'e-pv-formfield-maxlength-input e-input'\n    });\n    maxLengthDropdownContainer.appendChild(maxLengthItemDropdown);\n    maxLengthGroup.appendChild(maxLengthDropdownContainer); // Render the Numeric Textbox\n\n    this.maxLengthItem = new NumericTextBox({\n      format: 'n',\n      value: selectedItem.maxLength !== 0 ? selectedItem.maxLength : 0,\n      min: 0\n    }, maxLengthItemDropdown);\n    fontColorContainer.appendChild(maxLengthGroup);\n    this.setToolTip(this.pdfViewer.localeObj.getConstant('Max Length'), this.maxLengthItem.element);\n\n    if (selectedItem.formFieldAnnotationType !== 'Textbox' && selectedItem.formFieldAnnotationType !== 'PasswordField') {\n      this.maxLengthItem.enabled = false;\n      maxLengthContainer.style.pointerEvents = 'none';\n    }\n\n    appearancePropertiesDiv.appendChild(fontColorContainer);\n    var colorContainer = createElement('div', {\n      className: 'e-pv-properties-color-container-style-prop'\n    });\n    var backgroundColorContainer = createElement('div', {\n      className: 'e-pv-properties-fill-color-style-prop'\n    });\n    appearancePropertiesDiv.appendChild(backgroundColorContainer);\n    this.createLabelElement(this.pdfViewer.localeObj.getConstant('Fill'), backgroundColorContainer, true, 'e-pv-properties-formfield-label', elementID + '_properties_formfield_fontcolor');\n    this.colorDropDownElement = createElement('div', {\n      className: 'e-pv-formfield-fontcolor-icon',\n      id: this.pdfViewer.element.id + 'formField_fontColor'\n    });\n    this.colorPalette = this.createColorPicker(this.colorDropDownElement.id, selectedItem.backgroundColor);\n    this.colorPalette.change = this.onColorPickerChange.bind(this); // eslint-disable-next-line max-len\n\n    this.colorDropDown = this.createDropDownButton(this.colorDropDownElement, 'e-pv-annotation-color-icon', this.colorPalette.element.parentElement);\n    this.setToolTip(this.pdfViewer.localeObj.getConstant('Fill Color'), this.colorDropDown.element);\n    backgroundColorContainer.appendChild(this.colorDropDownElement);\n    colorContainer.appendChild(backgroundColorContainer);\n    this.updateColorInIcon(this.colorDropDownElement, this.pdfViewer.selectedItems.formFields[0].backgroundColor);\n    var strokeColorContainer = createElement('div', {\n      className: 'e-pv-properties-stroke-color-style-prop'\n    });\n    this.createLabelElement(this.pdfViewer.localeObj.getConstant('Border'), strokeColorContainer, true, 'e-pv-properties-formfield-label', elementID + '_properties_formfield_strokecolor');\n    this.strokeDropDownElement = createElement('div', {\n      className: 'e-pv-formfield-strokecolor-icon',\n      id: this.pdfViewer.element.id + 'formField_strokeColor'\n    });\n    this.strokeColorPicker = this.createColorPicker(this.strokeDropDownElement.id, selectedItem.borderColor);\n    this.strokeColorPicker.change = this.onStrokePickerChange.bind(this); // eslint-disable-next-line max-len\n\n    this.strokeDropDown = this.createDropDownButton(this.strokeDropDownElement, 'e-pv-annotation-stroke-icon', this.strokeColorPicker.element.parentElement);\n    this.setToolTip(this.pdfViewer.localeObj.getConstant('Border Color'), this.strokeDropDown.element);\n    strokeColorContainer.appendChild(this.strokeDropDownElement);\n    colorContainer.appendChild(strokeColorContainer);\n    this.updateColorInIcon(this.strokeDropDownElement, this.pdfViewer.selectedItems.formFields[0].borderColor);\n    var strokeThicknessContainer = createElement('div', {\n      className: 'e-pv-properties-stroke-thickness-style-prop'\n    });\n    this.createLabelElement(this.pdfViewer.localeObj.getConstant('Thickness'), strokeThicknessContainer, true, 'e-pv-properties-formfield-label', elementID + '_properties_formfield_strokethickness');\n    this.thicknessElement = createElement('div', {\n      className: 'e-pv-formfield-strokethickness-icon',\n      id: this.pdfViewer.element.id + 'formField_strokethickness'\n    });\n    ;\n    var thicknessContainer = this.createThicknessSlider(this.thicknessElement.id); // eslint-disable-next-line max-len\n\n    this.thicknessDropDown = this.createDropDownButton(this.thicknessElement, 'e-pv-annotation-thickness-icon', thicknessContainer);\n    this.thicknessDropDown.beforeOpen = this.thicknessDropDownBeforeOpen.bind(this);\n    this.setToolTip(this.pdfViewer.localeObj.getConstant('Thickness'), this.thicknessDropDown.element);\n    this.thicknessSlider.change = this.thicknessChange.bind(this);\n    this.thicknessSlider.changed = this.thicknessChange.bind(this);\n    strokeThicknessContainer.appendChild(this.thicknessElement);\n    colorContainer.appendChild(strokeThicknessContainer);\n    appearancePropertiesDiv.appendChild(colorContainer);\n    return appearancePropertiesDiv;\n  };\n\n  FormDesigner.prototype.thicknessChange = function (args) {\n    if (this.pdfViewer.selectedItems.formFields.length === 1) {\n      this.formFieldBorderWidth = args.value;\n      this.updateThicknessIndicator();\n    }\n  };\n\n  FormDesigner.prototype.thicknessDropDownBeforeOpen = function () {\n    if (this.pdfViewer.selectedItems.formFields.length === 1) {\n      this.formFieldBorderWidth = this.pdfViewer.selectedItems.formFields[0].thickness.toString();\n      this.thicknessSlider.value = this.pdfViewer.selectedItems.formFields[0].thickness;\n    }\n\n    this.updateThicknessIndicator();\n  };\n\n  FormDesigner.prototype.updateThicknessIndicator = function () {\n    this.thicknessIndicator.textContent = this.thicknessSlider.value + ' pt';\n  };\n\n  FormDesigner.prototype.createOptionProperties = function () {\n    var _this = this;\n\n    var elementID = this.pdfViewer.element.id;\n    var optionPropertiesDiv = createElement('div', {\n      id: elementID + '_option_prop_appearance'\n    });\n    var listItemAddContainer = createElement('div', {\n      className: 'e-pv-properties-form-field-list-add-div'\n    });\n    var formFieldListItemMainDiv = createElement('div', {\n      className: 'e-pv-properties-form-field-list-item-main-div'\n    }); // eslint-disable-next-line max-len\n\n    this.createLabelElement(this.pdfViewer.localeObj.getConstant('List Item'), formFieldListItemMainDiv, true, 'e-pv-properties-formfield-label', elementID + '_properties_formfield_listitem');\n    var formFieldListItemDiv = createElement('div', {\n      className: 'e-pv-properties-list-item-edit-prop'\n    });\n    var formFieldListItemContainer = createElement('input', {\n      className: 'e-pv-properties-list-item-input e-input'\n    });\n    formFieldListItemContainer.addEventListener('keyup', function (args) {\n      _this.formFieldAddButton.disabled = true;\n      _this.formFieldListItem.value = args.target.value;\n\n      if (args.target && args.target.value) {\n        if (_this.formFieldListItemCollection.length > 0) {\n          for (var i = 0; i < _this.formFieldListItemCollection.length; i++) {\n            var itemName = _this.formFieldListItemCollection[i];\n\n            if (itemName === args.target.value) {\n              _this.formFieldAddButton.disabled = true;\n              break;\n            } else {\n              _this.formFieldAddButton.disabled = false;\n            }\n          }\n        } else {\n          _this.formFieldAddButton.disabled = false;\n        }\n      }\n    });\n    formFieldListItemDiv.appendChild(formFieldListItemContainer);\n    formFieldListItemMainDiv.appendChild(formFieldListItemDiv); // eslint-disable-next-line max-len\n\n    this.formFieldListItem = new TextBox({\n      type: \"text\",\n      cssClass: 'e-pv-properties-formfield-listitem'\n    }, formFieldListItemContainer);\n    listItemAddContainer.appendChild(formFieldListItemMainDiv);\n    optionPropertiesDiv.appendChild(listItemAddContainer);\n    var buttonDiv = createElement('div', {\n      className: 'e-pv-properties-form-field-list-btn-div'\n    });\n    var buttonAddInput = createElement('button', {\n      className: 'e-btn'\n    });\n    buttonAddInput.addEventListener('click', this.addListItemOnClick.bind(this));\n    buttonDiv.appendChild(buttonAddInput);\n    this.formFieldAddButton = new Button({\n      content: this.pdfViewer.localeObj.getConstant('Add'),\n      disabled: true,\n      cssClass: 'e-pv-properties-dropdown-btn'\n    }, buttonAddInput);\n    listItemAddContainer.appendChild(buttonDiv);\n    var exportValueContainer = createElement('div', {\n      className: 'e-pv-properties-form-field-export-value-div'\n    });\n    var formFieldexportValueMainDiv = createElement('div', {\n      className: 'e-pv-properties-form-field-export-value-main-div'\n    });\n    this.createLabelElement(this.pdfViewer.localeObj.getConstant('Export Value'), formFieldexportValueMainDiv, true, 'e-pv-properties-formfield-label', elementID + '_properties_formfield_exportValue');\n    var formFieldExportItemDiv = createElement('div', {\n      className: 'e-pv-properties-export-value-edit-prop'\n    });\n    var formFieldExportItemContainer = createElement('input', {\n      className: 'e-pv-properties-export-value-input e-input'\n    });\n    formFieldExportItemDiv.appendChild(formFieldExportItemContainer);\n    formFieldexportValueMainDiv.appendChild(formFieldExportItemDiv); // eslint-disable-next-line max-len\n\n    this.formFieldListItem = new TextBox({\n      type: \"text\",\n      cssClass: 'e-pv-properties-formfield-exportvalue'\n    }, formFieldExportItemContainer);\n    exportValueContainer.appendChild(formFieldexportValueMainDiv);\n    optionPropertiesDiv.appendChild(exportValueContainer);\n    var dropdownListItemContainer = createElement('div', {\n      className: 'e-pv-properties-form-field-option-dropdown-list-div'\n    });\n    var formFieldDropdownListMainDiv = createElement('div', {\n      className: 'e-pv-properties-form-field-option-dropdown-list-item-div'\n    });\n    var selectedElement = this.pdfViewer.selectedItems.formFields[0];\n\n    if (selectedElement.formFieldAnnotationType === 'DropdownList') {\n      // eslint-disable-next-line max-len\n      this.createLabelElement(this.pdfViewer.localeObj.getConstant('Dropdown Item List'), formFieldDropdownListMainDiv, true, 'e-pv-properties-formfield-label', elementID + '_properties_formfield_dropdown_listitem');\n    } else {\n      // eslint-disable-next-line max-len\n      this.createLabelElement(this.pdfViewer.localeObj.getConstant('List Box Item List'), formFieldDropdownListMainDiv, true, 'e-pv-properties-formfield-label', elementID + '_properties_formfield_dropdown_listitem');\n    }\n\n    dropdownListItemContainer.appendChild(formFieldDropdownListMainDiv);\n    var btnTextAreaContainer = createElement('div', {\n      className: 'e-pv-properties-form-field-btn-textarea-container'\n    });\n    var textAreaContainer = createElement('div', {\n      className: 'e-pv-properties-formfield-textarea',\n      styles: 'width:300px;height:123px;border:1px solid #E0E0E0;margin-right:15px;overflow:auto'\n    });\n    var listElement = createElement('ul', {\n      id: this.pdfViewer.element.id + '_ul_list_item',\n      className: 'e-pv-form-designer-ul-list-items'\n    });\n    var listCount = this.createListElement(listElement);\n    textAreaContainer.appendChild(listElement);\n    btnTextAreaContainer.appendChild(textAreaContainer);\n    var buttonGroup = createElement('div', {\n      className: 'e-pv-properties-form-field-group-btn-div'\n    });\n    var deleteButtonDiv = createElement('div', {\n      className: 'e-pv-properties-form-field-delete-btn-div'\n    });\n    var buttonDeleteInput = createElement('button', {\n      className: 'e-btn'\n    });\n    buttonDeleteInput.addEventListener('click', this.deleteListItem.bind(this));\n    deleteButtonDiv.appendChild(buttonDeleteInput);\n    this.formFieldDeleteButton = new Button({\n      content: this.pdfViewer.localeObj.getConstant('Delete Item'),\n      disabled: listCount > 0 ? false : true,\n      cssClass: 'e-pv-properties-dropdown-btn'\n    }, buttonDeleteInput);\n    buttonGroup.appendChild(deleteButtonDiv);\n    var upButtonDiv = createElement('div', {\n      className: 'e-pv-properties-form-field-up-btn-div'\n    });\n    var buttonUpInput = createElement('button', {\n      className: 'e-btn'\n    });\n    buttonUpInput.addEventListener('click', this.moveUpListItem.bind(this));\n    upButtonDiv.appendChild(buttonUpInput);\n    this.formFieldUpButton = new Button({\n      content: this.pdfViewer.localeObj.getConstant('Up'),\n      disabled: listCount > 1 ? false : true,\n      cssClass: 'e-pv-properties-dropdown-btn'\n    }, buttonUpInput);\n    buttonGroup.appendChild(upButtonDiv);\n    var downButtonDiv = createElement('div', {\n      className: 'e-pv-properties-form-field-down-btn-div'\n    });\n    var buttonDownInput = createElement('button', {\n      className: 'e-btn'\n    });\n    buttonDownInput.addEventListener('click', this.moveDownListItem.bind(this));\n    downButtonDiv.appendChild(buttonDownInput);\n    this.formFieldDownButton = new Button({\n      content: this.pdfViewer.localeObj.getConstant('Down'),\n      disabled: true,\n      cssClass: 'e-pv-properties-dropdown-btn'\n    }, buttonDownInput);\n    buttonGroup.appendChild(downButtonDiv);\n    btnTextAreaContainer.appendChild(buttonGroup);\n    dropdownListItemContainer.appendChild(btnTextAreaContainer);\n    optionPropertiesDiv.appendChild(dropdownListItemContainer);\n    return optionPropertiesDiv;\n  };\n\n  FormDesigner.prototype.addListItemOnClick = function () {\n    var dropdownValue = this.formFieldListItem.value;\n    this.formFieldListItemCollection.push(dropdownValue);\n    var ulElement = document.getElementById(this.pdfViewer.element.id + '_ul_list_item');\n\n    if (ulElement.children && ulElement.children.length > 0) {\n      for (var i = 0; i < ulElement.children.length; i++) {\n        var element = ulElement.children[i];\n\n        if (element.classList.contains('e-pv-li-select')) {\n          element.classList.remove('e-pv-li-select');\n        }\n      }\n    }\n\n    var createLiElement = createElement('li', {\n      className: 'e-pv-formfield-li-element'\n    });\n    createLiElement.addEventListener('click', this.listItemOnClick.bind(this));\n    createLiElement.innerHTML = dropdownValue;\n    createLiElement.classList.add('e-pv-li-select');\n    ulElement.appendChild(createLiElement);\n    this.formFieldDeleteButton.disabled = false;\n    this.formFieldAddButton.disabled = true;\n\n    if (createLiElement.previousElementSibling) {\n      this.formFieldUpButton.disabled = false;\n    }\n\n    if (!createLiElement.nextElementSibling) {\n      this.formFieldDownButton.disabled = true;\n    }\n  };\n\n  FormDesigner.prototype.listItemOnClick = function (args) {\n    var ulElement = document.getElementById(this.pdfViewer.element.id + '_ul_list_item');\n\n    if (ulElement.children && ulElement.children.length > 0) {\n      for (var i = 0; i < ulElement.children.length; i++) {\n        var element = ulElement.children[i];\n\n        if (element.classList.contains('e-pv-li-select')) {\n          element.classList.remove('e-pv-li-select');\n        }\n      }\n    }\n\n    if (args.target) {\n      args.target.classList.add('e-pv-li-select');\n    }\n\n    if (args.target.nextElementSibling) {\n      this.formFieldDownButton.disabled = false;\n    } else {\n      this.formFieldDownButton.disabled = true;\n    }\n\n    if (args.target.previousElementSibling) {\n      this.formFieldUpButton.disabled = false;\n    } else {\n      this.formFieldUpButton.disabled = true;\n    }\n  };\n\n  FormDesigner.prototype.deleteListItem = function () {\n    var ulElement = document.getElementById(this.pdfViewer.element.id + '_ul_list_item');\n\n    if (ulElement.children && ulElement.children.length > 0) {\n      for (var i = 0; i < ulElement.children.length; i++) {\n        var element = ulElement.children[i];\n\n        if (element.classList.contains('e-pv-li-select')) {\n          element.classList.remove('e-pv-li-select');\n          this.formFieldListItemCollection.splice(i, 1);\n\n          if (element.previousElementSibling) {\n            element.previousElementSibling.classList.add('e-pv-li-select');\n\n            if (!element.previousElementSibling.previousElementSibling) {\n              this.formFieldUpButton.disabled = true;\n            }\n          } else if (element.nextElementSibling) {\n            element.nextElementSibling.classList.add('e-pv-li-select');\n\n            if (!element.nextElementSibling.nextElementSibling) {\n              this.formFieldDownButton.disabled = true;\n            }\n          }\n\n          element.remove();\n        }\n      }\n    }\n\n    if (ulElement.children && ulElement.children.length === 0) {\n      this.formFieldDeleteButton.disabled = true;\n      this.formFieldUpButton.disabled = true;\n      this.formFieldDownButton.disabled = true;\n    }\n\n    if (ulElement.children && ulElement.children.length === 1) {\n      this.formFieldDeleteButton.disabled = false;\n      this.formFieldUpButton.disabled = true;\n      this.formFieldDownButton.disabled = true;\n    }\n  };\n\n  FormDesigner.prototype.moveUpListItem = function () {\n    var ulElement = document.getElementById(this.pdfViewer.element.id + '_ul_list_item');\n\n    if (ulElement.children && ulElement.children.length > 0) {\n      for (var i = 0; i < ulElement.children.length; i++) {\n        var element = ulElement.children[i];\n\n        if (element.classList.contains('e-pv-li-select')) {\n          if (element.previousElementSibling) {\n            element.parentNode.insertBefore(element, element.previousElementSibling);\n            if (!element.previousElementSibling) this.formFieldUpButton.disabled = true;\n          } else {\n            this.formFieldUpButton.disabled = true;\n          }\n\n          if (element.nextElementSibling) {\n            this.formFieldDownButton.disabled = false;\n          }\n        }\n      }\n    }\n  };\n\n  FormDesigner.prototype.moveDownListItem = function () {\n    var element;\n    var ulElement = document.getElementById(this.pdfViewer.element.id + '_ul_list_item');\n\n    if (ulElement.children && ulElement.children.length > 0) {\n      for (var i = 0; i < ulElement.children.length; i++) {\n        element = ulElement.children[i];\n\n        if (element.classList.contains('e-pv-li-select')) {\n          if (element.nextElementSibling) {\n            element.parentNode.insertBefore(element.nextElementSibling, element);\n            break;\n          } else {\n            this.formFieldDownButton.disabled = true;\n          }\n        }\n      }\n    }\n\n    if (!element.nextElementSibling) {\n      this.formFieldDownButton.disabled = true;\n    }\n\n    if (element.previousElementSibling) {\n      this.formFieldUpButton.disabled = false;\n    }\n  };\n\n  FormDesigner.prototype.createListElement = function (ulElement) {\n    var selectedElement = this.pdfViewer.selectedItems.formFields[0];\n\n    if (selectedElement) {\n      if (selectedElement.options && selectedElement.options.length > 0) {\n        for (var i = 0; i < selectedElement.options.length; i++) {\n          var dropdownValue = selectedElement.options[i].itemName;\n\n          if (this.formFieldListItemCollection[i] !== selectedElement.options[i].itemName) {\n            this.formFieldListItemCollection.push(dropdownValue);\n            var createLiElement = createElement('li', {\n              className: 'e-pv-formfield-li-element'\n            });\n            createLiElement.addEventListener('click', this.listItemOnClick.bind(this));\n            createLiElement.innerHTML = dropdownValue;\n            ulElement.appendChild(createLiElement);\n          }\n        }\n\n        ulElement.children[ulElement.children.length - 1].classList.add('e-pv-li-select');\n      }\n    }\n\n    return ulElement.children.length;\n  };\n\n  FormDesigner.prototype.createThicknessSlider = function (idString) {\n    var outerContainer = createElement('div', {\n      className: 'e-pv-annotation-thickness-popup-container'\n    });\n    document.body.appendChild(outerContainer);\n    var label = createElement('span', {\n      id: idString + '_label',\n      className: 'e-pv-annotation-thickness-label'\n    });\n    label.textContent = this.pdfViewer.localeObj.getConstant('Line Thickness');\n    var sliderElement = createElement('div', {\n      id: idString + '_slider'\n    });\n    this.thicknessSlider = new Slider({\n      type: 'MinRange',\n      cssClass: 'e-pv-annotation-thickness-slider',\n      max: 12,\n      min: 0\n    }); // eslint-disable-next-line max-len\n\n    this.thicknessIndicator = createElement('div', {\n      id: idString + '_thickness_indicator',\n      className: 'e-pv-annotation-thickness-indicator'\n    });\n    this.thicknessIndicator.textContent = '0 pt';\n\n    if (!this.pdfViewer.enableRtl) {\n      outerContainer.appendChild(label);\n      outerContainer.appendChild(sliderElement);\n      this.thicknessSlider.appendTo(sliderElement);\n      outerContainer.appendChild(this.thicknessIndicator);\n    } else {\n      outerContainer.appendChild(this.thicknessIndicator);\n      outerContainer.appendChild(sliderElement);\n      this.thicknessSlider.enableRtl = true;\n      this.thicknessSlider.appendTo(sliderElement);\n      outerContainer.appendChild(label);\n    }\n\n    this.thicknessSlider.element.parentElement.classList.add('e-pv-annotation-thickness-slider-container');\n    return outerContainer;\n  };\n\n  FormDesigner.prototype.createColorPicker = function (idString, color) {\n    var inputElement = createElement('input', {\n      id: idString + '_target'\n    });\n    document.body.appendChild(inputElement);\n    var colorPicker = new ColorPicker({\n      inline: true,\n      mode: 'Palette',\n      cssClass: 'e-show-value',\n      enableOpacity: false,\n      value: color,\n      showButtons: false,\n      modeSwitcher: false\n    });\n\n    if (this.pdfViewer.enableRtl) {\n      colorPicker.enableRtl = true;\n    }\n\n    colorPicker.appendTo(inputElement);\n    return colorPicker;\n  };\n\n  FormDesigner.prototype.fontStyleClicked = function (args) {\n    if (args.target) {\n      if (args.target.id.indexOf(\"formField_bold\") !== -1) {\n        var item = args.target.id.indexOf(\"formField_bold_div\") !== -1 ? args.target : args.target.parentElement;\n        if (item.classList.contains('e-pv-li-select')) this.isBold = true;\n        this.isBold = !this.isBold;\n\n        if (this.isBold) {\n          this.formFieldBold = \"bold\";\n          item.classList.add('e-pv-li-select');\n        } else {\n          this.formFieldBold = \"normal\";\n          item.classList.remove('e-pv-li-select');\n        }\n      } else if (args.target.id.indexOf(\"formField_italic\") !== -1) {\n        var item = args.target.id.indexOf(\"formField_italic_div\") !== -1 ? args.target : args.target.parentElement;\n        if (item.classList.contains('e-pv-li-select')) this.isItalic = true;\n        this.isItalic = !this.isItalic;\n\n        if (this.isItalic) {\n          this.formFieldItalic = \"italic\";\n          item.classList.add('e-pv-li-select');\n        } else {\n          this.formFieldItalic = \"normal\";\n          item.classList.remove('e-pv-li-select');\n        }\n      } else if (args.target.id.indexOf(\"formField_underline\") !== -1) {\n        var item = args.target.id.indexOf(\"formField_underline_textinput_div\") !== -1 ? args.target : args.target.parentElement;\n        if (item.classList.contains('e-pv-li-select')) this.isUnderline = true;\n        this.isUnderline = !this.isUnderline;\n\n        if (this.isUnderline) {\n          this.formFieldUnderline = \"underline\";\n          this.isStrikeThrough = false;\n          item.classList.add('e-pv-li-select');\n        } else {\n          this.formFieldUnderline = \"none\";\n          item.classList.remove('e-pv-li-select');\n        }\n      } else if (args.target.id.indexOf(\"formField_strikeout\") !== -1) {\n        var item = args.target.id.indexOf(\"formField_strikeout_div\") !== -1 ? args.target : args.target.parentElement;\n        if (item.classList.contains('e-pv-li-select')) this.isStrikeThrough = true;\n        this.isStrikeThrough = !this.isStrikeThrough;\n\n        if (this.isStrikeThrough) {\n          this.formFieldStrikeOut = \"line-through\";\n          this.isUnderline = false;\n          item.classList.add('e-pv-li-select');\n        } else {\n          this.formFieldStrikeOut = \"none\";\n          item.classList.remove('e-pv-li-select');\n        }\n      }\n    }\n  };\n\n  FormDesigner.prototype.clearFontAlignIconSelection = function (currentElement) {\n    for (var i = 0; i < currentElement.children.length; i++) {\n      if (currentElement.children[i].classList.contains('e-pv-li-select')) {\n        currentElement.children[i].classList.remove('e-pv-li-select');\n      }\n    }\n  };\n\n  FormDesigner.prototype.fontAlignClicked = function (args) {\n    if (args.target) {\n      args.target.classList.remove('e-pv-li-select');\n\n      if (args.target.id.indexOf(\"_formField_left_align\") !== -1) {\n        var item = args.target.id.indexOf(\"_formField_left_align_div\") !== -1 ? args.target : args.target.parentElement;\n        this.formFieldAlign = \"left\";\n        this.clearFontAlignIconSelection(args.currentTarget);\n        item.classList.add('e-pv-li-select');\n      } else if (args.target.id.indexOf(\"_formField_right_align\") !== -1) {\n        var item = args.target.id.indexOf(\"_formField_right_align_div\") !== -1 ? args.target : args.target.parentElement;\n        this.formFieldAlign = \"right\";\n        this.clearFontAlignIconSelection(args.currentTarget);\n        item.classList.add('e-pv-li-select');\n      } else {\n        var item = args.target.id.indexOf(\"_formField_center_align_div\") !== -1 ? args.target : args.target.parentElement;\n        this.formFieldAlign = \"center\";\n        this.clearFontAlignIconSelection(args.currentTarget);\n        item.classList.add('e-pv-li-select');\n      }\n    }\n  };\n\n  FormDesigner.prototype.onFontColorChange = function (args) {\n    this.fontColorValue = args.currentValue.hex === '' ? '#ffffff00' : args.currentValue.hex;\n    this.updateColorInIcon(this.fontColorElement, this.fontColorValue);\n    this.fontColorDropDown.toggle();\n  };\n\n  FormDesigner.prototype.onColorPickerChange = function (args) {\n    this.backgroundColorValue = args.currentValue.hex === '' ? '#ffffff00' : args.currentValue.hex;\n    this.updateColorInIcon(this.colorDropDownElement, this.backgroundColorValue);\n    this.colorDropDown.toggle();\n  };\n  /**\n   * @private\n   */\n\n\n  FormDesigner.prototype.updateColorInIcon = function (element, color) {\n    element.childNodes[0].style.borderBottomColor = color;\n  };\n\n  FormDesigner.prototype.onStrokePickerChange = function (args) {\n    this.borderColorValue = args.currentValue.hex === '' ? '#ffffff00' : args.currentValue.hex;\n    this.updateColorInIcon(this.strokeDropDownElement, this.borderColorValue);\n    this.strokeDropDown.toggle();\n  };\n\n  FormDesigner.prototype.createDropDownButton = function (element, iconClass, target) {\n    // eslint-disable-next-line max-len\n    var dropDownButton = new DropDownButton({\n      iconCss: iconClass + ' e-pv-icon',\n      target: target\n    });\n\n    if (this.pdfViewer.enableRtl) {\n      dropDownButton.enableRtl = true;\n    }\n\n    dropDownButton.appendTo(element);\n    return dropDownButton;\n  };\n  /**\n   * @private\n  */\n\n\n  FormDesigner.prototype.addClassFontItem = function (idString, className, isSelectedStyle) {\n    var element = createElement('div', {\n      id: this.pdfViewer.element.id + idString + '_div'\n    });\n    element.classList.add(className + \"-div\");\n    var spanElement = createElement('span', {\n      id: this.pdfViewer.element.id + idString + '_span'\n    });\n    spanElement.classList.add(className);\n    spanElement.classList.add(\"e-pv-icon\");\n\n    switch (className) {\n      case 'e-pv-bold-icon':\n        this.setToolTip(this.pdfViewer.localeObj.getConstant('Bold'), element);\n        break;\n\n      case 'e-pv-italic-icon':\n        this.setToolTip(this.pdfViewer.localeObj.getConstant('Italic'), element);\n        break;\n\n      case 'e-pv-underlinetext-icon':\n        this.setToolTip(this.pdfViewer.localeObj.getConstant('Underlines'), element);\n        break;\n\n      case 'e-pv-strikeout-icon':\n        this.setToolTip(this.pdfViewer.localeObj.getConstant('Strikethroughs'), element);\n        break;\n\n      case 'e-pv-left-align-icon':\n        this.setToolTip(this.pdfViewer.localeObj.getConstant('Align left'), element);\n        break;\n\n      case 'e-pv-center-align-icon':\n        this.setToolTip(this.pdfViewer.localeObj.getConstant('Center'), element);\n        break;\n\n      case 'e-pv-right-align-icon':\n        this.setToolTip(this.pdfViewer.localeObj.getConstant('Align right'), element);\n        break;\n    }\n\n    if (isSelectedStyle) element.classList.add('e-pv-li-select');\n    element.appendChild(spanElement);\n    return element;\n  }; // eslint-disable-next-line max-len\n\n\n  FormDesigner.prototype.createLabelElement = function (labelText, parentElement, isLabelNeeded, className, idString) {\n    var container = createElement('div', {\n      id: idString + '_container',\n      className: className + '-container'\n    });\n    var label = null;\n\n    if (isLabelNeeded) {\n      label = createElement('div', {\n        id: idString + '_label',\n        className: className\n      });\n      label.textContent = labelText;\n      container.appendChild(label);\n    }\n\n    parentElement.appendChild(label);\n  };\n\n  FormDesigner.prototype.setReadOnlyToFormField = function (selectedItem, isReadOnly) {\n    for (var i = 0; i < this.pdfViewer.formFieldCollection.length; i++) {\n      var formField = this.pdfViewer.formFieldCollection[i];\n\n      if (formField.formFieldAnnotationType === selectedItem.formFieldAnnotationType && formField.name === selectedItem.name && formField.id === selectedItem.id) {\n        formField.isReadonly = isReadOnly;\n\n        switch (formField.formFieldAnnotationType) {\n          case 'Textbox':\n          case 'PasswordField':\n          case 'DropdownList':\n          case 'ListBox':\n          case 'SignatureField':\n          case 'InitialField':\n            var inputElement = document.getElementById(formField.id + \"_content_html_element\").firstElementChild.firstElementChild;\n            this.setReadOnlyToElement(formField, inputElement, isReadOnly);\n            break;\n\n          case 'RadioButton':\n            var radioButtonDivDivElement = document.getElementById(formField.id + \"_content_html_element\").firstElementChild.firstElementChild.firstElementChild;\n            this.setReadOnlyToElement(formField, radioButtonDivDivElement, isReadOnly);\n            break;\n\n          case 'Checkbox':\n            var checkboxDivElement = document.getElementById(formField.id + \"_content_html_element\").firstElementChild.firstElementChild.lastElementChild;\n            this.setReadOnlyToElement(formField, checkboxDivElement, isReadOnly);\n            break;\n        }\n      }\n    }\n  };\n  /**\n   * @private\n  */\n\n\n  FormDesigner.prototype.getFormDesignerSignField = function (signatureFieldCollection) {\n    var formDesignerData = this.pdfViewerBase.getItemFromSessionStorage('_formDesigner'); // eslint-disable-next-line\n\n    var currentData;\n\n    if (formDesignerData) {\n      // eslint-disable-next-line\n      var formFieldsObject = JSON.parse(formDesignerData);\n\n      for (var i = 0; i < formFieldsObject.length; i++) {\n        currentData = formFieldsObject[i].FormField;\n\n        if (currentData.formFieldAnnotationType === 'SignatureField') {\n          // eslint-disable-next-line\n          currentData['uniqueID'] = currentData.id.replace(\"_content\", \"\");\n          signatureFieldCollection.push(formFieldsObject[i]);\n        }\n      }\n    }\n\n    return signatureFieldCollection;\n  };\n\n  FormDesigner.prototype.setRequiredToFormField = function (selectedItem, isRequired) {\n    for (var i = 0; i < this.pdfViewer.formFieldCollection.length; i++) {\n      var formField = this.pdfViewer.formFieldCollection[i];\n\n      if (formField.formFieldAnnotationType === selectedItem.formFieldAnnotationType && formField.name === selectedItem.name && formField.id === selectedItem.id) {\n        formField.isRequired = isRequired;\n\n        switch (formField.formFieldAnnotationType) {\n          case 'Textbox':\n          case 'PasswordField':\n          case 'DropdownList':\n          case 'SignatureField':\n          case 'InitialField':\n            var inputElement = document.getElementById(formField.id + \"_content_html_element\").firstElementChild.firstElementChild;\n            this.setRequiredToElement(formField, inputElement, isRequired);\n            break;\n\n          case 'RadioButton':\n            var radioButtonDivDivElement = document.getElementById(formField.id + \"_content_html_element\").firstElementChild.firstElementChild.firstElementChild;\n            this.setRequiredToElement(formField, radioButtonDivDivElement, isRequired);\n            this.updateFormFieldCollections(formField);\n            break;\n\n          case 'Checkbox':\n            var checkboxDivElement = document.getElementById(formField.id + \"_content_html_element\").firstElementChild.firstElementChild.lastElementChild;\n            this.setRequiredToElement(formField, checkboxDivElement, isRequired);\n            break;\n\n          default:\n            break;\n        }\n      }\n    }\n  };\n\n  FormDesigner.prototype.setReadOnlyToElement = function (selectedItem, inputElement, isReadOnly) {\n    if (isReadOnly) {\n      inputElement.disabled = true;\n\n      if (selectedItem.formFieldAnnotationType === 'RadioButton') {\n        inputElement.parentElement.style.cursor = 'default';\n        inputElement.parentElement.style.backgroundColor = 'transparent';\n      } else {\n        inputElement.style.cursor = 'default';\n        inputElement.style.backgroundColor = 'transparent';\n      }\n    } else {\n      inputElement.disabled = false;\n\n      if (selectedItem.formFieldAnnotationType === 'RadioButton') {\n        inputElement.parentElement.style.backgroundColor = selectedItem.backgroundColor;\n      } else if (selectedItem.formFieldAnnotationType == \"SignatureField\" || selectedItem.formFieldAnnotationType == \"InitialField\") {\n        inputElement.style.backgroundColor = 'transparent';\n      } else {\n        inputElement.style.backgroundColor = selectedItem.backgroundColor;\n      }\n    }\n  };\n\n  FormDesigner.prototype.setRequiredToElement = function (selectedItem, inputElement, isRequired) {\n    if (isRequired) {\n      inputElement.required = true;\n      inputElement.style.border = '1px solid red';\n\n      if (selectedItem.formFieldAnnotationType === 'RadioButton') {\n        var thickness = selectedItem.thickness === 0 ? 1 : selectedItem.thickness;\n        inputElement.parentElement.style.boxShadow = 'red 0px 0px 0px ' + thickness + 'px';\n      }\n    } else {\n      inputElement.required = false;\n      inputElement.style.borderWidth = selectedItem.thickness;\n      inputElement.style.borderColor = selectedItem.borderColor;\n\n      if (selectedItem.formFieldAnnotationType === 'RadioButton') {\n        inputElement.parentElement.style.boxShadow = selectedItem.borderColor + ' 0px 0px 0px ' + selectedItem.thickness + 'px';\n      }\n    }\n  };\n  /**\n   * @private\n  */\n\n\n  FormDesigner.prototype.destroyPropertiesWindow = function () {\n    this.formFieldListItemCollection = [];\n    this.formFieldListItemDataSource = [];\n    this.formFieldFontFamily = null;\n    this.formFieldFontSize = null;\n    this.formFieldAlign = null;\n    this.fontColorValue = null;\n    this.backgroundColorValue = null;\n    this.borderColorValue = null;\n    this.formFieldBorderWidth = null;\n    this.formFieldName = null;\n    this.formFieldChecked = null;\n    this.formFieldReadOnly = null;\n    this.formFieldRequired = null;\n    this.formFieldTooltip = null;\n    this.formFieldPrinting = null;\n    this.formFieldMultiline = null;\n    this.formFieldVisibility = null;\n    var dialogElement = this.pdfViewerBase.getElement('_properties_window');\n\n    if (dialogElement) {\n      dialogElement.parentElement.removeChild(dialogElement);\n    }\n  };\n  /**\n   * @private\n  */\n\n\n  FormDesigner.prototype.destroy = function () {\n    this.destroyPropertiesWindow();\n  };\n\n  FormDesigner.prototype.hex = function (x) {\n    return ('0' + x.toString(16)).slice(-2);\n  };\n  /**\n   * @private\n  */\n\n\n  FormDesigner.prototype.getModuleName = function () {\n    return 'FormDesigner';\n  };\n\n  FormDesigner.prototype.updateAnnotationCanvas = function (canvas, pageWidth, pageHeight, pageNumber) {\n    var ratio = this.pdfViewerBase.getZoomRatio();\n    canvas.width = pageWidth * ratio;\n    canvas.height = pageHeight * ratio;\n    canvas.style.width = pageWidth + 'px';\n    canvas.style.height = pageHeight + 'px';\n    canvas.style.position = 'absolute';\n    canvas.style.zIndex = '1';\n    this.pdfViewerBase.applyElementStyles(canvas, pageNumber);\n  };\n\n  FormDesigner.prototype.getFontFamily = function (fontFamily) {\n    var fontFamilyNames = ['Helvetica', 'Courier', 'TimesRoman', 'Symbol', 'ZapfDingbats'];\n    return fontFamilyNames.indexOf(fontFamily) > -1 ? true : false;\n  };\n\n  FormDesigner.prototype.updateTextFieldSettingProperties = function (drawingObject, isFormDesignerToolbarVisible, isSetFormFieldMode) {\n    var textFieldSettings = this.pdfViewer.textFieldSettings;\n\n    if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && !isNullOrUndefined(textFieldSettings.isReadOnly)) {\n      drawingObject.isReadonly = textFieldSettings.isReadOnly;\n    }\n\n    if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && !isNullOrUndefined(textFieldSettings.isRequired)) {\n      drawingObject.isRequired = textFieldSettings.isRequired;\n    }\n\n    if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && textFieldSettings.value) {\n      drawingObject.value = textFieldSettings.value;\n    }\n\n    if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && textFieldSettings.backgroundColor !== 'white') {\n      drawingObject.backgroundColor = textFieldSettings.backgroundColor;\n    }\n\n    if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && textFieldSettings.borderColor !== 'black') {\n      drawingObject.borderColor = textFieldSettings.borderColor;\n    }\n\n    if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && textFieldSettings.alignment !== 'Left') {\n      drawingObject.alignment = textFieldSettings.alignment;\n    }\n\n    if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && textFieldSettings.color !== 'black') {\n      drawingObject.color = textFieldSettings.color;\n    }\n\n    if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && textFieldSettings.fontFamily !== 'Helvetica') {\n      drawingObject.fontFamily = textFieldSettings.fontFamily;\n    }\n\n    if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && textFieldSettings.fontSize !== 10) {\n      drawingObject.fontSize = textFieldSettings.fontSize;\n    }\n\n    if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && textFieldSettings.fontStyle) {\n      drawingObject.fontStyle = this.getFontStyleName(textFieldSettings.fontStyle, drawingObject);\n      ;\n    }\n\n    if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && textFieldSettings.name) {\n      drawingObject.name = textFieldSettings.name;\n    }\n\n    if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && textFieldSettings.tooltip) {\n      drawingObject.tooltip = textFieldSettings.tooltip;\n    }\n\n    if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && textFieldSettings.thickness !== 1) {\n      drawingObject.thickness = textFieldSettings.thickness;\n    }\n\n    if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && textFieldSettings.maxLength) {\n      drawingObject.maxLength = textFieldSettings.maxLength;\n    }\n\n    if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && textFieldSettings.visibility) {\n      drawingObject.visibility = textFieldSettings.visibility;\n    }\n\n    if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && !isNullOrUndefined(textFieldSettings.isPrint)) {\n      drawingObject.isPrint = textFieldSettings.isPrint;\n    }\n\n    if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && !isNullOrUndefined(textFieldSettings.isMultiline)) {\n      drawingObject.isMultiline = textFieldSettings.isMultiline;\n    }\n  };\n\n  FormDesigner.prototype.updatePasswordFieldSettingProperties = function (drawingObject, isFormDesignerToolbarVisible, isSetFormFieldMode) {\n    var passwordFieldSettings = this.pdfViewer.passwordFieldSettings;\n\n    if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && !isNullOrUndefined(passwordFieldSettings.isReadOnly)) {\n      drawingObject.isReadonly = passwordFieldSettings.isReadOnly;\n    }\n\n    if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && !isNullOrUndefined(passwordFieldSettings.isRequired)) {\n      drawingObject.isRequired = passwordFieldSettings.isRequired;\n    }\n\n    if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && passwordFieldSettings.value) {\n      drawingObject.value = passwordFieldSettings.value;\n    }\n\n    if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && passwordFieldSettings.backgroundColor !== 'white') {\n      drawingObject.backgroundColor = passwordFieldSettings.backgroundColor;\n    }\n\n    if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && passwordFieldSettings.borderColor !== 'black') {\n      drawingObject.borderColor = passwordFieldSettings.borderColor;\n    }\n\n    if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && passwordFieldSettings.alignment !== 'Left') {\n      drawingObject.alignment = passwordFieldSettings.alignment;\n    }\n\n    if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && passwordFieldSettings.color !== 'black') {\n      drawingObject.color = passwordFieldSettings.color;\n    }\n\n    if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && passwordFieldSettings.fontFamily !== 'Helvetica') {\n      drawingObject.fontFamily = passwordFieldSettings.fontFamily;\n    }\n\n    if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && passwordFieldSettings.fontSize !== 10) {\n      drawingObject.fontSize = passwordFieldSettings.fontSize;\n    }\n\n    if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && passwordFieldSettings.fontStyle) {\n      drawingObject.fontStyle = this.getFontStyleName(passwordFieldSettings.fontStyle, drawingObject);\n    }\n\n    if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && passwordFieldSettings.name) {\n      drawingObject.name = passwordFieldSettings.name;\n    }\n\n    if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && passwordFieldSettings.tooltip) {\n      drawingObject.tooltip = passwordFieldSettings.tooltip;\n    }\n\n    if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && passwordFieldSettings.thickness !== 1) {\n      drawingObject.thickness = passwordFieldSettings.thickness;\n    }\n\n    if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && passwordFieldSettings.maxLength) {\n      drawingObject.maxLength = passwordFieldSettings.maxLength;\n    }\n\n    if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && passwordFieldSettings.visibility) {\n      drawingObject.visibility = passwordFieldSettings.visibility;\n    }\n\n    if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && !isNullOrUndefined(passwordFieldSettings.isPrint)) {\n      drawingObject.isPrint = passwordFieldSettings.isPrint;\n    }\n  };\n\n  FormDesigner.prototype.updateCheckBoxFieldSettingsProperties = function (drawingObject, isFormDesignerToolbarVisible, isSetFormFieldMode) {\n    var checkBoxFieldSettings = this.pdfViewer.checkBoxFieldSettings;\n\n    if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && !isNullOrUndefined(checkBoxFieldSettings.isReadOnly)) {\n      drawingObject.isReadonly = checkBoxFieldSettings.isReadOnly;\n    }\n\n    if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && !isNullOrUndefined(checkBoxFieldSettings.isRequired)) {\n      drawingObject.isRequired = checkBoxFieldSettings.isRequired;\n    }\n\n    if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && checkBoxFieldSettings.backgroundColor !== 'white') {\n      drawingObject.backgroundColor = checkBoxFieldSettings.backgroundColor;\n    }\n\n    if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && checkBoxFieldSettings.borderColor !== 'black') {\n      drawingObject.borderColor = checkBoxFieldSettings.borderColor;\n    }\n\n    if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && checkBoxFieldSettings.name) {\n      drawingObject.name = checkBoxFieldSettings.name;\n    }\n\n    if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && checkBoxFieldSettings.tooltip) {\n      drawingObject.tooltip = checkBoxFieldSettings.tooltip;\n    }\n\n    if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && checkBoxFieldSettings.thickness !== 1) {\n      drawingObject.thickness = checkBoxFieldSettings.thickness;\n    }\n\n    if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && checkBoxFieldSettings.visibility) {\n      drawingObject.visibility = checkBoxFieldSettings.visibility;\n    }\n\n    if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && !isNullOrUndefined(checkBoxFieldSettings.isPrint)) {\n      drawingObject.isPrint = checkBoxFieldSettings.isPrint;\n    }\n\n    if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && !isNullOrUndefined(checkBoxFieldSettings.isChecked)) {\n      drawingObject.isChecked = checkBoxFieldSettings.isChecked;\n    }\n  };\n\n  FormDesigner.prototype.updateRadioButtonFieldSettingProperties = function (drawingObject, isFormDesignerToolbarVisible, isSetFormFieldMode) {\n    var radioButtonFieldSettings = this.pdfViewer.radioButtonFieldSettings;\n\n    if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && !isNullOrUndefined(radioButtonFieldSettings.isReadOnly)) {\n      drawingObject.isReadonly = radioButtonFieldSettings.isReadOnly;\n    }\n\n    if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && !isNullOrUndefined(radioButtonFieldSettings.isRequired)) {\n      drawingObject.isRequired = radioButtonFieldSettings.isRequired;\n    }\n\n    if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && radioButtonFieldSettings.backgroundColor !== 'white') {\n      drawingObject.backgroundColor = radioButtonFieldSettings.backgroundColor;\n    }\n\n    if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && radioButtonFieldSettings.borderColor !== 'black') {\n      drawingObject.borderColor = radioButtonFieldSettings.borderColor;\n    }\n\n    if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && radioButtonFieldSettings.name) {\n      drawingObject.name = radioButtonFieldSettings.name;\n    }\n\n    if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && radioButtonFieldSettings.tooltip) {\n      drawingObject.tooltip = radioButtonFieldSettings.tooltip;\n    }\n\n    if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && radioButtonFieldSettings.thickness !== 1) {\n      drawingObject.thickness = radioButtonFieldSettings.thickness;\n    }\n\n    if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && radioButtonFieldSettings.visibility) {\n      drawingObject.visibility = radioButtonFieldSettings.visibility;\n    }\n\n    if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && !isNullOrUndefined(radioButtonFieldSettings.isPrint)) {\n      drawingObject.isPrint = radioButtonFieldSettings.isPrint;\n    }\n\n    if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && !isNullOrUndefined(radioButtonFieldSettings.isSelected)) {\n      drawingObject.isSelected = radioButtonFieldSettings.isSelected;\n    }\n  };\n\n  FormDesigner.prototype.updateDropdownFieldSettingsProperties = function (drawingObject, isFormDesignerToolbarVisible, isSetFormFieldMode) {\n    var dropdownFieldSettings = this.pdfViewer.DropdownFieldSettings;\n\n    if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && !isNullOrUndefined(dropdownFieldSettings.isReadOnly)) {\n      drawingObject.isReadonly = dropdownFieldSettings.isReadOnly;\n    }\n\n    if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && !isNullOrUndefined(dropdownFieldSettings.isRequired)) {\n      drawingObject.isRequired = dropdownFieldSettings.isRequired;\n    }\n\n    if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && dropdownFieldSettings.backgroundColor !== 'white') {\n      drawingObject.backgroundColor = dropdownFieldSettings.backgroundColor;\n    }\n\n    if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && dropdownFieldSettings.borderColor !== 'black') {\n      drawingObject.borderColor = dropdownFieldSettings.borderColor;\n    }\n\n    if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && dropdownFieldSettings.alignment !== 'Left') {\n      drawingObject.alignment = dropdownFieldSettings.alignment;\n    }\n\n    if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && dropdownFieldSettings.color !== 'black') {\n      drawingObject.color = dropdownFieldSettings.color;\n    }\n\n    if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && dropdownFieldSettings.fontFamily !== 'Helvetica') {\n      drawingObject.fontFamily = dropdownFieldSettings.fontFamily;\n    }\n\n    if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && dropdownFieldSettings.fontSize !== 10) {\n      drawingObject.fontSize = dropdownFieldSettings.fontSize;\n    }\n\n    if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && dropdownFieldSettings.fontStyle) {\n      drawingObject.fontStyle = this.getFontStyleName(dropdownFieldSettings.fontStyle, drawingObject);\n      ;\n    }\n\n    if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && dropdownFieldSettings.name) {\n      drawingObject.name = dropdownFieldSettings.name;\n    }\n\n    if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && dropdownFieldSettings.tooltip) {\n      drawingObject.tooltip = dropdownFieldSettings.tooltip;\n    }\n\n    if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && dropdownFieldSettings.thickness !== 1) {\n      drawingObject.thickness = dropdownFieldSettings.thickness;\n    }\n\n    if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && dropdownFieldSettings.visibility) {\n      drawingObject.visibility = dropdownFieldSettings.visibility;\n    }\n\n    if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && !isNullOrUndefined(dropdownFieldSettings.isPrint)) {\n      drawingObject.isPrint = dropdownFieldSettings.isPrint;\n    }\n\n    if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && dropdownFieldSettings.options) {\n      drawingObject.options = drawingObject.options && drawingObject.options.length > 0 ? drawingObject.options : dropdownFieldSettings.options;\n    }\n  };\n\n  FormDesigner.prototype.updatelistBoxFieldSettingsProperties = function (drawingObject, isFormDesignerToolbarVisible, isSetFormFieldMode) {\n    var listBoxFieldSettings = this.pdfViewer.listBoxFieldSettings;\n\n    if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && !isNullOrUndefined(listBoxFieldSettings.isReadOnly)) {\n      drawingObject.isReadonly = listBoxFieldSettings.isReadOnly;\n    }\n\n    if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && !isNullOrUndefined(listBoxFieldSettings.isRequired)) {\n      drawingObject.isRequired = listBoxFieldSettings.isRequired;\n    }\n\n    if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && listBoxFieldSettings.backgroundColor !== 'white') {\n      drawingObject.backgroundColor = listBoxFieldSettings.backgroundColor;\n    }\n\n    if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && listBoxFieldSettings.borderColor !== 'black') {\n      drawingObject.borderColor = listBoxFieldSettings.borderColor;\n    }\n\n    if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && listBoxFieldSettings.alignment !== 'Left') {\n      drawingObject.alignment = listBoxFieldSettings.alignment;\n    }\n\n    if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && listBoxFieldSettings.color !== 'black') {\n      drawingObject.color = listBoxFieldSettings.color;\n    }\n\n    if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && listBoxFieldSettings.fontFamily !== 'Helvetica') {\n      drawingObject.fontFamily = listBoxFieldSettings.fontFamily;\n    }\n\n    if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && listBoxFieldSettings.fontSize !== 10) {\n      drawingObject.fontSize = listBoxFieldSettings.fontSize;\n    }\n\n    if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && listBoxFieldSettings.fontStyle) {\n      drawingObject.fontStyle = this.getFontStyleName(listBoxFieldSettings.fontStyle, drawingObject);\n      ;\n    }\n\n    if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && listBoxFieldSettings.name) {\n      drawingObject.name = listBoxFieldSettings.name;\n    }\n\n    if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && listBoxFieldSettings.tooltip) {\n      drawingObject.tooltip = listBoxFieldSettings.tooltip;\n    }\n\n    if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && listBoxFieldSettings.thickness !== 1) {\n      drawingObject.thickness = listBoxFieldSettings.thickness;\n    }\n\n    if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && listBoxFieldSettings.visibility) {\n      drawingObject.visibility = listBoxFieldSettings.visibility;\n    }\n\n    if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && !isNullOrUndefined(listBoxFieldSettings.isPrint)) {\n      drawingObject.isPrint = listBoxFieldSettings.isPrint;\n    }\n\n    if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && listBoxFieldSettings.options) {\n      drawingObject.options = drawingObject.options && drawingObject.options.length > 0 ? drawingObject.options : listBoxFieldSettings.options;\n    }\n  };\n\n  FormDesigner.prototype.updateSignInitialFieldProperties = function (signatureField, isInitialField, isFormDesignerToolbarVisible, isSetFormFieldMode) {\n    var initialFieldSettings = this.pdfViewer.initialFieldSettings;\n    var signatureFieldSettings = this.pdfViewer.signatureFieldSettings;\n\n    if (isInitialField) {\n      if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && !isNullOrUndefined(initialFieldSettings.isReadOnly)) {\n        signatureField.isReadonly = initialFieldSettings.isReadOnly;\n      }\n\n      if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && !isNullOrUndefined(initialFieldSettings.isRequired)) {\n        signatureField.isRequired = initialFieldSettings.isRequired;\n      }\n\n      if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && initialFieldSettings.visibility) {\n        signatureField.visibility = initialFieldSettings.visibility;\n      }\n\n      if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && initialFieldSettings.tooltip) {\n        signatureField.tooltip = initialFieldSettings.tooltip;\n      }\n\n      if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && initialFieldSettings.name) {\n        signatureField.name = initialFieldSettings.name;\n      }\n\n      if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && !isNullOrUndefined(initialFieldSettings.isPrint)) {\n        signatureField.isPrint = initialFieldSettings.isPrint;\n      }\n    } else {\n      if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && !isNullOrUndefined(signatureFieldSettings.isReadOnly)) {\n        signatureField.isReadonly = signatureFieldSettings.isReadOnly;\n      }\n\n      if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && !isNullOrUndefined(signatureFieldSettings.isRequired)) {\n        signatureField.isRequired = signatureFieldSettings.isRequired;\n      }\n\n      if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && signatureFieldSettings.visibility) {\n        signatureField.visibility = signatureFieldSettings.visibility;\n      }\n\n      if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && signatureFieldSettings.tooltip) {\n        signatureField.tooltip = signatureFieldSettings.tooltip;\n      }\n\n      if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && signatureFieldSettings.name) {\n        signatureField.name = signatureFieldSettings.name;\n      }\n\n      if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && !isNullOrUndefined(signatureFieldSettings.isPrint)) {\n        signatureField.isPrint = signatureFieldSettings.isPrint;\n      }\n    }\n  };\n\n  FormDesigner.prototype.getFontStyleName = function (fontStyle, drawingObject) {\n    var fontStyleName = 'None';\n\n    if (fontStyle === 1) {\n      drawingObject.font.isBold = true;\n      fontStyleName = 'Bold';\n    }\n\n    if (fontStyle === 2) {\n      drawingObject.font.isItalic = true;\n      fontStyleName = 'Italic';\n    }\n\n    if (fontStyle === 8) {\n      drawingObject.font.isStrikeout = true;\n      fontStyleName = 'Strikethrough';\n    }\n\n    if (fontStyle === 4) {\n      drawingObject.font.isUnderline = true;\n      fontStyleName = 'Underline';\n    }\n\n    return fontStyleName;\n  };\n\n  FormDesigner.prototype.getAlignment = function (alignment) {\n    var align;\n\n    if (alignment === 'left') {\n      align = 'left';\n    } else if (alignment === 'right') {\n      align = 'right';\n    } else if (alignment === 'center') {\n      align = 'center';\n    }\n\n    this.formFieldAlign = align;\n  };\n\n  FormDesigner.prototype.getFontStyle = function (font) {\n    if (font.isBold) {\n      this.formFieldBold = 'bold';\n    }\n\n    if (font.isItalic) {\n      this.formFieldItalic = 'italic';\n    }\n\n    if (font.isUnderline) {\n      this.formFieldUnderline = 'underline';\n    }\n\n    if (font.isStrikeout) {\n      this.formFieldStrikeOut = 'line-through';\n    }\n  };\n\n  return FormDesigner;\n}();\n\nexport { FormDesigner };","map":{"version":3,"names":["Browser","createElement","cornersPointsBeforeRotation","Rect","splitArrayCollection","processPathData","randomId","isNullOrUndefined","Dialog","Tooltip","Tab","DropDownButton","ColorPicker","Slider","TextBox","NumericTextBox","DropDownList","Button","CheckBox","DisplayMode","FontStyle","cloneObject","FormDesigner","viewer","base","isFormFieldExistingInCollection","multilineCheckboxCheckedState","formFieldListItemCollection","formFieldListItemDataSource","isInitialField","isSetFormFieldMode","disableSignatureClickEvent","formFieldIndex","formFieldIdIndex","isProgrammaticSelection","isShapeCopied","isDrawHelper","isFormFieldUpdated","pdfViewer","pdfViewerBase","prototype","drawHelper","formFieldAnnotationType","obj","event","textLayer","document","getElementById","element","id","activeElements","activePageID","canvasElement","zoomValue","getZoomFactor","htmlElement","HtmlElementAttribute","bounds","updateFormFieldInitialSize","createHtmlElement","appendChild","createSignatureDialog","createDropDownList","createListBox","createInputElement","point","getMousePosition","setAttribute","height","width","x","y","drawHTMLContent","drawingObject","pageIndex","commandHandler","parentHtmlElement","parentHtmlElementAttribute","template","divElement","style","fontSize","className","designerMode","innerHTML","name","position","getElementsByClassName","length","spanElement","i","getCheckboxRadioButtonBounds","parseInt","margin","topLeft","actualSize","rotateAngle","parentTransform","visible","opacity","updateFormDesignerFieldInSessionStorage","field","value","fontFamily","fontStyle","color","backgroundColor","alignment","isReadonly","visibility","maxLength","isRequired","isPrint","rotation","tooltip","borderColor","thickness","options","pageNumber","isChecked","isSelected","fireFormFieldAddEvent","formFieldType","formDesignObj","lineBound","X","Y","Width","Height","isMultiline","signatureType","signatureBound","fontColor","getRgbCode","textAlign","font","isBold","isItalic","isStrikeout","isUnderline","selectedIndex","radiobuttonItem","option","push","isItemAdd","getRadioButtonItem","formFieldCollection","formFieldElement","splice","Key","FormField","setItemInSessionStorage","enableFormFieldButton","radiobutton","formFieldProperty","data","getItemFromSessionStorage","formFieldsData","JSON","parse","currentData","m","isContainsRadiobuttonItem","i_1","l","colorString","match","colorCode","nameToHash","stringArray","split","getValue","r","g","b","a","parseFloat","isNaN","colour","colours","toLowerCase","type","cValue","convertRgbToNumberArray","hex","rgbToHex","slice","convertToHsvString","rgbToHsv","apply","hsvToRgb","convertToRgbString","roundValue","rgb","hexToRgb","toString","indexOf","map","n","join","hsv","len","tempValue","len_1","charAt","trim","Number","toFixed","bigInt","h","max","Math","min","s","v","d","round","f","p","q","t","floor","substr","updateCanvas","canvas","undefined","getElement","zoom","ratio","getZoomRatio","pageSize","drawing","refreshCanvasDiagramLayer","rerenderFormFields","domElementId","signatureField","nameTable","wrapper","children","j","renderFormFieldsInZooming","updateHTMLElement","actualObject","labelContainer","firstElementChild","lastElementChild","display","minCheckboxWidth","left","top","checkboxWidth","borderWidth","signatureDiv","indicatorSpan","nextElementSibling","getBounds","signatureIndicatorSettings","text","textContent","updateSignatureIndicator","updateSessionFormFieldProperties","updatedFormFields","radioButtonItemUpdate","updatedSignatureFormFields","formDesignObj_1","border","pointerEvents","disabled","signatureFieldSettings","signatureDialogSettings","displayMode","Draw","Text","Upload","hideSaveSignature","defaultWidth","signatureFieldIndicatorWidth","defaultHeight","signatureFieldIndicatorHeight","signatureFieldIndicatorBG","signIndicator","signatureFieldWidth","signatureFieldHeight","initialFieldSettings","initialIndicatorSettings","initialDialogSettings","fieldText","setFormFieldIdIndex","setIndicatorText","overflow","whiteSpace","padding","boxSizing","boundsOfSpan","background","widthNew","setHeightWidth","heightNew","updateSignInitialFieldProperties","isFormDesignerToolbarVisible","setToolTip","updateSignatureFieldProperties","indicatorText","defaultText","clonedElement","cloneNode","body","clone","getBoundingClientRect","removeChild","formFieldObject","fieldBounds","objIndicatorSettings","indicatorSettings","fieldBound","indicatorBound","referenceBound","heightOrWidth","dropdownElement","select","addEventListener","dropdownChange","bind","updateDropdownFieldSettingsProperties","dropDownChildren","updateDropdownListProperties","itemValue","itemName","listBoxElement","listBoxChange","multiple","updatelistBoxFieldSettingsProperties","updateListBoxProperties","k","selected","formFieldBounds","labelElement","checkboxDiv","innerSpan","inputElement","textArea","createTextAreaElement","updateTextFieldSettingProperties","updateTextboxProperties","createTextboxElement","info","alignItems","cursor","setCheckBoxState","updateCheckboxProperties","updateCheckBoxFieldSettingsProperties","outlineWidth","outlineColor","outlineStyle","inputElementClick","getTextboxValue","updatePasswordFieldSettingProperties","updatePasswordFieldProperties","verticalAlign","boxShadow","borderRadius","setRadioButtonState","stopPropagation","updateRadioButtonFieldSettingProperties","updateRadioButtonProperties","currentTarget","oldValues","selectedOptions","selectIndex","index","oldValueIndex","pop","oldValue","newValue","updateFormFieldCollections","fireFormFieldPropertiesChangeEvent","annotation","addAction","target","classList","remove","add","parentElement","checkboxElement","contains","setCheckedValue","undoElement","redoElement","oldValue_1","focus","addFormField","isCollection","isReadOnly","currentPageNumber","setFormFieldIndex","formField","HTMLElement","addFieldCollection","disableTextSelectionMode","drawFormField","node","formFieldCollections","findIndex","el","updateNodeBasedOnCollections","setFormFieldMode","activateTextboxElement","passwordType","activatePasswordField","checkboxType","activateCheckboxElement","activateRadioButtonElement","dropdownType","activateDropDownListElement","activateListboxElement","activateSignatureBoxElement","resetFormField","formFieldId","getFormField","resetTextboxProperties","resetPasswordProperties","resetCheckboxProperties","resetRadioButtonProperties","resetDropdownListProperties","resetListBoxProperties","resetSignatureTextboxProperties","selectFormField","updateFormField","formFieldPropertyChange","updateFormFieldsInCollections","radioButtonDivDivElement","checkboxDivElement","updateFormFieldData","colorNametoHashValue","backColor","getSignatureBackground","includes","isValueChanged","isFontFamilyChanged","isFontSizeChanged","isFontStyleChanged","isColorChanged","isBackgroundColorChanged","isBorderColorChanged","isBorderWidthChanged","isAlignmentChanged","isReadOnlyChanged","isVisibilityChanged","isMaxLengthChanged","isRequiredChanged","isPrintChanged","isToolTipChanged","isNameChanged","designerName","updateFormFieldPropertiesChanges","formField_1","nodePropertyChange","hEment","setReadOnlyToElement","setReadOnlyToFormField","setRequiredToElement","setRequiredToFormField","getFormFiledIndex","hideSignatureValue","showSignatureValue","checkboxCheckedState","checked","updateDropDownListDataSource","oldFontStyle","newFontStyle","Bold","fontWeight","Italic","Strikethrough","textDecoration","Underline","formFieldCollectionObject","getAnnotationsFromAnnotationCollections","deleteFormField","clearSelection","renderDrawing","toolbar","formDesignerToolbarModule","showHideDeleteIcon","selectedItems","properties","formFields","setMode","mode","enableDisableFormFieldsInteraction","textSelectionModule","enableTextSelectionMode","enableDesignerMode","collections","updateRadioButtonDesignerProperties","updateCheckboxFormDesignerProperties","annotationId","updateSignatureValue","removeFieldsFromAnnotationCollections","storeObject","window","sessionStorage","getItem","documentId","annotObject","annotationModule","getPageCollection","annotations","annotationStringified","stringify","setItem","tool","dropDownOptions","isMultiSelect","listBoxOptions","isInitialFieldToolbarSelection","getFontFamily","required","tabIndex","elementType","attribute","setAttributeHtml","attributes","keys","Object","applyStyleAgainstCsp","svg","getFieldBounds","bound","pageDetails","downloadFormDesigner","Multiline","validateForm","nonFillableFields","createAnnotationLayer","pageDiv","pageWidth","pageHeight","updateAnnotationCanvas","annotationCanvas","resizeAnnotations","applyElementStyles","getEventPageNumber","eventTarget","pageString","annotationEvent","getPropertyPanelHeaderContent","localeObj","getConstant","createPropertiesWindow","_this","elementID","propertyWinMinHeight","dialogDiv","appearanceTab","createAppearanceTab","pageContainer","propertiesDialog","showCloseIcon","closeOnEscape","isModal","header","minHeight","content","allowDragging","close","destroyPropertiesWindow","isDevice","enableDesktopMode","buttons","buttonModel","click","onCancelClicked","isPrimary","onOkClicked","enableRtl","propertySpliterBottom","appendTo","args","selectedItem","clonedItem","formFieldMultiline","renderMultilineText","renderTextbox","updateTextboxFormDesignerProperties","textboxCollection","checkTextboxName","item","updateFormFieldPropertiesInCollections","point1","point2","updateSignatureTextboxProperties","point3","updateDropdownFormDesignerProperties","point4","updateListBoxFormDesignerProperties","point5","cloneChangedNode","hide","formFieldName","formFieldValue","formFieldAlign","formFieldPrinting","formFieldTooltip","formFieldVisibility","formFieldFontFamily","formFieldFontSize","fontColorValue","backgroundColorValue","borderColorValue","formFieldBorderWidth","formFieldReadOnly","formFieldRequired","textboxObjectCollection","isUndoRedo","reRenderMultilineTextbox","addMultilineTextbox","wrapperElement","textAreaId","textareaElement","textareaId","textboxElement","autocomplete","getRgbToHex","index_1","createDropdownDataSource","updateNamePropertyChange","updateValuePropertyChange","updateIsPrintPropertyChange","updateTooltipPropertyChange","updateVisibilityPropertyChange","updateFontFamilyPropertyChange","updateFontSizePropertyChange","updateFontStylePropertyChange","updateAlignmentPropertyChange","updateColorPropertyChange","updateBackgroundColorPropertyChange","updateBorderColorPropertyChange","updateBorderThicknessPropertyChange","updateIsReadOnlyPropertyChange","updateIsRequiredPropertyChange","index_2","firstChild","ulItem","liItem","checkBoxElement","formFieldChecked","updateIsCheckedPropertyChange","radioButton","updateIsSelectedPropertyChange","maxLengthItem","visibleItem","result","updateFontStyle","textAlignLast","dropDownChild","selectedFontSize","signElement","shapeAnnotationType","collectionData","csData","canvass","formFieldBold","setFontStyleValues","formFieldItalic","formFieldUnderline","formFieldStrikeOut","selectedItemFontStyle","fontStyleType","isFontStyleEnabled","fontStyleValue","setDropdownFontStyleValue","isNamechanged","previousName","currentName","appearanceDiv","propertySpliter","tabContainer","tabControl","items","createGeneralProperties","createAppearanceProperties","createOptionProperties","visibilityItems","generalPropertiesDiv","textStyleContainer","formFieldNameMainDiv","formFieldNameDiv","formFieldNameContainer","floatLabelType","placeholder","cssClass","formFieldTooltipMainDiv","formFieldTooltipDiv","formFieldTooltipContainer","visibilityContainer","formFieldValueMainDiv","formFieldValueDiv","formFieldValueContainer","enabled","formFieldVisibilityMainDiv","formFieldVisibilityDiv","formFieldVisibilityContainer","dataSource","checkboxMainDiv","readOnly","label","checkedState","change","checkBoxChange","showPrinting","multilineTextbox","multilineCheckboxChange","tooltipContent","targetElement","beforeOpen","tooltipBeforeOpen","currentFormField","fontFamilyItems","fontSizeItems","appearancePropertiesDiv","formatTextStyleContainer","createLabelElement","fontItemsContainer","fontFamilyDropdownContainer","formatdropdownContainer","fontSizeContainer","fontSizeDropdownContainer","fontStyleContainer","onclick","fontStyleClicked","addClassFontItem","getFontStyle","fontColorContainer","fontAlignContainer","fontAlignClicked","getAlignment","fontColorElement","fontColorPalette","createColorPicker","onFontColorChange","fontColorDropDown","createDropDownButton","updateColorInIcon","maxLengthGroup","maxLengthContainer","maxLengthDropdownContainer","maxLengthItemDropdown","format","colorContainer","backgroundColorContainer","colorDropDownElement","colorPalette","onColorPickerChange","colorDropDown","strokeColorContainer","strokeDropDownElement","strokeColorPicker","onStrokePickerChange","strokeDropDown","strokeThicknessContainer","thicknessElement","thicknessContainer","createThicknessSlider","thicknessDropDown","thicknessDropDownBeforeOpen","thicknessSlider","thicknessChange","changed","updateThicknessIndicator","thicknessIndicator","optionPropertiesDiv","listItemAddContainer","formFieldListItemMainDiv","formFieldListItemDiv","formFieldListItemContainer","formFieldAddButton","formFieldListItem","buttonDiv","buttonAddInput","addListItemOnClick","exportValueContainer","formFieldexportValueMainDiv","formFieldExportItemDiv","formFieldExportItemContainer","dropdownListItemContainer","formFieldDropdownListMainDiv","selectedElement","btnTextAreaContainer","textAreaContainer","styles","listElement","listCount","createListElement","buttonGroup","deleteButtonDiv","buttonDeleteInput","deleteListItem","formFieldDeleteButton","upButtonDiv","buttonUpInput","moveUpListItem","formFieldUpButton","downButtonDiv","buttonDownInput","moveDownListItem","formFieldDownButton","dropdownValue","ulElement","createLiElement","listItemOnClick","previousElementSibling","parentNode","insertBefore","idString","outerContainer","sliderElement","colorPicker","inline","enableOpacity","showButtons","modeSwitcher","isStrikeThrough","clearFontAlignIconSelection","currentElement","currentValue","toggle","childNodes","borderBottomColor","iconClass","dropDownButton","iconCss","isSelectedStyle","labelText","isLabelNeeded","container","getFormDesignerSignField","signatureFieldCollection","formDesignerData","formFieldsObject","replace","dialogElement","destroy","getModuleName","zIndex","fontFamilyNames","textFieldSettings","getFontStyleName","passwordFieldSettings","checkBoxFieldSettings","radioButtonFieldSettings","dropdownFieldSettings","DropdownFieldSettings","listBoxFieldSettings","fontStyleName","align"],"sources":["/home/morgan/Desktop/Projets/ENT4/Jwt-Auth-pdf/react-jwt-auth/react-jwt-auth/node_modules/@syncfusion/ej2-pdfviewer/src/pdfviewer/form-designer/form-designer.js"],"sourcesContent":["/* eslint-disable */\nimport { Browser, createElement } from \"@syncfusion/ej2-base\";\nimport { cornersPointsBeforeRotation, Rect, splitArrayCollection, processPathData, randomId } from \"@syncfusion/ej2-drawings\";\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { Dialog, Tooltip } from \"@syncfusion/ej2-popups\";\nimport { Tab } from \"@syncfusion/ej2-navigations\";\nimport { DropDownButton } from '@syncfusion/ej2-splitbuttons';\nimport { ColorPicker, Slider, TextBox, NumericTextBox } from \"@syncfusion/ej2-inputs\";\nimport { DropDownList } from \"@syncfusion/ej2-dropdowns\";\nimport { Button, CheckBox } from \"@syncfusion/ej2-buttons\";\nimport { DisplayMode, FontStyle } from '../base/types';\nimport { cloneObject } from '../drawing/drawing-util';\n/* eslint-disable */\n/**\n * The `FormDesigner` module is used to handle form designer actions of PDF viewer.\n */\nvar FormDesigner = /** @class */ (function () {\n    /**\n    * @param viewer\n    * @param base\n    * @private\n    */\n    function FormDesigner(viewer, base) {\n        this.isFormFieldExistingInCollection = false;\n        this.multilineCheckboxCheckedState = false;\n        this.formFieldListItemCollection = [];\n        this.formFieldListItemDataSource = [];\n        this.isInitialField = false;\n        this.isSetFormFieldMode = false;\n        /**\n         * @private\n         */\n        this.disableSignatureClickEvent = false;\n        /**\n         * @private\n         */\n        this.formFieldIndex = 0;\n        /**\n         * @private\n         */\n        this.formFieldIdIndex = 0;\n        /**\n         * @private\n         */\n        this.isProgrammaticSelection = false;\n        /**\n         * @private\n        */\n        this.isShapeCopied = false;\n        this.isDrawHelper = false;\n        this.isFormFieldUpdated = false;\n        this.pdfViewer = viewer;\n        this.pdfViewerBase = base;\n    }\n    /**\n     * @private\n     */\n    FormDesigner.prototype.drawHelper = function (formFieldAnnotationType, obj, event) {\n        var textLayer = document.getElementById(this.pdfViewer.element.id + '_textLayer_' + this.pdfViewerBase.activeElements.activePageID);\n        var canvasElement = document.getElementById(this.pdfViewer.element.id + '_pageCanvas_' + this.pdfViewerBase.activeElements.activePageID);\n        if (canvasElement !== null && textLayer !== null) {\n            var zoomValue = this.pdfViewerBase.getZoomFactor();\n            var htmlElement = void 0;\n            var HtmlElementAttribute = {\n                'id': 'FormField_helper_html_element',\n                'class': 'foreign-object'\n            };\n            var bounds = this.updateFormFieldInitialSize(obj, formFieldAnnotationType);\n            htmlElement = this.createHtmlElement('div', HtmlElementAttribute);\n            this.isDrawHelper = true;\n            if (formFieldAnnotationType === \"SignatureField\" || formFieldAnnotationType === \"InitialField\") {\n                htmlElement.appendChild(this.createSignatureDialog(this.pdfViewer, obj, bounds));\n            }\n            else if (formFieldAnnotationType === \"DropdownList\") {\n                var element = { id: \"dropdown_helper\" };\n                htmlElement.appendChild(this.createDropDownList(element, obj));\n            }\n            else if (formFieldAnnotationType === \"ListBox\") {\n                var element = { id: \"listbox_helper\" };\n                htmlElement.appendChild(this.createListBox(element, obj));\n            }\n            else {\n                htmlElement.appendChild(this.createInputElement(formFieldAnnotationType, obj, bounds));\n            }\n            textLayer.appendChild(htmlElement);\n            var point = this.pdfViewerBase.getMousePosition(event);\n            htmlElement.setAttribute('style', 'height:' + bounds.height * zoomValue + 'px; width:' + bounds.width * zoomValue + 'px;left:' + point.x * zoomValue + 'px; top:' + point.y * zoomValue + 'px;' +\n                'position:absolute;opacity: 0.5;');\n        }\n    };\n    /**\n     * @private\n     */\n    FormDesigner.prototype.drawHTMLContent = function (formFieldAnnotationType, element, drawingObject, pageIndex, commandHandler) {\n        var textLayer = document.getElementById(this.pdfViewer.element.id + '_textLayer_' + pageIndex);\n        var canvasElement = document.getElementById(this.pdfViewer.element.id + '_pageCanvas_' + pageIndex);\n        if (element !== null && canvasElement !== null && textLayer !== null) {\n            var zoomValue = this.pdfViewerBase.getZoomFactor();\n            var htmlElement = void 0;\n            var parentHtmlElement = void 0;\n            var parentHtmlElementAttribute = {\n                'id': \"form_field_\" + element.id + '_html_element',\n                'class': 'foreign-object'\n            };\n            parentHtmlElement = this.createHtmlElement('div', parentHtmlElementAttribute);\n            var HtmlElementAttribute = {\n                'id': element.id + '_html_element',\n                'class': 'foreign-object'\n            };\n            htmlElement = this.createHtmlElement('div', HtmlElementAttribute);\n            if (formFieldAnnotationType === \"SignatureField\" || formFieldAnnotationType === \"InitialField\") {\n                element.template = htmlElement.appendChild(this.createSignatureDialog(commandHandler, drawingObject));\n            }\n            else if (formFieldAnnotationType === \"DropdownList\") {\n                element.template = htmlElement.appendChild(this.createDropDownList(element, drawingObject));\n            }\n            else if (formFieldAnnotationType === \"ListBox\") {\n                element.template = htmlElement.appendChild(this.createListBox(element, drawingObject));\n            }\n            else {\n                element.template = htmlElement.appendChild(this.createInputElement(formFieldAnnotationType, drawingObject));\n            }\n            this.isSetFormFieldMode = false;\n            var divElement = document.createElement(\"div\");\n            divElement.id = drawingObject.id + '_designer_name';\n            divElement.style.fontSize = drawingObject.fontSize ? (drawingObject.fontSize * zoomValue) + 'px' : (10 * zoomValue) + 'px';\n            divElement.className = \"e-pv-show-designer-name\";\n            if (this.pdfViewer.designerMode) {\n                divElement.innerHTML = drawingObject.name;\n                divElement.style.position = 'absolute';\n            }\n            else {\n                divElement.innerHTML = \"\";\n                divElement.style.position = 'initial';\n            }\n            htmlElement.appendChild(divElement);\n            parentHtmlElement.appendChild(htmlElement);\n            textLayer.appendChild(parentHtmlElement);\n            if (formFieldAnnotationType === \"RadioButton\") {\n                if (document.getElementsByClassName(\"e-pv-radiobtn-span\").length > 0) {\n                    var spanElement = document.getElementsByClassName(\"e-pv-radiobtn-span\");\n                    for (var i = 0; i < spanElement.length; i++) {\n                        var bounds = this.getCheckboxRadioButtonBounds(drawingObject);\n                        spanElement[i].style.width = (bounds.width - 10) + \"px\";\n                        spanElement[i].style.height = (bounds.height - 10) + \"px\";\n                        if (parseInt(spanElement[i].style.width, 10) <= 1 || parseInt(spanElement[i].style.height, 10) <= 1) {\n                            spanElement[i].style.width = \"1px\";\n                            spanElement[i].style.height = \"1px\";\n                            spanElement[i].style.margin = \"1px\";\n                        }\n                    }\n                }\n            }\n            var point = cornersPointsBeforeRotation(element).topLeft;\n            htmlElement.setAttribute('style', 'height:' + (element.actualSize.height * zoomValue) + 'px; width:' + (element.actualSize.width * zoomValue) +\n                'px;left:' + point.x * zoomValue + 'px; top:' + point.y * zoomValue + 'px;' +\n                'position:absolute;transform:rotate(' + (element.rotateAngle + element.parentTransform) + 'deg);' +\n                'pointer-events:' + ((this.pdfViewer.designerMode) ? 'none' : 'all')\n                + ';visibility:' + ((element.visible) ? 'visible' : 'hidden') + ';opacity:' + element.style.opacity + ';');\n            this.updateFormDesignerFieldInSessionStorage(point, element, formFieldAnnotationType, drawingObject);\n            var field = {\n                name: drawingObject.name, id: drawingObject.id, value: drawingObject.value, fontFamily: drawingObject.fontFamily, fontSize: drawingObject.fontSize, fontStyle: drawingObject.fontStyle,\n                color: drawingObject.color, backgroundColor: drawingObject.backgroundColor, alignment: drawingObject.alignment, isReadonly: drawingObject.isReadonly, visibility: drawingObject.visibility,\n                maxLength: drawingObject.maxLength, isRequired: drawingObject.isRequired, isPrint: drawingObject.isPrint, rotation: drawingObject.rotateAngle, tooltip: drawingObject.tooltip,\n                borderColor: drawingObject.borderColor, thickness: drawingObject.thickness, options: drawingObject.options, pageNumber: drawingObject.pageNumber, isChecked: drawingObject.isChecked, isSelected: drawingObject.isSelected\n            };\n            this.pdfViewer.fireFormFieldAddEvent(\"formFieldAdd\", field, this.pdfViewerBase.activeElements.activePageID);\n        }\n        else {\n            var point = cornersPointsBeforeRotation(element).topLeft;\n            this.updateFormDesignerFieldInSessionStorage(point, element, formFieldAnnotationType, drawingObject);\n        }\n        return element.template;\n    };\n    /**\n     * @private\n    */\n    FormDesigner.prototype.updateFormDesignerFieldInSessionStorage = function (point, element, formFieldType, drawingObject) {\n        var zoomValue = this.pdfViewerBase.getZoomFactor();\n        var formDesignObj = {\n            id: element.id, lineBound: { X: point.x * zoomValue, Y: point.y * zoomValue, Width: element.actualSize.width * zoomValue, Height: element.actualSize.height * zoomValue },\n            name: drawingObject.name, zoomValue: zoomValue, pageNumber: drawingObject.pageNumber, value: drawingObject.value, formFieldAnnotationType: formFieldType, isMultiline: drawingObject.isMultiline,\n            signatureType: drawingObject.signatureType, signatureBound: drawingObject.signatureBound,\n            fontFamily: drawingObject.fontFamily, fontSize: drawingObject.fontSize, fontStyle: drawingObject.fontStyle, fontColor: this.getRgbCode(drawingObject.color),\n            borderColor: this.getRgbCode(drawingObject.borderColor), thickness: drawingObject.thickness, backgroundColor: this.getRgbCode(drawingObject.backgroundColor),\n            textAlign: drawingObject.alignment, isChecked: drawingObject.isChecked, isSelected: drawingObject.isSelected, isReadonly: drawingObject.isReadonly, font: {\n                isBold: drawingObject.font.isBold, isItalic: drawingObject.font.isItalic, isStrikeout: drawingObject.font.isStrikeout, isUnderline: drawingObject.font.isUnderline\n            }, selectedIndex: drawingObject.selectedIndex, radiobuttonItem: null, option: drawingObject.options ? drawingObject.options : [], visibility: drawingObject.visibility, maxLength: drawingObject.maxLength, isRequired: drawingObject.isRequired, isPrint: drawingObject.isPrint, rotation: drawingObject.rotateAngle, tooltip: drawingObject.tooltip\n        };\n        if (formDesignObj.formFieldAnnotationType === \"RadioButton\") {\n            formDesignObj.radiobuttonItem = [];\n            formDesignObj.radiobuttonItem.push({\n                id: element.id, lineBound: { X: point.x * zoomValue, Y: point.y * zoomValue, Width: element.actualSize.width * zoomValue, Height: element.actualSize.height * zoomValue },\n                name: drawingObject.name, zoomValue: zoomValue, pageNumber: drawingObject.pageNumber, value: drawingObject.value, formFieldAnnotationType: formFieldType,\n                fontFamily: drawingObject.fontFamily, fontSize: drawingObject.fontSize, fontStyle: drawingObject.fontStyle, fontColor: this.getRgbCode(drawingObject.color),\n                borderColor: this.getRgbCode(drawingObject.borderColor), thickness: drawingObject.thickness, backgroundColor: this.getRgbCode(drawingObject.backgroundColor),\n                textAlign: drawingObject.alignment, isChecked: drawingObject.isChecked, isSelected: drawingObject.isSelected, isReadonly: drawingObject.isReadonly, visibility: drawingObject.visibility,\n                maxLength: drawingObject.maxLength, isRequired: drawingObject.isRequired, isPrint: drawingObject.isPrint, rotation: 0, tooltip: drawingObject.tooltip\n            });\n        }\n        var isItemAdd = this.getRadioButtonItem(formDesignObj, drawingObject);\n        if (!isItemAdd) {\n            for (var i = 0; i < this.pdfViewerBase.formFieldCollection.length; i++) {\n                var formFieldElement = this.pdfViewerBase.formFieldCollection[i];\n                if (formFieldElement[\"Key\"] === formDesignObj.id) {\n                    this.pdfViewerBase.formFieldCollection.splice(i, 1);\n                    this.pdfViewerBase.formFieldCollection.push({ Key: element.id, FormField: formDesignObj });\n                    this.isFormFieldExistingInCollection = true;\n                }\n            }\n            if (!this.isFormFieldExistingInCollection) {\n                this.pdfViewerBase.formFieldCollection.push({ Key: element.id, FormField: formDesignObj });\n            }\n            this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection, '_formDesigner');\n            this.isFormFieldExistingInCollection = false;\n            if (this.pdfViewerBase.formFieldCollection.length > 0) {\n                this.pdfViewerBase.enableFormFieldButton(true);\n            }\n            else {\n                this.pdfViewerBase.enableFormFieldButton(false);\n            }\n        }\n    };\n    FormDesigner.prototype.getRadioButtonItem = function (radiobutton, formFieldProperty) {\n        var data = this.pdfViewerBase.getItemFromSessionStorage('_formDesigner');\n        if (data) {\n            var formFieldsData = JSON.parse(data);\n            var isItemAdd = false;\n            for (var i = 0; i < formFieldsData.length; i++) {\n                var currentData = formFieldsData[i];\n                var radiobuttonItem = void 0;\n                if (radiobutton.formFieldAnnotationType === \"RadioButton\") {\n                    if (radiobutton.radiobuttonItem && currentData.FormField.radiobuttonItem) {\n                        for (var m = 0; m < currentData.FormField.radiobuttonItem.length; m++) {\n                            if (currentData.FormField.radiobuttonItem[m].id === radiobutton.id) {\n                                radiobuttonItem = {\n                                    lineBound: radiobutton.lineBound, id: radiobutton.id,\n                                    name: radiobutton.name, zoomValue: radiobutton.zoomValue, pageNumber: radiobutton.pageNumber, value: radiobutton.value, formFieldAnnotationType: radiobutton.formFieldAnnotationType,\n                                    fontFamily: radiobutton.fontFamily, fontSize: radiobutton.fontSize, fontStyle: radiobutton.fontStyle, fontColor: this.getRgbCode(formFieldProperty.color),\n                                    borderColor: this.getRgbCode(formFieldProperty.borderColor), thickness: formFieldProperty.thickness, backgroundColor: this.getRgbCode(formFieldProperty.backgroundColor), textAlign: radiobutton.textAlign, isChecked: radiobutton.isChecked, isSelected: radiobutton.isSelected,\n                                    isReadonly: radiobutton.isReadonly, visibility: radiobutton.visibility, maxLength: radiobutton.maxLength, isRequired: radiobutton.isRequired, isPrint: radiobutton.isPrint, rotation: 0, tooltip: radiobutton.tooltip\n                                };\n                                currentData.FormField.radiobuttonItem.splice(m, 1);\n                                currentData.FormField.radiobuttonItem.push(radiobuttonItem);\n                                if (!isNullOrUndefined(this.pdfViewerBase.formFieldCollection[i])) {\n                                    if (this.pdfViewerBase.formFieldCollection[i].FormField.name === currentData.FormField.name) {\n                                        this.pdfViewerBase.formFieldCollection[i].FormField.radiobuttonItem = currentData.FormField.radiobuttonItem;\n                                        isItemAdd = true;\n                                    }\n                                }\n                                break;\n                            }\n                            else {\n                                if (radiobutton.formFieldAnnotationType === currentData.FormField.formFieldAnnotationType && radiobutton.name === currentData.FormField.name) {\n                                    radiobuttonItem = {\n                                        lineBound: radiobutton.lineBound, id: radiobutton.id,\n                                        name: radiobutton.name, zoomValue: radiobutton.zoomValue, pageNumber: radiobutton.pageNumber, value: radiobutton.value, formFieldAnnotationType: radiobutton.formFieldAnnotationType,\n                                        fontFamily: radiobutton.fontFamily, fontSize: radiobutton.fontSize, fontStyle: radiobutton.fontStyle, fontColor: this.getRgbCode(formFieldProperty.color),\n                                        borderColor: this.getRgbCode(formFieldProperty.borderColor), thickness: formFieldProperty.thickness, backgroundColor: this.getRgbCode(formFieldProperty.backgroundColor), textAlign: radiobutton.textAlign, isChecked: radiobutton.isChecked, isSelected: radiobutton.isSelected,\n                                        isReadonly: radiobutton.isReadonly, visibility: radiobutton.visibility, maxLength: radiobutton.maxLength, isRequired: radiobutton.isRequired, isPrint: radiobutton.isPrint, rotation: 0, tooltip: radiobutton.tooltip\n                                    };\n                                    var isContainsRadiobuttonItem = false;\n                                    for (var i_1 = 0; i_1 < currentData.FormField.radiobuttonItem.length; i_1++) {\n                                        if (currentData.FormField.radiobuttonItem[i_1].id === radiobuttonItem.id) {\n                                            currentData.FormField.radiobuttonItem[i_1] = radiobuttonItem;\n                                            isContainsRadiobuttonItem = true;\n                                            break;\n                                        }\n                                    }\n                                    if (!isContainsRadiobuttonItem) {\n                                        currentData.FormField.radiobuttonItem.push(radiobuttonItem);\n                                    }\n                                    if (!isNullOrUndefined(this.pdfViewerBase.formFieldCollection[i])) {\n                                        this.pdfViewerBase.formFieldCollection[i].FormField.radiobuttonItem = currentData.FormField.radiobuttonItem;\n                                        isItemAdd = true;\n                                        for (var l = 0; l < this.pdfViewerBase.formFieldCollection.length; l++) {\n                                            var formFieldElement = this.pdfViewerBase.formFieldCollection[l];\n                                            if (formFieldElement[\"Key\"] === radiobuttonItem.id) {\n                                                this.pdfViewerBase.formFieldCollection.splice(l, 1);\n                                            }\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n            if (isItemAdd) {\n                this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection, '_formDesigner');\n            }\n        }\n        return isItemAdd;\n    };\n    // eslint-disable-next-line\n    FormDesigner.prototype.getRgbCode = function (colorString) {\n        if (!colorString.match(/#([a-z0-9]+)/gi) && !colorString.match(/^rgba?\\((\\d+),\\s*(\\d+),\\s*(\\d+)(?:,\\s*(\\d+(?:\\.\\d+)?))?\\)$/)) {\n            var colorCode = this.nameToHash(colorString);\n            if (colorCode != \"\")\n                colorString = colorCode;\n        }\n        var stringArray = colorString.split(',');\n        if (isNullOrUndefined(stringArray[1])) {\n            colorString = this.getValue(colorString, 'rgba');\n            stringArray = colorString.split(',');\n        }\n        // eslint-disable-next-line radix\n        var r = parseInt(stringArray[0].split('(')[1]);\n        // eslint-disable-next-line radix\n        var g = parseInt(stringArray[1]);\n        // eslint-disable-next-line radix\n        var b = parseInt(stringArray[2]);\n        // eslint-disable-next-line radix\n        var a = parseFloat(stringArray[3]) * 100;\n        if (isNaN(a)) {\n            a = 0;\n        }\n        return { r: r, g: g, b: b, a: a };\n    };\n    /**\n     * @param colour\n     * @private\n     */\n    // eslint-disable-next-line\n    FormDesigner.prototype.nameToHash = function (colour) {\n        // eslint-disable-next-line\n        var colours = {\n            'aliceblue': '#f0f8ff', 'antiquewhite': '#faebd7', 'aqua': '#00ffff', 'aquamarine': '#7fffd4', 'azure': '#f0ffff',\n            'beige': '#f5f5dc', 'bisque': '#ffe4c4', 'black': '#000000', 'blanchedalmond': '#ffebcd', 'blue': '#0000ff',\n            'blueviolet': '#8a2be2', 'brown': '#a52a2a', 'burlywood': '#deb887', 'yellow': '#ffff00', 'yellowgreen': '#9acd32',\n            'cadetblue': '#5f9ea0', 'chartreuse': '#7fff00', 'chocolate': '#d2691e', 'coral': '#ff7f50',\n            'cornflowerblue': '#6495ed', 'cornsilk': '#fff8dc', 'crimson': '#dc143c',\n            'cyan': '#00ffff', 'darkblue': '#00008b', 'darkcyan': '#008b8b', 'darkgoldenrod': '#b8860b', 'darkgray': '#a9a9a9',\n            'darkred': '#8b0000', 'darksalmon': '#e9967a', 'darkgreen': '#006400', 'darkkhaki': '#bdb76b',\n            'darkmagenta': '#8b008b', 'darkolivegreen': '#556b2f', 'darkorange': '#ff8c00', 'darkorchid': '#9932cc',\n            'darkseagreen': '#8fbc8f', 'darkslateblue': '#483d8b', 'darkslategray': '#2f4f4f', 'darkturquoise': '#00ced1',\n            'darkviolet': '#9400d3', 'deeppink': '#ff1493', 'deepskyblue': '#00bfff', 'dimgray': '#696969',\n            'dodgerblue': '#1e90ff', 'firebrick': '#b22222', 'floralwhite': '#fffaf0',\n            'forestgreen': '#228b22', 'fuchsia': '#ff00ff', 'gainsboro': '#dcdcdc', 'ghostwhite': '#f8f8ff',\n            'gold': '#ffd700', 'goldenrod': '#daa520', 'gray': '#808080', 'green': '#008000',\n            'greenyellow': '#adff2f', 'honeydew': '#f0fff0', 'hotpink': '#ff69b4', 'indianred ': '#cd5c5c',\n            'mediumorchid': '#ba55d3', 'mediumpurple': '#9370d8', 'indigo': '#4b0082', 'ivory': '#fffff0',\n            'navy': '#000080', 'oldlace': '#fdf5e6', 'olive': '#808000', 'khaki': '#f0e68c',\n            'lavender': '#e6e6fa', 'lavenderblush': '#fff0f5', 'lawngreen': '#7cfc00', 'lemonchiffon': '#fffacd',\n            'lightblue': '#add8e6', 'lightcoral': '#f08080', 'lightcyan': '#e0ffff',\n            'lightgoldenrodyellow': '#fafad2', 'lightgrey': '#d3d3d3', 'lightgreen': '#90ee90',\n            'lightpink': '#ffb6c1', 'lightsalmon': '#ffa07a', 'lightseagreen': '#20b2aa',\n            'lightskyblue': '#87cefa', 'lightslategray': '#778899', 'lightsteelblue': '#b0c4de',\n            'lightyellow': '#ffffe0', 'lime': '#00ff00', 'limegreen': '#32cd32', 'linen': '#faf0e6',\n            'magenta': '#ff00ff', 'maroon': '#800000', 'mediumaquamarine': '#66cdaa', 'mediumblue': '#0000cd',\n            'mediumseagreen': '#3cb371', 'mediumslateblue': '#7b68ee', 'mediumspringgreen': '#00fa9a',\n            'mediumturquoise': '#48d1cc', 'mediumvioletred': '#c71585', 'midnightblue': '#191970',\n            'mintcream': '#f5fffa', 'mistyrose': '#ffe4e1', 'moccasin': '#ffe4b5', 'navajowhite': '#ffdead',\n            'rebeccapurple': '#663399', 'red': '#ff0000', 'rosybrown': '#bc8f8f', 'royalblue': '#4169e1',\n            'olivedrab': '#6b8e23', 'orange': '#ffa500', 'orangered': '#ff4500', 'orchid': '#da70d6',\n            'palegoldenrod': '#eee8aa', 'palegreen': '#98fb98', 'paleturquoise': '#afeeee',\n            'palevioletred': '#d87093', 'papayawhip': '#ffefd5', 'peachpuff': '#ffdab9', 'peru': '#cd853f',\n            'wheat': '#f5deb3', 'white': '#ffffff', 'whitesmoke': '#f5f5f5', 'pink': '#ffc0cb', 'plum': '#dda0dd',\n            'steelblue': '#4682b4', 'violet': '#ee82ee', 'powderblue': '#b0e0e6', 'purple': '#800080',\n            'saddlebrown': '#8b4513', 'salmon': '#fa8072', 'sandybrown': '#f4a460', 'seagreen': '#2e8b57',\n            'seashell': '#fff5ee', 'sienna': '#a0522d', 'silver': '#c0c0c0', 'skyblue': '#87ceeb',\n            'slateblue': '#6a5acd', 'slategray': '#708090', 'snow': '#fffafa', 'springgreen': '#00ff7f',\n            'tan': '#d2b48c', 'teal': '#008080', 'thistle': '#d8bfd8', 'tomato': '#ff6347', 'turquoise': '#40e0d0'\n        };\n        if (typeof colours[colour.toLowerCase()] !== 'undefined') {\n            return colours[colour.toLowerCase()];\n        }\n        return '';\n    };\n    /**\n     * @param value\n     * @param type\n     * @param value\n     * @param type\n     * @private\n     */\n    FormDesigner.prototype.getValue = function (value, type) {\n        type = !type ? 'hex' : type.toLowerCase();\n        if (value[0] === 'r') {\n            var cValue = this.convertRgbToNumberArray(value);\n            if (type === 'hex' || type === 'hexa') {\n                var hex = this.rgbToHex(cValue);\n                return type === 'hex' ? hex.slice(0, 7) : hex;\n            }\n            else {\n                if (type === 'hsv') {\n                    return this.convertToHsvString(this.rgbToHsv.apply(this, cValue.slice(0, 3)));\n                }\n                else {\n                    if (type === 'hsva') {\n                        return this.convertToHsvString(this.rgbToHsv.apply(this, cValue));\n                    }\n                    else {\n                        return 'null';\n                    }\n                }\n            }\n        }\n        else {\n            if (value[0] === 'h') {\n                var cValue = this.hsvToRgb.apply(this, this.convertRgbToNumberArray(value));\n                if (type === 'rgba') {\n                    return this.convertToRgbString(cValue);\n                }\n                else {\n                    if (type === 'hex' || type === 'hexa') {\n                        var hex = this.rgbToHex(cValue);\n                        return type === 'hex' ? hex.slice(0, 7) : hex;\n                    }\n                    else {\n                        if (type === 'rgb') {\n                            return this.convertToRgbString(cValue.slice(0, 3));\n                        }\n                        else {\n                            return 'null';\n                        }\n                    }\n                }\n            }\n            else {\n                value = this.roundValue(value);\n                var rgb = this.hexToRgb(value);\n                if (type === 'rgb' || type === 'hsv') {\n                    rgb = rgb.slice(0, 3);\n                }\n                if (type === 'rgba' || type === 'rgb') {\n                    return this.convertToRgbString(rgb);\n                }\n                else {\n                    if (type === 'hsva' || type === 'hsv') {\n                        return this.convertToHsvString(this.rgbToHsv.apply(this, rgb));\n                    }\n                    else {\n                        if (type === 'hex') {\n                            return value.slice(0, 7);\n                        }\n                        else {\n                            if (type === 'a') {\n                                return rgb[3].toString();\n                            }\n                            else {\n                                return 'null';\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    };\n    FormDesigner.prototype.convertRgbToNumberArray = function (value) {\n        // eslint-disable-next-line max-len\n        return (value.slice(value.indexOf('(') + 1, value.indexOf(')'))).split(',').map(function (n, i) {\n            return (i !== 3) ? parseInt(n, 10) : parseFloat(n);\n        });\n    };\n    FormDesigner.prototype.convertToRgbString = function (rgb) {\n        return rgb.length ? rgb.length === 4 ? 'rgba(' + rgb.join() + ')' : 'rgb(' + rgb.join() + ')' : '';\n    };\n    FormDesigner.prototype.convertToHsvString = function (hsv) {\n        return hsv.length === 4 ? 'hsva(' + hsv.join() + ')' : 'hsv(' + hsv.join() + ')';\n    };\n    FormDesigner.prototype.roundValue = function (value) {\n        if (!value) {\n            return '';\n        }\n        if (value[0] !== '#') {\n            value = '#' + value;\n        }\n        var len = value.length;\n        if (len === 4) {\n            value += 'f';\n            len = 5;\n        }\n        if (len === 5) {\n            var tempValue = '';\n            for (var i = 1, len_1 = value.length; i < len_1; i++) {\n                tempValue += (value.charAt(i) + value.charAt(i));\n            }\n            value = '#' + tempValue;\n            len = 9;\n        }\n        if (len === 7) {\n            value += 'ff';\n        }\n        return value;\n    };\n    FormDesigner.prototype.hexToRgb = function (hex) {\n        if (!hex) {\n            return [];\n        }\n        hex = hex.trim();\n        if (hex.length !== 9) {\n            hex = this.roundValue(hex);\n        }\n        var opacity = Number((parseInt(hex.slice(-2), 16) / 255).toFixed(2));\n        hex = hex.slice(1, 7);\n        var bigInt = parseInt(hex, 16);\n        var h = [];\n        h.push((bigInt >> 16) & 255);\n        h.push((bigInt >> 8) & 255);\n        h.push(bigInt & 255);\n        h.push(opacity);\n        return h;\n    };\n    FormDesigner.prototype.rgbToHsv = function (r, g, b, opacity) {\n        r /= 255;\n        g /= 255;\n        b /= 255;\n        var max = Math.max(r, g, b);\n        var min = Math.min(r, g, b);\n        var h;\n        var s;\n        var v = max;\n        var d = max - min;\n        s = max === 0 ? 0 : d / max;\n        if (max === min) {\n            h = 0;\n        }\n        else {\n            switch (max) {\n                case r:\n                    h = (g - b) / d + (g < b ? 6 : 0);\n                    break;\n                case g:\n                    h = (b - r) / d + 2;\n                    break;\n                case b:\n                    h = (r - g) / d + 4;\n                    break;\n            }\n            h /= 6;\n        }\n        var hsv = [Math.round(h * 360), Math.round(s * 1000) / 10, Math.round(v * 1000) / 10];\n        if (!isNullOrUndefined(opacity)) {\n            hsv.push(opacity);\n        }\n        return hsv;\n    };\n    FormDesigner.prototype.hsvToRgb = function (h, s, v, opacity) {\n        var r;\n        var g;\n        var b;\n        var i;\n        var f;\n        var p;\n        var q;\n        var t;\n        s /= 100;\n        v /= 100;\n        if (s === 0) {\n            r = g = b = v;\n            return [Math.round(r * 255), Math.round(g * 255), Math.round(b * 255), opacity];\n        }\n        h /= 60;\n        i = Math.floor(h);\n        f = h - i;\n        p = v * (1 - s);\n        q = v * (1 - s * f);\n        t = v * (1 - s * (1 - f));\n        switch (i) {\n            case 0:\n                r = v;\n                g = t;\n                b = p;\n                break;\n            case 1:\n                r = q;\n                g = v;\n                b = p;\n                break;\n            case 2:\n                r = p;\n                g = v;\n                b = t;\n                break;\n            case 3:\n                r = p;\n                g = q;\n                b = v;\n                break;\n            case 4:\n                r = t;\n                g = p;\n                b = v;\n                break;\n            default:\n                r = v;\n                g = p;\n                b = q;\n        }\n        var rgb = [Math.round(r * 255), Math.round(g * 255), Math.round(b * 255)];\n        if (!isNullOrUndefined(opacity)) {\n            rgb.push(opacity);\n        }\n        return rgb;\n    };\n    FormDesigner.prototype.rgbToHex = function (rgb) {\n        // eslint-disable-next-line max-len\n        return rgb.length ? ('#' + this.hex(rgb[0]) + this.hex(rgb[1]) + this.hex(rgb[2]) +\n            (!isNullOrUndefined(rgb[3]) ? (rgb[3] !== 0 ? (Math.round(rgb[3] * 255) + 0x10000).toString(16).substr(-2) : '00') : '')) : '';\n    };\n    /**\n     * @private\n     */\n    FormDesigner.prototype.updateCanvas = function (pageNumber, canvas) {\n        if (canvas !== null && canvas !== undefined) {\n            canvas = canvas;\n        }\n        else {\n            canvas = this.pdfViewerBase.getElement('_annotationCanvas_' + pageNumber);\n            var zoom = this.pdfViewerBase.getZoomFactor();\n            var ratio = this.pdfViewerBase.getZoomRatio(zoom);\n            if (canvas) {\n                var width = this.pdfViewerBase.pageSize[pageNumber].width;\n                var height = this.pdfViewerBase.pageSize[pageNumber].height;\n                canvas.width = width * ratio;\n                canvas.height = height * ratio;\n                canvas.style.width = width * zoom + 'px';\n                canvas.style.height = height * zoom + 'px';\n            }\n        }\n        this.pdfViewer.drawing.refreshCanvasDiagramLayer(canvas, pageNumber);\n    };\n    /**\n     * @private\n    */\n    FormDesigner.prototype.rerenderFormFields = function (pageIndex) {\n        var zoomValue = this.pdfViewerBase.getZoomFactor();\n        var data = this.pdfViewerBase.getItemFromSessionStorage('_formDesigner');\n        if (data) {\n            var formFieldsData = JSON.parse(data);\n            var textLayer = document.getElementById(this.pdfViewer.element.id + '_textLayer_' + pageIndex);\n            var canvasElement = document.getElementById(this.pdfViewer.element.id + '_pageCanvas_' + pageIndex);\n            if (formFieldsData !== null && canvasElement !== null && textLayer !== null) {\n                for (var i = 0; i < formFieldsData.length; i++) {\n                    // eslint-disable-next-line\n                    var currentData = formFieldsData[i].FormField;\n                    if (currentData.pageNumber === pageIndex + 1) {\n                        var domElementId = document.getElementById('form_field_' + currentData.id + '_html_element');\n                        if (!domElementId) {\n                            var signatureField = this.pdfViewer.nameTable[formFieldsData[i].Key.split(\"_\")[0]];\n                            var element = signatureField.wrapper.children[0];\n                            if (element) {\n                                if (currentData.formFieldAnnotationType === \"RadioButton\") {\n                                    for (var j = 0; j < currentData.radiobuttonItem.length; j++) {\n                                        signatureField = this.pdfViewer.nameTable[currentData.radiobuttonItem[j].id.split(\"_\")[0]];\n                                        element = signatureField.wrapper.children[0];\n                                        currentData.radiobuttonItem[j] = this.renderFormFieldsInZooming(element, currentData.radiobuttonItem[j], signatureField, zoomValue);\n                                        this.pdfViewerBase.formFieldCollection[i].FormField.radiobuttonItem[j].lineBound = currentData.radiobuttonItem[j].lineBound;\n                                        this.pdfViewerBase.formFieldCollection[i].FormField.radiobuttonItem[j].zoomValue = zoomValue;\n                                    }\n                                }\n                                else {\n                                    currentData.lineBound = this.renderFormFieldsInZooming(element, currentData, signatureField, zoomValue).lineBound;\n                                    this.pdfViewerBase.formFieldCollection[i].FormField.lineBound = currentData.lineBound;\n                                    this.pdfViewerBase.formFieldCollection[i].FormField.zoomValue = zoomValue;\n                                }\n                                this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection, '_formDesigner');\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    };\n    FormDesigner.prototype.renderFormFieldsInZooming = function (element, currentData, signatureField, zoomValue) {\n        if (element) {\n            var htmlElement = void 0;\n            var parentHtmlElement = void 0;\n            var parentHtmlElementAttribute = {\n                'id': \"form_field_\" + element.id + '_html_element',\n                'class': 'foreign-object'\n            };\n            parentHtmlElement = this.createHtmlElement('div', parentHtmlElementAttribute);\n            var HtmlElementAttribute = {\n                'id': element.id + '_html_element',\n                'class': 'foreign-object'\n            };\n            htmlElement = this.createHtmlElement('div', HtmlElementAttribute);\n            if (currentData.formFieldAnnotationType === \"SignatureField\" || currentData.formFieldAnnotationType === \"InitialField\") {\n                this.disableSignatureClickEvent = true;\n                signatureField.value = currentData.value;\n                signatureField.signatureType = currentData.signatureType;\n                signatureField.signatureBound = currentData.signatureBound;\n                element.template = htmlElement.appendChild(this.createSignatureDialog(this.pdfViewer, signatureField));\n                this.disableSignatureClickEvent = false;\n            }\n            else if (currentData.formFieldAnnotationType === \"DropdownList\") {\n                element.template = htmlElement.appendChild(this.createDropDownList(element, signatureField));\n            }\n            else if (currentData.formFieldAnnotationType === \"ListBox\") {\n                element.template = htmlElement.appendChild(this.createListBox(element, signatureField));\n            }\n            else {\n                element.template = htmlElement.appendChild(this.createInputElement(currentData.formFieldAnnotationType, signatureField));\n            }\n            var divElement = document.createElement(\"div\");\n            divElement.id = signatureField.id + '_designer_name';\n            divElement.style.fontSize = signatureField.fontSize ? (signatureField.fontSize * zoomValue) + 'px' : (10 * zoomValue) + 'px';\n            divElement.className = \"e-pv-show-designer-name\";\n            if (this.pdfViewer.designerMode) {\n                divElement.innerHTML = signatureField.name;\n                divElement.style.position = 'absolute';\n            }\n            else {\n                divElement.innerHTML = \"\";\n                divElement.style.position = 'initial';\n            }\n            htmlElement.appendChild(divElement);\n            parentHtmlElement.appendChild(htmlElement);\n            var textLayer = document.getElementById(this.pdfViewer.element.id + '_textLayer_' + (currentData.pageNumber - 1));\n            textLayer.appendChild(parentHtmlElement);\n            if (signatureField.formFieldAnnotationType === \"RadioButton\") {\n                if (document.getElementsByClassName(\"e-pv-radiobtn-span\").length > 0) {\n                    var bounds = this.getCheckboxRadioButtonBounds(signatureField);\n                    var spanElement = document.getElementsByClassName(\"e-pv-radiobtn-span\");\n                    // this.renderRadioButtonSpan(spanElement, bounds, zoomValue);\n                }\n            }\n            var point = cornersPointsBeforeRotation(signatureField.wrapper.children[0]).topLeft;\n            htmlElement.setAttribute('style', 'height:' + (element.actualSize.height * zoomValue) + 'px; width:' + (element.actualSize.width * zoomValue) +\n                'px;left:' + point.x * zoomValue + 'px; top:' + point.y * zoomValue + 'px;' +\n                'position:absolute;transform:rotate(' + (element.rotateAngle + element.parentTransform) + 'deg);' +\n                'pointer-events:' + ((this.pdfViewer.designerMode) ? 'none' : 'all')\n                + ';visibility:' + ((element.visible) ? 'visible' : 'hidden') + ';opacity:' + element.style.opacity + ';');\n            currentData.lineBound = { X: point.x * zoomValue, Y: point.y * zoomValue, Width: element.actualSize.width * zoomValue, Height: element.actualSize.height * zoomValue };\n        }\n        return currentData;\n    };\n    /* This method was commented for this task ID EJ2-61222, A method renderRadioButtonSpan was\n        implemented and the values which was already taken from getCheckBoxRadioButtonBounds,\n        are again calculated based on zoomValues and the size of the radio button was changed.\n        This makes the radio button big in size. Refer previous task IDs EJ2-50668 and EJ2-57850 Where these lines were added. */\n    /* private renderRadioButtonSpan(spanElement: HTMLCollectionOf<Element>, bounds: any, zoomValue: number): void {\n        for (let i: number = 0; i < spanElement.length; i++) {\n            (spanElement as any)[i].style.width = Math.floor(bounds.width - 10) + \"px\";\n            (spanElement as any)[i].style.height = Math.floor(bounds.height - 10) + \"px\";\n            if (bounds.width <= 14 && parseInt((spanElement as any)[i].style.width, 10) >= 2) {\n                if (parseInt((spanElement as any)[i].style.width, 10) <= 5) {\n                    if (bounds.width > 10) {\n                        (spanElement as any)[i].style.width = Math.floor(bounds.width / (1 + zoomValue)) + \"px\";\n                        (spanElement as any)[i].style.height = Math.floor(bounds.height / (1 + zoomValue)) + \"px\";\n                        (spanElement as any)[i].style.margin = Math.round(bounds.width / 4) + \"px\";\n                    }\n                    else if (bounds.width < 10 && bounds.width > 5) {\n                        (spanElement as any)[i].style.width = (bounds.width / 1.85) + \"px\";\n                        (spanElement as any)[i].style.height = (bounds.height / 1.85) + \"px\";\n                    }\n                    else if (bounds.width <= 5) {\n                        (spanElement as any)[i].style.width = (bounds.width / 1.85) + \"px\";\n                        (spanElement as any)[i].style.height = (bounds.height / 1.85) + \"px\";\n                        (spanElement as any)[i].style.margin = (bounds.width / 3.5) + \"px\";\n                    }\n                }\n            }\n            if (parseInt((spanElement as any)[i].style.width, 10) <= 1 || parseInt((spanElement as any)[i].style.height, 10) <= 1) {\n                if ((bounds.width * zoomValue) >= 2) {\n                    (spanElement as any)[i].style.width = Math.round(bounds.width / 1.65) + \"px\";\n                    (spanElement as any)[i].style.height = Math.round(bounds.height / 1.65) + \"px\";\n                    (spanElement as any)[i].style.margin = bounds.width / 3.8 + \"px\";;\n                } else {\n                    (spanElement as any)[i].style.width = \"1px\";\n                    (spanElement as any)[i].style.height = \"1px\";\n                    (spanElement as any)[i].style.margin = \"1px\";\n                }\n            }\n            if (bounds.width > 14) {\n                (spanElement as any)[i].style.width = (bounds.width / 2) + \"px\";\n                (spanElement[i] as any).style.height = (bounds.height / 2) + \"px\";\n            }\n            if (zoomValue <= 1 && zoomValue > 0.70) {\n                (spanElement as any)[i].style.width = (bounds.width / 1.85) + \"px\";\n                (spanElement[i] as any).style.height = (bounds.height / 1.85) + \"px\";\n            }\n\n        }\n    }\n    */\n    /**\n     * @private\n     */\n    FormDesigner.prototype.updateFormFieldInitialSize = function (obj, formFieldAnnotationType) {\n        var zoomValue = this.pdfViewerBase.getZoomFactor();\n        switch (formFieldAnnotationType) {\n            case 'Textbox':\n                obj.width = 200 * zoomValue;\n                obj.height = 24 * zoomValue;\n                break;\n            case 'PasswordField':\n                obj.width = 200 * zoomValue;\n                obj.height = 24 * zoomValue;\n                break;\n            case 'SignatureField':\n            case 'InitialField':\n                obj.width = 200 * zoomValue;\n                obj.height = 63 * zoomValue;\n                break;\n            case 'Checkbox':\n                obj.width = 20 * zoomValue;\n                obj.height = 20 * zoomValue;\n                break;\n            case 'RadioButton':\n                obj.width = 20 * zoomValue;\n                obj.height = 20 * zoomValue;\n                break;\n            case 'DropdownList':\n                obj.width = 200 * zoomValue;\n                obj.height = 24 * zoomValue;\n                break;\n            case 'ListBox':\n                obj.width = 198 * zoomValue;\n                obj.height = 66 * zoomValue;\n                break;\n        }\n        return { width: obj.width, height: obj.height };\n    };\n    /**\n     * @private\n    */\n    FormDesigner.prototype.updateHTMLElement = function (actualObject) {\n        var element = actualObject.wrapper.children[0];\n        var zoomValue = this.pdfViewerBase.getZoomFactor();\n        if (element) {\n            var htmlElement = document.getElementById(element.id + \"_html_element\");\n            if (!isNullOrUndefined(htmlElement)) {\n                var point = cornersPointsBeforeRotation(actualObject.wrapper.children[0]).topLeft;\n                htmlElement.setAttribute('style', 'height:' + (element.actualSize.height * zoomValue) + 'px; width:' + (element.actualSize.width * zoomValue) +\n                    'px;left:' + point.x * zoomValue + 'px; top:' + point.y * zoomValue + 'px;' +\n                    'position:absolute;transform:rotate(' + (element.rotateAngle + element.parentTransform) + 'deg);' +\n                    'pointer-events:' + ((this.pdfViewer.designerMode) ? 'none' : 'all')\n                    + ';visibility:' + ((element.visible) ? 'visible' : 'hidden') + ';opacity:' + element.style.opacity + ';');\n                var data = this.pdfViewerBase.getItemFromSessionStorage('_formDesigner');\n                if (actualObject.formFieldAnnotationType === \"RadioButton\") {\n                    var labelContainer = htmlElement.firstElementChild.firstElementChild;\n                    var spanElement = htmlElement.firstElementChild.firstElementChild.lastElementChild;\n                    if (element.actualSize.width > element.actualSize.height) {\n                        htmlElement.firstElementChild.style.display = \"inherit\";\n                        labelContainer.style.width = labelContainer.style.height = (element.actualSize.height * zoomValue) + \"px\";\n                        spanElement.style.width = spanElement.style.height = (element.actualSize.height - 10) + \"px\";\n                    }\n                    else {\n                        htmlElement.firstElementChild.style.display = \"flex\";\n                        labelContainer.style.width = labelContainer.style.height = (element.actualSize.width * zoomValue) + \"px\";\n                        spanElement.style.width = spanElement.style.height = (element.actualSize.width - 10) + \"px\";\n                    }\n                }\n                if (actualObject.formFieldAnnotationType === \"Checkbox\") {\n                    var minCheckboxWidth = 20;\n                    var labelContainer = htmlElement.firstElementChild.firstElementChild;\n                    var spanElement = htmlElement.firstElementChild.firstElementChild.lastElementChild.firstElementChild;\n                    if (element.actualSize.width > element.actualSize.height) {\n                        htmlElement.firstElementChild.style.display = \"inherit\";\n                        labelContainer.style.width = labelContainer.style.height = (element.actualSize.height * zoomValue) + \"px\";\n                        spanElement.style.width = ((element.actualSize.height / 5) * zoomValue) + \"px\";\n                        spanElement.style.height = ((element.actualSize.height / 2.5) * zoomValue) + \"px\";\n                        spanElement.style.left = ((element.actualSize.height / 2.5) * zoomValue) + \"px\";\n                        spanElement.style.top = ((element.actualSize.height / 5) * zoomValue) + \"px\";\n                    }\n                    else {\n                        htmlElement.firstElementChild.style.display = \"flex\";\n                        labelContainer.style.width = labelContainer.style.height = (element.actualSize.width * zoomValue) + \"px\";\n                        spanElement.style.width = ((element.actualSize.width / 5) * zoomValue) + \"px\";\n                        spanElement.style.height = ((element.actualSize.width / 2.5) * zoomValue) + \"px\";\n                        spanElement.style.left = ((element.actualSize.width / 2.5) * zoomValue) + \"px\";\n                        spanElement.style.top = ((element.actualSize.width / 5) * zoomValue) + \"px\";\n                    }\n                    if (spanElement.className.indexOf(\"e-pv-cb-checked\") !== -1) {\n                        var checkboxWidth = parseInt(labelContainer.style.width, 10);\n                        if (checkboxWidth > minCheckboxWidth) {\n                            spanElement.style.borderWidth = \"3px\";\n                        }\n                        else if (checkboxWidth <= 15) {\n                            spanElement.style.borderWidth = \"1px\";\n                        }\n                        else {\n                            spanElement.style.borderWidth = \"2px\";\n                        }\n                    }\n                }\n                if (actualObject.formFieldAnnotationType === \"SignatureField\") {\n                    var signatureDiv = htmlElement.firstElementChild.firstElementChild;\n                    var indicatorSpan = signatureDiv.nextElementSibling;\n                    var bounds = this.getBounds(indicatorSpan);\n                    var options = {\n                        height: element.actualSize.height,\n                        width: element.actualSize.width,\n                        signatureIndicatorSettings: {\n                            text: indicatorSpan.textContent,\n                            width: bounds.width,\n                            height: bounds.height,\n                        }\n                    };\n                    this.updateSignatureIndicator(actualObject, options, signatureDiv);\n                }\n                var formFieldsData = JSON.parse(data);\n                for (var i = 0; i < formFieldsData.length; i++) {\n                    if (formFieldsData[i].FormField.formFieldAnnotationType === \"RadioButton\") {\n                        for (var j = 0; j < formFieldsData[i].FormField.radiobuttonItem.length; j++) {\n                            if (element.id === formFieldsData[i].FormField.radiobuttonItem[j].id) {\n                                this.pdfViewerBase.formFieldCollection[i].FormField.radiobuttonItem[j].lineBound = { X: point.x * zoomValue, Y: point.y * zoomValue, Width: element.actualSize.width * zoomValue, Height: element.actualSize.height * zoomValue };\n                                this.pdfViewerBase.formFieldCollection[i].FormField.radiobuttonItem[j].zoomValue = zoomValue;\n                                break;\n                            }\n                        }\n                    }\n                    else {\n                        if (formFieldsData[i].Key === element.id) {\n                            formFieldsData[i].FormField.lineBound = { X: point.x * zoomValue, Y: point.y * zoomValue, Width: element.actualSize.width * zoomValue, Height: element.actualSize.height * zoomValue };\n                            this.pdfViewerBase.formFieldCollection[i].FormField.lineBound = formFieldsData[i].FormField.lineBound;\n                        }\n                    }\n                }\n                this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection, '_formDesigner');\n            }\n        }\n    };\n    FormDesigner.prototype.getCheckboxRadioButtonBounds = function (drawingObject, bounds) {\n        var zoomValue = this.pdfViewerBase.getZoomFactor();\n        var width = 0;\n        var height = 0;\n        var display = '';\n        if (bounds) {\n            if (bounds.width > bounds.height) {\n                width = height = bounds.height * zoomValue;\n                display = \"inherit\";\n            }\n            else {\n                width = height = bounds.width * zoomValue;\n                display = \"flex\";\n            }\n        }\n        else if (drawingObject) {\n            if (drawingObject.bounds.width > drawingObject.bounds.height) {\n                width = height = drawingObject.bounds.height * zoomValue;\n                display = \"inherit\";\n            }\n            else {\n                width = height = drawingObject.bounds.width * zoomValue;\n                display = \"flex\";\n            }\n        }\n        return { width: width, height: height, display: display };\n    };\n    FormDesigner.prototype.updateSessionFormFieldProperties = function (updatedFormFields) {\n        var zoomValue = this.pdfViewerBase.getZoomFactor();\n        var element = updatedFormFields.wrapper.children[0];\n        var data = this.pdfViewerBase.getItemFromSessionStorage('_formDesigner');\n        var formFieldsData = JSON.parse(data);\n        for (var i = 0; i < formFieldsData.length; i++) {\n            if (formFieldsData[i].FormField.formFieldAnnotationType === \"RadioButton\") {\n                for (var j = 0; j < formFieldsData[i].FormField.radiobuttonItem.length; j++) {\n                    if (element.id === formFieldsData[i].FormField.radiobuttonItem[j].id) {\n                        var radioButtonItemUpdate = {\n                            id: element.id, lineBound: { X: element.bounds.x * zoomValue, Y: element.bounds.y * zoomValue, Width: element.bounds.width * zoomValue, Height: element.bounds.height * zoomValue },\n                            name: updatedFormFields.name, zoomValue: zoomValue, pageNumber: updatedFormFields.pageNumber, value: updatedFormFields.value, formFieldAnnotationType: updatedFormFields.formFieldAnnotationType,\n                            fontFamily: updatedFormFields.fontFamily, fontSize: updatedFormFields.fontSize, fontStyle: updatedFormFields.fontStyle, fontColor: this.getRgbCode(updatedFormFields.color),\n                            backgroundColor: this.getRgbCode(updatedFormFields.backgroundColor), borderColor: this.getRgbCode(updatedFormFields.borderColor), thickness: updatedFormFields.thickness, textAlign: updatedFormFields.alignment, isChecked: updatedFormFields.isChecked, isSelected: updatedFormFields.isSelected,\n                            isReadonly: updatedFormFields.isReadonly, visibility: updatedFormFields.visibility, maxLength: updatedFormFields.maxLength, isRequired: updatedFormFields.isRequired, isPrint: updatedFormFields.isPrint, rotation: 0, tooltip: updatedFormFields.tooltip\n                        };\n                        formFieldsData[i].FormField.radiobuttonItem[j] = radioButtonItemUpdate;\n                        if (this.pdfViewerBase.formFieldCollection[i] && this.pdfViewerBase.formFieldCollection[i].FormField && this.pdfViewerBase.formFieldCollection[i].FormField.radiobuttonItem[j]) {\n                            this.pdfViewerBase.formFieldCollection[i].FormField.radiobuttonItem[j] = radioButtonItemUpdate;\n                        }\n                        break;\n                    }\n                }\n            }\n            else if (formFieldsData[i].Key === element.id) {\n                var formDesignObj = {\n                    id: element.id, lineBound: { X: element.bounds.x * zoomValue, Y: element.bounds.y * zoomValue, Width: element.bounds.width * zoomValue, Height: element.bounds.height * zoomValue },\n                    name: updatedFormFields.name, zoomValue: zoomValue, pageNumber: updatedFormFields.pageNumber, value: updatedFormFields.value, formFieldAnnotationType: updatedFormFields.formFieldAnnotationType,\n                    fontFamily: updatedFormFields.fontFamily, fontSize: updatedFormFields.fontSize, fontStyle: updatedFormFields.fontStyle, fontColor: this.getRgbCode(updatedFormFields.color),\n                    backgroundColor: this.getRgbCode(updatedFormFields.backgroundColor), borderColor: this.getRgbCode(updatedFormFields.borderColor), thickness: updatedFormFields.thickness, textAlign: updatedFormFields.alignment, isChecked: updatedFormFields.isChecked, isSelected: updatedFormFields.isSelected,\n                    isReadonly: updatedFormFields.isReadonly, font: { isBold: updatedFormFields.font.isBold, isItalic: updatedFormFields.font.isItalic, isStrikeout: updatedFormFields.font.isStrikeout, isUnderline: updatedFormFields.font.isUnderline }, selectedIndex: [], radiobuttonItem: null, option: updatedFormFields.options ? updatedFormFields.options : [], visibility: updatedFormFields.visibility, maxLength: updatedFormFields.maxLength, isRequired: updatedFormFields.isRequired, isPrint: updatedFormFields.isPrint, rotation: 0, tooltip: updatedFormFields.tooltip\n                };\n                if (formFieldsData[i].FormField.formFieldAnnotationType === \"SignatureField\" || formFieldsData[i].FormField.formFieldAnnotationType === \"InitialField\") {\n                    var updatedSignatureFormFields = updatedFormFields;\n                    var formDesignObj_1 = {\n                        id: element.id, lineBound: { X: element.bounds.x * zoomValue, Y: element.bounds.y * zoomValue, Width: element.bounds.width * zoomValue, Height: element.bounds.height * zoomValue },\n                        name: updatedFormFields.name, zoomValue: zoomValue, pageNumber: updatedFormFields.pageNumber, value: updatedFormFields.value, formFieldAnnotationType: updatedFormFields.formFieldAnnotationType,\n                        fontFamily: updatedFormFields.fontFamily, fontSize: updatedFormFields.fontSize, fontStyle: updatedFormFields.fontStyle, fontColor: this.getRgbCode(updatedFormFields.color),\n                        backgroundColor: this.getRgbCode(updatedFormFields.backgroundColor), borderColor: this.getRgbCode(updatedFormFields.borderColor), thickness: updatedFormFields.thickness, textAlign: updatedFormFields.alignment, isChecked: updatedFormFields.isChecked, isSelected: updatedFormFields.isSelected,\n                        isReadonly: updatedFormFields.isReadonly, font: { isBold: updatedFormFields.font.isBold, isItalic: updatedFormFields.font.isItalic, isStrikeout: updatedFormFields.font.isStrikeout, isUnderline: updatedFormFields.font.isUnderline }, selectedIndex: [], radiobuttonItem: null, option: updatedFormFields.options ? updatedFormFields.options : [], visibility: updatedFormFields.visibility, maxLength: updatedFormFields.maxLength, isRequired: updatedFormFields.isRequired, isPrint: updatedFormFields.isPrint, rotation: 0, tooltip: updatedFormFields.tooltip,\n                        signatureType: updatedFormFields.signatureType, signatureBound: updatedSignatureFormFields.signatureBound\n                    };\n                    formFieldsData[i].FormField = formDesignObj_1;\n                    this.pdfViewerBase.formFieldCollection[i].FormField = formDesignObj_1;\n                }\n                else {\n                    formFieldsData[i].FormField = formDesignObj;\n                    this.pdfViewerBase.formFieldCollection[i].FormField = formDesignObj;\n                }\n                break;\n            }\n        }\n        if (this.pdfViewerBase.formFieldCollection.length > 0) {\n            this.pdfViewerBase.enableFormFieldButton(true);\n        }\n        else {\n            this.pdfViewerBase.enableFormFieldButton(false);\n        }\n        this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection, '_formDesigner');\n    };\n    /**\n     * @private\n     */\n    FormDesigner.prototype.createSignatureDialog = function (commandHandler, signatureField, bounds, isPrint) {\n        this.isInitialField = isNullOrUndefined(signatureField.isInitialField) ? false : signatureField.isInitialField;\n        this.pdfViewerBase.isInitialField = this.isInitialField;\n        this.pdfViewerBase.isInitialField = signatureField.isInitialField;\n        var element = createElement(\"div\");\n        element.className = \"foreign-object\";\n        element.style.position = \"absolute\";\n        element.style.width = \"100%\";\n        element.style.height = \"100%\";\n        var divElement = createElement(\"div\");\n        divElement.style.width = \"100%\";\n        divElement.style.height = \"100%\";\n        divElement.style.position = \"absolute\";\n        divElement.style.backgroundColor = \"transparent\";\n        divElement.style.border = \"1px solid #303030\";\n        if (!isNullOrUndefined(signatureField.value) && signatureField.value !== '') {\n            divElement.className = 'e-pdfviewer-signatureformfields-signature';\n            divElement.style.pointerEvents = 'none';\n        }\n        else {\n            divElement.className = 'e-pdfviewer-signatureformfields';\n            divElement.style.pointerEvents = '';\n        }\n        divElement.id = signatureField.id;\n        divElement.disabled = signatureField.isReadonly;\n        element.appendChild(divElement);\n        var signatureFieldSettings = this.pdfViewer.signatureFieldSettings;\n        if (!signatureFieldSettings.signatureIndicatorSettings) {\n            signatureFieldSettings.signatureIndicatorSettings = { opacity: 1, backgroundColor: 'orange', width: 19, height: 10, fontSize: 10, text: null, color: 'black' };\n        }\n        if (!signatureFieldSettings.signatureDialogSettings) {\n            signatureFieldSettings.signatureDialogSettings = { displayMode: DisplayMode.Draw | DisplayMode.Text | DisplayMode.Upload, hideSaveSignature: false };\n        }\n        //check whether the width for sign indicator has default value or not and then set the default width value for initial field.\n        var defaultWidth = this.pdfViewer.signatureFieldSettings.signatureIndicatorSettings.width === 19 ? (signatureField.isInitialField ? 30 : 25) : this.pdfViewer.signatureFieldSettings.signatureIndicatorSettings.width;\n        var signatureFieldIndicatorWidth = (signatureField.signatureIndicatorSettings && signatureField.signatureIndicatorSettings.width) ? signatureField.signatureIndicatorSettings.width : defaultWidth;\n        var defaultHeight = this.pdfViewer.signatureFieldSettings.signatureIndicatorSettings.height === 10 ? 13 : this.pdfViewer.signatureFieldSettings.signatureIndicatorSettings.height;\n        var signatureFieldIndicatorHeight = (signatureField.signatureIndicatorSettings && signatureField.signatureIndicatorSettings.height) ? signatureField.signatureIndicatorSettings.height : defaultHeight;\n        var signatureFieldIndicatorBG = this.pdfViewer.signatureFieldSettings.signatureIndicatorSettings.backgroundColor === 'orange' ? '#FFE48559' : this.pdfViewer.signatureFieldSettings.signatureIndicatorSettings.backgroundColor;\n        var signIndicator = signatureField.isInitialField ? \"Initial\" : \"Sign\";\n        var signatureFieldWidth = signatureField.bounds ? signatureField.bounds.width : bounds.width;\n        var signatureFieldHeight = signatureField.bounds ? signatureField.bounds.height : bounds.height;\n        // eslint-disable-next-line max-len\n        var height = signatureFieldIndicatorHeight > signatureFieldHeight / 2 ? signatureFieldHeight / 2 : signatureFieldIndicatorHeight;\n        // eslint-disable-next-line max-len\n        var width = signatureFieldIndicatorWidth > signatureFieldWidth / 2 ? signatureFieldWidth / 2 : signatureFieldIndicatorWidth;\n        var fontSize = 10;\n        if (signatureField.signatureIndicatorSettings && signatureField.signatureIndicatorSettings.fontSize)\n            // eslint-disable-next-line max-len\n            fontSize = signatureField.signatureIndicatorSettings.fontSize > height / 2 ? 10 : signatureField.signatureIndicatorSettings.fontSize;\n        else\n            // eslint-disable-next-line max-len\n            fontSize = this.pdfViewer.signatureFieldSettings.signatureIndicatorSettings.fontSize > height / 2 ? 10 : this.pdfViewer.signatureFieldSettings.signatureIndicatorSettings.fontSize;\n        var spanElement = createElement(\"span\");\n        var initialFieldSettings = this.pdfViewer.initialFieldSettings;\n        if (!initialFieldSettings.initialIndicatorSettings) {\n            initialFieldSettings.initialIndicatorSettings = { opacity: 1, backgroundColor: 'orange', width: 19, height: 10, fontSize: 10, text: null, color: 'black' };\n        }\n        if (!initialFieldSettings.initialDialogSettings) {\n            initialFieldSettings.initialDialogSettings = { displayMode: DisplayMode.Draw | DisplayMode.Text | DisplayMode.Upload, hideSaveSignature: false };\n        }\n        var fieldText = signatureField.signatureIndicatorSettings ? signatureField.signatureIndicatorSettings.text : null;\n        if (signatureField.isInitialField) {\n            spanElement.id = \"initialIcon\" + signatureField.pageIndex + \"_\" + this.setFormFieldIdIndex();\n            this.setIndicatorText(spanElement, fieldText, this.pdfViewer.initialFieldSettings.initialIndicatorSettings.text, \"Initial\");\n        }\n        else {\n            spanElement.style.height = '';\n            spanElement.style.width = '';\n            spanElement.id = \"signIcon\" + signatureField.pageIndex + \"_\" + this.setFormFieldIdIndex();\n            this.setIndicatorText(spanElement, fieldText, this.pdfViewer.signatureFieldSettings.signatureIndicatorSettings.text, \"Sign\");\n        }\n        spanElement.style.overflow = \"hidden\";\n        spanElement.style.whiteSpace = \"nowrap\";\n        spanElement.style.padding = \"2px 3px 2px 1px\";\n        spanElement.style.boxSizing = \"border-box\";\n        var zoomValue = this.pdfViewerBase.getZoomFactor();\n        spanElement.style.textAlign = \"left\";\n        spanElement.style.fontSize = (fontSize * zoomValue) + 'px';\n        var boundsOfSpan = this.getBounds(spanElement);\n        spanElement.style.color = (signatureField.signatureIndicatorSettings && signatureField.signatureIndicatorSettings.color) ? signatureField.signatureIndicatorSettings.color : this.pdfViewer.signatureFieldSettings.signatureIndicatorSettings.color;\n        // eslint-disable-next-line\n        spanElement.style.backgroundColor = (signatureField.signatureIndicatorSettings && signatureField.signatureIndicatorSettings.backgroundColor) ? signatureField.signatureIndicatorSettings.backgroundColor : signatureFieldIndicatorBG;\n        spanElement.style.background = (signatureField.signatureIndicatorSettings && signatureField.signatureIndicatorSettings.background) ? signatureField.signatureIndicatorSettings.background : spanElement.style.backgroundColor;\n        spanElement.style.opacity = (signatureField.signatureIndicatorSettings && signatureField.signatureIndicatorSettings.opacity) ? signatureField.signatureIndicatorSettings.opacity : this.pdfViewer.signatureFieldSettings.signatureIndicatorSettings.opacity;\n        spanElement.style.position = \"absolute\";\n        spanElement.style.width = width * zoomValue + 'px';\n        spanElement.style.height = height * zoomValue + 'px';\n        var widthNew = this.setHeightWidth(signatureFieldWidth, width, boundsOfSpan.width + fontSize, zoomValue);\n        spanElement.style.width = widthNew + (fontSize * zoomValue) + \"px\";\n        var heightNew = this.setHeightWidth(signatureFieldHeight, height, boundsOfSpan.height, zoomValue);\n        spanElement.style.height = heightNew + \"px\";\n        if (!isPrint) {\n            element.appendChild(spanElement);\n        }\n        this.updateSignInitialFieldProperties(signatureField, signatureField.isInitialField, this.pdfViewer.isFormDesignerToolbarVisible, this.isSetFormFieldMode);\n        if (!isNullOrUndefined(signatureField.tooltip) && signatureField.tooltip != \"\") {\n            this.setToolTip(signatureField.tooltip, element);\n        }\n        this.updateSignatureFieldProperties(signatureField, element, isPrint);\n        return element;\n    };\n    // eslint-disable-next-line\n    FormDesigner.prototype.setIndicatorText = function (spanElement, fieldText, indicatorText, defaultText) {\n        spanElement.innerHTML = fieldText ? fieldText : indicatorText ? indicatorText : defaultText;\n    };\n    FormDesigner.prototype.getBounds = function (htmlElement) {\n        var clonedElement = htmlElement.cloneNode(true);\n        clonedElement.style.height = '';\n        clonedElement.style.width = '';\n        clonedElement.id = clonedElement.id + \"_clonedElement\";\n        document.body.appendChild(clonedElement);\n        var clone = document.getElementById(clonedElement.id);\n        var bounds = clone.getBoundingClientRect();\n        document.body.removeChild(clonedElement);\n        return bounds;\n    };\n    FormDesigner.prototype.updateSignatureIndicator = function (formFieldObject, options, htmlElement) {\n        if (htmlElement !== null) {\n            var fieldBounds = htmlElement.getBoundingClientRect();\n            var zoomValue = this.pdfViewerBase.getZoomFactor();\n            var spanElement = htmlElement.nextElementSibling;\n            var objIndicatorSettings = formFieldObject.signatureIndicatorSettings;\n            var indicatorSettings = options.signatureIndicatorSettings;\n            spanElement.style.width = '';\n            spanElement.style.height = '';\n            if (indicatorSettings.text !== undefined) {\n                this.setIndicatorText(spanElement, indicatorSettings.text, indicatorSettings.text, \"Sign\");\n                objIndicatorSettings.text = indicatorSettings.text;\n            }\n            if (indicatorSettings.fontSize) {\n                spanElement.style.fontSize = indicatorSettings.fontSize > formFieldObject.height / 2 ? 10 : indicatorSettings.fontSize * zoomValue + \"px\";\n                objIndicatorSettings.fontSize = indicatorSettings.fontSize;\n            }\n            var bounds = this.getBounds(spanElement);\n            if (indicatorSettings.color) {\n                spanElement.style.color = indicatorSettings.color;\n                objIndicatorSettings.color = this.nameToHash(indicatorSettings.color);\n            }\n            if (indicatorSettings.backgroundColor) {\n                spanElement.style.backgroundColor = indicatorSettings.backgroundColor;\n                objIndicatorSettings.backgroundColor = this.nameToHash(indicatorSettings.backgroundColor);\n            }\n            if (indicatorSettings.opacity) {\n                spanElement.style.opacity = indicatorSettings.opacity;\n                objIndicatorSettings.opacity = indicatorSettings.opacity;\n            }\n            if (indicatorSettings.width || options.width || indicatorSettings.text) {\n                var width = this.setHeightWidth(fieldBounds.width, indicatorSettings.width, bounds.width, zoomValue);\n                spanElement.style.width = width + (objIndicatorSettings.fontSize * zoomValue) + \"px\";\n                objIndicatorSettings.width = width;\n            }\n            if (indicatorSettings.height || options.height || indicatorSettings.text) {\n                var height = this.setHeightWidth(fieldBounds.height, indicatorSettings.height, bounds.height, zoomValue);\n                spanElement.style.height = height + \"px\";\n                objIndicatorSettings.height = height;\n            }\n            this.updateSignatureFieldProperties(formFieldObject, htmlElement, formFieldObject.isPrint);\n            formFieldObject.signatureIndicatorSettings = objIndicatorSettings;\n            return formFieldObject;\n        }\n    };\n    FormDesigner.prototype.setHeightWidth = function (fieldBound, indicatorBound, referenceBound, zoomValue) {\n        var heightOrWidth;\n        if (fieldBound / 2 > indicatorBound && referenceBound < indicatorBound) {\n            heightOrWidth = indicatorBound * zoomValue;\n        }\n        else if (referenceBound <= fieldBound / 2) {\n            heightOrWidth = referenceBound * zoomValue;\n        }\n        else {\n            heightOrWidth = fieldBound / 2 * zoomValue;\n        }\n        return heightOrWidth;\n    };\n    /**\n     * @private\n     */\n    FormDesigner.prototype.createDropDownList = function (dropdownElement, drawingObject) {\n        var element = createElement(\"div\");\n        element.className = \"foreign-object\";\n        element.style.position = \"absolute\";\n        element.style.width = \"100%\";\n        element.style.height = \"100%\";\n        var select = document.createElement(\"select\");\n        select.addEventListener('change', this.dropdownChange.bind(this));\n        select.id = drawingObject.id;\n        select.name = \"editabledropdown\" + this.pdfViewerBase.activeElements.activePageID + dropdownElement.id;\n        select.className = \"e-pv-formfield-dropdown\";\n        select.style.width = \"100%\";\n        select.style.height = \"100%\";\n        select.style.position = \"absolute\";\n        this.updateDropdownFieldSettingsProperties(drawingObject, this.pdfViewer.isFormDesignerToolbarVisible, this.isSetFormFieldMode);\n        var dropDownChildren = drawingObject.options ? drawingObject.options : [];\n        this.updateDropdownListProperties(drawingObject, select);\n        for (var j = 0; j < dropDownChildren.length; j++) {\n            var option = document.createElement(\"option\");\n            option.className = \"e-pv-formfield-dropdown\";\n            option.value = dropDownChildren[j].itemValue;\n            option.text = dropDownChildren[j].itemName;\n            this.updateDropdownListProperties(drawingObject, option);\n            select.appendChild(option);\n        }\n        select.selectedIndex = !isNullOrUndefined(drawingObject.selectedIndex) ? drawingObject.selectedIndex : 0;\n        element.appendChild(select);\n        if (!isNullOrUndefined(drawingObject.tooltip) && drawingObject.tooltip != \"\") {\n            this.setToolTip(drawingObject.tooltip, element);\n        }\n        return element;\n    };\n    /**\n     * @private\n     */\n    FormDesigner.prototype.createListBox = function (listBoxElement, drawingObject) {\n        var element = createElement(\"div\");\n        element.className = \"foreign-object\";\n        element.style.position = \"absolute\";\n        element.style.width = \"100%\";\n        element.style.height = \"100%\";\n        var select = document.createElement(\"select\");\n        select.addEventListener('click', this.listBoxChange.bind(this));\n        select.id = drawingObject.id;\n        select.name = \"editabledropdown\" + this.pdfViewerBase.activeElements.activePageID + listBoxElement.id;\n        select.className = \"e-pv-formfield-listbox\";\n        select.style.width = \"100%\";\n        select.style.height = \"100%\";\n        select.style.position = \"absolute\";\n        select.multiple = true;\n        this.updatelistBoxFieldSettingsProperties(drawingObject, this.pdfViewer.isFormDesignerToolbarVisible, this.isSetFormFieldMode);\n        var dropDownChildren = drawingObject.options ? drawingObject.options : [];\n        this.updateListBoxProperties(drawingObject, select);\n        for (var j = 0; j < dropDownChildren.length; j++) {\n            var option = document.createElement(\"option\");\n            option.className = \"e-pv-formfield-listbox\";\n            option.value = dropDownChildren[j].itemValue;\n            option.text = dropDownChildren[j].itemName;\n            if (!isNullOrUndefined(drawingObject.selectedIndex)) {\n                for (var k = 0; k < drawingObject.selectedIndex.length; k++) {\n                    if (j === drawingObject.selectedIndex[k]) {\n                        option.selected = true;\n                    }\n                }\n            }\n            select.appendChild(option);\n        }\n        element.appendChild(select);\n        if (!isNullOrUndefined(drawingObject.tooltip) && drawingObject.tooltip != \"\") {\n            this.setToolTip(drawingObject.tooltip, element);\n        }\n        return element;\n    };\n    /**\n     * @private\n     */\n    FormDesigner.prototype.createInputElement = function (formFieldAnnotationType, drawingObject, formFieldBounds, isPrint) {\n        var zoomValue = this.pdfViewerBase.getZoomFactor();\n        var element = createElement(\"div\");\n        element.className = \"foreign-object\";\n        element.style.position = \"absolute\";\n        element.style.width = \"100%\";\n        element.style.height = \"100%\";\n        var labelElement;\n        var checkboxDiv;\n        var innerSpan;\n        var inputElement = createElement(\"input\");\n        var textArea = createElement('textarea');\n        inputElement.id = drawingObject.id;\n        inputElement.style.position = \"absolute\";\n        if (formFieldAnnotationType === \"Textbox\") {\n            if (drawingObject.isMultiline) {\n                textArea = this.createTextAreaElement(inputElement.id);\n                this.updateTextFieldSettingProperties(drawingObject, this.pdfViewer.isFormDesignerToolbarVisible, this.isSetFormFieldMode);\n                this.updateTextboxProperties(drawingObject, textArea);\n            }\n            else {\n                inputElement = this.createTextboxElement(inputElement.id);\n                this.updateTextFieldSettingProperties(drawingObject, this.pdfViewer.isFormDesignerToolbarVisible, this.isSetFormFieldMode);\n                this.updateTextboxProperties(drawingObject, inputElement);\n            }\n        }\n        else if (formFieldAnnotationType == \"Checkbox\") {\n            var minCheckboxWidth = 20;\n            element.style.textAlign = (Browser.info.name === \"chrome\") ? \"-webkit-center\" : \"center\";\n            element.style.display = \"flex\";\n            element.style.alignItems = \"center\";\n            var bounds = this.getCheckboxRadioButtonBounds(drawingObject, formFieldBounds);\n            element.style.display = bounds.display;\n            labelElement = createElement(\"label\", { className: \"e-pv-checkbox-container\" });\n            labelElement.style.width = bounds.width + \"px\";\n            labelElement.style.height = bounds.height + \"px\";\n            if (this.isDrawHelper)\n                labelElement.style.cursor = 'crosshair';\n            else\n                labelElement.style.cursor = 'pointer';\n            checkboxDiv = createElement(\"div\", { className: \"e-pv-checkbox-div\" });\n            checkboxDiv.addEventListener('click', this.setCheckBoxState.bind(this));\n            checkboxDiv.id = drawingObject.id + \"_input\";\n            if (drawingObject.isChecked) {\n                innerSpan = createElement(\"span\", { className: \"e-pv-checkbox-span e-pv-cb-checked\" });\n            }\n            else\n                innerSpan = createElement(\"span\", { className: \"e-pv-checkbox-span e-pv-cb-unchecked\" });\n            innerSpan.id = drawingObject.id + \"_input_span\";\n            labelElement.id = drawingObject.id + \"_input_label\";\n            innerSpan.style.width = (bounds.width / 5) + \"px\";\n            innerSpan.style.height = (bounds.height / 2.5) + \"px\";\n            innerSpan.style.left = (bounds.width / 2.5) + \"px\";\n            innerSpan.style.top = (bounds.height / 5) + \"px\";\n            if (innerSpan.className.indexOf(\"e-pv-cb-checked\") !== -1) {\n                var checkboxWidth = parseInt(labelElement.style.width, 10);\n                if (checkboxWidth > minCheckboxWidth) {\n                    innerSpan.style.borderWidth = \"3px\";\n                }\n                else if (checkboxWidth <= 15) {\n                    innerSpan.style.borderWidth = \"1px\";\n                }\n                else {\n                    innerSpan.style.borderWidth = \"2px\";\n                }\n            }\n            inputElement.type = \"checkbox\";\n            inputElement.style.margin = \"0px\";\n            inputElement.style.width = bounds.width + \"px\";\n            inputElement.style.height = bounds.height + \"px\";\n            if (isPrint) {\n                this.updateCheckboxProperties(drawingObject, inputElement);\n            }\n            else {\n                this.updateCheckBoxFieldSettingsProperties(drawingObject, this.pdfViewer.isFormDesignerToolbarVisible, this.isSetFormFieldMode);\n                this.updateCheckboxProperties(drawingObject, checkboxDiv);\n            }\n            labelElement.appendChild(inputElement);\n            labelElement.appendChild(checkboxDiv);\n            checkboxDiv.appendChild(innerSpan);\n            if (isPrint) {\n                inputElement.style.outlineWidth = drawingObject.thickness + 'px';\n                inputElement.style.outlineColor = drawingObject.borderColor;\n                inputElement.style.outlineStyle = 'solid';\n                inputElement.style.background = drawingObject.backgroundColor;\n            }\n        }\n        else if (formFieldAnnotationType == \"PasswordField\") {\n            inputElement.type = \"password\";\n            inputElement.className = \"e-pv-formfield-input\";\n            inputElement.style.width = '100%';\n            inputElement.style.height = '100%';\n            inputElement.addEventListener('click', this.inputElementClick.bind(this));\n            inputElement.addEventListener('change', this.getTextboxValue.bind(this));\n            this.updatePasswordFieldSettingProperties(drawingObject, this.pdfViewer.isFormDesignerToolbarVisible, this.isSetFormFieldMode);\n            this.updatePasswordFieldProperties(drawingObject, inputElement);\n        }\n        else {\n            /*\n            The below line have been commented for \"EJ2-59941 bug\"\n            While setting the textAlign to center the radio button position moved from center to the parent element\n            instead of left to the parent element\n            element.style.textAlign = (Browser.info.name === \"chrome\") ? \"-webkit-center\" : \"center\";\n            */\n            element.style.display = \"flex\";\n            element.style.alignItems = \"center\";\n            var bounds = this.getCheckboxRadioButtonBounds(drawingObject, formFieldBounds);\n            element.style.display = bounds.display;\n            labelElement = createElement(\"label\", { className: \"e-pv-radiobtn-container\" });\n            labelElement.style.width = bounds.width + \"px\";\n            labelElement.style.height = bounds.height + \"px\";\n            labelElement.style.display = \"table\";\n            labelElement.style.verticalAlign = \"middle\";\n            labelElement.style.boxShadow = drawingObject.borderColor + ' 0px 0px 0px ' + drawingObject.thickness + 'px';\n            labelElement.style.borderRadius = '50%';\n            labelElement.style.visibility = drawingObject.visibility;\n            if (this.isDrawHelper)\n                labelElement.style.cursor = 'crosshair';\n            else\n                labelElement.style.cursor = 'pointer';\n            labelElement.style.background = drawingObject.backgroundColor;\n            innerSpan = createElement(\"span\", { className: \"e-pv-radiobtn-span\" });\n            innerSpan.id = drawingObject.id;\n            innerSpan.style.width = Math.floor(bounds.width / 2) + \"px\";\n            innerSpan.style.height = Math.floor(bounds.height / 2) + \"px\";\n            if (zoomValue < 1 && bounds.width <= 20 && bounds.height <= 20) {\n                innerSpan.style.margin = Math.round(parseInt(labelElement.style.width) / 3.5) + \"px\";\n            }\n            else {\n                innerSpan.style.margin = Math.round(parseInt(labelElement.style.width) / 4) + \"px\";\n            }\n            labelElement.addEventListener('click', this.setRadioButtonState.bind(this));\n            labelElement.id = drawingObject.id + \"_input_label\";\n            inputElement.type = \"radio\";\n            if (!isPrint)\n                inputElement.className = \"e-pv-radio-btn\";\n            inputElement.style.margin = \"0px\";\n            inputElement.addEventListener('click', function (event) {\n                event.stopPropagation();\n            });\n            inputElement.style.width = bounds.width + \"px\";\n            inputElement.style.height = bounds.height + \"px\";\n            this.updateRadioButtonFieldSettingProperties(drawingObject, this.pdfViewer.isFormDesignerToolbarVisible, this.isSetFormFieldMode);\n            this.updateRadioButtonProperties(drawingObject, inputElement);\n            labelElement.appendChild(inputElement);\n            labelElement.appendChild(innerSpan);\n            if (drawingObject.isRequired) {\n                labelElement.style.boxShadow = 'red 0px 0px 0px ' + drawingObject.thickness + 'px';\n            }\n            // if (isPrint) {\n            //     inputElement.style.outlineWidth = drawingObject.thickness + 'px';\n            //     inputElement.style.outlineColor = drawingObject.borderColor;\n            //     inputElement.style.outlineStyle = 'solid';\n            //     inputElement.style.background = drawingObject.backgroundColor;\n            // }\n        }\n        if ((formFieldAnnotationType === \"Checkbox\" || formFieldAnnotationType === \"RadioButton\") && !isPrint) {\n            element.appendChild(labelElement);\n        }\n        else {\n            if (drawingObject.isMultiline) {\n                element.appendChild(textArea);\n            }\n            else {\n                element.appendChild(inputElement);\n            }\n        }\n        if (!isNullOrUndefined(drawingObject.tooltip) && drawingObject.tooltip != \"\") {\n            if (formFieldAnnotationType === 'RadioButton')\n                this.setToolTip(drawingObject.tooltip, labelElement);\n            else\n                this.setToolTip(drawingObject.tooltip, element);\n        }\n        this.isDrawHelper = false;\n        return element;\n    };\n    FormDesigner.prototype.listBoxChange = function (event) {\n        var data = this.pdfViewerBase.getItemFromSessionStorage('_formDesigner');\n        var formFieldsData = JSON.parse(data);\n        for (var i = 0; i < formFieldsData.length; i++) {\n            if (formFieldsData[i].Key.split(\"_\")[0] === event.currentTarget.id.split(\"_\")[0] ||\n                this.pdfViewer.nameTable[event.currentTarget.id.split(\"_\")[0]].name === formFieldsData[i].FormField.name) {\n                if (formFieldsData[i].Key.split(\"_\")[0] !== event.currentTarget.id.split(\"_\")[0]) {\n                    var inputElement = document.getElementById((formFieldsData[i].Key.split(\"_\")[0] + \"_content_html_element\")).firstElementChild.firstElementChild;\n                    for (var k = 0; k < event.currentTarget.options.length; k++) {\n                        inputElement.options[k].selected = event.currentTarget.options[k].selected;\n                    }\n                }\n                formFieldsData[i].FormField.selectedIndex = [];\n                var oldValues = this.pdfViewerBase.formFieldCollection[i].FormField.selectedIndex;\n                for (var j = 0; j < event.currentTarget.selectedOptions.length; j++) {\n                    var selectIndex = event.currentTarget.selectedOptions[j].index;\n                    var oldValueIndex = 0;\n                    if (this.pdfViewerBase.formFieldCollection[i].FormField.selectedIndex && this.pdfViewerBase.formFieldCollection[i].FormField.selectedIndex.length !== 0) {\n                        oldValueIndex = this.pdfViewerBase.formFieldCollection[i].FormField.selectedIndex.pop();\n                        this.pdfViewerBase.formFieldCollection[i].FormField.selectedIndex.push(oldValueIndex);\n                    }\n                    var oldValue = formFieldsData[i].FormField.option[oldValueIndex].itemValue;\n                    formFieldsData[i].FormField.selectedIndex.push(selectIndex);\n                    this.pdfViewer.nameTable[formFieldsData[i].Key.split(\"_\")[0]].selectedIndex = formFieldsData[i].FormField.selectedIndex;\n                    this.pdfViewerBase.formFieldCollection[i].FormField.selectedIndex = formFieldsData[i].FormField.selectedIndex;\n                    var newValue = formFieldsData[i].FormField.option[selectIndex].itemValue;\n                    this.pdfViewerBase.formFieldCollection[i].FormField.value = newValue;\n                    this.updateFormFieldCollections(this.pdfViewerBase.formFieldCollection[i].FormField);\n                    this.pdfViewer.fireFormFieldPropertiesChangeEvent(\"formFieldPropertiesChange\", formFieldsData[i].FormField, this.pdfViewerBase.formFieldCollection[i].FormField.pageNumber, true, false, false, false, false, false, false, false, false, false, false, false, false, false, false, oldValue, newValue);\n                }\n                if (this.pdfViewer.annotation) {\n                    this.pdfViewer.annotation.addAction(this.pdfViewerBase.formFieldCollection[i].FormField.pageNumber, null, this.pdfViewerBase.formFieldCollection[i].FormField, 'FormField Value Change', '', oldValues, this.pdfViewerBase.formFieldCollection[i].FormField.selectedIndex);\n                }\n            }\n        }\n        this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection, '_formDesigner');\n    };\n    FormDesigner.prototype.dropdownChange = function (event) {\n        var data = this.pdfViewerBase.getItemFromSessionStorage('_formDesigner');\n        var formFieldsData = JSON.parse(data);\n        for (var i = 0; i < formFieldsData.length; i++) {\n            if (formFieldsData[i].Key.split(\"_\")[0] === event.target.id.split(\"_\")[0] ||\n                this.pdfViewer.nameTable[event.target.id.split(\"_\")[0]].name === formFieldsData[i].FormField.name) {\n                this.pdfViewerBase.formFieldCollection[i].FormField.selectedIndex = [];\n                var selectIndex = document.getElementById(event.currentTarget.id).selectedIndex;\n                var oldValueIndex = 0;\n                if (formFieldsData[i].FormField.selectedIndex.length !== 0) {\n                    oldValueIndex = formFieldsData[i].FormField.selectedIndex.pop();\n                    formFieldsData[i].FormField.selectedIndex.push(oldValueIndex);\n                }\n                var oldValue = formFieldsData[i].FormField.option[oldValueIndex].itemValue;\n                formFieldsData[i].FormField.selectedIndex.push(selectIndex);\n                this.pdfViewer.nameTable[formFieldsData[i].Key.split(\"_\")[0]].selectedIndex = selectIndex;\n                this.pdfViewerBase.formFieldCollection[i].FormField.selectedIndex.push(selectIndex);\n                var newValue = formFieldsData[i].FormField.option[selectIndex].itemValue;\n                this.pdfViewerBase.formFieldCollection[i].FormField.value = newValue;\n                if (formFieldsData[i].Key.split(\"_\")[0] !== event.target.id.split(\"_\")[0]) {\n                    var inputElement = document.getElementById((formFieldsData[i].Key.split(\"_\")[0] + \"_content_html_element\")).firstElementChild.firstElementChild;\n                    inputElement.selectedIndex = selectIndex;\n                }\n                this.updateFormFieldCollections(this.pdfViewerBase.formFieldCollection[i].FormField);\n                this.pdfViewer.fireFormFieldPropertiesChangeEvent(\"formFieldPropertiesChange\", formFieldsData[i].FormField, this.pdfViewerBase.formFieldCollection[i].FormField.pageNumber, true, false, false, false, false, false, false, false, false, false, false, false, false, false, false, oldValue, newValue);\n                if (this.pdfViewer.annotation) {\n                    this.pdfViewer.annotation.addAction(this.pdfViewerBase.formFieldCollection[i].FormField.pageNumber, null, this.pdfViewerBase.formFieldCollection[i].FormField, 'FormField Value Change', '', oldValueIndex, selectIndex);\n                }\n            }\n        }\n        this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection, '_formDesigner');\n    };\n    FormDesigner.prototype.setCheckBoxState = function (event) {\n        var minCheckboxWidth = 20;\n        var isChecked = false;\n        if (!this.pdfViewer.nameTable[event.target.id.split(\"_\")[0]].isReadonly) {\n            if (event.target && event.target.firstElementChild && event.target.firstElementChild.className === \"e-pv-checkbox-span e-pv-cb-checked\") {\n                event.target.firstElementChild.classList.remove(\"e-pv-cb-checked\");\n                event.target.firstElementChild.classList.add(\"e-pv-checkbox-span\", \"e-pv-cb-unchecked\");\n                isChecked = false;\n            }\n            else if (event.target.className === \"e-pv-checkbox-span e-pv-cb-checked\") {\n                event.target.classList.remove(\"e-pv-cb-checked\");\n                event.target.classList.add(\"e-pv-checkbox-span\", \"e-pv-cb-unchecked\");\n                isChecked = false;\n            }\n            else {\n                event.target.firstElementChild.classList.remove(\"e-pv-cb-unchecked\");\n                event.target.firstElementChild.classList.add(\"e-pv-checkbox-span\", \"e-pv-cb-checked\");\n                isChecked = true;\n            }\n            var data = this.pdfViewerBase.getItemFromSessionStorage('_formDesigner');\n            if (isChecked) {\n                if (event.target.firstElementChild.className.indexOf(\"e-pv-cb-checked\") !== -1) {\n                    var checkboxWidth = parseInt(event.target.parentElement.style.width, 10);\n                    if (checkboxWidth > minCheckboxWidth) {\n                        event.target.firstElementChild.style.borderWidth = \"3px\";\n                    }\n                    else if (checkboxWidth <= 15) {\n                        event.target.firstElementChild.style.borderWidth = \"1px\";\n                    }\n                    else {\n                        event.target.firstElementChild.style.borderWidth = \"2px\";\n                    }\n                }\n            }\n            var formFieldsData = JSON.parse(data);\n            for (var i = 0; i < formFieldsData.length; i++) {\n                if (formFieldsData[i].Key.split(\"_\")[0] === event.target.id.split(\"_\")[0] ||\n                    this.pdfViewer.nameTable[event.target.id.split(\"_\")[0]].name === formFieldsData[i].FormField.name) {\n                    this.pdfViewer.nameTable[formFieldsData[i].Key.split(\"_\")[0]].isChecked = isChecked;\n                    var oldValue = this.pdfViewerBase.formFieldCollection[i].FormField.isChecked;\n                    formFieldsData[i].FormField.isChecked = isChecked;\n                    this.pdfViewerBase.formFieldCollection[i].FormField.isChecked = formFieldsData[i].FormField.isChecked;\n                    if (formFieldsData[i].Key.split(\"_\")[0] !== event.target.id.split(\"_\")[0]) {\n                        var checkboxElement = document.getElementById(formFieldsData[i].Key.split(\"_\")[0] + \"_input\").firstElementChild;\n                        if (isChecked) {\n                            if (checkboxElement.classList.contains('e-pv-cb-unchecked'))\n                                checkboxElement.classList.remove('e-pv-cb-unchecked');\n                            checkboxElement.classList.add(\"e-pv-cb-checked\");\n                        }\n                        else {\n                            if (checkboxElement.classList.contains('e-pv-cb-checked'))\n                                checkboxElement.classList.remove('e-pv-cb-checked');\n                            checkboxElement.classList.add(\"e-pv-cb-unchecked\");\n                        }\n                    }\n                    this.updateFormFieldCollections(this.pdfViewerBase.formFieldCollection[i].FormField);\n                    this.pdfViewer.fireFormFieldPropertiesChangeEvent(\"formFieldPropertiesChange\", formFieldsData[i].FormField, this.pdfViewerBase.formFieldCollection[i].FormField.pageNumber, true, false, false, false, false, false, false, false, false, false, false, false, false, false, false, oldValue, isChecked);\n                    if (this.pdfViewer.annotation) {\n                        this.pdfViewer.annotation.addAction(this.pdfViewerBase.formFieldCollection[i].FormField.pageNumber, null, this.pdfViewerBase.formFieldCollection[i].FormField, 'FormField Value Change', '', oldValue, isChecked);\n                    }\n                }\n            }\n            this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection, '_formDesigner');\n        }\n    };\n    FormDesigner.prototype.setCheckedValue = function (element, isChecked) {\n        if (isChecked) {\n            element.firstElementChild.classList.remove(\"e-pv-cb-unchecked\");\n            element.firstElementChild.classList.add(\"e-pv-checkbox-span\", \"e-pv-cb-checked\");\n        }\n        else {\n            element.firstElementChild.classList.remove(\"e-pv-cb-checked\");\n            element.firstElementChild.classList.add(\"e-pv-checkbox-span\", \"e-pv-cb-unchecked\");\n        }\n    };\n    FormDesigner.prototype.setRadioButtonState = function (event) {\n        var data = this.pdfViewerBase.getItemFromSessionStorage('_formDesigner');\n        var formFieldsData = JSON.parse(data);\n        for (var i = 0; i < formFieldsData.length; i++) {\n            if (formFieldsData[i].FormField.radiobuttonItem != null) {\n                var oldValue = void 0;\n                var undoElement = void 0;\n                var redoElement = void 0;\n                for (var j = 0; j < formFieldsData[i].FormField.radiobuttonItem.length; j++) {\n                    if (formFieldsData[i].FormField.radiobuttonItem[j].id.split(\"_\")[0] === event.currentTarget.id.split(\"_\")[0]) {\n                        this.pdfViewer.nameTable[event.currentTarget.id.split(\"_\")[0]].isSelected = true;\n                        formFieldsData[i].FormField.radiobuttonItem[j].isSelected = true;\n                        oldValue = this.pdfViewerBase.formFieldCollection[i].FormField.radiobuttonItem[j].isSelected;\n                        if (!oldValue)\n                            undoElement = this.pdfViewerBase.formFieldCollection[i].FormField.radiobuttonItem[j];\n                        this.pdfViewerBase.formFieldCollection[i].FormField.radiobuttonItem[j].isSelected = true;\n                        this.pdfViewer.fireFormFieldPropertiesChangeEvent(\"formFieldPropertiesChange\", formFieldsData[i].FormField, this.pdfViewerBase.formFieldCollection[i].FormField.pageNumber, true, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, true);\n                    }\n                    else {\n                        if (this.pdfViewer.nameTable[event.currentTarget.id.split(\"_\")[0]].name === formFieldsData[i].FormField.radiobuttonItem[j].name) {\n                            this.pdfViewer.nameTable[formFieldsData[i].FormField.radiobuttonItem[j].id.split(\"_\")[0]].isSelected = false;\n                            var oldValue_1 = this.pdfViewerBase.formFieldCollection[i].FormField.radiobuttonItem[j].isSelected;\n                            formFieldsData[i].FormField.radiobuttonItem[j].isSelected = false;\n                            oldValue_1 = this.pdfViewerBase.formFieldCollection[i].FormField.radiobuttonItem[j].isSelected;\n                            if (oldValue_1)\n                                redoElement = this.pdfViewerBase.formFieldCollection[i].FormField.radiobuttonItem[j];\n                            this.pdfViewerBase.formFieldCollection[i].FormField.radiobuttonItem[j].isSelected = formFieldsData[i].FormField.radiobuttonItem[j].isSelected;\n                            this.pdfViewer.fireFormFieldPropertiesChangeEvent(\"formFieldPropertiesChange\", formFieldsData[i].FormField, this.pdfViewerBase.formFieldCollection[i].FormField.pageNumber, true, false, false, false, false, false, false, false, false, false, false, false, false, false, false, true, false);\n                        }\n                    }\n                    this.updateFormFieldCollections(this.pdfViewerBase.formFieldCollection[i].FormField.radiobuttonItem[j]);\n                }\n                if ((undoElement != null || redoElement != null) && this.pdfViewer.annotation) {\n                    this.pdfViewer.annotation.addAction(this.pdfViewerBase.formFieldCollection[i].FormField.pageNumber, null, this.pdfViewerBase.formFieldCollection[i].FormField, 'FormField Value Change', '', undoElement, redoElement);\n                }\n            }\n        }\n        this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection, '_formDesigner');\n    };\n    FormDesigner.prototype.getTextboxValue = function (event) {\n        var data = this.pdfViewerBase.getItemFromSessionStorage('_formDesigner');\n        var formFieldsData = JSON.parse(data);\n        for (var i = 0; i < formFieldsData.length; i++) {\n            if (formFieldsData[i].Key.split(\"_\")[0] === event.target.id.split(\"_\")[0] ||\n                this.pdfViewer.nameTable[event.target.id.split(\"_\")[0]].name === formFieldsData[i].FormField.name) {\n                var oldValue = this.pdfViewerBase.formFieldCollection[i].FormField.value;\n                formFieldsData[i].FormField.value = event.target.value;\n                this.pdfViewer.nameTable[formFieldsData[i].Key.split(\"_\")[0]].value = formFieldsData[i].FormField.value;\n                this.pdfViewerBase.formFieldCollection[i].FormField.value = formFieldsData[i].FormField.value;\n                if (formFieldsData[i].Key.split(\"_\")[0] !== event.target.id.split(\"_\")[0]) {\n                    var element = document.getElementById(formFieldsData[i].Key.split(\"_\")[0] + \"_content_html_element\");\n                    if (element && element.firstElementChild && element.firstElementChild.firstElementChild) {\n                        var inputElement = element.firstElementChild.firstElementChild;\n                        inputElement.value = formFieldsData[i].FormField.value;\n                    }\n                }\n                this.updateFormFieldCollections(this.pdfViewerBase.formFieldCollection[i].FormField);\n                this.pdfViewer.fireFormFieldPropertiesChangeEvent(\"formFieldPropertiesChange\", this.pdfViewerBase.formFieldCollection[i].FormField, this.pdfViewerBase.formFieldCollection[i].FormField.pageNumber, true, false, false, false, false, false, false, false, false, false, false, false, false, false, false, oldValue, event.target.value);\n                if (this.pdfViewer.annotation) {\n                    this.pdfViewer.annotation.addAction(this.pdfViewerBase.formFieldCollection[i].FormField.pageNumber, null, this.pdfViewerBase.formFieldCollection[i].FormField, 'FormField Value Change', '', oldValue, event.target.value);\n                }\n            }\n        }\n        this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection, '_formDesigner');\n    };\n    FormDesigner.prototype.inputElementClick = function (event) {\n        event.target.focus();\n    };\n    /**\n     * Adds form field to the PDF page.\n     *\n     * @param formFieldType\n     * @param options\n     * @returns HTMLElement\n     */\n    FormDesigner.prototype.addFormField = function (formFieldType, options, isCollection, id) {\n        var obj = {\n            thickness: 0, bounds: { x: options.bounds.X, y: options.bounds.Y, width: options.bounds.Width, height: options.bounds.Height },\n            fontFamily: !isNullOrUndefined(options.fontFamily) ? options.fontFamily : \"Helvetica\", fontSize: !isNullOrUndefined(options.fontSize) ? options.fontSize : 10,\n            color: !isNullOrUndefined(options.color) ? options.color : \"black\", backgroundColor: !isNullOrUndefined(options.backgroundColor) ? options.backgroundColor : \"#daeaf7ff\",\n            alignment: !isNullOrUndefined(options.alignment) ? options.alignment : \"left\", isReadonly: options.isReadOnly ? options.isReadOnly : false, rotateAngle: options.rotateAngle\n        };\n        obj.fontStyle = !isNullOrUndefined(options.fontStyle) ? options.fontStyle : \"None\";\n        obj.visibility = !isNullOrUndefined(options.visibility) ? options.visibility : \"visible\";\n        obj.value = !isNullOrUndefined(options.value) ? options.value : \"\";\n        obj.isRequired = options.isRequired ? options.isRequired : false;\n        obj.isPrint = options.isPrint;\n        obj.pageNumber = !isNullOrUndefined(options.pageNumber) ? options.pageNumber : this.pdfViewerBase.currentPageNumber;\n        obj.pageIndex = obj.pageNumber - 1;\n        obj.font = options.font;\n        obj.id = id;\n        if (isCollection) {\n            this.setFormFieldIndex();\n        }\n        switch (formFieldType) {\n            case 'Textbox':\n                obj.formFieldAnnotationType = formFieldType;\n                obj.isMultiline = options.isMultiline;\n                obj.name = !isNullOrUndefined(options.name) ? options.name : 'Textbox' + this.formFieldIndex;\n                obj.maxLength = options.maxLength;\n                obj.thickness = !isNullOrUndefined(options.thickness) ? options.thickness : 1;\n                obj.borderColor = !isNullOrUndefined(options.borderColor) ? options.borderColor : '#303030';\n                break;\n            case 'Password':\n                obj.formFieldAnnotationType = 'PasswordField';\n                obj.name = !isNullOrUndefined(options.name) ? options.name : 'Password' + this.formFieldIndex;\n                obj.maxLength = options.maxLength;\n                obj.thickness = !isNullOrUndefined(options.thickness) ? options.thickness : 1;\n                obj.borderColor = !isNullOrUndefined(options.borderColor) ? options.borderColor : '#303030';\n                break;\n            case 'DropDown':\n                obj.formFieldAnnotationType = 'DropdownList';\n                obj.name = !isNullOrUndefined(options.name) ? options.name : 'Dropdown' + this.formFieldIndex;\n                obj.options = options.options ? options.options : [];\n                for (var i = 0; i < this.pdfViewer.formFieldCollection.length; i++) {\n                    var formField = this.pdfViewer.formFieldCollection[i];\n                    if (formField.formFieldAnnotationType === 'DropdownList' && formField.name === obj.name) {\n                        obj.options = formField.options;\n                        break;\n                    }\n                }\n                obj.selectedIndex = options.selectedIndex;\n                obj.thickness = !isNullOrUndefined(options.thickness) ? options.thickness : 1;\n                obj.borderColor = !isNullOrUndefined(options.borderColor) ? options.borderColor : '#303030';\n                break;\n            case 'ListBox':\n                obj.formFieldAnnotationType = formFieldType;\n                obj.name = !isNullOrUndefined(options.name) ? options.name : 'List Box' + this.formFieldIndex;\n                obj.options = options.options ? options.options : [];\n                for (var i = 0; i < this.pdfViewer.formFieldCollection.length; i++) {\n                    var formField = this.pdfViewer.formFieldCollection[i];\n                    if (formField.formFieldAnnotationType === formFieldType && formField.name === obj.name) {\n                        obj.options = formField.options;\n                        break;\n                    }\n                }\n                obj.selectedIndex = options.selectedIndex;\n                obj.thickness = !isNullOrUndefined(options.thickness) ? options.thickness : 1;\n                obj.borderColor = !isNullOrUndefined(options.borderColor) ? options.borderColor : '#303030';\n                break;\n            case 'CheckBox':\n                obj.formFieldAnnotationType = 'Checkbox';\n                obj.bounds = { x: options.bounds.X, y: options.bounds.Y, width: options.bounds.Width, height: options.bounds.Height };\n                obj.backgroundColor = !isNullOrUndefined(options.backgroundColor) ? options.backgroundColor : \"#daeaf7ff\";\n                obj.isReadonly = options.isReadOnly ? options.isReadOnly : false;\n                obj.name = !isNullOrUndefined(options.name) ? options.name : 'Check Box' + this.formFieldIndex;\n                obj.isChecked = options.isChecked ? options.isChecked : false;\n                obj.visibility = options.visibility ? options.visibility : \"visible\";\n                obj.isRequired = options.isRequired ? options.isRequired : false;\n                obj.thickness = !isNullOrUndefined(options.thickness) ? options.thickness : 1;\n                obj.borderColor = !isNullOrUndefined(options.borderColor) ? options.borderColor : '#303030';\n                break;\n            case 'RadioButton':\n                obj.formFieldAnnotationType = formFieldType;\n                obj.bounds = { x: options.bounds.X, y: options.bounds.Y, width: options.bounds.Width, height: options.bounds.Height };\n                obj.backgroundColor = !isNullOrUndefined(options.backgroundColor) ? options.backgroundColor : \"#daeaf7ff\";\n                obj.isReadonly = options.isReadOnly ? options.isReadOnly : false;\n                obj.name = !isNullOrUndefined(options.name) ? options.name : 'Radio Button' + this.formFieldIndex;\n                obj.isSelected = options.isSelected ? options.isSelected : false;\n                obj.visibility = options.visibility ? options.visibility : \"visible\";\n                obj.isRequired = options.isRequired ? options.isRequired : false;\n                obj.thickness = !isNullOrUndefined(options.thickness) ? options.thickness : 1;\n                obj.borderColor = !isNullOrUndefined(options.borderColor) ? options.borderColor : '#303030';\n                break;\n            case 'SignatureField':\n                obj.formFieldAnnotationType = formFieldType;\n                obj.bounds = { x: options.bounds.X, y: options.bounds.Y, width: options.bounds.Width, height: options.bounds.Height };\n                obj.backgroundColor = !isNullOrUndefined(options.backgroundColor) ? options.backgroundColor : \"#daeaf7ff\";\n                obj.fontSize = !isNullOrUndefined(options.fontSize) ? options.fontSize : 10;\n                obj.fontStyle = !isNullOrUndefined(options.fontStyle) ? options.fontStyle : \"None\";\n                obj.name = !isNullOrUndefined(options.name) ? options.name : 'Signature' + this.formFieldIndex;\n                obj.isRequired = options.isRequired ? options.isRequired : false;\n                obj.isReadonly = options.isReadOnly ? options.isReadOnly : false;\n                obj.signatureIndicatorSettings = options.signatureIndicatorSettings ? { opacity: options.signatureIndicatorSettings.opacity ? options.signatureIndicatorSettings.opacity : 1,\n                    backgroundColor: options.signatureIndicatorSettings.backgroundColor ? options.signatureIndicatorSettings.backgroundColor : 'orange', width: options.signatureIndicatorSettings.width ? options.signatureIndicatorSettings.width : 19,\n                    height: options.signatureIndicatorSettings.height ? options.signatureIndicatorSettings.height : 10, fontSize: options.signatureIndicatorSettings.fontSize ? options.signatureIndicatorSettings.fontSize : 10,\n                    text: options.signatureIndicatorSettings.text ? options.signatureIndicatorSettings.text : null, color: options.signatureIndicatorSettings.color ? options.signatureIndicatorSettings.color : 'black' } : null;\n                break;\n            case 'InitialField':\n                obj.formFieldAnnotationType = formFieldType;\n                obj.bounds = { x: options.bounds.X, y: options.bounds.Y, width: options.bounds.Width, height: options.bounds.Height };\n                obj.backgroundColor = !isNullOrUndefined(options.backgroundColor) ? options.backgroundColor : \"#daeaf7ff\";\n                obj.fontSize = !isNullOrUndefined(options.fontSize) ? options.fontSize : 10;\n                obj.fontStyle = !isNullOrUndefined(options.fontStyle) ? options.fontStyle : \"None\";\n                obj.name = !isNullOrUndefined(options.name) ? options.name : 'Initial' + this.formFieldIndex;\n                obj.isRequired = options.isRequired ? options.isRequired : false;\n                obj.isReadonly = options.isReadOnly ? options.isReadOnly : false;\n                obj.isInitialField = true;\n                obj.signatureIndicatorSettings = options.signatureIndicatorSettings ? { opacity: options.signatureIndicatorSettings.opacity ? options.signatureIndicatorSettings.opacity : 1,\n                    backgroundColor: options.signatureIndicatorSettings.backgroundColor ? options.signatureIndicatorSettings.backgroundColor : 'orange', width: options.signatureIndicatorSettings.width ? options.signatureIndicatorSettings.width : 19,\n                    height: options.signatureIndicatorSettings.height ? options.signatureIndicatorSettings.height : 10, fontSize: options.signatureIndicatorSettings.fontSize ? options.signatureIndicatorSettings.fontSize : 10,\n                    text: options.signatureIndicatorSettings.text ? options.signatureIndicatorSettings.text : null, color: options.signatureIndicatorSettings.color ? options.signatureIndicatorSettings.color : 'black' } : null;\n                break;\n        }\n        obj.tooltip = !isNullOrUndefined(options.tooltip) ? options.tooltip : '';\n        var HTMLElement = null;\n        if (isCollection) {\n            this.addFieldCollection(obj);\n        }\n        else {\n            this.pdfViewerBase.disableTextSelectionMode();\n            HTMLElement = this.drawFormField(obj);\n        }\n        return HTMLElement;\n    };\n    FormDesigner.prototype.addFieldCollection = function (node) {\n        var formField = {\n            id: randomId(), name: node.name, value: node.value,\n            type: node.formFieldAnnotationType, isReadOnly: node.isReadonly, fontFamily: node.fontFamily,\n            fontSize: node.fontSize, fontStyle: node.fontStyle, color: node.color, backgroundColor: node.backgroundColor, isMultiline: node.isMultiline,\n            alignment: node.alignment, visibility: node.visibility, maxLength: node.maxLength, isRequired: node.isRequired,\n            isPrint: node.isPrint, isSelected: node.isSelected, isChecked: node.isChecked, tooltip: node.tooltip, bounds: node.bounds, thickness: node.thickness, pageIndex: node.pageIndex, borderColor: node.borderColor, signatureIndicatorSettings: node.signatureIndicatorSettings\n        };\n        this.pdfViewer.formFieldCollections.push(formField);\n    };\n    /**\n     * @private\n     */\n    FormDesigner.prototype.drawFormField = function (obj) {\n        var node = this.pdfViewer.add(obj);\n        var index = this.pdfViewer.formFieldCollections.findIndex(function (el) { return el.id === node.id; });\n        // eslint-disable-next-line\n        var data;\n        if (index > -1) {\n            data = this.pdfViewer.formFieldCollections[index];\n            if (this.isFormFieldUpdated) {\n                this.updateNodeBasedOnCollections(node, data);\n            }\n        }\n        var formFieldIndex = this.pdfViewer.formFieldCollection.findIndex(function (el) { return el.id === node.id; });\n        if (formFieldIndex < 0) {\n            this.pdfViewer.formFieldCollection.push(node);\n        }\n        else if (formFieldIndex > -1) {\n            this.pdfViewer.formFieldCollection[formFieldIndex] = node;\n        }\n        var formField = {\n            id: node.id, name: node.name, value: node.value,\n            type: node.formFieldAnnotationType, isReadOnly: node.isReadonly, fontFamily: node.fontFamily,\n            fontSize: node.fontSize, fontStyle: node.fontStyle, color: node.color, backgroundColor: node.backgroundColor, isMultiline: node.isMultiline,\n            alignment: node.alignment, visibility: node.visibility, maxLength: node.maxLength, isRequired: node.isRequired,\n            isPrint: node.isPrint, isSelected: node.isSelected, isChecked: node.isChecked, tooltip: node.tooltip, bounds: node.bounds, pageIndex: node.pageIndex, thickness: node.thickness, borderColor: node.borderColor, signatureIndicatorSettings: node.signatureIndicatorSettings\n        };\n        if (index > -1) {\n            this.pdfViewer.formFieldCollections[index] = formField;\n        }\n        else {\n            this.pdfViewer.formFieldCollections.push(formField);\n        }\n        var HTMLElement = this.drawHTMLContent(node.formFieldAnnotationType, node.wrapper.children[0], node, obj.pageNumber - 1, this.pdfViewer);\n        return HTMLElement;\n    };\n    /**\n    * Update the node value based on the collections\n    *\n    * @param node\n    * @param data\n    * @returns void\n    */\n    FormDesigner.prototype.updateNodeBasedOnCollections = function (node, data) {\n        node.name = data.name;\n        node.value = data.value;\n        node.isReadonly = data.isReadOnly;\n        node.fontFamily = data.fontFamily;\n        node.fontSize = data.fontSize;\n        node.fontStyle = data.fontStyle.toString();\n        node.color = data.color;\n        node.backgroundColor = data.backgroundColor;\n        node.alignment = data.alignment;\n        node.visibility = data.visibility;\n        node.maxLength = data.maxLength;\n        node.isRequired = data.isRequired;\n        node.isPrint = data.isPrint;\n        node.isSelected = data.isSelected;\n        node.isChecked = data.isChecked;\n        node.tooltip = data.tooltip;\n        node.thickness = data.thickness;\n        node.borderColor = data.borderColor;\n    };\n    /**\n     * Set the form field mode to add the form field on user interaction.\n     *\n     * @param formFieldId\n     * @param options\n     * @returns void\n     */\n    FormDesigner.prototype.setFormFieldMode = function (formFieldType, options) {\n        switch (formFieldType) {\n            case 'Textbox':\n                this.activateTextboxElement(formFieldType);\n                this.isSetFormFieldMode = true;\n                break;\n            case 'Password':\n                var passwordType = 'PasswordField';\n                this.activatePasswordField(passwordType);\n                this.isSetFormFieldMode = true;\n                break;\n            case 'CheckBox':\n                var checkboxType = 'Checkbox';\n                this.activateCheckboxElement(checkboxType);\n                this.isSetFormFieldMode = true;\n                break;\n            case 'RadioButton':\n                this.activateRadioButtonElement(formFieldType);\n                this.isSetFormFieldMode = true;\n                break;\n            case 'DropDown':\n                var dropdownType = 'DropdownList';\n                this.activateDropDownListElement(dropdownType, options);\n                this.isSetFormFieldMode = true;\n                break;\n            case 'ListBox':\n                this.activateListboxElement(formFieldType, options);\n                this.isSetFormFieldMode = true;\n                break;\n            case 'SignatureField':\n            case 'InitialField':\n                this.activateSignatureBoxElement(formFieldType);\n                this.isSetFormFieldMode = true;\n        }\n    };\n    /**\n     * Reset the form fields into its original state.\n     *\n     * @param formFieldId\n     * @returns void\n     */\n    FormDesigner.prototype.resetFormField = function (formFieldId) {\n        var formField = this.getFormField(formFieldId);\n        if (formField) {\n            switch (formField.formFieldAnnotationType) {\n                case 'Textbox':\n                    this.resetTextboxProperties(formField);\n                    break;\n                case 'PasswordField':\n                    this.resetPasswordProperties(formField);\n                    break;\n                case 'Checkbox':\n                    this.resetCheckboxProperties(formField);\n                    break;\n                case 'RadioButton':\n                    this.resetRadioButtonProperties(formField);\n                    break;\n                case 'DropdownList':\n                    this.resetDropdownListProperties(formField);\n                    break;\n                case 'ListBox':\n                    this.resetListBoxProperties(formField);\n                    break;\n                case 'SignatureField':\n                case 'InitialField':\n                    this.resetSignatureTextboxProperties(formField);\n                    break;\n            }\n            this.updateSessionFormFieldProperties(formField);\n        }\n    };\n    /**\n     * Select the form field in the PDF Viewer.\n     *\n     * @param formFieldId\n     * @returns void\n     */\n    FormDesigner.prototype.selectFormField = function (formFieldId) {\n        var formField = this.getFormField(formFieldId);\n        if (formField) {\n            this.isProgrammaticSelection = true;\n            this.pdfViewer.select([formField.id]);\n            this.isProgrammaticSelection = false;\n        }\n    };\n    /**\n     * Update the form field with the given properties and value.\n     *\n     * @param formFieldId\n     * @param options\n     * @returns void\n     */\n    FormDesigner.prototype.updateFormField = function (formFieldId, options) {\n        var formField = this.getFormField(formFieldId);\n        this.isFormFieldUpdated = true;\n        if (formField) {\n            switch (formField.formFieldAnnotationType) {\n                case 'Textbox':\n                case 'PasswordField':\n                case 'DropdownList':\n                case 'ListBox':\n                case 'SignatureField':\n                case 'InitialField':\n                    var inputElement = document.getElementById(formField.id + \"_content_html_element\");\n                    if (inputElement) {\n                        inputElement = inputElement.firstElementChild.firstElementChild;\n                        this.formFieldPropertyChange(formField, options, inputElement);\n                    }\n                    else {\n                        this.updateFormFieldsInCollections(formFieldId, options);\n                    }\n                    break;\n                case 'RadioButton':\n                    var radioButtonDivDivElement = document.getElementById(formField.id + \"_content_html_element\");\n                    if (radioButtonDivDivElement) {\n                        radioButtonDivDivElement = radioButtonDivDivElement.firstElementChild.firstElementChild.firstElementChild;\n                        this.formFieldPropertyChange(formField, options, radioButtonDivDivElement);\n                    }\n                    else {\n                        this.updateFormFieldsInCollections(formFieldId, options);\n                    }\n                    break;\n                case 'Checkbox':\n                    var checkboxDivElement = document.getElementById(formField.id + \"_content_html_element\");\n                    if (checkboxDivElement) {\n                        checkboxDivElement = checkboxDivElement.firstElementChild.firstElementChild.lastElementChild;\n                        this.formFieldPropertyChange(formField, options, checkboxDivElement);\n                    }\n                    else {\n                        this.updateFormFieldsInCollections(formFieldId, options);\n                    }\n                    break;\n            }\n        }\n        else {\n            this.updateFormFieldsInCollections(formFieldId, options);\n        }\n    };\n    /**\n    * Update the form field in the form field collections.\n    * @param formFieldId\n    * @param options\n    * @returns void\n    */\n    FormDesigner.prototype.updateFormFieldsInCollections = function (formFieldId, options) {\n        var formFieldCollection = this.pdfViewer.formFieldCollections;\n        for (var i = 0; i < formFieldCollection.length; i++) {\n            var currentData = formFieldCollection[i];\n            if (currentData.id === formFieldId) {\n                this.updateFormFieldData(currentData, options);\n                var formFieldIndex = this.pdfViewer.formFieldCollections.findIndex(function (el) { return el.id === formFieldId; });\n                this.pdfViewer.formFieldCollections[formFieldIndex] = currentData;\n            }\n        }\n    };\n    /**\n    * Update the form field data based on the value\n    * @param currentData\n    * @param options\n    * @returns void\n    */\n    FormDesigner.prototype.updateFormFieldData = function (currentData, options) {\n        if (options.name && currentData.name !== options.name) {\n            currentData.name = options.name;\n        }\n        if (currentData.type !== 'SignatureField' || currentData.type !== 'InitialField') {\n            if (options.thickness && currentData.thickness !== options.thickness) {\n                currentData.thickness = options.thickness;\n            }\n            if (options.borderColor) {\n                var borderColor = this.colorNametoHashValue(options.borderColor);\n                if (currentData.borderColor !== borderColor) {\n                    currentData.borderColor = borderColor;\n                }\n            }\n        }\n        if (options.backgroundColor) {\n            var backColor = this.colorNametoHashValue(options.backgroundColor);\n            if (currentData.backgroundColor !== backColor) {\n                currentData.backgroundColor = backColor;\n            }\n        }\n        if (!isNullOrUndefined(options.isReadOnly) && currentData.isReadonly !== options.isReadOnly) {\n            currentData.isReadOnly = options.isReadOnly;\n        }\n        if (!isNullOrUndefined(options.isRequired) && currentData.isRequired !== options.isRequired) {\n            currentData.isRequired = options.isRequired;\n        }\n        if (!isNullOrUndefined(options.isPrint) && currentData.isPrint !== options.isPrint) {\n            currentData.isPrint = options.isPrint;\n        }\n        if (options.visibility && currentData.visibility !== options.visibility) {\n            currentData.visibility = options.visibility;\n        }\n        if (options.tooltip && currentData.tooltip !== options.tooltip) {\n            currentData.tooltip = options.tooltip;\n        }\n        if (currentData.type === 'Checkbox' && (!isNullOrUndefined(options.isChecked) && currentData.isChecked === options.isChecked)) {\n            currentData.isChecked = options.isChecked;\n        }\n        if (currentData.type === 'RadioButton' && (!isNullOrUndefined(options.isSelected) && currentData.isSelected === options.isSelected)) {\n            currentData.isSelected = options.isSelected;\n        }\n        if ((currentData.type === 'DropdownList' || currentData.type === 'ListBox') && options.options) {\n            currentData.options = options.options;\n        }\n        if (currentData.type === 'Textbox' || currentData.type === 'SignatureField' || currentData.type === 'InitialField' ||\n            currentData.type === 'DropdownList' || currentData.type === 'ListBox' ||\n            currentData.type === 'PasswordField') {\n            if (options.value && currentData.value !== options.value) {\n                currentData.value = options.value;\n            }\n            if (options.fontSize && currentData.fontSize !== options.fontSize) {\n                currentData.fontSize = options.fontSize;\n            }\n            if (options.color) {\n                var color = this.colorNametoHashValue(options.color);\n                if (currentData.color !== color) {\n                    currentData.color = color;\n                }\n            }\n            if (currentData.type !== 'SignatureField') {\n                if (options.alignment && currentData.alignment !== options.alignment) {\n                    currentData.alignment = options.alignment;\n                }\n                if (options.maxLength && currentData.maxLength !== options.maxLength) {\n                    currentData.maxLength = options.maxLength;\n                }\n            }\n            if (currentData.type !== 'PasswordField') {\n                if (options.fontFamily && currentData.fontFamily !== options.fontFamily) {\n                    currentData.fontFamily = options.fontFamily;\n                }\n                if (options.fontStyle && currentData.fontStyle !== options.fontStyle) {\n                    currentData.fontStyle = options.fontStyle;\n                }\n            }\n        }\n    };\n    FormDesigner.prototype.getSignatureBackground = function (color) {\n        if (color.includes('#')) {\n            if (color.length > 8) {\n                color = color.slice(0, -2) + '60';\n            }\n            else {\n                color += '60';\n            }\n        }\n        return color;\n    };\n    FormDesigner.prototype.formFieldPropertyChange = function (formFieldObject, options, htmlElement) {\n        var isValueChanged = false, isFontFamilyChanged = false, isFontSizeChanged = false, isFontStyleChanged = false, isColorChanged = false, isBackgroundColorChanged = false, isBorderColorChanged = false, isBorderWidthChanged = false, isAlignmentChanged = false, isReadOnlyChanged = false, isVisibilityChanged = false, isMaxLengthChanged = false, isRequiredChanged = false, isPrintChanged = false, isToolTipChanged = false, isNameChanged = false;\n        var oldValue, newValue;\n        var zoomValue = this.pdfViewerBase.getZoomFactor();\n        if (options.name) {\n            if (formFieldObject.name !== options.name) {\n                isNameChanged = true;\n            }\n            formFieldObject.name = options.name;\n            var designerName = document.getElementById(formFieldObject.id + \"_designer_name\");\n            designerName.innerHTML = formFieldObject.name;\n            designerName.style.fontSize = formFieldObject.fontSize ? (formFieldObject.fontSize * zoomValue) + 'px' : (10 * zoomValue) + 'px';\n            htmlElement.name = options.name;\n            this.pdfViewer.nameTable[formFieldObject.id.split('_')[0]].name = formFieldObject.name;\n            if (isNameChanged) {\n                this.updateFormFieldPropertiesChanges(\"formFieldPropertiesChange\", formFieldObject, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, oldValue, newValue, isNameChanged);\n            }\n        }\n        if (formFieldObject.formFieldAnnotationType !== 'SignatureField') {\n            if (options.thickness) {\n                if (formFieldObject.thickness !== options.thickness) {\n                    isBorderWidthChanged = true;\n                    oldValue = formFieldObject.thickness;\n                    newValue = options.thickness;\n                }\n                htmlElement.style.borderWidth = options.thickness.toString() + 'px';\n                formFieldObject.thickness = options.thickness;\n                this.pdfViewer.nameTable[formFieldObject.id.split('_')[0]].thickness = options.thickness;\n                if (isBorderWidthChanged) {\n                    this.updateFormFieldPropertiesChanges(\"formFieldPropertiesChange\", formFieldObject, false, false, false, false, false, false, false, isBorderWidthChanged, false, false, false, false, false, false, false, oldValue, newValue);\n                }\n            }\n            if (options.borderColor) {\n                var borderColor = this.colorNametoHashValue(options.borderColor);\n                if (formFieldObject.borderColor !== borderColor) {\n                    isBorderColorChanged = true;\n                    oldValue = formFieldObject.borderColor;\n                    newValue = borderColor;\n                }\n                formFieldObject.borderColor = borderColor;\n                htmlElement.style.borderColor = borderColor;\n                if (formFieldObject.formFieldAnnotationType === 'RadioButton') {\n                    htmlElement.parentElement.style.boxShadow = borderColor + ' 0px 0px 0px ' + formFieldObject.thickness + 'px';\n                    this.setToolTip(options.tooltip, htmlElement.parentElement);\n                }\n                this.pdfViewer.nameTable[formFieldObject.id.split('_')[0]].borderColor = borderColor;\n                if (isBorderColorChanged) {\n                    this.updateFormFieldPropertiesChanges(\"formFieldPropertiesChange\", formFieldObject, false, false, false, false, false, false, isBorderColorChanged, false, false, false, false, false, false, false, false, oldValue, newValue);\n                }\n            }\n        }\n        if (options.backgroundColor) {\n            var backColor = this.colorNametoHashValue(options.backgroundColor);\n            backColor = this.getSignatureBackground(backColor);\n            if (formFieldObject.backgroundColor !== backColor) {\n                isBackgroundColorChanged = true;\n                oldValue = formFieldObject.backgroundColor;\n                newValue = backColor;\n            }\n            formFieldObject.backgroundColor = backColor;\n            if (formFieldObject.formFieldAnnotationType === 'SignatureField' || formFieldObject.formFieldAnnotationType === 'InitialField') {\n                htmlElement.parentElement.style.background = backColor;\n            }\n            else {\n                htmlElement.style.background = backColor;\n            }\n            if (formFieldObject.formFieldAnnotationType === 'RadioButton') {\n                htmlElement.parentElement.style.background = formFieldObject.backgroundColor;\n            }\n            this.pdfViewer.nameTable[formFieldObject.id.split('_')[0]].backgroundColor = backColor;\n            if (isBackgroundColorChanged) {\n                this.updateFormFieldPropertiesChanges(\"formFieldPropertiesChange\", formFieldObject, false, false, false, false, false, isBackgroundColorChanged, false, false, false, false, false, false, false, false, false, oldValue, newValue);\n            }\n        }\n        if (options.bounds) {\n            formFieldObject.bounds = { x: options.bounds.X, y: options.bounds.Y, width: options.bounds.Width, height: options.bounds.Height };\n            var formField_1 = this.pdfViewer.nameTable[formFieldObject.id.split(\"_\")[0]];\n            formField_1.bounds = { x: options.bounds.X, y: options.bounds.Y, width: options.bounds.Width, height: options.bounds.Height };\n            formField_1.wrapper.bounds = new Rect(options.bounds.X, options.bounds.Y, options.bounds.Width, options.bounds.Height);\n            this.pdfViewer.drawing.nodePropertyChange(formField_1, {\n                bounds: {\n                    x: formField_1.wrapper.bounds.x, y: formField_1.wrapper.bounds.y,\n                    width: formField_1.wrapper.bounds.width, height: formField_1.wrapper.bounds.height\n                }\n            });\n            var element = formField_1.wrapper.children[0];\n            var point = cornersPointsBeforeRotation(formField_1.wrapper.children[0]).topLeft;\n            var hEment = document.getElementById(element.id + \"_html_element\");\n            if (!isNullOrUndefined(hEment)) {\n                hEment.setAttribute('style', 'height:' + (element.actualSize.height * zoomValue) + 'px; width:' + (element.actualSize.width * zoomValue) +\n                    'px;left:' + point.x * zoomValue + 'px; top:' + point.y * zoomValue + 'px;' +\n                    'position:absolute;transform:rotate(' + (element.rotateAngle + element.parentTransform) + 'deg);' +\n                    'pointer-events:' + ((this.pdfViewer.designerMode) ? 'none' : 'all')\n                    + ';visibility:' + ((element.visible) ? 'visible' : 'hidden') + ';opacity:' + element.style.opacity + ';');\n            }\n        }\n        if (!isNullOrUndefined(options.isReadOnly)) {\n            if (formFieldObject.isReadonly !== options.isReadOnly) {\n                isReadOnlyChanged = true;\n                oldValue = formFieldObject.isReadonly;\n                newValue = options.isReadOnly;\n            }\n            formFieldObject.isReadonly = options.isReadOnly;\n            this.setReadOnlyToElement(formFieldObject, htmlElement, options.isReadOnly);\n            this.setReadOnlyToFormField(formFieldObject, options.isReadOnly);\n            this.pdfViewer.nameTable[formFieldObject.id.split('_')[0]].isReadonly = options.isReadOnly;\n            if (isReadOnlyChanged) {\n                this.updateFormFieldPropertiesChanges(\"formFieldPropertiesChange\", formFieldObject, false, false, false, false, false, false, false, false, false, isReadOnlyChanged, false, false, false, false, false, oldValue, newValue);\n            }\n        }\n        if (!isNullOrUndefined(options.isRequired)) {\n            if (formFieldObject.isRequired !== options.isRequired) {\n                isRequiredChanged = true;\n                oldValue = formFieldObject.isRequired;\n                newValue = options.isRequired;\n            }\n            formFieldObject.isRequired = options.isRequired;\n            this.setRequiredToElement(formFieldObject, htmlElement, options.isRequired);\n            this.setRequiredToFormField(formFieldObject, options.isRequired);\n            this.pdfViewer.nameTable[formFieldObject.id.split('_')[0]].isRequired = options.isRequired;\n            if (isRequiredChanged) {\n                this.updateFormFieldPropertiesChanges(\"formFieldPropertiesChange\", formFieldObject, false, false, false, false, false, false, false, false, false, false, false, false, isRequiredChanged, false, false, oldValue, newValue);\n            }\n        }\n        if (options.visibility) {\n            if (formFieldObject.visibility !== options.visibility) {\n                isVisibilityChanged = true;\n                oldValue = formFieldObject.visibility;\n                newValue = options.visibility;\n            }\n            formFieldObject.visibility = options.visibility;\n            htmlElement.style.visibility = options.visibility;\n            if (formFieldObject.formFieldAnnotationType === 'RadioButton') {\n                htmlElement.parentElement.style.visibility = formFieldObject.visibility;\n            }\n            if (formFieldObject.formFieldAnnotationType === 'SignatureField' || formFieldObject.formFieldAnnotationType === 'InitialField') {\n                htmlElement.parentElement.style.visibility = formFieldObject.visibility;\n                var annotation = this.pdfViewer.nameTable[formFieldObject.id.split('_')[0] + \"_content\"];\n                var data = this.pdfViewerBase.getItemFromSessionStorage('_formDesigner');\n                var formFieldsData = JSON.parse(data);\n                var index = this.getFormFiledIndex(formFieldObject.id.split('_')[0]);\n                if (formFieldObject.visibility === \"hidden\") {\n                    if (annotation) {\n                        this.hideSignatureValue(formFieldObject, annotation, index, formFieldsData);\n                    }\n                }\n                else {\n                    if (annotation) {\n                        this.showSignatureValue(formFieldObject, oldValue, annotation, index, formFieldsData);\n                    }\n                }\n            }\n            this.pdfViewer.nameTable[formFieldObject.id.split('_')[0]].visibility = options.visibility;\n            if (isVisibilityChanged) {\n                this.updateFormFieldPropertiesChanges(\"formFieldPropertiesChange\", formFieldObject, false, false, false, false, false, false, false, false, false, false, isVisibilityChanged, false, false, false, false, oldValue, newValue);\n            }\n        }\n        if (!isNullOrUndefined(options.isPrint)) {\n            if (formFieldObject.isPrint !== options.isPrint) {\n                isPrintChanged = true;\n                oldValue = formFieldObject.isPrint;\n                newValue = options.isPrint;\n            }\n            formFieldObject.isPrint = options.isPrint;\n            this.pdfViewer.nameTable[formFieldObject.id.split('_')[0]].isPrint = options.isPrint;\n            if (isPrintChanged) {\n                this.updateFormFieldPropertiesChanges(\"formFieldPropertiesChange\", formFieldObject, false, false, false, false, false, false, false, false, false, false, false, false, false, isPrintChanged, false, oldValue, newValue);\n            }\n        }\n        if (options.tooltip) {\n            if (formFieldObject.tooltip !== options.tooltip) {\n                isToolTipChanged = true;\n                oldValue = formFieldObject.tooltip;\n                newValue = options.tooltip;\n            }\n            formFieldObject.tooltip = options.tooltip;\n            if (!isNullOrUndefined(options.tooltip)) {\n                if (formFieldObject.formFieldAnnotationType === 'RadioButton') {\n                    this.setToolTip(options.tooltip, htmlElement.parentElement);\n                }\n                else {\n                    this.setToolTip(options.tooltip, htmlElement);\n                }\n            }\n            this.pdfViewer.nameTable[formFieldObject.id.split('_')[0]].tooltip = options.tooltip;\n            if (isToolTipChanged) {\n                this.updateFormFieldPropertiesChanges(\"formFieldPropertiesChange\", formFieldObject, false, false, false, false, false, false, false, false, false, false, false, false, false, false, isToolTipChanged, oldValue, newValue);\n            }\n        }\n        if (formFieldObject.formFieldAnnotationType === 'Checkbox' && (!isNullOrUndefined(options.isChecked)) || options.isChecked) {\n            if (formFieldObject.isChecked !== this.checkboxCheckedState) {\n                isValueChanged = true;\n                oldValue = formFieldObject.isChecked;\n                newValue = options.isChecked;\n            }\n            formFieldObject.isChecked = options.isChecked;\n            htmlElement.checked = options.isChecked;\n            this.setCheckedValue(htmlElement, options.isChecked);\n            this.pdfViewer.nameTable[formFieldObject.id.split('_')[0]].isChecked = options.isChecked;\n            if (isValueChanged) {\n                this.updateFormFieldPropertiesChanges(\"formFieldPropertiesChange\", formFieldObject, isValueChanged, false, false, false, false, false, false, false, false, false, false, false, false, false, false, oldValue, newValue);\n            }\n        }\n        if (formFieldObject.formFieldAnnotationType === 'RadioButton' && (!isNullOrUndefined(options.isSelected)) || options.isSelected) {\n            if (formFieldObject.isSelected !== options.isSelected) {\n                isValueChanged = true;\n                oldValue = formFieldObject.isSelected;\n                newValue = this.checkboxCheckedState;\n            }\n            formFieldObject.isSelected = options.isSelected;\n            htmlElement.checked = options.isSelected;\n            this.pdfViewer.nameTable[formFieldObject.id.split('_')[0]].isSelected = options.isSelected;\n            if (isValueChanged) {\n                this.updateFormFieldPropertiesChanges(\"formFieldPropertiesChange\", formFieldObject, isValueChanged, false, false, false, false, false, false, false, false, false, false, false, false, false, false, oldValue, newValue);\n            }\n        }\n        if (formFieldObject.formFieldAnnotationType === 'DropdownList' || formFieldObject.formFieldAnnotationType === 'ListBox') {\n            if (options.options) {\n                formFieldObject.options = options.options;\n                this.updateDropDownListDataSource(formFieldObject, htmlElement);\n                this.pdfViewer.nameTable[formFieldObject.id.split('_')[0]].options = formFieldObject.options;\n            }\n        }\n        if (formFieldObject.formFieldAnnotationType === 'Textbox' || formFieldObject.formFieldAnnotationType === 'SignatureField' || formFieldObject.formFieldAnnotationType === 'InitialField' ||\n            formFieldObject.formFieldAnnotationType === 'DropdownList' || formFieldObject.formFieldAnnotationType === 'ListBox'\n            || formFieldObject.formFieldAnnotationType === 'PasswordField') {\n            if (options.value) {\n                if (formFieldObject.value !== options.value) {\n                    isValueChanged = true;\n                    oldValue = formFieldObject.value;\n                    newValue = options.value;\n                }\n                formFieldObject.value = options.value;\n                if (!(formFieldObject.formFieldAnnotationType === 'DropdownList' || formFieldObject.formFieldAnnotationType === 'ListBox')) {\n                    htmlElement.value = options.value;\n                }\n                else if (formFieldObject.formFieldAnnotationType === \"DropdownList\" || formFieldObject.formFieldAnnotationType === \"ListBox\") {\n                    for (var i = 0; i < htmlElement.options.length; i++) {\n                        if (htmlElement.options[i].text === options.value) {\n                            htmlElement.options.selectedIndex = i;\n                        }\n                    }\n                }\n                this.pdfViewer.nameTable[formFieldObject.id.split('_')[0]].value = options.value;\n                if (isValueChanged) {\n                    this.updateFormFieldPropertiesChanges(\"formFieldPropertiesChange\", formFieldObject, isValueChanged, false, false, false, false, false, false, false, false, false, false, false, false, false, false, oldValue, newValue);\n                }\n            }\n            if (options.fontSize) {\n                if (formFieldObject.fontSize !== options.fontSize) {\n                    isFontSizeChanged = true;\n                    oldValue = formFieldObject.fontSize;\n                    newValue = options.fontSize;\n                }\n                formFieldObject.fontSize = options.fontSize;\n                htmlElement.style.fontSize = (options.fontSize * zoomValue) + 'px';\n                this.pdfViewer.nameTable[formFieldObject.id.split('_')[0]].fontSize = options.fontSize;\n                if (isFontSizeChanged) {\n                    this.updateFormFieldPropertiesChanges(\"formFieldPropertiesChange\", formFieldObject, false, false, isFontSizeChanged, false, false, false, false, false, false, false, false, false, false, false, false, oldValue, newValue);\n                }\n            }\n            if (options.color) {\n                var color = this.colorNametoHashValue(options.color);\n                if (formFieldObject.color !== color) {\n                    isColorChanged = true;\n                    oldValue = formFieldObject.color;\n                    newValue = color;\n                }\n                formFieldObject.color = color;\n                htmlElement.style.color = color;\n                this.pdfViewer.nameTable[formFieldObject.id.split('_')[0]].color = color;\n                if (isColorChanged) {\n                    this.updateFormFieldPropertiesChanges(\"formFieldPropertiesChange\", formFieldObject, false, false, false, false, isColorChanged, false, false, false, false, false, false, false, false, false, false, oldValue, newValue);\n                }\n            }\n            if (formFieldObject.formFieldAnnotationType !== 'SignatureField') {\n                if (options.alignment) {\n                    if (formFieldObject.alignment !== options.alignment) {\n                        isAlignmentChanged = true;\n                        oldValue = formFieldObject.alignment;\n                        newValue = options.alignment;\n                    }\n                    formFieldObject.alignment = options.alignment;\n                    htmlElement.style.textAlign = options.alignment;\n                    this.pdfViewer.nameTable[formFieldObject.id.split('_')[0]].alignment = options.alignment;\n                    if (isAlignmentChanged) {\n                        this.updateFormFieldPropertiesChanges(\"formFieldPropertiesChange\", formFieldObject, false, false, false, false, false, false, false, false, isAlignmentChanged, false, false, false, false, false, false, oldValue, newValue);\n                    }\n                }\n                if (options.maxLength) {\n                    if (formFieldObject.maxLength !== options.maxLength) {\n                        isMaxLengthChanged = true;\n                        oldValue = formFieldObject.maxLength;\n                        newValue = options.maxLength;\n                    }\n                    formFieldObject.maxLength = options.maxLength;\n                    htmlElement.maxLength = options.maxLength;\n                    this.pdfViewer.nameTable[formFieldObject.id.split('_')[0]].maxLength = options.maxLength;\n                    if (isMaxLengthChanged) {\n                        this.updateFormFieldPropertiesChanges(\"formFieldPropertiesChange\", formFieldObject, false, false, false, false, false, false, false, false, false, false, false, isMaxLengthChanged, false, false, false, oldValue, newValue);\n                    }\n                }\n            }\n            if (formFieldObject.formFieldAnnotationType !== 'PasswordField') {\n                if (options.fontFamily) {\n                    if (formFieldObject.fontFamily !== options.fontFamily) {\n                        isFontFamilyChanged = true;\n                        oldValue = formFieldObject.fontFamily;\n                        newValue = options.fontFamily;\n                    }\n                    formFieldObject.fontFamily = options.fontFamily;\n                    htmlElement.style.fontFamily = options.fontFamily;\n                    this.pdfViewer.nameTable[formFieldObject.id.split('_')[0]].fontFamily = options.fontFamily;\n                    if (isFontFamilyChanged) {\n                        this.updateFormFieldPropertiesChanges(\"formFieldPropertiesChange\", formFieldObject, false, isFontFamilyChanged, false, false, false, false, false, false, false, false, false, false, false, false, false, oldValue, newValue);\n                    }\n                }\n                var oldFontStyle = '';\n                var newFontStyle = '';\n                if (options.fontStyle) {\n                    oldFontStyle += formFieldObject.font.isBold ? 'Bold' + \", \" : '';\n                    oldFontStyle += formFieldObject.font.isItalic ? 'Italic' + \", \" : '';\n                    oldFontStyle += formFieldObject.font.isStrikeout ? 'Strikethrough' + \", \" : '';\n                    oldFontStyle += formFieldObject.font.isUnderline ? 'Underline' + \", \" : '';\n                    if ((options.fontStyle & FontStyle.Bold) !== 0) {\n                        htmlElement.style.fontWeight = \"bold\";\n                        formFieldObject.fontStyle = \"Bold\";\n                        formFieldObject.font.isBold = true;\n                        this.pdfViewer.nameTable[formFieldObject.id.split('_')[0]].font.isBold = true;\n                    }\n                    newFontStyle += formFieldObject.font.isBold ? 'Bold' + \", \" : '';\n                    if ((options.fontStyle & FontStyle.Italic) !== 0) {\n                        htmlElement.style.fontStyle = \"italic\";\n                        formFieldObject.fontStyle = \"Italic\";\n                        formFieldObject.font.isItalic = true;\n                        this.pdfViewer.nameTable[formFieldObject.id.split('_')[0]].font.isItalic = true;\n                    }\n                    newFontStyle += formFieldObject.font.isItalic ? 'Italic' + \", \" : '';\n                    if ((options.fontStyle & FontStyle.Strikethrough) !== 0) {\n                        htmlElement.style.textDecoration = \"line-through\";\n                        formFieldObject.font.isStrikeout = true;\n                        formFieldObject.fontStyle = \"Strikethrough\";\n                        this.pdfViewer.nameTable[formFieldObject.id.split('_')[0]].font.isStrikeout = true;\n                    }\n                    newFontStyle += formFieldObject.font.isStrikeout ? 'Strikethrough' + \", \" : '';\n                    if ((options.fontStyle & FontStyle.Underline) !== 0) {\n                        htmlElement.style.textDecoration = \"underline\";\n                        formFieldObject.fontStyle = \"Underline\";\n                        formFieldObject.font.isUnderline = true;\n                        this.pdfViewer.nameTable[formFieldObject.id.split('_')[0]].font.isUnderline = true;\n                    }\n                    newFontStyle += formFieldObject.font.isUnderline ? 'Underline' + \", \" : '';\n                    isFontStyleChanged = true;\n                    if (isFontStyleChanged) {\n                        this.updateFormFieldPropertiesChanges(\"formFieldPropertiesChange\", formFieldObject, false, false, false, isFontStyleChanged, false, false, false, false, false, false, false, false, false, false, false, oldFontStyle, newFontStyle);\n                    }\n                }\n            }\n        }\n        if (formFieldObject.formFieldAnnotationType === 'SignatureField' && options.signatureIndicatorSettings) {\n            formFieldObject = this.updateSignatureIndicator(formFieldObject, options, htmlElement);\n        }\n        this.updateSessionFormFieldProperties(formFieldObject);\n        var formField = {\n            id: formFieldObject.id, name: formFieldObject.name, value: formFieldObject.value,\n            type: formFieldObject.formFieldAnnotationType, isReadOnly: formFieldObject.isReadonly, fontFamily: formFieldObject.fontFamily,\n            fontSize: formFieldObject.fontSize, fontStyle: formFieldObject.fontStyle, color: formFieldObject.color, backgroundColor: formFieldObject.backgroundColor,\n            alignment: formFieldObject.alignment, visibility: formFieldObject.visibility, maxLength: formFieldObject.maxLength, isRequired: formFieldObject.isRequired,\n            isPrint: formFieldObject.isPrint, tooltip: formFieldObject.tooltip, bounds: formFieldObject.bounds, thickness: formFieldObject.thickness, borderColor: formFieldObject.borderColor\n        };\n        this.pdfViewer.formFieldCollections[this.pdfViewer.formFieldCollections.findIndex(function (el) { return el.id === formField.id; })] = formField;\n    };\n    FormDesigner.prototype.colorNametoHashValue = function (colorString) {\n        var colorCode = colorString;\n        if (!colorCode.match(/#([a-z0-9]+)/gi) && !colorCode.match(/^rgba?\\((\\d+),\\s*(\\d+),\\s*(\\d+)(?:,\\s*(\\d+(?:\\.\\d+)?))?\\)$/)) {\n            colorCode = this.nameToHash(colorCode);\n        }\n        return colorCode !== '' ? colorCode : colorString;\n    };\n    /**\n     * @private\n     */\n    FormDesigner.prototype.getFormField = function (formFieldId) {\n        var formField;\n        var formFieldCollectionObject;\n        if (typeof formFieldId === 'object') {\n            formFieldCollectionObject = this.getAnnotationsFromAnnotationCollections(formFieldId.id);\n            if (formFieldCollectionObject)\n                formField = this.pdfViewer.nameTable[formFieldCollectionObject.id];\n        }\n        if (typeof formFieldId === 'string') {\n            formFieldCollectionObject = this.getAnnotationsFromAnnotationCollections(formFieldId);\n            if (formFieldCollectionObject)\n                formField = this.pdfViewer.nameTable[formFieldCollectionObject.id];\n        }\n        return formField;\n    };\n    FormDesigner.prototype.resetTextboxProperties = function (obj) {\n        var inputElement = document.getElementById(obj.id + \"_content_html_element\").firstElementChild.firstElementChild;\n        if (inputElement) {\n            obj.name = 'textboxField';\n            obj.value = '';\n            obj.fontFamily = 'Helvetica';\n            obj.fontSize = 10;\n            obj.fontStyle = \"None\";\n            obj.color = 'black';\n            obj.backgroundColor = '#daeaf7ff';\n            obj.alignment = 'left';\n            obj.visibility = 'visible';\n            obj.isReadonly = false;\n            obj.isRequired = false;\n            obj.tooltip = '';\n            obj.isPrint = true;\n            obj.borderColor = '#303030';\n            obj.thickness = 1;\n            obj.maxLength = 0;\n            this.updateTextboxProperties(obj, inputElement);\n        }\n    };\n    FormDesigner.prototype.resetPasswordProperties = function (obj) {\n        var inputElement = document.getElementById(obj.id + \"_content_html_element\").firstElementChild.firstElementChild;\n        if (inputElement) {\n            obj.name = 'passswordField';\n            obj.value = '';\n            obj.fontFamily = 'Helvetica';\n            obj.fontSize = 10;\n            obj.fontStyle = \"None\";\n            obj.color = 'black';\n            obj.backgroundColor = '#daeaf7ff';\n            obj.alignment = 'left';\n            obj.visibility = 'visible';\n            obj.isReadonly = false;\n            obj.isRequired = false;\n            obj.tooltip = '';\n            obj.isPrint = true;\n            obj.borderColor = '#303030';\n            obj.thickness = 1;\n            obj.maxLength = 0;\n            this.updatePasswordFieldProperties(obj, inputElement);\n        }\n    };\n    FormDesigner.prototype.resetCheckboxProperties = function (obj) {\n        var inputElement = document.getElementById(obj.id + \"_content_html_element\").firstElementChild.firstElementChild;\n        if (inputElement) {\n            obj.name = 'checkboxField';\n            obj.isChecked = false;\n            obj.backgroundColor = '#daeaf7ff';\n            obj.visibility = 'visible';\n            obj.isReadonly = false;\n            obj.isRequired = false;\n            obj.tooltip = '';\n            obj.isPrint = true;\n            obj.borderColor = '#303030';\n            obj.thickness = 1;\n            this.updateCheckboxProperties(obj, inputElement);\n        }\n    };\n    FormDesigner.prototype.resetRadioButtonProperties = function (obj) {\n        var inputElement = document.getElementById(obj.id + \"_content_html_element\").firstElementChild.firstElementChild;\n        if (inputElement) {\n            obj.name = 'RadioButtonField';\n            obj.isSelected = false;\n            obj.backgroundColor = '#daeaf7ff';\n            obj.visibility = 'visible';\n            obj.isReadonly = false;\n            obj.isRequired = false;\n            obj.tooltip = '';\n            obj.isPrint = true;\n            obj.borderColor = '#303030';\n            obj.thickness = 1;\n            this.updateRadioButtonProperties(obj, inputElement);\n        }\n    };\n    FormDesigner.prototype.resetDropdownListProperties = function (obj) {\n        var inputElement = document.getElementById(obj.id + \"_content_html_element\").firstElementChild.firstElementChild;\n        if (inputElement) {\n            obj.name = 'dropDownField';\n            obj.value = '';\n            obj.fontFamily = 'Helvetica';\n            obj.fontSize = 10;\n            obj.fontStyle = \"None\";\n            obj.color = 'black';\n            obj.backgroundColor = '#daeaf7ff';\n            obj.alignment = 'left';\n            obj.visibility = 'visible';\n            obj.isReadonly = false;\n            obj.isRequired = false;\n            obj.tooltip = '';\n            obj.isPrint = true;\n            obj.borderColor = '#303030';\n            obj.thickness = 1;\n            obj.options = [];\n            this.updateDropdownListProperties(obj, inputElement);\n            if (obj.options) {\n                this.updateDropDownListDataSource(obj, inputElement);\n            }\n        }\n    };\n    FormDesigner.prototype.resetListBoxProperties = function (obj) {\n        var inputElement = document.getElementById(obj.id + \"_content_html_element\").firstElementChild.firstElementChild;\n        if (inputElement) {\n            obj.name = 'listBoxField';\n            obj.value = '';\n            obj.fontFamily = 'Helvetica';\n            obj.fontSize = 10;\n            obj.fontStyle = \"None\";\n            obj.color = 'black';\n            obj.backgroundColor = '#daeaf7ff';\n            obj.alignment = 'left';\n            obj.visibility = 'visible';\n            obj.isReadonly = false;\n            obj.isRequired = false;\n            obj.tooltip = '';\n            obj.isPrint = true;\n            obj.borderColor = '#303030';\n            obj.thickness = 1;\n            obj.options = [];\n            this.updateListBoxProperties(obj, inputElement);\n            if (obj.options) {\n                this.updateDropDownListDataSource(obj, inputElement);\n            }\n        }\n    };\n    FormDesigner.prototype.resetSignatureTextboxProperties = function (obj) {\n        var inputElement = document.getElementById(obj.id + \"_content_html_element\").firstElementChild.firstElementChild;\n        if (inputElement) {\n            obj.name = 'signatureField';\n            obj.value = '';\n            obj.fontFamily = 'Helvetica';\n            obj.fontSize = 10;\n            obj.fontStyle = \"None\";\n            obj.color = 'black';\n            obj.backgroundColor = '#daeaf7ff';\n            obj.isRequired = false;\n            obj.isReadonly = false;\n            obj.tooltip = '';\n            obj.isPrint = true;\n            obj.visibility = 'visible';\n            this.updateSignatureFieldProperties(obj, inputElement);\n        }\n    };\n    /**\n     * Deletes the form field from the PDF page.\n     *\n     * @param formFieldId\n     * @param addAction\n     * @returns void\n     */\n    FormDesigner.prototype.deleteFormField = function (formFieldId, addAction) {\n        if (addAction === void 0) { addAction = true; }\n        var formField = this.getFormField(formFieldId);\n        if (formField) {\n            this.clearSelection(formFieldId);\n            this.pdfViewer.remove(formField);\n            this.pdfViewer.renderDrawing();\n            if (!isNullOrUndefined(this.pdfViewer.toolbar) && !isNullOrUndefined(this.pdfViewer.toolbar.formDesignerToolbarModule))\n                this.pdfViewer.toolbar.formDesignerToolbarModule.showHideDeleteIcon(false);\n            if (this.pdfViewerBase.formFieldCollection.length > 0) {\n                this.pdfViewerBase.enableFormFieldButton(true);\n            }\n            else {\n                this.pdfViewerBase.enableFormFieldButton(false);\n            }\n            if (addAction && this.pdfViewer.annotation) {\n                this.pdfViewer.annotation.addAction(this.pdfViewerBase.currentPageNumber, null, formField, 'Delete', '', formField, formField);\n            }\n        }\n    };\n    /**\n     * Clears the selection of the form field in the PDF page.\n     *\n     * @param formFieldId\n     * @returns void\n     */\n    FormDesigner.prototype.clearSelection = function (formFieldId) {\n        var formField;\n        var formFieldCollectionObject;\n        if (typeof formFieldId === 'object') {\n            formFieldCollectionObject = this.getAnnotationsFromAnnotationCollections(formFieldId.id);\n            formField = this.pdfViewer.nameTable[formFieldCollectionObject.id];\n        }\n        if (typeof formFieldId === 'string') {\n            formFieldCollectionObject = this.getAnnotationsFromAnnotationCollections(formFieldId);\n            formField = this.pdfViewer.nameTable[formFieldCollectionObject.id];\n        }\n        if (formField && (this.pdfViewer.selectedItems && !isNullOrUndefined(this.pdfViewer.selectedItems.properties.formFields) && this.pdfViewer.selectedItems.properties.formFields.length > 0 &&\n            this.pdfViewer.selectedItems.properties.formFields[0].id === formField.id)) {\n            this.pdfViewer.clearSelection(this.pdfViewerBase.activeElements.activePageID);\n        }\n    };\n    /**\n     * @private\n     */\n    FormDesigner.prototype.setMode = function (mode) {\n        if (mode && mode.indexOf(\"designer\") !== -1) {\n            this.enableDisableFormFieldsInteraction(true);\n            this.pdfViewerBase.disableTextSelectionMode();\n        }\n        else {\n            this.enableDisableFormFieldsInteraction(false);\n            if (this.pdfViewer.textSelectionModule) {\n                this.pdfViewer.textSelectionModule.enableTextSelectionMode();\n            }\n        }\n    };\n    FormDesigner.prototype.enableDisableFormFieldsInteraction = function (enableDesignerMode) {\n        var collections = this.pdfViewer.formFieldCollection;\n        if (collections && collections.length > 0) {\n            for (var i = 0; i < collections.length; i++) {\n                var element = document.getElementById(collections[i].id + \"_content_html_element\");\n                var designerName = document.getElementById(collections[i].id + \"_designer_name\");\n                if (element) {\n                    if (enableDesignerMode) {\n                        this.pdfViewer.designerMode = true;\n                        element.style.pointerEvents = \"none\";\n                        designerName.innerHTML = collections[i].name;\n                        var zoomValue = this.pdfViewerBase.getZoomFactor();\n                        designerName.style.fontSize = collections[i].fontSize ? (collections[i].fontSize * zoomValue) + 'px' : (10 * zoomValue) + 'px';\n                        designerName.style.position = 'absolute';\n                    }\n                    else {\n                        this.pdfViewer.designerMode = false;\n                        element.style.pointerEvents = \"all\";\n                        designerName.innerHTML = \"\";\n                        designerName.style.position = 'initial';\n                        if (collections[i].formFieldAnnotationType === 'RadioButton') {\n                            this.updateRadioButtonDesignerProperties(collections[i]);\n                        }\n                        if (collections[i].formFieldAnnotationType === 'Checkbox') {\n                            this.updateCheckboxFormDesignerProperties(collections[i]);\n                        }\n                        this.pdfViewer.clearSelection(collections[i].pageIndex);\n                    }\n                }\n            }\n        }\n    };\n    // eslint-disable-next-line\n    FormDesigner.prototype.getAnnotationsFromAnnotationCollections = function (annotationId) {\n        // eslint-disable-next-line\n        var collections = this.pdfViewer.formFieldCollection;\n        if (collections && annotationId) {\n            for (var i = 0; i < collections.length; i++) {\n                if (collections[i].id === annotationId) {\n                    return collections[i];\n                }\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    FormDesigner.prototype.updateSignatureValue = function (formFieldId) {\n        for (var i = 0; i < this.pdfViewerBase.formFieldCollection.length; i++) {\n            if (formFieldId === this.pdfViewerBase.formFieldCollection[i].FormField.id) {\n                this.pdfViewerBase.formFieldCollection[i].FormField.value = '';\n                this.pdfViewer.nameTable[this.pdfViewerBase.formFieldCollection[i].FormField.id.split('_')[0]].value = '';\n                this.pdfViewer.nameTable[this.pdfViewerBase.formFieldCollection[i].FormField.id].value = '';\n                this.pdfViewerBase.formFieldCollection[i].FormField.signatureType = '';\n                this.pdfViewer.nameTable[this.pdfViewerBase.formFieldCollection[i].FormField.id.split('_')[0]].signatureType = '';\n                this.pdfViewer.nameTable[this.pdfViewerBase.formFieldCollection[i].FormField.id].signatureType = '';\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    FormDesigner.prototype.removeFieldsFromAnnotationCollections = function (annotationId) {\n        var data = this.pdfViewerBase.getItemFromSessionStorage('_formDesigner');\n        var formFieldsData = JSON.parse(data);\n        for (var i = 0; i < formFieldsData.length; i++) {\n            if (formFieldsData[i].Key.split(\"_\")[0] === annotationId) {\n                formFieldsData.splice(i, 1);\n                this.pdfViewerBase.formFieldCollection.splice(i, 1);\n                break;\n            }\n        }\n        this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection, '_formDesigner');\n        var storeObject = window.sessionStorage.getItem(this.pdfViewerBase.documentId + '_annotations_shape');\n        if (storeObject) {\n            var annotObject = JSON.parse(storeObject);\n            var index = this.pdfViewer.annotationModule.getPageCollection(annotObject, this.pdfViewerBase.currentPageNumber - 1);\n            if (annotObject[index]) {\n                for (var m = 0; m < annotObject[index].annotations.length; m++) {\n                    if (annotationId === annotObject[index].annotations[m].id) {\n                        annotObject[index].annotations.splice(m, 1);\n                        break;\n                    }\n                }\n                var annotationStringified = JSON.stringify(annotObject);\n                window.sessionStorage.setItem(this.pdfViewerBase.documentId + '_annotations_shape', annotationStringified);\n            }\n        }\n        // eslint-disable-next-line\n        var collections = this.pdfViewer.formFieldCollection;\n        if (collections && annotationId) {\n            for (var i = 0; i < collections.length; i++) {\n                if (collections[i].formFieldId === annotationId) {\n                    this.pdfViewer.formFieldCollection.splice(i, 1);\n                }\n            }\n        }\n    };\n    /**\n     * @private\n    */\n    FormDesigner.prototype.setFormFieldIndex = function () {\n        this.formFieldIndex = this.formFieldIndex + 1;\n        return this.formFieldIndex;\n    };\n    FormDesigner.prototype.setFormFieldIdIndex = function () {\n        this.formFieldIdIndex = this.formFieldIdIndex + 1;\n        return this.formFieldIdIndex;\n    };\n    FormDesigner.prototype.activateTextboxElement = function (formFieldType) {\n        this.pdfViewer.drawingObject = {\n            formFieldAnnotationType: formFieldType,\n            name: 'Textbox' + this.setFormFieldIndex(), value: '', fontFamily: 'Helvetica', fontSize: 10 * this.pdfViewerBase.getZoomFactor(), fontStyle: 'None', color: 'black',\n            backgroundColor: '#daeaf7ff', thickness: 1, borderColor: '#303030', alignment: 'left', isReadonly: false, visibility: \"visible\", isRequired: false, isPrint: true, rotateAngle: 0, tooltip: '', font: { isItalic: false, isBold: false, isStrikeout: false, isUnderline: false }\n        };\n        this.pdfViewer.tool = \"DrawTool\";\n    };\n    FormDesigner.prototype.activatePasswordField = function (formFieldType) {\n        this.pdfViewer.drawingObject = {\n            formFieldAnnotationType: formFieldType,\n            name: 'Password' + this.setFormFieldIndex(), value: '', fontFamily: 'Helvetica', fontSize: 10 * this.pdfViewerBase.getZoomFactor(), fontStyle: 'None', color: 'black',\n            alignment: 'left', backgroundColor: '#daeaf7ff', thickness: 1, borderColor: '#303030', isReadonly: false, visibility: \"visible\", isRequired: false, isPrint: true, rotateAngle: 0, tooltip: '', font: { isItalic: false, isBold: false, isStrikeout: false, isUnderline: false }\n        };\n        this.pdfViewer.tool = \"DrawTool\";\n    };\n    FormDesigner.prototype.activateCheckboxElement = function (formFieldType) {\n        this.pdfViewer.drawingObject = {\n            formFieldAnnotationType: formFieldType,\n            name: 'Check Box' + this.setFormFieldIndex(), isChecked: false, fontSize: 10 * this.pdfViewerBase.getZoomFactor(), backgroundColor: '#daeaf7ff', color: 'black', thickness: 1, borderColor: '#303030', isReadonly: false, visibility: \"visible\", isPrint: true, rotateAngle: 0, tooltip: ''\n        };\n        this.pdfViewer.tool = \"DrawTool\";\n    };\n    FormDesigner.prototype.activateRadioButtonElement = function (formFieldType) {\n        this.pdfViewer.drawingObject = {\n            formFieldAnnotationType: formFieldType,\n            name: 'Radio Button' + this.setFormFieldIndex(), isSelected: false, fontSize: 10 * this.pdfViewerBase.getZoomFactor(), backgroundColor: '#daeaf7ff', color: 'black', thickness: 1, borderColor: '#303030', isReadonly: false, visibility: \"visible\", isPrint: true, rotateAngle: 0, tooltip: ''\n        };\n        this.pdfViewer.tool = \"DrawTool\";\n    };\n    FormDesigner.prototype.activateDropDownListElement = function (formFieldType, dropDownOptions) {\n        this.pdfViewer.drawingObject = {\n            formFieldAnnotationType: formFieldType,\n            name: 'Dropdown' + this.setFormFieldIndex(), fontFamily: 'Helvetica', fontSize: 10 * this.pdfViewerBase.getZoomFactor(), fontStyle: 'None', color: 'black', backgroundColor: '#daeaf7ff', thickness: 1, borderColor: '#303030',\n            alignment: 'left', isReadonly: false, visibility: \"visible\", isRequired: false, isPrint: true, rotateAngle: 0, tooltip: '',\n            options: dropDownOptions, isMultiSelect: false, font: { isItalic: false, isBold: false, isStrikeout: false, isUnderline: false }\n        };\n        this.pdfViewer.tool = \"DrawTool\";\n    };\n    FormDesigner.prototype.activateListboxElement = function (formFieldType, listBoxOptions) {\n        this.pdfViewer.drawingObject = {\n            formFieldAnnotationType: formFieldType,\n            name: 'List Box' + this.setFormFieldIndex(), fontFamily: 'Helvetica', fontSize: 10 * this.pdfViewerBase.getZoomFactor(), fontStyle: 'None', color: 'black', backgroundColor: '#daeaf7ff', thickness: 1, borderColor: '#303030',\n            alignment: 'left', isReadonly: false, visibility: \"visible\", isRequired: false, isPrint: true, rotateAngle: 0, tooltip: '',\n            options: listBoxOptions, isMultiSelect: true, font: { isItalic: false, isBold: false, isStrikeout: false, isUnderline: false }\n        };\n        this.pdfViewer.tool = \"DrawTool\";\n    };\n    FormDesigner.prototype.activateSignatureBoxElement = function (formFieldType) {\n        this.pdfViewer.drawingObject = {\n            formFieldAnnotationType: formFieldType,\n            name: formFieldType === 'InitialField' || this.pdfViewer.isInitialFieldToolbarSelection ? 'Initial' + this.setFormFieldIndex() : 'Signature' + this.setFormFieldIndex(), fontFamily: 'Helvetica', fontSize: 10 * this.pdfViewerBase.getZoomFactor(), fontStyle: 'None', color: 'black', backgroundColor: '#daeaf7ff', alignment: 'left',\n            isReadonly: false, visibility: \"visible\", isRequired: false, isPrint: true, rotateAngle: 0, tooltip: '', font: { isItalic: false, isBold: false, isStrikeout: false, isUnderline: false },\n            isInitialField: formFieldType === 'InitialField' || this.pdfViewer.isInitialFieldToolbarSelection ? true : false\n        };\n        this.pdfViewer.tool = \"DrawTool\";\n    };\n    /**\n     * @private\n    */\n    FormDesigner.prototype.updateTextboxProperties = function (obj, inputElement) {\n        inputElement.name = obj.name ? obj.name : 'Textbox' + this.setFormFieldIndex();\n        inputElement.value = obj.value ? obj.value : '';\n        inputElement.style.fontFamily = obj.fontFamily && this.getFontFamily(obj.fontFamily) ? obj.fontFamily : 'Helvetica';\n        var zoomValue = this.pdfViewerBase.getZoomFactor();\n        inputElement.style.fontSize = obj.fontSize ? (obj.fontSize * zoomValue) + 'px' : (10 * zoomValue) + 'px';\n        if (obj.font.isBold) {\n            inputElement.style.fontWeight = \"bold\";\n        }\n        if (obj.font.isItalic) {\n            inputElement.style.fontStyle = \"italic\";\n        }\n        if (obj.font.isStrikeout) {\n            inputElement.style.textDecoration = \"line-through\";\n        }\n        if (obj.font.isUnderline) {\n            inputElement.style.textDecoration = \"underline\";\n        }\n        inputElement.style.color = obj.color ? obj.color : 'black';\n        inputElement.style.backgroundColor = obj.backgroundColor ? obj.backgroundColor : '#daeaf7ff';\n        inputElement.style.borderWidth = !isNullOrUndefined(obj.thickness) ? obj.thickness + 'px' : '1px';\n        inputElement.style.borderColor = obj.borderColor ? obj.borderColor : '#303030';\n        inputElement.style.textAlign = obj.alignment ? obj.alignment.toLowerCase() : 'left';\n        inputElement.style.visibility = obj.visibility ? obj.visibility : 'visible';\n        inputElement.style.pointerEvents = obj.isReadonly ? 'none' : 'default';\n        if (obj.isReadonly) {\n            inputElement.disabled = true;\n            inputElement.style.cursor = 'default';\n            inputElement.style.backgroundColor = 'transparent';\n        }\n        if (obj.isRequired) {\n            inputElement.required = true;\n            inputElement.style.border = '1px solid red';\n            inputElement.style.borderWidth = !isNullOrUndefined(obj.thickness) ? obj.thickness + 'px' : '1px';\n        }\n        if (obj.maxLength != undefined) {\n            inputElement.maxLength = obj.maxLength === 0 ? 524288 : obj.maxLength;\n        }\n        inputElement.tabIndex = this.formFieldIndex;\n    };\n    /**\n     * @private\n    */\n    FormDesigner.prototype.updatePasswordFieldProperties = function (obj, inputElement) {\n        inputElement.name = obj.name ? obj.name : 'Password' + this.setFormFieldIndex();\n        inputElement.value = obj.value ? obj.value : '';\n        inputElement.style.fontFamily = obj.fontFamily ? obj.fontFamily : 'Helvetica';\n        var zoomValue = this.pdfViewerBase.getZoomFactor();\n        inputElement.style.fontSize = obj.fontSize ? (obj.fontSize * zoomValue) + 'px' : (10 * zoomValue) + 'px';\n        if (obj.font.isBold) {\n            inputElement.style.fontWeight = \"bold\";\n        }\n        if (obj.font.isItalic) {\n            inputElement.style.fontStyle = \"italic\";\n        }\n        if (obj.font.isStrikeout) {\n            inputElement.style.textDecoration = \"line-through\";\n        }\n        if (obj.font.isUnderline) {\n            inputElement.style.textDecoration = \"underline\";\n        }\n        inputElement.style.borderWidth = !isNullOrUndefined(obj.thickness) ? obj.thickness + 'px' : '1px';\n        inputElement.style.color = obj.color ? obj.color : 'black';\n        inputElement.style.backgroundColor = obj.backgroundColor ? obj.backgroundColor : '#daeaf7ff';\n        inputElement.style.borderColor = obj.borderColor ? obj.borderColor : '#303030';\n        inputElement.style.textAlign = obj.alignment ? obj.alignment.toLowerCase() : 'left';\n        inputElement.style.visibility = obj.visibility ? obj.visibility : 'visible';\n        inputElement.style.pointerEvents = obj.isReadonly ? 'none' : 'default';\n        if (obj.isReadonly) {\n            inputElement.disabled = true;\n            inputElement.style.cursor = 'default';\n            inputElement.style.backgroundColor = 'transparent';\n        }\n        if (obj.isRequired) {\n            inputElement.required = true;\n            inputElement.style.border = '1px solid red';\n            inputElement.style.borderWidth = !isNullOrUndefined(obj.thickness) ? obj.thickness + 'px' : '1px';\n        }\n        if (obj.maxLength != undefined) {\n            inputElement.maxLength = obj.maxLength === 0 ? 524288 : obj.maxLength;\n        }\n        inputElement.tabIndex = this.formFieldIndex;\n    };\n    /**\n     * @private\n    */\n    FormDesigner.prototype.updateCheckboxProperties = function (obj, inputElement) {\n        inputElement.name = obj.name ? obj.name : 'Check Box' + this.setFormFieldIndex();\n        inputElement.checked = obj.isChecked ? true : false;\n        inputElement.style.backgroundColor = obj.backgroundColor ? obj.backgroundColor : '#daeaf7ff';\n        inputElement.style.borderColor = obj.borderColor ? obj.borderColor : '#303030';\n        inputElement.style.visibility = obj.visibility ? obj.visibility : 'visible';\n        inputElement.style.pointerEvents = obj.isReadonly ? 'none' : 'default';\n        inputElement.style.borderWidth = !isNullOrUndefined(obj.thickness) ? obj.thickness + 'px' : '1px';\n        if (obj.isReadonly) {\n            inputElement.disabled = true;\n            inputElement.style.cursor = 'default';\n            inputElement.style.backgroundColor = 'transparent';\n        }\n        if (obj.isRequired) {\n            inputElement.required = true;\n            inputElement.style.border = '1px solid red';\n            inputElement.style.borderWidth = !isNullOrUndefined(obj.thickness) ? obj.thickness + 'px' : '1px';\n        }\n        inputElement.tabIndex = this.formFieldIndex;\n    };\n    /**\n     * @private\n    */\n    FormDesigner.prototype.updateRadioButtonProperties = function (obj, inputElement) {\n        inputElement.name = obj.name ? obj.name : 'Radio Button' + this.setFormFieldIndex();\n        inputElement.checked = obj.isSelected ? true : false;\n        inputElement.style.backgroundColor = obj.backgroundColor ? obj.backgroundColor : '#daeaf7ff';\n        inputElement.style.borderColor = obj.borderColor ? obj.borderColor : '#303030';\n        inputElement.style.visibility = obj.visibility ? obj.visibility : 'visible';\n        inputElement.style.pointerEvents = obj.isReadonly ? 'none' : 'default';\n        inputElement.style.borderWidth = !isNullOrUndefined(obj.thickness) ? obj.thickness + 'px' : '1px';\n        if (obj.isReadonly) {\n            inputElement.disabled = true;\n            inputElement.style.cursor = 'default';\n            inputElement.style.backgroundColor = 'transparent';\n        }\n        if (obj.isRequired) {\n            inputElement.required = true;\n            inputElement.style.border = '1px solid red';\n            inputElement.style.borderWidth = !isNullOrUndefined(obj.thickness) ? obj.thickness + 'px' : '1px';\n        }\n        inputElement.tabIndex = this.formFieldIndex;\n    };\n    /**\n     * @private\n    */\n    FormDesigner.prototype.updateDropdownListProperties = function (obj, inputElement) {\n        inputElement.name = obj.name ? obj.name : 'Dropdown' + this.setFormFieldIndex();\n        inputElement.value = obj.value ? obj.value : '';\n        inputElement.style.fontFamily = obj.fontFamily ? obj.fontFamily : 'Helvetica';\n        var zoomValue = this.pdfViewerBase.getZoomFactor();\n        inputElement.style.fontSize = obj.fontSize ? (obj.fontSize * zoomValue) + 'px' : (10 * zoomValue) + 'px';\n        if (obj.font.isBold) {\n            inputElement.style.fontWeight = \"bold\";\n        }\n        if (obj.font.isItalic) {\n            inputElement.style.fontStyle = \"italic\";\n        }\n        if (obj.font.isStrikeout) {\n            inputElement.style.textDecoration = \"line-through\";\n        }\n        if (obj.font.isUnderline) {\n            inputElement.style.textDecoration = \"underline\";\n        }\n        inputElement.style.borderWidth = !isNullOrUndefined(obj.thickness) ? obj.thickness + 'px' : '1px';\n        inputElement.style.color = obj.color ? obj.color : 'black';\n        inputElement.style.backgroundColor = obj.backgroundColor ? obj.backgroundColor : '#daeaf7ff';\n        inputElement.style.borderColor = obj.borderColor ? obj.borderColor : '#303030';\n        inputElement.style.textAlign = obj.alignment ? obj.alignment.toLowerCase() : 'left';\n        inputElement.style.visibility = obj.visibility ? obj.visibility : 'visible';\n        inputElement.style.pointerEvents = obj.isReadonly ? 'none' : 'default';\n        if (obj.isReadonly) {\n            inputElement.disabled = true;\n            inputElement.style.cursor = 'default';\n            inputElement.style.backgroundColor = 'transparent';\n        }\n        if (obj.isRequired) {\n            inputElement.required = true;\n            inputElement.style.border = '1px solid red';\n            inputElement.style.borderWidth = !isNullOrUndefined(obj.thickness) ? obj.thickness + 'px' : '1px';\n        }\n        inputElement.tabIndex = this.formFieldIndex;\n    };\n    /**\n     * @private\n    */\n    FormDesigner.prototype.updateListBoxProperties = function (obj, inputElement) {\n        inputElement.name = obj.name ? obj.name : 'List Box' + this.setFormFieldIndex();\n        inputElement.value = obj.value ? obj.value : '';\n        inputElement.style.fontFamily = obj.fontFamily ? obj.fontFamily : 'Helvetica';\n        var zoomValue = this.pdfViewerBase.getZoomFactor();\n        inputElement.style.fontSize = obj.fontSize ? (obj.fontSize * zoomValue) + 'px' : (10 * zoomValue) + 'px';\n        if (obj.font.isBold) {\n            inputElement.style.fontWeight = \"bold\";\n        }\n        if (obj.font.isItalic) {\n            inputElement.style.fontStyle = \"italic\";\n        }\n        if (obj.font.isStrikeout) {\n            inputElement.style.textDecoration = \"line-through\";\n        }\n        if (obj.font.isUnderline) {\n            inputElement.style.textDecoration = \"underline\";\n        }\n        inputElement.style.color = obj.color ? obj.color : 'black';\n        inputElement.style.backgroundColor = obj.backgroundColor ? obj.backgroundColor : '#daeaf7ff';\n        inputElement.style.borderColor = obj.borderColor ? obj.borderColor : '#303030';\n        inputElement.style.textAlign = obj.alignment ? obj.alignment.toLowerCase() : 'left';\n        inputElement.style.visibility = obj.visibility ? obj.visibility : 'visible';\n        inputElement.style.pointerEvents = obj.isReadonly ? 'none' : 'default';\n        inputElement.style.borderWidth = !isNullOrUndefined(obj.thickness) ? obj.thickness + 'px' : '1px';\n        if (obj.isReadonly) {\n            inputElement.disabled = true;\n            inputElement.style.cursor = 'default';\n            inputElement.style.backgroundColor = 'transparent';\n        }\n        if (obj.isRequired) {\n            inputElement.required = true;\n            inputElement.style.border = '1px solid red';\n            inputElement.style.borderWidth = !isNullOrUndefined(obj.thickness) ? obj.thickness + 'px' : '1px';\n        }\n        inputElement.tabIndex = this.formFieldIndex;\n    };\n    /**\n     * @private\n    */\n    FormDesigner.prototype.updateSignatureFieldProperties = function (obj, inputElement, isPrint) {\n        inputElement.name = obj.name ? obj.name : 'Signature' + this.setFormFieldIndex();\n        inputElement.value = obj.value ? obj.value : '';\n        inputElement.style.fontFamily = obj.fontFamily ? obj.fontFamily : 'Helvetica';\n        inputElement.style.visibility = obj.visibility ? obj.visibility : 'visible';\n        var zoomValue = this.pdfViewerBase.getZoomFactor();\n        inputElement.style.fontSize = obj.fontSize ? (obj.fontSize * zoomValue) + 'px' : (10 * zoomValue) + 'px';\n        if (obj.font.isBold) {\n            inputElement.style.fontWeight = \"bold\";\n        }\n        if (obj.font.isItalic) {\n            inputElement.style.fontStyle = \"italic\";\n        }\n        if (obj.font.isStrikeout) {\n            inputElement.style.textDecoration = \"line-through\";\n        }\n        if (obj.font.isUnderline) {\n            inputElement.style.textDecoration = \"underline\";\n        }\n        inputElement.style.color = obj.color ? obj.color : 'black';\n        inputElement.style.borderWidth = !isNullOrUndefined(obj.thickness) ? obj.thickness + 'px' : '1px';\n        var background = obj.backgroundColor ? obj.backgroundColor : '#FFE48559';\n        background = this.getSignatureBackground(background);\n        inputElement.style.backgroundColor = isPrint ? 'transparent' : background;\n        if (obj.isReadonly) {\n            inputElement.disabled = true;\n            inputElement.style.cursor = 'default';\n            inputElement.style.backgroundColor = 'transparent';\n        }\n        if (obj.isRequired) {\n            inputElement.required = true;\n            inputElement.firstElementChild.style.border = '1px solid red';\n            inputElement.style.borderWidth = obj.thickness ? obj.thickness + 'px' : '1px';\n        }\n        inputElement.tabIndex = this.formFieldIndex;\n    };\n    /**\n     * @private\n     */\n    FormDesigner.prototype.createHtmlElement = function (elementType, attribute) {\n        var element = createElement(elementType);\n        this.setAttributeHtml(element, attribute);\n        return element;\n    };\n    FormDesigner.prototype.setAttributeHtml = function (element, attributes) {\n        var keys = Object.keys(attributes);\n        for (var i = 0; i < keys.length; i++) {\n            if (keys[i] !== 'style') {\n                element.setAttribute(keys[i], attributes[keys[i]]);\n            }\n            else {\n                this.applyStyleAgainstCsp(element, attributes[keys[i]]);\n            }\n        }\n    };\n    FormDesigner.prototype.applyStyleAgainstCsp = function (svg, attributes) {\n        var keys = attributes.split(';');\n        for (var i = 0; i < keys.length; i++) {\n            var attribute = keys[i].split(':');\n            if (attribute.length === 2) {\n                svg.style[attribute[0].trim()] = attribute[1].trim();\n            }\n        }\n    };\n    // eslint-disable-next-line\n    FormDesigner.prototype.getFieldBounds = function (bound, pageIndex) {\n        // eslint-disable-next-line\n        var pageDetails = this.pdfViewerBase.pageSize[pageIndex];\n        // eslint-disable-next-line max-len\n        bound = { X: bound.X ? bound.X : bound.x, Y: bound.Y ? bound.Y : bound.y, Width: bound.Width ? bound.Width : bound.width, Height: bound.Height ? bound.Height : bound.height };\n        // eslint-disable-next-line\n        var bounds;\n        if (pageDetails) {\n            switch (pageDetails.rotation) {\n                case 0:\n                    bounds = bound;\n                    break;\n                case 1:\n                    bounds = { X: bound.Y - (bound.Width / 2 - bound.Height / 2), Y: pageDetails.width - bound.X - bound.Height - (bound.Width / 2 - bound.Height / 2), Width: bound.Width, Height: bound.Height };\n                    break;\n                case 2:\n                    bounds = { X: pageDetails.width - bound.X - bound.Width, Y: pageDetails.height - bound.Y - bound.Height, Width: bound.Width, Height: bound.Height };\n                    break;\n                case 3:\n                    bounds = { X: (pageDetails.height - bound.Y - bound.Width + (bound.Width / 2 - bound.Height / 2)), Y: bound.X + (bound.Width / 2 - bound.Height / 2), Width: bound.Height, Height: bound.Width };\n                    break;\n            }\n        }\n        if (!bounds) {\n            bounds = bound;\n        }\n        return bounds;\n    };\n    /**\n     * @private\n     */\n    // eslint-disable-next-line\n    FormDesigner.prototype.downloadFormDesigner = function () {\n        var data = this.pdfViewerBase.getItemFromSessionStorage('_formDesigner');\n        if (data) {\n            var formFieldsData = JSON.parse(data);\n            for (var i = 0; i < formFieldsData.length; i++) {\n                var currentData = formFieldsData[i].FormField;\n                currentData.Multiline = currentData.isMultiline;\n                if (currentData.isRequired) {\n                    if (currentData.formFieldAnnotationType === 'Textbox' || currentData.formFieldAnnotationType === 'PasswordField' || currentData.Multiline) {\n                        if (currentData.value === null || currentData.value === '') {\n                            this.pdfViewerBase.validateForm = true;\n                            this.pdfViewerBase.nonFillableFields[currentData.name] = currentData.value;\n                        }\n                        else {\n                            delete (this.pdfViewerBase.nonFillableFields[currentData.name]);\n                        }\n                    }\n                    else if (currentData.formFieldAnnotationType === 'RadioButton') {\n                        if (currentData.radiobuttonItem) {\n                            var isSelected = false;\n                            for (var j = 0; j < currentData.radiobuttonItem.length; j++) {\n                                if (currentData.radiobuttonItem[j].isSelected) {\n                                    isSelected = true;\n                                    break;\n                                }\n                            }\n                            if (!isSelected) {\n                                this.pdfViewerBase.validateForm = true;\n                                this.pdfViewerBase.nonFillableFields[currentData.name] = isSelected;\n                            }\n                            else {\n                                delete (this.pdfViewerBase.nonFillableFields[currentData.name]);\n                            }\n                        }\n                    }\n                    else if (currentData.formFieldAnnotationType === 'Checkbox') {\n                        if (currentData.isChecked === false) {\n                            this.pdfViewerBase.validateForm = true;\n                            this.pdfViewerBase.nonFillableFields[currentData.name] = currentData.isChecked;\n                        }\n                        else {\n                            delete (this.pdfViewerBase.nonFillableFields[currentData.name]);\n                        }\n                    }\n                    else if (currentData.formFieldAnnotationType === 'DropdownList' || currentData.formFieldAnnotationType === 'ListBox') {\n                        if (isNullOrUndefined(currentData.selectedIndex) || currentData.selectedIndex.length === 0) {\n                            this.pdfViewerBase.validateForm = true;\n                            this.pdfViewerBase.nonFillableFields[currentData.name] = currentData.selectedIndex;\n                        }\n                        else {\n                            delete (this.pdfViewerBase.nonFillableFields[currentData.name]);\n                        }\n                    }\n                    else if (currentData.formFieldAnnotationType === 'SignatureField' || currentData.formFieldAnnotationType === 'InitialField') {\n                        if (currentData.value === null || currentData.value === '') {\n                            this.pdfViewerBase.validateForm = true;\n                            this.pdfViewerBase.nonFillableFields[currentData.name] = currentData.value;\n                        }\n                        else {\n                            delete (this.pdfViewerBase.nonFillableFields[currentData.name]);\n                        }\n                    }\n                }\n            }\n            return (JSON.stringify(formFieldsData));\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * @private\n     */\n    // eslint-disable-next-line max-len\n    FormDesigner.prototype.createAnnotationLayer = function (pageDiv, pageWidth, pageHeight, pageNumber, displayMode) {\n        var canvas = this.pdfViewerBase.getElement('_annotationCanvas_' + pageNumber);\n        if (canvas) {\n            this.updateAnnotationCanvas(canvas, pageWidth, pageHeight, pageNumber);\n            return canvas;\n        }\n        else {\n            // eslint-disable-next-line max-len\n            var annotationCanvas = createElement('canvas', { id: this.pdfViewer.element.id + '_annotationCanvas_' + pageNumber, className: 'e-pv-annotation-canvas' });\n            this.updateAnnotationCanvas(annotationCanvas, pageWidth, pageHeight, pageNumber);\n            pageDiv.appendChild(annotationCanvas);\n            return annotationCanvas;\n        }\n    };\n    /**\n     * @private\n    */\n    FormDesigner.prototype.resizeAnnotations = function (width, height, pageNumber) {\n        var canvas = this.pdfViewerBase.getElement('_annotationCanvas_' + pageNumber);\n        if (canvas) {\n            canvas.style.width = width + 'px';\n            canvas.style.height = height + 'px';\n            this.pdfViewerBase.applyElementStyles(canvas, pageNumber);\n        }\n    };\n    /**\n     * @private\n    */\n    FormDesigner.prototype.getEventPageNumber = function (event) {\n        var eventTarget = event.target;\n        if (eventTarget.classList.contains('e-pv-hyperlink')) {\n            eventTarget = eventTarget.parentElement;\n        }\n        else if (eventTarget.parentElement.classList.contains('foreign-object')) {\n            eventTarget = eventTarget.parentElement.parentElement.parentElement.parentElement;\n        }\n        // eslint-disable-next-line\n        var pageString = eventTarget.id.split('_text_')[1] || eventTarget.id.split('_textLayer_')[1] || eventTarget.id.split('_annotationCanvas_')[1] || eventTarget.id.split('_pageDiv_')[1];\n        if (isNaN(pageString)) {\n            event = this.pdfViewerBase.annotationEvent;\n            if (event) {\n                eventTarget = event.target;\n                // eslint-disable-next-line\n                pageString = eventTarget.id.split('_text_')[1] || eventTarget.id.split('_textLayer_')[1] || eventTarget.id.split('_annotationCanvas_')[1] || eventTarget.id.split('_pageDiv_')[1];\n            }\n        }\n        // eslint-disable-next-line\n        return parseInt(pageString);\n    };\n    FormDesigner.prototype.getPropertyPanelHeaderContent = function (formFieldType) {\n        switch (formFieldType) {\n            case 'Textbox':\n                return this.pdfViewer.localeObj.getConstant('Textbox');\n            case 'PasswordField':\n                return this.pdfViewer.localeObj.getConstant('Password');\n            case 'Checkbox':\n                return this.pdfViewer.localeObj.getConstant('Check Box');\n            case 'RadioButton':\n                return this.pdfViewer.localeObj.getConstant('Radio Button');\n            case 'DropdownList':\n                return this.pdfViewer.localeObj.getConstant('Dropdown');\n            case 'ListBox':\n                return this.pdfViewer.localeObj.getConstant('List Box');\n            case 'InitialField':\n                return this.pdfViewer.localeObj.getConstant('Initial');\n            case 'SignatureField':\n                return this.pdfViewer.localeObj.getConstant('Signature');\n        }\n    };\n    /**\n     * @private\n    */\n    FormDesigner.prototype.createPropertiesWindow = function () {\n        var _this = this;\n        var elementID = this.pdfViewer.element.id;\n        var propertyWinMinHeight;\n        // eslint-disable-next-line max-len\n        var dialogDiv = createElement('div', { id: elementID + '_properties_window', className: 'e-pv-properties-form-field-window' });\n        var appearanceTab = this.createAppearanceTab();\n        this.pdfViewerBase.pageContainer.appendChild(dialogDiv);\n        if (this.pdfViewer.selectedItems.formFields[0].formFieldAnnotationType !== 'DropdownList' && this.pdfViewer.selectedItems.formFields[0].formFieldAnnotationType !== 'ListBox')\n            propertyWinMinHeight = '430px';\n        else\n            propertyWinMinHeight = '505px';\n        this.propertiesDialog = new Dialog({\n            showCloseIcon: true, closeOnEscape: false, isModal: true, header: '<div class=\"e-pv-form-field-property-header\"> ' + this.getPropertyPanelHeaderContent(this.pdfViewer.selectedItems.formFields[0].formFieldAnnotationType) + ' ' + this.pdfViewer.localeObj.getConstant('Properties') + '</div>',\n            minHeight: propertyWinMinHeight, target: this.pdfViewer.element, content: appearanceTab, allowDragging: true, close: function () {\n                _this.destroyPropertiesWindow();\n            }\n        });\n        if (!Browser.isDevice || this.pdfViewer.enableDesktopMode) {\n            this.propertiesDialog.buttons = [\n                // eslint-disable-next-line max-len\n                { buttonModel: { content: this.pdfViewer.localeObj.getConstant('Cancel') }, click: this.onCancelClicked.bind(this) },\n                { buttonModel: { content: this.pdfViewer.localeObj.getConstant('OK'), isPrimary: true }, click: this.onOkClicked.bind(this) }\n            ];\n        }\n        else {\n            this.propertiesDialog.buttons = [\n                { buttonModel: { content: this.pdfViewer.localeObj.getConstant('Cancel') }, click: this.onCancelClicked.bind(this) },\n                // eslint-disable-next-line max-len\n                { buttonModel: { content: this.pdfViewer.localeObj.getConstant('OK'), isPrimary: true }, click: this.onOkClicked.bind(this) }\n            ];\n        }\n        if (this.pdfViewer.enableRtl) {\n            this.propertiesDialog.enableRtl = true;\n        }\n        var propertySpliterBottom = createElement('div');\n        propertySpliterBottom.className = 'e-pv-properties-bottom-spliter';\n        dialogDiv.appendChild(propertySpliterBottom);\n        this.propertiesDialog.appendTo(dialogDiv);\n    };\n    FormDesigner.prototype.onOkClicked = function (args) {\n        var selectedItem = this.pdfViewer.selectedItems.formFields[0];\n        var clonedItem = cloneObject(selectedItem);\n        if (selectedItem) {\n            switch (selectedItem.formFieldAnnotationType) {\n                case 'Textbox':\n                case 'PasswordField':\n                    if (this.formFieldMultiline && this.formFieldMultiline.checked && selectedItem.formFieldAnnotationType === 'Textbox' && this.multilineCheckboxCheckedState) {\n                        this.renderMultilineText(selectedItem);\n                    }\n                    else if (selectedItem.formFieldAnnotationType === 'Textbox' && this.multilineCheckboxCheckedState) {\n                        this.renderTextbox(selectedItem);\n                    }\n                    if (selectedItem.formFieldAnnotationType === 'PasswordField') {\n                        this.updateTextboxFormDesignerProperties(selectedItem);\n                    }\n                    if (selectedItem.formFieldAnnotationType === 'Textbox') {\n                        var textboxCollection = this.checkTextboxName(selectedItem);\n                        if (textboxCollection && textboxCollection.length > 0) {\n                            for (var i = 0; i < textboxCollection.length; i++) {\n                                var item = textboxCollection[i];\n                                if (selectedItem.isMultiline) {\n                                    this.renderMultilineText(item);\n                                }\n                                else {\n                                    this.renderTextbox(item);\n                                }\n                                document.getElementById(item.id + \"_content_html_element\") ? this.updateTextboxFormDesignerProperties(item) : this.updateFormFieldPropertiesInCollections(item);\n                            }\n                        }\n                    }\n                    this.multilineCheckboxCheckedState = false;\n                    var point = cornersPointsBeforeRotation(selectedItem.wrapper.children[0]).topLeft;\n                    this.updateFormDesignerFieldInSessionStorage(point, selectedItem.wrapper.children[0], selectedItem.formFieldAnnotationType, selectedItem);\n                    break;\n                case 'Checkbox':\n                    this.updateCheckboxFormDesignerProperties(selectedItem);\n                    var point1 = cornersPointsBeforeRotation(selectedItem.wrapper.children[0]).topLeft;\n                    this.updateFormDesignerFieldInSessionStorage(point1, selectedItem.wrapper.children[0], selectedItem.formFieldAnnotationType, selectedItem);\n                    break;\n                case 'RadioButton':\n                    this.updateRadioButtonDesignerProperties(selectedItem);\n                    var point2 = cornersPointsBeforeRotation(selectedItem.wrapper.children[0]).topLeft;\n                    this.updateFormDesignerFieldInSessionStorage(point2, selectedItem.wrapper.children[0], selectedItem.formFieldAnnotationType, selectedItem);\n                    break;\n                case 'SignatureField':\n                case 'InitialField':\n                    this.updateSignatureTextboxProperties(selectedItem);\n                    var point3 = cornersPointsBeforeRotation(selectedItem.wrapper.children[0]).topLeft;\n                    this.updateFormDesignerFieldInSessionStorage(point3, selectedItem.wrapper.children[0], selectedItem.formFieldAnnotationType, selectedItem);\n                    break;\n                case 'DropdownList':\n                    this.updateDropdownFormDesignerProperties(selectedItem);\n                    var point4 = cornersPointsBeforeRotation(selectedItem.wrapper.children[0]).topLeft;\n                    this.updateFormDesignerFieldInSessionStorage(point4, selectedItem.wrapper.children[0], selectedItem.formFieldAnnotationType, selectedItem);\n                    break;\n                case 'ListBox':\n                    this.updateListBoxFormDesignerProperties(selectedItem);\n                    var point5 = cornersPointsBeforeRotation(selectedItem.wrapper.children[0]).topLeft;\n                    this.updateFormDesignerFieldInSessionStorage(point5, selectedItem.wrapper.children[0], selectedItem.formFieldAnnotationType, selectedItem);\n                    break;\n            }\n            this.updateFormFieldCollections(selectedItem);\n            var cloneChangedNode = cloneObject(selectedItem);\n            if (this.pdfViewer.annotation) {\n                this.pdfViewer.annotation.addAction(this.pdfViewerBase.currentPageNumber, null, selectedItem, 'FormDesigner Properties Change', '', clonedItem, cloneChangedNode);\n            }\n        }\n        this.propertiesDialog.hide();\n    };\n    /**\n     * Update the form fields properties to the collection while rendering the page\n    */\n    FormDesigner.prototype.updateFormFieldPropertiesInCollections = function (item) {\n        var formFieldCollection = this.pdfViewer.formFieldCollections;\n        for (var i = 0; i < formFieldCollection.length; i++) {\n            var currentData = formFieldCollection[i];\n            if (currentData.id === item.id && currentData.name === item.name) {\n                this.formFieldName && this.formFieldName.value ? currentData.name = this.formFieldName.value : null;\n                this.formFieldValue && (item.value !== this.formFieldValue.value) ? currentData.value = this.formFieldValue.value : null;\n                this.formFieldAlign && (item.alignment !== this.formFieldAlign) ? currentData.alignment = this.formFieldAlign : null;\n                this.formFieldPrinting && (item.isPrint !== this.formFieldPrinting.checked) ? currentData.isPrint = this.formFieldPrinting.checked : null;\n                this.formFieldTooltip && (item.tooltip !== this.formFieldTooltip.value) ? currentData.tooltip = this.formFieldTooltip.value : null;\n                this.formFieldVisibility && (item.visibility !== this.formFieldVisibility.value) ? currentData.visibility = this.formFieldVisibility : null;\n                this.formFieldFontFamily && this.formFieldFontFamily.value ? currentData.fontFamily = this.formFieldFontFamily.value : null;\n                this.formFieldFontSize && this.formFieldFontSize.value ? currentData.fontSize = parseInt(this.formFieldFontSize.value.toString()) : null;\n                this.fontColorValue && (item.color !== this.fontColorValue) ? currentData.color = this.fontColorValue : null;\n                this.backgroundColorValue && (item.backgroundColor !== this.backgroundColorValue) ? currentData.backgroundColor = this.backgroundColorValue : null;\n                this.borderColorValue && (item.borderColor !== this.borderColorValue) ? currentData.borderColor = this.borderColorValue : null;\n                this.formFieldBorderWidth && item.thickness !== parseInt(this.formFieldBorderWidth) ? currentData.thickness = parseInt(this.formFieldBorderWidth) : null;\n                this.formFieldReadOnly && (item.isReadonly !== this.formFieldReadOnly.checked) ? currentData.isReadOnly = this.formFieldReadOnly.checked : null;\n                this.formFieldRequired && (item.isRequired !== this.formFieldRequired.checked) ? currentData.isRequired = this.formFieldRequired.checked : null;\n                i !== 0 && i < this.pdfViewer.formFieldCollection.length ? currentData.fontStyle = this.pdfViewer.formFieldCollection[i - 1].fontStyle : currentData.fontStyle = this.pdfViewer.formFieldCollection[i + 1].fontStyle;\n                var formFieldIndex = this.pdfViewer.formFieldCollections.findIndex(function (el) { return el.id === item.id; });\n                this.pdfViewer.formFieldCollections[formFieldIndex] = currentData;\n            }\n        }\n    };\n    FormDesigner.prototype.checkTextboxName = function (selectedItem) {\n        var textboxObjectCollection = [];\n        for (var i = 0; i < this.pdfViewer.formFieldCollection.length; i++) {\n            var item = this.pdfViewer.formFieldCollection[i];\n            if (item.name === selectedItem.name && item.formFieldAnnotationType === 'Textbox') {\n                textboxObjectCollection.push(item);\n            }\n        }\n        return textboxObjectCollection;\n    };\n    FormDesigner.prototype.renderMultilineText = function (selectedItem, isUndoRedo) {\n        if (isUndoRedo) {\n            this.reRenderMultilineTextbox(selectedItem, \"e-pv-formfield-input\");\n        }\n        else {\n            this.addMultilineTextbox(selectedItem, \"e-pv-formfield-input\", true);\n        }\n    };\n    FormDesigner.prototype.renderTextbox = function (selectedItem, isUndoRedo) {\n        if (isUndoRedo) {\n            this.reRenderMultilineTextbox(selectedItem, \"e-pv-formfield-textarea\");\n        }\n        else {\n            this.addMultilineTextbox(selectedItem, \"e-pv-formfield-textarea\", false);\n        }\n    };\n    FormDesigner.prototype.addMultilineTextbox = function (selectedItem, className, isMultiline) {\n        var wrapperElement = selectedItem.wrapper.children[0];\n        selectedItem.isMultiline = isMultiline;\n        if (document.getElementById(wrapperElement.id + '_html_element')) {\n            var htmlElement = document.getElementById(wrapperElement.id + '_html_element').children[0];\n            var textAreaId = htmlElement.children[0].id;\n            document.getElementById(htmlElement.children[0].id).remove();\n            if (className.indexOf(\"e-pv-formfield-textarea\") !== -1) {\n                var inputElement = this.createTextboxElement(textAreaId);\n                wrapperElement.template = htmlElement.appendChild(inputElement);\n            }\n            else {\n                var textArea = this.createTextAreaElement(textAreaId);\n                wrapperElement.template = htmlElement.appendChild(textArea);\n            }\n            var index = this.getFormFiledIndex(selectedItem.id.split('_')[0]);\n            this.pdfViewerBase.formFieldCollection[index].FormField.isMultiline = selectedItem.isMultiline;\n            this.pdfViewer.nameTable[selectedItem.id.split('_')[0]].isMultiline = selectedItem.isMultiline;\n        }\n    };\n    FormDesigner.prototype.reRenderMultilineTextbox = function (selectedItem, className) {\n        var wrapperElement = document.getElementById(selectedItem.id + \"_content_html_element\");\n        if (wrapperElement) {\n            var textareaElement = wrapperElement.firstElementChild.firstElementChild;\n            var textareaId = textareaElement.id;\n            textareaElement.remove();\n            if (className.indexOf('e-pv-formfield-textarea') !== -1) {\n                var textboxElement = this.createTextboxElement(textareaId);\n                wrapperElement.firstElementChild.appendChild(textboxElement);\n            }\n            else {\n                var textboxElement = this.createTextAreaElement(textareaId);\n                wrapperElement.firstElementChild.appendChild(textboxElement);\n            }\n        }\n    };\n    FormDesigner.prototype.createTextAreaElement = function (id) {\n        var textArea = createElement('textarea');\n        textArea.id = id;\n        textArea.className = 'e-pv-formfield-textarea';\n        textArea.style.width = '100%';\n        textArea.style.height = '100%';\n        textArea.addEventListener('click', this.inputElementClick.bind(this));\n        textArea.addEventListener('change', this.getTextboxValue.bind(this));\n        return textArea;\n    };\n    FormDesigner.prototype.createTextboxElement = function (id) {\n        var inputElement = createElement('input');\n        inputElement.id = id;\n        inputElement.type = \"text\";\n        inputElement.className = \"e-pv-formfield-input\";\n        inputElement.autocomplete = \"off\";\n        inputElement.style.width = '100%';\n        inputElement.style.height = '100%';\n        inputElement.style.position = \"absolute\";\n        inputElement.addEventListener('click', this.inputElementClick.bind(this));\n        inputElement.addEventListener('change', this.getTextboxValue.bind(this));\n        return inputElement;\n    };\n    /**\n     * @private\n     */\n    FormDesigner.prototype.updateFormFieldCollections = function (formFieldObject) {\n        var formField = {\n            id: formFieldObject.id.split('_')[0], name: formFieldObject.name, value: formFieldObject.value,\n            type: formFieldObject.type ? formFieldObject.type : formFieldObject.formFieldAnnotationType, isReadOnly: formFieldObject.isReadonly, fontFamily: formFieldObject.fontFamily, isMultiline: formFieldObject.isMultiline,\n            fontSize: formFieldObject.fontSize, fontStyle: formFieldObject.fontStyle, color: formFieldObject.color ? formFieldObject.color : this.getRgbToHex(formFieldObject.fontColor), backgroundColor: typeof formFieldObject.backgroundColor === 'string' ? formFieldObject.backgroundColor : this.getRgbToHex(formFieldObject.backgroundColor),\n            alignment: formFieldObject.alignment ? formFieldObject.alignment : formFieldObject.textAlign, visibility: formFieldObject.visibility, maxLength: formFieldObject.maxLength, isRequired: formFieldObject.isRequired,\n            isPrint: formFieldObject.isPrint, isSelected: formFieldObject.isSelected, isChecked: formFieldObject.isChecked, tooltip: formFieldObject.tooltip, bounds: formFieldObject.bounds ? formFieldObject.bounds : formFieldObject.lineBound, thickness: formFieldObject.thickness, borderColor: typeof formFieldObject.borderColor === 'string' ? formFieldObject.borderColor : this.getRgbToHex(formFieldObject.borderColor), pageIndex: !isNullOrUndefined(formFieldObject.pageNumber) ? formFieldObject.pageNumber : formFieldObject.pageIndex\n        };\n        this.pdfViewer.formFieldCollections[this.pdfViewer.formFieldCollections.findIndex(function (el) { return el.id === formField.id; })] = formField;\n    };\n    /**\n    * Get the Hex value from the RGB value.\n    */\n    FormDesigner.prototype.getRgbToHex = function (color) {\n        return ('#' + this.hex(color.r) + this.hex(color.g) + this.hex(color.b));\n    };\n    /**\n     * @private\n     */\n    FormDesigner.prototype.updateDropdownFormDesignerProperties = function (selectedItem, isUndoRedo) {\n        var dropdownElement = document.getElementById(selectedItem.id + \"_content_html_element\").firstElementChild.firstElementChild;\n        if (this.pdfViewer.designerMode || isUndoRedo) {\n            var data = this.pdfViewerBase.getItemFromSessionStorage('_formDesigner');\n            var formFieldsData = JSON.parse(data);\n            var index_1 = this.getFormFiledIndex(selectedItem.id.split('_')[0]);\n            selectedItem.options = this.createDropdownDataSource(selectedItem);\n            this.updateDropDownListDataSource(selectedItem, dropdownElement);\n            selectedItem.selectedIndex = [];\n            if (index_1 > -1) {\n                formFieldsData[index_1].FormField.option = selectedItem.options;\n                this.pdfViewerBase.formFieldCollection[index_1].FormField.option = selectedItem.options;\n                if (!isNullOrUndefined(selectedItem.options) && selectedItem.options.length > 0) {\n                    formFieldsData[index_1] && formFieldsData[index_1].FormField.value ? selectedItem.selectedIndex.push(selectedItem.options.findIndex(function (x) { return x.itemValue === formFieldsData[index_1].FormField.value; })) : selectedItem.selectedIndex.push(0);\n                }\n            }\n            this.pdfViewer.nameTable[selectedItem.id.split('_')[0]].options = selectedItem.options;\n            if ((this.formFieldName && this.formFieldName.value) || isUndoRedo) {\n                this.updateNamePropertyChange(selectedItem, dropdownElement, isUndoRedo, index_1, formFieldsData);\n            }\n            if (this.formFieldValue && formFieldsData[index_1] && formFieldsData[index_1].FormField.value || isUndoRedo) {\n                this.updateValuePropertyChange(selectedItem, dropdownElement, isUndoRedo, index_1, formFieldsData);\n            }\n            if (this.formFieldPrinting || isUndoRedo) {\n                this.updateIsPrintPropertyChange(selectedItem, isUndoRedo, index_1, formFieldsData);\n            }\n            if ((this.formFieldTooltip) || isUndoRedo) {\n                this.updateTooltipPropertyChange(selectedItem, dropdownElement, isUndoRedo, index_1, formFieldsData);\n            }\n            if (this.formFieldVisibility || isUndoRedo) {\n                this.updateVisibilityPropertyChange(selectedItem, dropdownElement, isUndoRedo, index_1, formFieldsData);\n            }\n            if ((this.formFieldFontFamily && this.formFieldFontFamily.value) || isUndoRedo) {\n                this.updateFontFamilyPropertyChange(selectedItem, dropdownElement, isUndoRedo, index_1, formFieldsData);\n            }\n            if ((this.formFieldFontSize && this.formFieldFontSize.value) || isUndoRedo) {\n                this.updateFontSizePropertyChange(selectedItem, dropdownElement, isUndoRedo, index_1, formFieldsData);\n            }\n            this.updateFontStylePropertyChange(selectedItem, dropdownElement, isUndoRedo, index_1, formFieldsData);\n            if (this.formFieldAlign || isUndoRedo) {\n                this.updateAlignmentPropertyChange(selectedItem, dropdownElement, isUndoRedo, index_1, formFieldsData);\n            }\n            if (this.fontColorValue || isUndoRedo) {\n                this.updateColorPropertyChange(selectedItem, dropdownElement, isUndoRedo, index_1, formFieldsData);\n            }\n            if (this.backgroundColorValue || isUndoRedo) {\n                this.updateBackgroundColorPropertyChange(selectedItem, dropdownElement, isUndoRedo, index_1, formFieldsData);\n            }\n            if (this.borderColorValue || isUndoRedo) {\n                this.updateBorderColorPropertyChange(selectedItem, dropdownElement, isUndoRedo, index_1, formFieldsData);\n            }\n            if (this.formFieldBorderWidth || isUndoRedo) {\n                this.updateBorderThicknessPropertyChange(selectedItem, dropdownElement, isUndoRedo, index_1, formFieldsData);\n            }\n            if (this.formFieldReadOnly || isUndoRedo) {\n                this.updateIsReadOnlyPropertyChange(selectedItem, dropdownElement, isUndoRedo, index_1, formFieldsData);\n            }\n            if (this.formFieldRequired || isUndoRedo) {\n                this.updateIsRequiredPropertyChange(selectedItem, dropdownElement, isUndoRedo, index_1, formFieldsData);\n            }\n        }\n        if (isUndoRedo)\n            this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection, '_formDesigner');\n    };\n    /**\n     * @private\n     */\n    FormDesigner.prototype.updateListBoxFormDesignerProperties = function (selectedItem, isUndoRedo) {\n        var dropdownElement = document.getElementById(selectedItem.id + \"_content_html_element\").firstElementChild.firstElementChild;\n        if (this.pdfViewer.designerMode || isUndoRedo) {\n            var data = this.pdfViewerBase.getItemFromSessionStorage('_formDesigner');\n            var formFieldsData = JSON.parse(data);\n            var index_2 = this.getFormFiledIndex(selectedItem.id.split('_')[0]);\n            selectedItem.options = this.createDropdownDataSource(selectedItem);\n            this.updateDropDownListDataSource(selectedItem, dropdownElement);\n            selectedItem.selectedIndex = [];\n            if (index_2 > -1) {\n                formFieldsData[index_2].FormField.option = selectedItem.options;\n                this.pdfViewerBase.formFieldCollection[index_2].FormField.option = selectedItem.options;\n                if (!isNullOrUndefined(selectedItem.options) && selectedItem.options.length > 0) {\n                    formFieldsData[index_2] && formFieldsData[index_2].FormField.value ? selectedItem.selectedIndex.push(selectedItem.options.findIndex(function (x) { return x.itemValue === formFieldsData[index_2].FormField.value; })) : selectedItem.selectedIndex.push(0);\n                }\n            }\n            this.pdfViewer.nameTable[selectedItem.id.split('_')[0]].options = selectedItem.options;\n            if ((this.formFieldName && this.formFieldName.value) || isUndoRedo) {\n                this.updateNamePropertyChange(selectedItem, dropdownElement, isUndoRedo, index_2, formFieldsData);\n            }\n            if (this.formFieldPrinting || isUndoRedo) {\n                this.updateIsPrintPropertyChange(selectedItem, isUndoRedo, index_2, formFieldsData);\n            }\n            if ((this.formFieldTooltip) || isUndoRedo) {\n                this.updateTooltipPropertyChange(selectedItem, dropdownElement, isUndoRedo, index_2, formFieldsData);\n            }\n            if (this.formFieldVisibility || isUndoRedo) {\n                this.updateVisibilityPropertyChange(selectedItem, dropdownElement, isUndoRedo, index_2, formFieldsData);\n            }\n            if ((this.formFieldFontFamily && this.formFieldFontFamily.value) || isUndoRedo) {\n                this.updateFontFamilyPropertyChange(selectedItem, dropdownElement, isUndoRedo, index_2, formFieldsData);\n            }\n            if ((this.formFieldFontSize && this.formFieldFontSize.value) || isUndoRedo) {\n                this.updateFontSizePropertyChange(selectedItem, dropdownElement, isUndoRedo, index_2, formFieldsData);\n            }\n            this.updateFontStylePropertyChange(selectedItem, dropdownElement, isUndoRedo, index_2, formFieldsData);\n            if (this.formFieldAlign || isUndoRedo) {\n                this.updateAlignmentPropertyChange(selectedItem, dropdownElement, isUndoRedo, index_2, formFieldsData);\n            }\n            if (this.fontColorValue || isUndoRedo) {\n                this.updateColorPropertyChange(selectedItem, dropdownElement, isUndoRedo, index_2, formFieldsData);\n            }\n            if (this.backgroundColorValue || isUndoRedo) {\n                this.updateBackgroundColorPropertyChange(selectedItem, dropdownElement, isUndoRedo, index_2, formFieldsData);\n            }\n            if (this.borderColorValue || isUndoRedo) {\n                this.updateBorderColorPropertyChange(selectedItem, dropdownElement, isUndoRedo, index_2, formFieldsData);\n            }\n            if (this.formFieldBorderWidth || isUndoRedo) {\n                this.updateBorderThicknessPropertyChange(selectedItem, dropdownElement, isUndoRedo, index_2, formFieldsData);\n            }\n            if (this.formFieldReadOnly || isUndoRedo) {\n                this.updateIsReadOnlyPropertyChange(selectedItem, dropdownElement, isUndoRedo, index_2, formFieldsData);\n            }\n            if (this.formFieldRequired || isUndoRedo) {\n                this.updateIsRequiredPropertyChange(selectedItem, dropdownElement, isUndoRedo, index_2, formFieldsData);\n            }\n        }\n        if (isUndoRedo)\n            this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection, '_formDesigner');\n    };\n    FormDesigner.prototype.updateDropDownListDataSource = function (selectedItem, dropdownElement) {\n        while (dropdownElement.firstChild) {\n            dropdownElement.firstChild.remove();\n        }\n        for (var j = 0; j < selectedItem.options.length; j++) {\n            var option = document.createElement(\"option\");\n            option.className = \"e-pv-formfield-dropdown\";\n            option.value = selectedItem.options[j].itemValue;\n            option.text = selectedItem.options[j].itemName;\n            dropdownElement.appendChild(option);\n        }\n    };\n    FormDesigner.prototype.createDropdownDataSource = function (selectedItem) {\n        var ulItem = document.getElementById(this.pdfViewer.element.id + '_ul_list_item');\n        this.formFieldListItemDataSource = [];\n        if (ulItem && ulItem.children && ulItem.children.length > 0) {\n            for (var i = 0; i < ulItem.children.length; i++) {\n                var liItem = ulItem.children[i];\n                this.formFieldListItemDataSource.push({ itemName: liItem.innerHTML, itemValue: liItem.innerHTML });\n            }\n        }\n        else if (selectedItem && selectedItem.options.length > 0) {\n            this.formFieldListItemDataSource = selectedItem.options;\n        }\n        return this.formFieldListItemDataSource;\n    };\n    /**\n     * @private\n     */\n    FormDesigner.prototype.updateSignatureTextboxProperties = function (selectedItem, isUndoRedo) {\n        var inputElement = document.getElementById(selectedItem.id + \"_content_html_element\").firstElementChild.firstElementChild;\n        var data = this.pdfViewerBase.getItemFromSessionStorage('_formDesigner');\n        var formFieldsData = JSON.parse(data);\n        var index = this.getFormFiledIndex(selectedItem.id.split('_')[0]);\n        if (this.pdfViewer.designerMode || isUndoRedo) {\n            if ((this.formFieldName && this.formFieldName.value) || isUndoRedo) {\n                this.updateNamePropertyChange(selectedItem, inputElement, isUndoRedo, index, formFieldsData);\n            }\n            if (this.formFieldPrinting || isUndoRedo) {\n                this.updateIsPrintPropertyChange(selectedItem, isUndoRedo, index, formFieldsData);\n            }\n            if ((this.formFieldTooltip) || isUndoRedo) {\n                this.updateTooltipPropertyChange(selectedItem, inputElement, isUndoRedo, index, formFieldsData);\n            }\n            if (this.formFieldVisibility || isUndoRedo) {\n                this.updateVisibilityPropertyChange(selectedItem, inputElement, isUndoRedo, index, formFieldsData);\n            }\n            if (this.formFieldReadOnly || isUndoRedo) {\n                this.updateIsReadOnlyPropertyChange(selectedItem, inputElement, isUndoRedo, index, formFieldsData);\n            }\n            if (this.formFieldRequired || isUndoRedo) {\n                this.updateIsRequiredPropertyChange(selectedItem, inputElement, isUndoRedo, index, formFieldsData);\n            }\n        }\n        if (isUndoRedo)\n            this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection, '_formDesigner');\n    };\n    /**\n     * @private\n     */\n    FormDesigner.prototype.updateCheckboxFormDesignerProperties = function (selectedItem, isUndoRedo) {\n        var checkBoxElement = document.getElementById(selectedItem.id + \"_content_html_element\").firstElementChild.firstElementChild.lastElementChild;\n        var data = this.pdfViewerBase.getItemFromSessionStorage('_formDesigner');\n        var formFieldsData = JSON.parse(data);\n        var index = this.getFormFiledIndex(selectedItem.id.split('_')[0]);\n        if ((this.formFieldName && this.formFieldName.value) || isUndoRedo) {\n            this.updateNamePropertyChange(selectedItem, checkBoxElement, isUndoRedo, index, formFieldsData);\n        }\n        if (this.backgroundColorValue || isUndoRedo) {\n            this.updateBackgroundColorPropertyChange(selectedItem, checkBoxElement, isUndoRedo, index, formFieldsData);\n        }\n        if (this.borderColorValue || isUndoRedo) {\n            this.updateBorderColorPropertyChange(selectedItem, checkBoxElement, isUndoRedo, index, formFieldsData);\n        }\n        if (this.formFieldBorderWidth || isUndoRedo) {\n            this.updateBorderThicknessPropertyChange(selectedItem, checkBoxElement, isUndoRedo, index, formFieldsData);\n        }\n        if (this.formFieldChecked) {\n            this.checkboxCheckedState = this.formFieldChecked.checked;\n        }\n        if (this.formFieldPrinting || isUndoRedo) {\n            this.updateIsPrintPropertyChange(selectedItem, isUndoRedo, index, formFieldsData);\n        }\n        if ((this.formFieldTooltip) || isUndoRedo) {\n            this.updateTooltipPropertyChange(selectedItem, checkBoxElement, isUndoRedo, index, formFieldsData);\n        }\n        if (this.formFieldVisibility || isUndoRedo) {\n            this.updateVisibilityPropertyChange(selectedItem, checkBoxElement, isUndoRedo, index, formFieldsData);\n        }\n        if (this.checkboxCheckedState != undefined || isUndoRedo) {\n            this.updateIsCheckedPropertyChange(selectedItem, checkBoxElement, isUndoRedo, index, formFieldsData);\n        }\n        if ((this.pdfViewer.designerMode && this.borderColorValue) || isUndoRedo) {\n            this.updateBorderColorPropertyChange(selectedItem, checkBoxElement, isUndoRedo, index, formFieldsData);\n        }\n        if ((this.pdfViewer.designerMode && this.formFieldBorderWidth) || isUndoRedo) {\n            this.updateBorderThicknessPropertyChange(selectedItem, checkBoxElement, isUndoRedo, index, formFieldsData);\n        }\n        if (this.formFieldReadOnly || isUndoRedo) {\n            this.updateIsReadOnlyPropertyChange(selectedItem, checkBoxElement, isUndoRedo, index, formFieldsData);\n        }\n        if (this.formFieldRequired || isUndoRedo) {\n            this.updateIsRequiredPropertyChange(selectedItem, checkBoxElement, isUndoRedo, index, formFieldsData);\n        }\n        if (isUndoRedo)\n            this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection, '_formDesigner');\n    };\n    /**\n     * @private\n     */\n    FormDesigner.prototype.updateRadioButtonDesignerProperties = function (selectedItem, isUndoRedo) {\n        var radioButton = document.getElementById(selectedItem.id + \"_content_html_element\").firstElementChild.firstElementChild.firstElementChild;\n        var data = this.pdfViewerBase.getItemFromSessionStorage('_formDesigner');\n        var formFieldsData = JSON.parse(data);\n        var index = this.getFormFiledIndex(selectedItem.id.split('_')[0]);\n        if ((this.formFieldName && this.formFieldName.value) || isUndoRedo) {\n            this.updateNamePropertyChange(selectedItem, radioButton, isUndoRedo, index, formFieldsData);\n        }\n        if (this.formFieldChecked) {\n            this.checkboxCheckedState = this.formFieldChecked.checked;\n        }\n        if (this.formFieldPrinting || isUndoRedo) {\n            this.updateIsPrintPropertyChange(selectedItem, isUndoRedo, index, formFieldsData);\n        }\n        if ((this.formFieldTooltip) || isUndoRedo) {\n            this.updateTooltipPropertyChange(selectedItem, radioButton, isUndoRedo, index, formFieldsData);\n        }\n        if (this.formFieldVisibility || isUndoRedo) {\n            this.updateVisibilityPropertyChange(selectedItem, radioButton, isUndoRedo, index, formFieldsData);\n        }\n        if ((this.pdfViewer.designerMode && this.formFieldBorderWidth) || isUndoRedo) {\n            this.updateBorderThicknessPropertyChange(selectedItem, radioButton, isUndoRedo, index, formFieldsData);\n        }\n        if (this.backgroundColorValue || isUndoRedo) {\n            this.updateBackgroundColorPropertyChange(selectedItem, radioButton, isUndoRedo, index, formFieldsData);\n        }\n        if (this.borderColorValue || isUndoRedo) {\n            this.updateBorderColorPropertyChange(selectedItem, radioButton, isUndoRedo, index, formFieldsData);\n        }\n        if (this.checkboxCheckedState != undefined || isUndoRedo) {\n            this.updateIsSelectedPropertyChange(selectedItem, radioButton, isUndoRedo, index, formFieldsData);\n        }\n        if (this.formFieldReadOnly || isUndoRedo) {\n            this.updateIsReadOnlyPropertyChange(selectedItem, radioButton, isUndoRedo, index, formFieldsData);\n        }\n        if (this.formFieldRequired || isUndoRedo) {\n            this.updateIsRequiredPropertyChange(selectedItem, radioButton, isUndoRedo, index, formFieldsData);\n        }\n        if (isUndoRedo) {\n            var formField = this.pdfViewer.nameTable[selectedItem.id.split('_')[0]];\n            var point2 = cornersPointsBeforeRotation(formField.wrapper.children[0]).topLeft;\n            this.updateFormDesignerFieldInSessionStorage(point2, formField.wrapper.children[0], formField.formFieldAnnotationType, formField);\n        }\n    };\n    /**\n     * @private\n     */\n    FormDesigner.prototype.updateTextboxFormDesignerProperties = function (selectedItem, isUndoRedo) {\n        var inputElement = document.getElementById(selectedItem.id + \"_content_html_element\").firstElementChild.firstElementChild;\n        var isMaxLengthChanged = false;\n        var oldValue, newValue;\n        var data = this.pdfViewerBase.getItemFromSessionStorage('_formDesigner');\n        var formFieldsData = JSON.parse(data);\n        var index = this.getFormFiledIndex(selectedItem.id.split('_')[0]);\n        if (this.pdfViewer.designerMode || isUndoRedo) {\n            if ((this.formFieldName && this.formFieldName.value) || isUndoRedo) {\n                this.updateNamePropertyChange(selectedItem, inputElement, isUndoRedo, index, formFieldsData);\n            }\n            if (this.formFieldValue || isUndoRedo) {\n                this.updateValuePropertyChange(selectedItem, inputElement, isUndoRedo, index, formFieldsData);\n            }\n            if (this.formFieldPrinting || isUndoRedo) {\n                this.updateIsPrintPropertyChange(selectedItem, isUndoRedo, index, formFieldsData);\n            }\n            if ((this.formFieldTooltip) || isUndoRedo) {\n                this.updateTooltipPropertyChange(selectedItem, inputElement, isUndoRedo, index, formFieldsData);\n            }\n            if (this.formFieldVisibility || isUndoRedo) {\n                this.updateVisibilityPropertyChange(selectedItem, inputElement, isUndoRedo, index, formFieldsData);\n            }\n            if ((this.formFieldFontFamily && this.formFieldFontFamily.value) || isUndoRedo) {\n                this.updateFontFamilyPropertyChange(selectedItem, inputElement, isUndoRedo, index, formFieldsData);\n            }\n            if ((this.formFieldFontSize && this.formFieldFontSize.value) || isUndoRedo) {\n                this.updateFontSizePropertyChange(selectedItem, inputElement, isUndoRedo, index, formFieldsData);\n            }\n            this.updateFontStylePropertyChange(selectedItem, inputElement, isUndoRedo, index, formFieldsData);\n            if (this.formFieldAlign || isUndoRedo || this.multilineCheckboxCheckedState) {\n                this.updateAlignmentPropertyChange(selectedItem, inputElement, isUndoRedo, index, formFieldsData);\n            }\n            if (this.maxLengthItem || isUndoRedo) {\n                if (this.maxLengthItem && (selectedItem.maxLength !== this.maxLengthItem.value)) {\n                    isMaxLengthChanged = true;\n                    oldValue = selectedItem.maxLength;\n                    newValue = this.maxLengthItem.value;\n                }\n                var maxLength = this.maxLengthItem.value === 0 ? 524288 : this.maxLengthItem.value;\n                if (isUndoRedo && selectedItem.maxLength !== 0) {\n                    inputElement.maxLength = selectedItem.maxLength;\n                }\n                else {\n                    inputElement.maxLength = maxLength;\n                    selectedItem.maxLength = this.maxLengthItem.value;\n                }\n                if (index > -1) {\n                    formFieldsData[index].FormField.maxLength = selectedItem.maxLength;\n                    this.pdfViewerBase.formFieldCollection[index].FormField.maxLength = selectedItem.maxLength;\n                }\n                this.pdfViewer.nameTable[selectedItem.id.split('_')[0]].maxLength = selectedItem.maxLength;\n                if (isMaxLengthChanged) {\n                    this.updateFormFieldPropertiesChanges(\"formFieldPropertiesChange\", selectedItem, false, false, false, false, false, false, false, false, false, false, false, isMaxLengthChanged, false, false, false, oldValue, newValue);\n                }\n            }\n            if (this.fontColorValue || isUndoRedo || this.multilineCheckboxCheckedState) {\n                this.updateColorPropertyChange(selectedItem, inputElement, isUndoRedo, index, formFieldsData);\n            }\n            if (this.backgroundColorValue || isUndoRedo || this.multilineCheckboxCheckedState) {\n                this.updateBackgroundColorPropertyChange(selectedItem, inputElement, isUndoRedo, index, formFieldsData);\n            }\n            if (this.borderColorValue || isUndoRedo || this.multilineCheckboxCheckedState) {\n                this.updateBorderColorPropertyChange(selectedItem, inputElement, isUndoRedo, index, formFieldsData);\n            }\n            if (this.formFieldBorderWidth || isUndoRedo) {\n                this.updateBorderThicknessPropertyChange(selectedItem, inputElement, isUndoRedo, index, formFieldsData);\n            }\n            if (this.formFieldReadOnly || isUndoRedo) {\n                this.updateIsReadOnlyPropertyChange(selectedItem, inputElement, isUndoRedo, index, formFieldsData);\n            }\n            if (this.formFieldRequired || isUndoRedo) {\n                this.updateIsRequiredPropertyChange(selectedItem, inputElement, isUndoRedo, index, formFieldsData);\n            }\n        }\n        if (!this.pdfViewer.designerMode) {\n            if (this.formFieldVisibility && this.formFieldVisibility.value) {\n                selectedItem.visibility = this.formFieldVisibility.value;\n                var visibleItem = document.getElementById(selectedItem.id + '_content_html_element').firstElementChild.firstElementChild;\n                visibleItem.style.visibility = selectedItem.visibility;\n            }\n        }\n        this.updateFormFieldCollections(selectedItem);\n        if (isUndoRedo)\n            this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection, '_formDesigner');\n    };\n    /**\n     * @private\n     */\n    FormDesigner.prototype.updateIsCheckedPropertyChange = function (selectedItem, element, isUndoRedo, index, formFieldsData) {\n        if (this.pdfViewer.designerMode || isUndoRedo) {\n            var isValueChanged = false;\n            var oldValue = void 0, newValue = void 0;\n            if (selectedItem.isChecked !== this.checkboxCheckedState) {\n                isValueChanged = true;\n                oldValue = selectedItem.isChecked;\n                newValue = this.checkboxCheckedState;\n            }\n            if (!isUndoRedo) {\n                selectedItem.isChecked = this.checkboxCheckedState;\n            }\n            if (index > -1) {\n                formFieldsData[index].FormField.isChecked = selectedItem.isChecked;\n                this.pdfViewerBase.formFieldCollection[index].FormField.isChecked = selectedItem.isChecked;\n            }\n            this.pdfViewer.nameTable[selectedItem.id.split('_')[0]].isChecked = selectedItem.isChecked;\n            if (isValueChanged) {\n                this.updateFormFieldPropertiesChanges(\"formFieldPropertiesChange\", selectedItem, isValueChanged, false, false, false, false, false, false, false, false, false, false, false, false, false, false, oldValue, newValue);\n            }\n        }\n        if (!this.pdfViewer.designerMode || isUndoRedo) {\n            var checkboxElement = document.getElementById(selectedItem.id + \"_input\").firstElementChild;\n            if (selectedItem.isChecked) {\n                if (checkboxElement.classList.contains('e-pv-cb-unchecked'))\n                    checkboxElement.classList.remove('e-pv-cb-unchecked');\n                checkboxElement.classList.add(\"e-pv-cb-checked\");\n            }\n            else {\n                if (checkboxElement.classList.contains('e-pv-cb-checked'))\n                    checkboxElement.classList.remove('e-pv-cb-checked');\n                checkboxElement.classList.add(\"e-pv-cb-unchecked\");\n            }\n        }\n    };\n    /**\n    * @private\n    */\n    FormDesigner.prototype.updateIsSelectedPropertyChange = function (selectedItem, element, isUndoRedo, index, formFieldsData) {\n        if (this.pdfViewer.designerMode || isUndoRedo) {\n            var isValueChanged = false;\n            var oldValue = void 0, newValue = void 0;\n            if (selectedItem.isSelected !== this.checkboxCheckedState) {\n                isValueChanged = true;\n                oldValue = selectedItem.isSelected;\n                newValue = this.checkboxCheckedState;\n            }\n            if (!isUndoRedo) {\n                selectedItem.isSelected = this.checkboxCheckedState;\n            }\n            if (index > -1) {\n                formFieldsData[index].FormField.isSelected = selectedItem.isSelected;\n                this.pdfViewerBase.formFieldCollection[index].FormField.isSelected = selectedItem.isSelected;\n                for (var i = 0; i < formFieldsData[index].FormField.radiobuttonItem.length; i++) {\n                    if (formFieldsData[index].FormField.radiobuttonItem[i].id.split(\"_\")[0] === selectedItem.id.split(\"_\")[0]) {\n                        formFieldsData[index].FormField.radiobuttonItem[i].isSelected = selectedItem.isSelected;\n                        this.pdfViewerBase.formFieldCollection[index].FormField.radiobuttonItem[i].isSelected = selectedItem.isSelected;\n                    }\n                }\n            }\n            this.pdfViewer.nameTable[selectedItem.id.split('_')[0]].isSelected = selectedItem.isSelected;\n            if (isValueChanged) {\n                this.updateFormFieldPropertiesChanges(\"formFieldPropertiesChange\", selectedItem, isValueChanged, false, false, false, false, false, false, false, false, false, false, false, false, false, false, oldValue, newValue);\n            }\n        }\n        if (!this.pdfViewer.designerMode || isUndoRedo) {\n            element.checked = selectedItem.isSelected;\n            if (index > -1) {\n                formFieldsData[index].FormField.isSelected = selectedItem.isSelected;\n                this.pdfViewerBase.formFieldCollection[index].FormField.isSelected = selectedItem.isSelected;\n                for (var i = 0; i < formFieldsData[index].FormField.radiobuttonItem.length; i++) {\n                    if (formFieldsData[index].FormField.radiobuttonItem[i].id.split(\"_\")[0] === selectedItem.id.split(\"_\")[0]) {\n                        formFieldsData[index].FormField.radiobuttonItem[i].isSelected = selectedItem.isSelected;\n                        this.pdfViewerBase.formFieldCollection[index].FormField.radiobuttonItem[i].isSelected = selectedItem.isSelected;\n                    }\n                }\n            }\n            this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection, '_formDesigner');\n            this.pdfViewer.nameTable[selectedItem.id.split('_')[0]].isSelected = selectedItem.isSelected;\n        }\n    };\n    /**\n     * @private\n     */\n    FormDesigner.prototype.updateValuePropertyChange = function (selectedItem, element, isUndoRedo, index, formFieldsData) {\n        var isValueChanged = false;\n        var oldValue, newValue;\n        if (selectedItem.formFieldAnnotationType !== \"DropdownList\" && this.formFieldValue && (selectedItem.value !== this.formFieldValue.value)) {\n            isValueChanged = true;\n            oldValue = selectedItem.value;\n            newValue = this.formFieldValue.value;\n        }\n        else if (selectedItem.formFieldAnnotationType === \"DropdownList\" && this.formFieldValue && (selectedItem.value !== formFieldsData[index].FormField.value)) {\n            isValueChanged = true;\n            oldValue = selectedItem.value;\n            newValue = formFieldsData[index].FormField.value;\n        }\n        if (isUndoRedo) {\n            element.value = selectedItem.value;\n        }\n        else {\n            selectedItem.formFieldAnnotationType === \"DropdownList\" ? selectedItem.value = formFieldsData[index].FormField.value : selectedItem.value = this.formFieldValue.value;\n            selectedItem.formFieldAnnotationType === \"DropdownList\" ? element.value = formFieldsData[index].FormField.value : element.value = this.formFieldValue.value;\n        }\n        if (index > -1) {\n            formFieldsData[index].FormField.value = selectedItem.value;\n            this.pdfViewerBase.formFieldCollection[index].FormField.value = selectedItem.value;\n        }\n        this.pdfViewer.nameTable[selectedItem.id.split('_')[0]].value = selectedItem.value;\n        if (isValueChanged) {\n            this.updateFormFieldPropertiesChanges(\"formFieldPropertiesChange\", selectedItem, isValueChanged, false, false, false, false, false, false, false, false, false, false, false, false, false, false, oldValue, newValue);\n        }\n    };\n    FormDesigner.prototype.updateFontStylePropertyChange = function (selectedItem, element, isUndoRedo, index, formFieldsData) {\n        var isFontStyleChanged = false;\n        var oldValue = '';\n        var newValue = '';\n        var result = this.updateFontStyle(element, selectedItem, isUndoRedo, index, formFieldsData);\n        isFontStyleChanged = result[0];\n        oldValue = result[1];\n        newValue = result[2];\n        if (index > -1) {\n            formFieldsData[index].FormField.fontStyle = selectedItem.fontStyle;\n            this.pdfViewerBase.formFieldCollection[index].FormField.fontStyle = selectedItem.fontStyle;\n        }\n        this.pdfViewer.nameTable[selectedItem.id.split('_')[0]].fontStyle = selectedItem.fontStyle;\n        if (isFontStyleChanged) {\n            this.updateFormFieldPropertiesChanges(\"formFieldPropertiesChange\", selectedItem, false, false, false, isFontStyleChanged, false, false, false, false, false, false, false, false, false, false, false, oldValue, newValue);\n        }\n    };\n    FormDesigner.prototype.updateBorderThicknessPropertyChange = function (selectedItem, element, isUndoRedo, index, formFieldsData) {\n        var isBorderWidthChanged = false;\n        var oldValue, newValue;\n        var borderWidth = parseInt(this.formFieldBorderWidth);\n        if (selectedItem.thickness !== borderWidth) {\n            isBorderWidthChanged = true;\n            oldValue = selectedItem.thickness;\n            newValue = borderWidth ? borderWidth : selectedItem.thickness;\n        }\n        if (isUndoRedo) {\n            element.style.borderWidth = selectedItem.thickness.toString();\n        }\n        else {\n            element.style.borderWidth = this.formFieldBorderWidth ? this.formFieldBorderWidth : selectedItem.thickness;\n            selectedItem.thickness = borderWidth;\n        }\n        if (index > -1) {\n            formFieldsData[index].FormField.thickness = selectedItem.thickness;\n            this.pdfViewerBase.formFieldCollection[index].FormField.thickness = selectedItem.thickness;\n        }\n        this.pdfViewer.nameTable[selectedItem.id.split('_')[0]].thickness = selectedItem.thickness;\n        if (isBorderWidthChanged) {\n            this.updateFormFieldPropertiesChanges(\"formFieldPropertiesChange\", selectedItem, false, false, false, false, false, false, false, isBorderWidthChanged, false, false, false, false, false, false, false, oldValue, newValue);\n        }\n    };\n    FormDesigner.prototype.updateBorderColorPropertyChange = function (selectedItem, element, isUndoRedo, index, formFieldsData) {\n        var isBorderColorChanged = false;\n        var oldValue, newValue;\n        if (selectedItem.borderColor !== this.borderColorValue) {\n            isBorderColorChanged = true;\n            oldValue = selectedItem.borderColor;\n            newValue = this.borderColorValue ? this.borderColorValue : selectedItem.borderColor;\n        }\n        if (isUndoRedo) {\n            element.style.borderColor = selectedItem.borderColor;\n        }\n        else {\n            element.style.borderColor = this.borderColorValue ? this.borderColorValue : selectedItem.borderColor;\n            selectedItem.borderColor = this.borderColorValue ? this.borderColorValue : selectedItem.borderColor;\n        }\n        if (selectedItem.formFieldAnnotationType == \"RadioButton\")\n            element.parentElement.style.boxShadow = this.borderColorValue + ' 0px 0px 0px ' + selectedItem.thickness + 'px';\n        if (index > -1) {\n            formFieldsData[index].FormField.borderColor = this.getRgbCode(selectedItem.borderColor);\n            this.pdfViewerBase.formFieldCollection[index].FormField.borderColor = this.getRgbCode(selectedItem.borderColor);\n        }\n        this.pdfViewer.nameTable[selectedItem.id.split('_')[0]].borderColor = selectedItem.borderColor;\n        if (isBorderColorChanged) {\n            this.updateFormFieldPropertiesChanges(\"formFieldPropertiesChange\", selectedItem, false, false, false, false, false, false, isBorderColorChanged, false, false, false, false, false, false, false, false, oldValue, newValue);\n        }\n    };\n    FormDesigner.prototype.updateBackgroundColorPropertyChange = function (selectedItem, element, isUndoRedo, index, formFieldsData) {\n        var isBackgroundColorChanged = false;\n        var oldValue, newValue;\n        if (selectedItem.backgroundColor !== this.backgroundColorValue) {\n            isBackgroundColorChanged = true;\n            oldValue = selectedItem.backgroundColor;\n            newValue = this.backgroundColorValue ? this.backgroundColorValue : selectedItem.backgroundColor;\n        }\n        if (isUndoRedo) {\n            if (selectedItem.formFieldAnnotationType == \"RadioButton\")\n                element.parentElement.style.background = selectedItem.backgroundColor;\n            else\n                element.style.background = selectedItem.backgroundColor;\n        }\n        else {\n            if (selectedItem.formFieldAnnotationType == \"RadioButton\")\n                element.parentElement.style.background = this.backgroundColorValue ? this.backgroundColorValue : selectedItem.backgroundColor;\n            else\n                element.style.background = this.backgroundColorValue ? this.backgroundColorValue : selectedItem.backgroundColor;\n            selectedItem.backgroundColor = this.backgroundColorValue ? this.backgroundColorValue : selectedItem.backgroundColor;\n        }\n        if (index > -1) {\n            formFieldsData[index].FormField.backgroundColor = this.getRgbCode(selectedItem.backgroundColor);\n            this.pdfViewerBase.formFieldCollection[index].FormField.backgroundColor = this.getRgbCode(selectedItem.backgroundColor);\n        }\n        this.pdfViewer.nameTable[selectedItem.id.split('_')[0]].backgroundColor = selectedItem.backgroundColor;\n        if (isBackgroundColorChanged) {\n            this.updateFormFieldPropertiesChanges(\"formFieldPropertiesChange\", selectedItem, false, false, false, false, false, isBackgroundColorChanged, false, false, false, false, false, false, false, false, false, oldValue, newValue);\n        }\n    };\n    FormDesigner.prototype.updateColorPropertyChange = function (selectedItem, element, isUndoRedo, index, formFieldsData) {\n        var isColorChanged = false;\n        var oldValue, newValue;\n        if (selectedItem.color !== this.fontColorValue) {\n            isColorChanged = true;\n            oldValue = selectedItem.color;\n            newValue = this.fontColorValue ? this.fontColorValue : selectedItem.color;\n        }\n        if (isUndoRedo) {\n            element.style.color = selectedItem.color;\n        }\n        else {\n            element.style.color = this.fontColorValue ? this.fontColorValue : selectedItem.color;\n            selectedItem.color = this.fontColorValue ? this.fontColorValue : selectedItem.color;\n        }\n        if (index > -1) {\n            formFieldsData[index].FormField.color = this.getRgbCode(selectedItem.color);\n            this.pdfViewerBase.formFieldCollection[index].FormField.color = this.getRgbCode(selectedItem.color);\n        }\n        this.pdfViewer.nameTable[selectedItem.id.split('_')[0]].color = selectedItem.color;\n        if (isColorChanged) {\n            this.updateFormFieldPropertiesChanges(\"formFieldPropertiesChange\", selectedItem, false, false, false, false, isColorChanged, false, false, false, false, false, false, false, false, false, false, oldValue, newValue);\n        }\n    };\n    FormDesigner.prototype.updateAlignmentPropertyChange = function (selectedItem, element, isUndoRedo, index, formFieldsData) {\n        var isAlignmentChanged = false;\n        var oldValue, newValue;\n        if (selectedItem.alignment !== this.formFieldAlign) {\n            isAlignmentChanged = true;\n            oldValue = selectedItem.alignment;\n            newValue = this.formFieldAlign ? this.formFieldAlign : selectedItem.alignment;\n        }\n        if (isUndoRedo) {\n            element.style.textAlign = selectedItem.alignment;\n            if ((selectedItem.formFieldAnnotationType == \"ListBox\" || selectedItem.formFieldAnnotationType == \"DropdownList\") && element.children.length > 0) {\n                element.style.textAlignLast = selectedItem.alignment;\n                for (var i = 0; i < element.children.length; i++) {\n                    var dropDownChild = element.children[i];\n                    dropDownChild.style.textAlignLast = selectedItem.alignment;\n                    dropDownChild.style.textAlign = selectedItem.alignment;\n                }\n            }\n        }\n        else {\n            element.style.textAlign = this.formFieldAlign ? this.formFieldAlign : selectedItem.alignment;\n            selectedItem.alignment = this.formFieldAlign ? this.formFieldAlign : selectedItem.alignment;\n            if ((selectedItem.formFieldAnnotationType == \"ListBox\" || selectedItem.formFieldAnnotationType == \"DropdownList\") && element.children.length > 0) {\n                element.style.textAlignLast = this.formFieldAlign ? this.formFieldAlign : selectedItem.alignment;\n                for (var i = 0; i < element.children.length; i++) {\n                    var dropDownChild = element.children[i];\n                    dropDownChild.style.textAlignLast = this.formFieldAlign ? this.formFieldAlign : selectedItem.alignment;\n                    dropDownChild.style.textAlign = this.formFieldAlign ? this.formFieldAlign : selectedItem.alignment;\n                }\n            }\n        }\n        if (index > -1) {\n            formFieldsData[index].FormField.alignment = selectedItem.alignment;\n            this.pdfViewerBase.formFieldCollection[index].FormField.alignment = selectedItem.alignment;\n        }\n        this.pdfViewer.nameTable[selectedItem.id.split('_')[0]].alignment = selectedItem.alignment;\n        if (isAlignmentChanged) {\n            this.updateFormFieldPropertiesChanges(\"formFieldPropertiesChange\", selectedItem, false, false, false, false, false, false, false, false, isAlignmentChanged, false, false, false, false, false, false, oldValue, newValue);\n        }\n    };\n    FormDesigner.prototype.updateFontSizePropertyChange = function (selectedItem, element, isUndoRedo, index, formFieldsData) {\n        var isFontSizeChanged = false;\n        var oldValue, newValue;\n        var zoomValue = this.pdfViewerBase.getZoomFactor();\n        var fontSize = this.formFieldFontSize ? parseInt(this.formFieldFontSize.value.toString()) : null;\n        var selectedFontSize = parseInt(selectedItem.fontSize);\n        if (selectedFontSize !== fontSize) {\n            isFontSizeChanged = true;\n            oldValue = selectedItem.fontSize;\n            newValue = fontSize;\n        }\n        if (isUndoRedo) {\n            element.style.fontSize = (selectedItem.fontSize * zoomValue) + 'px'.toString();\n        }\n        else {\n            selectedItem.fontSize = fontSize;\n            element.style.fontSize = parseInt(this.formFieldFontSize.value.toString()) * zoomValue + 'px';\n        }\n        if (index > -1) {\n            formFieldsData[index].FormField.fontSize = selectedItem.fontSize;\n            this.pdfViewerBase.formFieldCollection[index].FormField.fontSize = selectedItem.fontSize;\n        }\n        this.pdfViewer.nameTable[selectedItem.id.split('_')[0]].fontSize = selectedItem.fontSize;\n        if (isFontSizeChanged) {\n            this.updateFormFieldPropertiesChanges(\"formFieldPropertiesChange\", selectedItem, false, false, isFontSizeChanged, false, false, false, false, false, false, false, false, false, false, false, false, oldValue, newValue);\n        }\n    };\n    FormDesigner.prototype.updateFontFamilyPropertyChange = function (selectedItem, element, isUndoRedo, index, formFieldsData) {\n        var isFontFamilyChanged = false;\n        var oldValue, newValue;\n        var fontFamily = this.formFieldFontFamily ? this.formFieldFontFamily.value.toString() : \"\";\n        if (selectedItem.fontFamily !== fontFamily) {\n            isFontFamilyChanged = true;\n            oldValue = selectedItem.fontFamily;\n            newValue = fontFamily;\n        }\n        if (isUndoRedo) {\n            element.style.fontFamily = selectedItem.fontFamily;\n        }\n        else {\n            selectedItem.fontFamily = fontFamily;\n            element.style.fontFamily = fontFamily;\n        }\n        if (index > -1) {\n            formFieldsData[index].FormField.fontFamily = selectedItem.fontFamily;\n            this.pdfViewerBase.formFieldCollection[index].FormField.fontFamily = selectedItem.fontFamily;\n        }\n        this.pdfViewer.nameTable[selectedItem.id.split('_')[0]].fontFamily = selectedItem.fontFamily;\n        if (isFontFamilyChanged) {\n            this.updateFormFieldPropertiesChanges(\"formFieldPropertiesChange\", selectedItem, false, isFontFamilyChanged, false, false, false, false, false, false, false, false, false, false, false, false, false, oldValue, newValue);\n        }\n    };\n    FormDesigner.prototype.updateVisibilityPropertyChange = function (selectedItem, element, isUndoRedo, index, formFieldsData) {\n        var isVisibilityChanged = false;\n        var oldValue, newValue;\n        if (this.formFieldVisibility && (selectedItem.visibility !== this.formFieldVisibility.value)) {\n            isVisibilityChanged = true;\n            oldValue = selectedItem.visibility;\n            newValue = this.formFieldVisibility.value;\n        }\n        if (!isUndoRedo) {\n            selectedItem.visibility = this.formFieldVisibility.value;\n        }\n        element.style.visibility = selectedItem.visibility;\n        if (selectedItem.formFieldAnnotationType === \"RadioButton\") {\n            element.parentElement.style.visibility = selectedItem.visibility;\n        }\n        if (selectedItem.formFieldAnnotationType === \"SignatureField\" || selectedItem.formFieldAnnotationType === \"InitialField\") {\n            var signElement = document.getElementById(selectedItem.id + \"_content_html_element\").firstElementChild.children[1];\n            signElement.style.visibility = selectedItem.visibility;\n            signElement.parentElement.style.visibility = selectedItem.visibility;\n            var annotation = this.pdfViewer.nameTable[selectedItem.id.split('_')[0] + \"_content\"];\n            if (selectedItem.visibility === \"hidden\") {\n                if (annotation) {\n                    this.hideSignatureValue(selectedItem, annotation, index, formFieldsData);\n                }\n            }\n            else {\n                if (annotation) {\n                    this.showSignatureValue(selectedItem, oldValue, annotation, index, formFieldsData);\n                }\n            }\n        }\n        if (index > -1) {\n            formFieldsData[index].FormField.visibility = selectedItem.visibility;\n            this.pdfViewerBase.formFieldCollection[index].FormField.visibility = selectedItem.visibility;\n        }\n        // selectedItem.visibility = this.formFieldVisibility.value;\n        this.pdfViewer.nameTable[selectedItem.id.split('_')[0]].visibility = selectedItem.visibility;\n        if (isVisibilityChanged) {\n            this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection, '_formDesigner');\n            this.updateFormFieldPropertiesChanges(\"formFieldPropertiesChange\", selectedItem, false, false, false, false, false, false, false, false, false, false, isVisibilityChanged, false, false, false, false, oldValue, newValue);\n        }\n    };\n    FormDesigner.prototype.hideSignatureValue = function (selectedItem, annotation, index, formFieldsData) {\n        selectedItem.wrapper.children.splice(selectedItem.wrapper.children.indexOf(annotation.wrapper.children[0]), 1);\n        selectedItem.value = '';\n        selectedItem.signatureType = '';\n        formFieldsData[index].FormField.value = '';\n        formFieldsData[index].FormField.signatureType = '';\n        this.pdfViewerBase.formFieldCollection[index].FormField.value = '';\n        this.pdfViewerBase.formFieldCollection[index].FormField.signatureType = '';\n        this.pdfViewer.remove(annotation);\n        this.pdfViewer.renderDrawing();\n    };\n    FormDesigner.prototype.showSignatureValue = function (selectedItem, oldValue, annotation, index, formFieldsData) {\n        if (annotation.shapeAnnotationType === \"SignatureText\") {\n            selectedItem.value = annotation.data;\n            selectedItem.signatureType = \"Text\";\n            formFieldsData[index].FormField.signatureType = \"Text\";\n            formFieldsData[index].FormField.value = annotation.data;\n            this.pdfViewerBase.formFieldCollection[index].FormField.value = annotation.data;\n            this.pdfViewerBase.formFieldCollection[index].FormField.signatureType = \"Text\";\n        }\n        else if (annotation.shapeAnnotationType === \"SignatureImage\") {\n            selectedItem.value = annotation.data;\n            selectedItem.signatureType = \"Image\";\n            formFieldsData[index].FormField.signatureType = \"Image\";\n            formFieldsData[index].FormField.value = annotation.data;\n            this.pdfViewerBase.formFieldCollection[index].FormField.value = annotation.data;\n            this.pdfViewerBase.formFieldCollection[index].FormField.signatureType = \"Image\";\n        }\n        else {\n            formFieldsData[index].FormField.signatureType = \"Path\";\n            selectedItem.signatureType = \"Path\";\n            this.pdfViewerBase.formFieldCollection[index].FormField.signatureType = \"Path\";\n            var collectionData = processPathData(annotation.data);\n            var csData = splitArrayCollection(collectionData);\n            selectedItem.value = JSON.stringify(csData);\n            formFieldsData[index].FormField.value = JSON.stringify(csData);\n            this.pdfViewerBase.formFieldCollection[index].FormField.value = JSON.stringify(csData);\n        }\n        selectedItem.signatureBound = annotation.signatureBound;\n        if (oldValue === 'hidden') {\n            this.pdfViewer.add(annotation);\n            selectedItem.wrapper.children.push(annotation.wrapper);\n            var canvass = document.getElementById(this.pdfViewer.element.id + '_annotationCanvas_' + selectedItem.pageIndex);\n            this.pdfViewer.renderDrawing(canvass, selectedItem.pageIndex);\n        }\n        ;\n        this.pdfViewer.renderDrawing();\n    };\n    FormDesigner.prototype.updateTooltipPropertyChange = function (selectedItem, element, isUndoRedo, index, formFieldsData) {\n        var isToolTipChanged = false;\n        var oldValue, newValue;\n        if (this.formFieldTooltip && (selectedItem.tooltip !== this.formFieldTooltip.value)) {\n            isToolTipChanged = true;\n            oldValue = selectedItem.tooltip;\n            newValue = this.formFieldTooltip.value;\n        }\n        if (isUndoRedo) {\n            this.formFieldTooltip = new TextBox();\n            this.formFieldTooltip.value = selectedItem.tooltip;\n        }\n        else {\n            selectedItem.tooltip = this.formFieldTooltip ? this.formFieldTooltip.value : selectedItem.tooltip;\n        }\n        if (index > -1) {\n            formFieldsData[index].FormField.tooltip = selectedItem.tooltip;\n            this.pdfViewerBase.formFieldCollection[index].FormField.tooltip = selectedItem.tooltip;\n        }\n        this.pdfViewer.nameTable[selectedItem.id.split('_')[0]].tooltip = this.formFieldTooltip.value;\n        if (!isNullOrUndefined(this.formFieldTooltip.value) && this.formFieldTooltip.value !== '') {\n            this.setToolTip(this.formFieldTooltip.value, selectedItem.formFieldAnnotationType == \"RadioButton\" || selectedItem.formFieldAnnotationType == \"DropdownList\" ? element.parentElement : element);\n        }\n        if (isToolTipChanged) {\n            this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection, '_formDesigner');\n            this.updateFormFieldPropertiesChanges(\"formFieldPropertiesChange\", selectedItem, false, false, false, false, false, false, false, false, false, false, false, false, false, false, isToolTipChanged, oldValue, newValue);\n        }\n    };\n    FormDesigner.prototype.updateNamePropertyChange = function (selectedItem, element, isUndoRedo, index, formFieldsData) {\n        var designerName = document.getElementById(selectedItem.id + \"_designer_name\");\n        var zoomValue = this.pdfViewerBase.getZoomFactor();\n        designerName.style.fontSize = selectedItem.fontSize ? (selectedItem.fontSize * zoomValue) + 'px' : (10 * zoomValue) + 'px';\n        if (isUndoRedo) {\n            designerName.innerHTML = selectedItem.name;\n        }\n        else {\n            selectedItem.name = this.formFieldName ? this.formFieldName.value : selectedItem.name;\n            designerName.innerHTML = selectedItem.name;\n        }\n        if (index > -1) {\n            if (formFieldsData[index].FormField.name !== selectedItem.name) {\n                this.updateFormFieldPropertiesChanges(\"formFieldPropertiesChange\", selectedItem, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, null, null, true, formFieldsData[index].FormField.name);\n            }\n            formFieldsData[index].FormField.name = selectedItem.name;\n            this.pdfViewerBase.formFieldCollection[index].FormField.name = selectedItem.name;\n        }\n        element.name = selectedItem.name;\n        this.pdfViewer.nameTable[selectedItem.id.split('_')[0]].name = selectedItem.name;\n        if (selectedItem.formFieldAnnotationType == \"DropdownList\" || selectedItem.formFieldAnnotationType == \"ListBox\") {\n            for (var i = 0; i < this.pdfViewer.formFieldCollection.length; i++) {\n                var formField = this.pdfViewer.formFieldCollection[i];\n                if ((formField.formFieldAnnotationType === \"DropdownList\" || formField.formFieldAnnotationType === \"ListBox\") && formField.name === selectedItem.name && formField.id !== selectedItem.id) {\n                    selectedItem.options = formField.options;\n                    this.updateDropDownListDataSource(selectedItem, element);\n                    break;\n                }\n            }\n        }\n    };\n    FormDesigner.prototype.updateIsReadOnlyPropertyChange = function (selectedItem, element, isUndoRedo, index, formFieldsData) {\n        var isReadOnlyChanged = false;\n        var oldValue, newValue;\n        if (this.formFieldReadOnly && (selectedItem.isReadonly !== this.formFieldReadOnly.checked)) {\n            isReadOnlyChanged = true;\n            oldValue = selectedItem.isReadonly;\n            newValue = this.formFieldReadOnly.checked;\n        }\n        if (isUndoRedo) {\n            this.formFieldReadOnly = new CheckBox();\n            this.formFieldReadOnly.checked = selectedItem.isReadonly;\n        }\n        else {\n            selectedItem.isReadonly = this.formFieldReadOnly.checked;\n        }\n        if (index > -1) {\n            formFieldsData[index].FormField.isReadonly = selectedItem.isReadonly;\n            this.pdfViewerBase.formFieldCollection[index].FormField.isReadonly = selectedItem.isReadonly;\n        }\n        this.pdfViewer.nameTable[selectedItem.id.split('_')[0]].isReadonly = selectedItem.isReadonly;\n        this.setReadOnlyToElement(selectedItem, element, selectedItem.isReadonly);\n        this.setReadOnlyToFormField(selectedItem, selectedItem.isReadonly);\n        if (isReadOnlyChanged) {\n            this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection, '_formDesigner');\n            this.updateFormFieldPropertiesChanges(\"formFieldPropertiesChange\", selectedItem, false, false, false, false, false, false, false, false, false, isReadOnlyChanged, false, false, false, false, false, oldValue, newValue);\n        }\n    };\n    FormDesigner.prototype.updateIsRequiredPropertyChange = function (selectedItem, element, isUndoRedo, index, formFieldsData) {\n        var isRequiredChanged = false;\n        var oldValue, newValue;\n        if (this.formFieldRequired && (selectedItem.isRequired !== this.formFieldRequired.checked)) {\n            isRequiredChanged = true;\n            oldValue = selectedItem.isRequired;\n            newValue = this.formFieldRequired.checked;\n        }\n        if (isUndoRedo) {\n            this.formFieldRequired = new CheckBox();\n            this.formFieldRequired.checked = selectedItem.isRequired;\n        }\n        else {\n            selectedItem.isRequired = this.formFieldRequired.checked;\n        }\n        if (index > -1) {\n            formFieldsData[index].FormField.isRequired = selectedItem.isRequired;\n            this.pdfViewerBase.formFieldCollection[index].FormField.isRequired = selectedItem.isRequired;\n            if (this.pdfViewerBase.formFieldCollection[index].FormField.radiobuttonItem) {\n                for (var i = 0; i < this.pdfViewerBase.formFieldCollection[index].FormField.radiobuttonItem.length; i++) {\n                    this.pdfViewerBase.formFieldCollection[index].FormField.radiobuttonItem[i].isRequired = selectedItem.isRequired;\n                    this.pdfViewer.nameTable[this.pdfViewerBase.formFieldCollection[index].FormField.radiobuttonItem[i].id.split('_')[0]].isRequired = selectedItem.isRequired;\n                }\n                this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection, '_formDesigner');\n            }\n        }\n        this.pdfViewer.nameTable[selectedItem.id.split('_')[0]].isRequired = selectedItem.isRequired;\n        this.setRequiredToElement(selectedItem, element, selectedItem.isRequired);\n        this.setRequiredToFormField(selectedItem, selectedItem.isRequired);\n        if (isRequiredChanged) {\n            this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection, '_formDesigner');\n            this.updateFormFieldPropertiesChanges(\"formFieldPropertiesChange\", selectedItem, false, false, false, false, false, false, false, false, false, false, false, false, isRequiredChanged, false, false, oldValue, newValue);\n        }\n    };\n    FormDesigner.prototype.updateIsPrintPropertyChange = function (selectedItem, isUndoRedo, index, formFieldsData) {\n        var isPrintChanged = false;\n        var oldValue, newValue;\n        if (this.formFieldPrinting && (selectedItem.isPrint !== this.formFieldPrinting.checked)) {\n            isPrintChanged = true;\n            oldValue = selectedItem.isPrint;\n            newValue = this.formFieldPrinting.checked;\n        }\n        if (isUndoRedo) {\n            this.formFieldPrinting = new CheckBox();\n            this.formFieldPrinting.checked = selectedItem.isPrint;\n        }\n        else {\n            selectedItem.isPrint = this.formFieldPrinting.checked;\n        }\n        if (index > -1) {\n            formFieldsData[index].FormField.isPrint = selectedItem.isPrint;\n            this.pdfViewerBase.formFieldCollection[index].FormField.isPrint = selectedItem.isPrint;\n        }\n        this.pdfViewer.nameTable[selectedItem.id.split('_')[0]].isPrint = selectedItem.isPrint;\n        if (isPrintChanged) {\n            this.updateFormFieldPropertiesChanges(\"formFieldPropertiesChange\", selectedItem, false, false, false, false, false, false, false, false, false, false, false, false, false, isPrintChanged, false, oldValue, newValue);\n        }\n    };\n    /**\n     * @private\n     */\n    FormDesigner.prototype.getFormFiledIndex = function (id) {\n        if (this.pdfViewerBase.formFieldCollection == null || this.pdfViewerBase.formFieldCollection.length == 0)\n            return -1;\n        var index = this.pdfViewerBase.formFieldCollection.findIndex(function (el) { return el.Key.split('_')[0] === id; });\n        if (index > -1) {\n            return index;\n        }\n        else {\n            for (var i = 0; i < this.pdfViewerBase.formFieldCollection.length; i++) {\n                if (this.pdfViewerBase.formFieldCollection[i].FormField.formFieldAnnotationType === 'RadioButton' && this.pdfViewerBase.formFieldCollection[i].FormField.radiobuttonItem) {\n                    for (var k = 0; k < this.pdfViewerBase.formFieldCollection[i].FormField.radiobuttonItem.length; k++) {\n                        if (this.pdfViewerBase.formFieldCollection[i].FormField.radiobuttonItem[k].id.split(\"_\")[0] === id) {\n                            return i;\n                        }\n                    }\n                }\n            }\n        }\n        return -1;\n    };\n    FormDesigner.prototype.updateFontStyle = function (inputElement, selectedItem, isUndoRedo, index, formFieldsData) {\n        var isFontStyleChanged = false;\n        var oldValue = '';\n        var newValue = '';\n        if (this.formFieldBold) {\n            if (selectedItem.fontStyle !== 'Bold') {\n                isFontStyleChanged = true;\n                oldValue += selectedItem.font.isBold ? 'Bold' + \", \" : '';\n            }\n            if (isUndoRedo) {\n                if (selectedItem.font.isBold) {\n                    this.setFontStyleValues(selectedItem, 'Bold', this.formFieldBold, inputElement, true, 'bold', index, formFieldsData);\n                }\n                else {\n                    this.setFontStyleValues(selectedItem, 'None', this.formFieldBold, inputElement, false, '', index, formFieldsData);\n                }\n            }\n            else if (this.formFieldBold === 'bold') {\n                this.setFontStyleValues(selectedItem, 'Bold', this.formFieldBold, inputElement, true, 'bold', index, formFieldsData);\n            }\n            else {\n                this.setFontStyleValues(selectedItem, 'None', 'bold', inputElement, false, '', index, formFieldsData);\n            }\n        }\n        else if (selectedItem.font.isBold) {\n            this.setFontStyleValues(selectedItem, 'None', 'bold', inputElement, false, '', index, formFieldsData);\n        }\n        newValue += selectedItem.font.isBold ? 'Bold' + \", \" : '';\n        if (this.formFieldItalic) {\n            if (selectedItem.fontStyle !== 'Italic') {\n                isFontStyleChanged = true;\n                oldValue += selectedItem.font.isItalic ? 'Italic' + \", \" : '';\n            }\n            if (isUndoRedo) {\n                if (selectedItem.font.isItalic) {\n                    this.setFontStyleValues(selectedItem, 'Italic', this.formFieldItalic, inputElement, true, 'italic', index, formFieldsData);\n                }\n                else {\n                    this.setFontStyleValues(selectedItem, 'None', this.formFieldItalic, inputElement, false, '', index, formFieldsData);\n                }\n            }\n            else if (this.formFieldItalic === 'italic') {\n                this.setFontStyleValues(selectedItem, 'Italic', this.formFieldItalic, inputElement, true, 'italic', index, formFieldsData);\n            }\n            else {\n                this.setFontStyleValues(selectedItem, 'None', 'italic', inputElement, false, '', index, formFieldsData);\n            }\n        }\n        else if (selectedItem.font.isItalic) {\n            this.setFontStyleValues(selectedItem, 'None', 'italic', inputElement, false, '', index, formFieldsData);\n        }\n        newValue += selectedItem.font.isItalic ? 'Italic' + \", \" : '';\n        if (this.formFieldUnderline) {\n            if (selectedItem.fontStyle !== 'Underline') {\n                isFontStyleChanged = true;\n                oldValue += selectedItem.font.isUnderline ? 'Underline' + \", \" : '';\n            }\n            if (isUndoRedo) {\n                if (selectedItem.font.isUnderline) {\n                    this.setFontStyleValues(selectedItem, 'Underline', this.formFieldUnderline, inputElement, true, 'underline', index, formFieldsData);\n                }\n                else {\n                    this.setFontStyleValues(selectedItem, 'None', this.formFieldUnderline, inputElement, false, '', index, formFieldsData);\n                }\n            }\n            else if (this.formFieldUnderline === 'underline') {\n                this.setFontStyleValues(selectedItem, 'Underline', this.formFieldUnderline, inputElement, true, 'underline', index, formFieldsData);\n            }\n            else {\n                this.setFontStyleValues(selectedItem, 'None', 'underline', inputElement, false, '', index, formFieldsData);\n            }\n        }\n        else if (selectedItem.font.isUnderline) {\n            this.setFontStyleValues(selectedItem, 'None', 'underline', inputElement, false, '', index, formFieldsData);\n        }\n        newValue += selectedItem.font.isUnderline ? 'Underline' + \", \" : '';\n        if (this.formFieldStrikeOut) {\n            if (selectedItem.fontStyle !== 'Strikethrough') {\n                isFontStyleChanged = true;\n                oldValue += selectedItem.font.isStrikeout ? 'Strikethrough' + \", \" : '';\n            }\n            if (isUndoRedo) {\n                if (selectedItem.font.isStrikeout) {\n                    this.setFontStyleValues(selectedItem, 'Strikethrough', this.formFieldStrikeOut, inputElement, true, 'line-through', index, formFieldsData);\n                }\n                else {\n                    this.setFontStyleValues(selectedItem, 'None', this.formFieldStrikeOut, inputElement, false, '', index, formFieldsData);\n                }\n            }\n            else if (this.formFieldStrikeOut === 'line-through') {\n                this.setFontStyleValues(selectedItem, 'Strikethrough', this.formFieldStrikeOut, inputElement, true, 'line-through', index, formFieldsData);\n            }\n            else {\n                this.setFontStyleValues(selectedItem, 'None', 'line-through', inputElement, false, '', index, formFieldsData);\n            }\n        }\n        else if (selectedItem.font.isStrikeout) {\n            this.setFontStyleValues(selectedItem, 'None', 'line-through', inputElement, false, '', index, formFieldsData);\n        }\n        newValue += selectedItem.font.isStrikeout ? 'Strikethrough' + \", \" : '';\n        return [isFontStyleChanged, oldValue, newValue];\n    };\n    FormDesigner.prototype.setFontStyleValues = function (selectedItem, selectedItemFontStyle, fontStyleType, inputElement, isFontStyleEnabled, fontStyleValue, index, formFieldsData) {\n        if (fontStyleType === 'bold') {\n            selectedItem.fontStyle = selectedItemFontStyle;\n            selectedItem.font.isBold = isFontStyleEnabled;\n            inputElement.style.fontWeight = fontStyleValue;\n            this.setDropdownFontStyleValue(inputElement, fontStyleType, fontStyleValue);\n            if (index > -1) {\n                formFieldsData[index].FormField.font.isBold = isFontStyleEnabled;\n                this.pdfViewerBase.formFieldCollection[index].FormField.font.isBold = isFontStyleEnabled;\n            }\n            this.pdfViewer.nameTable[selectedItem.id.split('_')[0]].font.isBold = isFontStyleEnabled;\n        }\n        else if (fontStyleType === 'italic') {\n            inputElement.style.fontStyle = fontStyleValue;\n            this.setDropdownFontStyleValue(inputElement, fontStyleType, fontStyleValue);\n            selectedItem.fontStyle = selectedItemFontStyle;\n            selectedItem.font.isItalic = isFontStyleEnabled;\n            if (index > -1) {\n                formFieldsData[index].FormField.font.isItalic = isFontStyleEnabled;\n                this.pdfViewerBase.formFieldCollection[index].FormField.font.isItalic = isFontStyleEnabled;\n            }\n            this.pdfViewer.nameTable[selectedItem.id.split('_')[0]].font.isItalic = isFontStyleEnabled;\n        }\n        else if (fontStyleType === 'underline') {\n            this.setDropdownFontStyleValue(inputElement, fontStyleType, fontStyleValue);\n            inputElement.style.textDecoration = fontStyleValue;\n            selectedItem.fontStyle = selectedItemFontStyle;\n            selectedItem.font.isUnderline = isFontStyleEnabled;\n            if (index > -1) {\n                formFieldsData[index].FormField.font.isUnderline = isFontStyleEnabled;\n                this.pdfViewerBase.formFieldCollection[index].FormField.font.isUnderline = isFontStyleEnabled;\n            }\n            this.pdfViewer.nameTable[selectedItem.id.split('_')[0]].font.isUnderline = isFontStyleEnabled;\n        }\n        else if (fontStyleType === 'line-through') {\n            this.setDropdownFontStyleValue(inputElement, fontStyleType, fontStyleValue);\n            inputElement.style.textDecoration = fontStyleValue;\n            selectedItem.fontStyle = selectedItemFontStyle;\n            selectedItem.font.isStrikeout = isFontStyleEnabled;\n            if (index > -1) {\n                formFieldsData[index].FormField.font.isStrikeout = isFontStyleEnabled;\n                this.pdfViewerBase.formFieldCollection[index].FormField.font.isStrikeout = isFontStyleEnabled;\n            }\n            this.pdfViewer.nameTable[selectedItem.id.split('_')[0]].font.isStrikeout = isFontStyleEnabled;\n        }\n    };\n    FormDesigner.prototype.setDropdownFontStyleValue = function (dropdownElement, fontStyleType, value) {\n        if (dropdownElement.length > 0) {\n            for (var i = 0; i < dropdownElement.length; i++) {\n                if (fontStyleType === 'bold') {\n                    dropdownElement[i].style.fontWeight = value;\n                }\n                else if (fontStyleType === 'italic') {\n                    dropdownElement[i].style.fontStyle = value;\n                }\n                else if (fontStyleType === 'underline') {\n                    dropdownElement[i].style.textDecoration = value;\n                }\n                else if (fontStyleType === 'line-through') {\n                    dropdownElement[i].style.textDecoration = value;\n                }\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    FormDesigner.prototype.updateFormFieldPropertiesChanges = function (name, selectedItem, isValueChanged, isFontFamilyChanged, isFontSizeChanged, isFontStyleChanged, isColorChanged, isBackgroundColorChanged, isBorderColorChanged, isBorderWidthChanged, isAlignmentChanged, isReadOnlyChanged, isVisibilityChanged, isMaxLengthChanged, isRequiredChanged, isPrintChanged, isToolTipChanged, oldValue, newValue, isNamechanged, previousName) {\n        var field = {\n            name: selectedItem.name, id: selectedItem.id, value: selectedItem.value, fontFamily: selectedItem.fontFamily, fontSize: selectedItem.fontSize, fontStyle: selectedItem.fontStyle,\n            color: selectedItem.color, backgroundColor: selectedItem.backgroundColor, alignment: selectedItem.alignment, isReadonly: selectedItem.isReadonly, visibility: selectedItem.visibility,\n            maxLength: selectedItem.maxLength, isRequired: selectedItem.isRequired, isPrint: selectedItem.isPrint, rotation: selectedItem.rotateAngle, tooltip: selectedItem.tooltip, options: selectedItem.options,\n            isChecked: selectedItem.isChecked, isSelected: selectedItem.isSelected, previousName: previousName, currentName: selectedItem.name\n        };\n        this.pdfViewer.fireFormFieldPropertiesChangeEvent(\"formFieldPropertiesChange\", field, selectedItem.pageIndex, isValueChanged, isFontFamilyChanged, isFontSizeChanged, isFontStyleChanged, isColorChanged, isBackgroundColorChanged, isBorderColorChanged, isBorderWidthChanged, isAlignmentChanged, isReadOnlyChanged, isVisibilityChanged, isMaxLengthChanged, isRequiredChanged, isPrintChanged, isToolTipChanged, oldValue, newValue, isNamechanged);\n    };\n    FormDesigner.prototype.onCancelClicked = function (args) {\n        this.propertiesDialog.hide();\n    };\n    FormDesigner.prototype.createAppearanceTab = function () {\n        var elementID = this.pdfViewer.element.id;\n        // eslint-disable-next-line max-len\n        var appearanceDiv = createElement('div', { id: elementID + '_properties_appearance' });\n        if (this.pdfViewer.selectedItems.formFields[0].formFieldAnnotationType !== 'DropdownList' && this.pdfViewer.selectedItems.formFields[0].formFieldAnnotationType !== 'ListBox') {\n            appearanceDiv.style.height = '260px';\n        }\n        else {\n            appearanceDiv.style.height = '336px';\n        }\n        var propertySpliter = createElement('div');\n        propertySpliter.className = 'e-pv-properties-header-spliter';\n        appearanceDiv.appendChild(propertySpliter);\n        var tabContainer = createElement('div', { className: 'e-pv-properties-tab-style-prop' });\n        appearanceDiv.appendChild(tabContainer);\n        // <div style=\"/* border-color: red; *//* border-width: 2px; *//* background: red; *//* height: 1px; */width: 100%;position: absolute;padding-top: 35px;/* border-bottom-color: black; *//* border-bottom-width: 2px; *//* border: solid; */border-bottom-style: solid;border-bottom-width: 1px;left: 0;border-bottom-color: #E0E0E0;\"></div>\n        if (this.pdfViewer.selectedItems && (this.pdfViewer.selectedItems.formFields[0].formFieldAnnotationType === 'ListBox' || this.pdfViewer.selectedItems.formFields[0].formFieldAnnotationType === 'DropdownList')) {\n            // eslint-disable-next-line max-len\n            this.tabControl = new Tab({\n                items: [\n                    {\n                        header: { 'text': '<div class=\"e-pv-form-field-property-header-general\"> ' + this.pdfViewer.localeObj.getConstant('General') + '</div>' }, content: this.createGeneralProperties()\n                    },\n                    {\n                        header: { 'text': '<div class=\"e-pv-form-field-property-header-general\"> ' + this.pdfViewer.localeObj.getConstant('Appearance') + '</div>' }, content: this.createAppearanceProperties()\n                    },\n                    {\n                        header: { 'text': '<div class=\"e-pv-form-field-property-header-general\"> ' + this.pdfViewer.localeObj.getConstant('Options') + '</div>' }, content: this.createOptionProperties()\n                    },\n                ],\n            }, tabContainer);\n        }\n        else if (this.pdfViewer.selectedItems && (this.pdfViewer.selectedItems.formFields[0].formFieldAnnotationType === 'SignatureField' || this.pdfViewer.selectedItems.formFields[0].formFieldAnnotationType === 'InitialField')) {\n            // eslint-disable-next-line max-len\n            this.tabControl = new Tab({\n                items: [\n                    {\n                        header: { 'text': '<div class=\"e-pv-form-field-property-header-general\"> ' + this.pdfViewer.localeObj.getConstant('General') + '</div>' }, content: this.createGeneralProperties()\n                    }\n                ],\n            }, tabContainer);\n        }\n        else {\n            // eslint-disable-next-line max-len\n            this.tabControl = new Tab({\n                items: [\n                    {\n                        header: { 'text': '<div class=\"e-pv-form-field-property-header-general\"> ' + this.pdfViewer.localeObj.getConstant('General') + '</div>' }, content: this.createGeneralProperties()\n                    },\n                    {\n                        header: { 'text': '<div class=\"e-pv-form-field-property-header-general\"> ' + this.pdfViewer.localeObj.getConstant('Appearance') + '</div>' }, content: this.createAppearanceProperties()\n                    }\n                ],\n            }, tabContainer);\n        }\n        tabContainer.children[1].style.height = '100%';\n        return appearanceDiv;\n    };\n    FormDesigner.prototype.createGeneralProperties = function () {\n        var selectedItem = this.pdfViewer.selectedItems.formFields ? this.pdfViewer.selectedItems.formFields[0] : null;\n        var visibilityItems = ['visible', 'hidden'];\n        // eslint-disable-next-line max-len\n        var elementID = this.pdfViewer.element.id;\n        var generalPropertiesDiv = createElement('div', { id: elementID + '_general_prop_appearance' });\n        var textStyleContainer = createElement('div', { className: 'e-pv-properties-text-edit-prop' });\n        generalPropertiesDiv.appendChild(textStyleContainer);\n        var formFieldNameMainDiv = createElement('div', { className: 'e-pv-properties-form-field-name-main-div' });\n        // eslint-disable-next-line max-len\n        var formFieldNameDiv = createElement('div', { className: 'e-pv-properties-name-edit-prop' });\n        var formFieldNameContainer = createElement('input', { className: 'e-pv-properties-name-edit-input e-input' });\n        formFieldNameDiv.appendChild(formFieldNameContainer);\n        formFieldNameMainDiv.appendChild(formFieldNameDiv);\n        // eslint-disable-next-line max-len\n        this.formFieldName = new TextBox({ type: \"text\", floatLabelType: 'Always', placeholder: this.pdfViewer.localeObj.getConstant('Name'), value: selectedItem.name, cssClass: 'e-pv-properties-formfield-name' }, formFieldNameContainer);\n        textStyleContainer.appendChild(formFieldNameMainDiv);\n        var formFieldTooltipMainDiv = createElement('div', { className: 'e-pv-properties-form-field-tooltip-main-div' });\n        var formFieldTooltipDiv = createElement('div', { className: 'e-pv-properties-tooltip-edit-prop' });\n        var formFieldTooltipContainer = createElement('input', { className: 'e-pv-properties-tooltip-prop-input e-input' });\n        formFieldTooltipDiv.appendChild(formFieldTooltipContainer);\n        formFieldTooltipMainDiv.appendChild(formFieldTooltipDiv);\n        // eslint-disable-next-line max-len\n        this.formFieldTooltip = new TextBox({ type: \"text\", floatLabelType: 'Always', placeholder: this.pdfViewer.localeObj.getConstant('Tooltip'), value: selectedItem.tooltip, cssClass: 'e-pv-properties-formfield-tooltip' }, formFieldTooltipContainer);\n        textStyleContainer.appendChild(formFieldTooltipMainDiv);\n        var visibilityContainer = createElement('div', { className: 'e-pv-properties-visibility-style-prop' });\n        generalPropertiesDiv.appendChild(visibilityContainer);\n        var formFieldValueMainDiv = createElement('div', { className: 'e-pv-properties-form-field-value-main-div' });\n        var formFieldValueDiv = createElement('div', { className: 'e-pv-properties-value-edit-prop' });\n        var formFieldValueContainer = createElement('input', { className: 'e-pv-properties-value-input e-input' });\n        formFieldValueDiv.appendChild(formFieldValueContainer);\n        formFieldValueMainDiv.appendChild(formFieldValueDiv);\n        // eslint-disable-next-line max-len\n        this.formFieldValue = new TextBox({ type: \"text\", floatLabelType: 'Always', placeholder: this.pdfViewer.localeObj.getConstant('Value'), value: selectedItem.value, cssClass: 'e-pv-properties-formfield-value' }, formFieldValueContainer);\n        if (this.pdfViewer.selectedItems.formFields[0].formFieldAnnotationType !== 'Textbox') {\n            this.formFieldValue.enabled = false;\n            this.formFieldValue.value = '';\n        }\n        visibilityContainer.appendChild(formFieldValueMainDiv);\n        var formFieldVisibilityMainDiv = createElement('div', { className: 'e-pv-properties-form-field-visibility-main-div' });\n        var formFieldVisibilityDiv = createElement('div', { className: 'e-pv-properties-visibility-edit-prop' });\n        var formFieldVisibilityContainer = createElement('div', { className: 'e-pv-properties-formfield-visibility' });\n        formFieldVisibilityDiv.appendChild(formFieldVisibilityContainer);\n        formFieldVisibilityMainDiv.appendChild(formFieldVisibilityDiv);\n        var selectedIndex = selectedItem.visibility === 'visible' ? 0 : 1;\n        this.formFieldVisibility = new DropDownList({ dataSource: visibilityItems, floatLabelType: 'Always', index: selectedIndex, value: selectedItem.visibility, placeholder: this.pdfViewer.localeObj.getConstant('Form Field Visibility'), cssClass: 'e-pv-properties-formfield-visibility' }, formFieldVisibilityContainer);\n        visibilityContainer.appendChild(formFieldVisibilityMainDiv);\n        var checkboxMainDiv = createElement('div', { className: 'e-pv-properties-checkbox-main-div-prop' });\n        var readOnly = createElement('input', { className: 'e-pv-properties-checkbox-readonly-input e-input' });\n        checkboxMainDiv.appendChild(readOnly);\n        this.formFieldReadOnly = new CheckBox({ label: this.pdfViewer.localeObj.getConstant('Read Only'), checked: selectedItem.isReadonly, cssClass: 'e-pv-properties-form-field-checkbox' }, readOnly);\n        if (this.pdfViewer.selectedItems.formFields[0].formFieldAnnotationType === 'Checkbox' || this.pdfViewer.selectedItems.formFields[0].formFieldAnnotationType === 'RadioButton') {\n            var checkedState = createElement('input', { className: 'e-pv-properties-checkbox-checked-input e-input' });\n            checkboxMainDiv.appendChild(checkedState);\n            this.formFieldChecked = new CheckBox({ label: this.pdfViewer.localeObj.getConstant('Checked'), cssClass: 'e-pv-properties-form-field-checkbox', checked: selectedItem.isChecked || selectedItem.isSelected, change: this.checkBoxChange.bind(this) }, checkedState);\n        }\n        var required = createElement('input', { className: 'e-pv-properties-checkbox-required-input e-input' });\n        checkboxMainDiv.appendChild(required);\n        this.formFieldRequired = new CheckBox({ label: this.pdfViewer.localeObj.getConstant('Required'), checked: selectedItem.isRequired, cssClass: 'e-pv-properties-form-field-checkbox' }, required);\n        var showPrinting = createElement('input', { className: 'e-pv-properties-checkbox-printing-input e-input' });\n        checkboxMainDiv.appendChild(showPrinting);\n        this.formFieldPrinting = new CheckBox({ label: this.pdfViewer.localeObj.getConstant('Show Printing'), checked: selectedItem.isPrint, cssClass: 'e-pv-properties-form-field-checkbox' }, showPrinting);\n        if (selectedItem.formFieldAnnotationType === 'Textbox') {\n            var multilineTextbox = createElement('input', { className: 'e-pv-properties-checkbox-multiline-input e-input' });\n            checkboxMainDiv.appendChild(multilineTextbox);\n            this.formFieldMultiline = new CheckBox({ label: this.pdfViewer.localeObj.getConstant('Multiline'), checked: selectedItem.isMultiline, cssClass: 'e-pv-properties-form-field-checkbox', change: this.multilineCheckboxChange.bind(this) }, multilineTextbox);\n        }\n        generalPropertiesDiv.appendChild(checkboxMainDiv);\n        return generalPropertiesDiv;\n    };\n    FormDesigner.prototype.checkBoxChange = function (args) {\n        this.checkboxCheckedState = args.checked;\n    };\n    FormDesigner.prototype.multilineCheckboxChange = function (args) {\n        this.multilineCheckboxCheckedState = true;\n    };\n    FormDesigner.prototype.setToolTip = function (tooltipContent, targetElement) {\n        //initialize tooltip component\n        var tooltip = new Tooltip({\n            content: tooltipContent\n        });\n        // render initialized tooltip\n        tooltip.appendTo(targetElement);\n        tooltip.beforeOpen = this.tooltipBeforeOpen.bind(this);\n    };\n    FormDesigner.prototype.tooltipBeforeOpen = function (args) {\n        var currentFormField = this.pdfViewer.nameTable[args.target.id.split('_')[0]];\n        if (!isNullOrUndefined(currentFormField)) {\n            args.element.children[0].innerHTML = currentFormField.tooltip;\n        }\n    };\n    FormDesigner.prototype.createAppearanceProperties = function () {\n        var selectedItem = this.pdfViewer.selectedItems.formFields ? this.pdfViewer.selectedItems.formFields[0] : null;\n        var fontFamilyItems = ['Helvetica', 'Courier', 'Times New Roman', 'Symbol', 'ZapfDingbats'];\n        var fontSizeItems = ['6px', '8px', '10px', '12px', '14px', '16px', '18px', '20px', '24px', '28px', '32px', '36px', '40px'];\n        var elementID = this.pdfViewer.element.id;\n        var appearancePropertiesDiv = createElement('div', { id: elementID + '_formatting_text_prop_appearance' });\n        var formatTextStyleContainer = createElement('div', { className: 'e-pv-properties-format-text-style-prop' });\n        appearancePropertiesDiv.appendChild(formatTextStyleContainer);\n        this.createLabelElement(this.pdfViewer.localeObj.getConstant('Formatting'), formatTextStyleContainer, true, 'e-pv-properties-formfield-label', elementID + '_properties_formfield_formatting');\n        var fontItemsContainer = createElement('div', { className: 'e-pv-properties-font-items-container' });\n        var fontFamilyDropdownContainer = createElement('div', { className: 'e-pv-properties-font-family-container' });\n        var formatdropdownContainer = createElement('div', { className: 'e-pv-properties-format-font-family-prop' });\n        fontFamilyDropdownContainer.appendChild(formatdropdownContainer);\n        fontItemsContainer.appendChild(fontFamilyDropdownContainer);\n        this.formFieldFontFamily = new DropDownList({ dataSource: fontFamilyItems, value: this.getFontFamily(selectedItem.fontFamily) ? selectedItem.fontFamily : 'Helvetica', cssClass: 'e-pv-properties-formfield-fontfamily' }, formatdropdownContainer);\n        this.setToolTip(this.pdfViewer.localeObj.getConstant('Font family'), fontFamilyDropdownContainer);\n        var fontSizeContainer = createElement('div', { className: 'e-pv-properties-font-size-container' });\n        var fontSizeDropdownContainer = createElement('div', { className: 'e-pv-properties-format-font-family-prop' });\n        fontSizeContainer.appendChild(fontSizeDropdownContainer);\n        fontItemsContainer.appendChild(fontSizeContainer);\n        this.formFieldFontSize = new DropDownList({ dataSource: fontSizeItems, value: selectedItem.fontSize + 'px', cssClass: 'e-pv-properties-formfield-fontsize' }, fontSizeDropdownContainer);\n        this.setToolTip(this.pdfViewer.localeObj.getConstant('Font size'), fontSizeContainer);\n        var fontStyleContainer = createElement('div', { className: 'e-pv-properties-form-field-font-style' });\n        fontStyleContainer.onclick = this.fontStyleClicked.bind(this);\n        fontStyleContainer.appendChild(this.addClassFontItem('_formField_bold', 'e-pv-bold-icon', selectedItem.font.isBold));\n        fontStyleContainer.appendChild(this.addClassFontItem('_formField_italic', 'e-pv-italic-icon', selectedItem.font.isItalic));\n        fontStyleContainer.appendChild(this.addClassFontItem('_formField_underline_textinput', 'e-pv-underlinetext-icon', selectedItem.font.isUnderline));\n        // eslint-disable-next-line max-len\n        fontStyleContainer.appendChild(this.addClassFontItem('_formField_strikeout', 'e-pv-strikeout-icon', selectedItem.font.isStrikeout));\n        fontItemsContainer.appendChild(fontStyleContainer);\n        this.getFontStyle(selectedItem.font);\n        appearancePropertiesDiv.appendChild(fontItemsContainer);\n        var fontColorContainer = createElement('div', { className: 'e-pv-properties-font-color-container' });\n        var fontAlignContainer = createElement('div', { className: 'e-pv-properties-form-field-font-align' });\n        fontAlignContainer.onclick = this.fontAlignClicked.bind(this);\n        var alignment = selectedItem.alignment.toLowerCase();\n        fontAlignContainer.appendChild(this.addClassFontItem('_formField_left_align', 'e-pv-left-align-icon', alignment === 'left' ? true : false));\n        fontAlignContainer.appendChild(this.addClassFontItem('_formField_center_align', 'e-pv-center-align-icon', alignment === 'center' ? true : false));\n        fontAlignContainer.appendChild(this.addClassFontItem('_formField_right_align', 'e-pv-right-align-icon', alignment === 'right' ? true : false));\n        this.getAlignment(alignment);\n        fontColorContainer.appendChild(fontAlignContainer);\n        this.fontColorElement = createElement('div', { className: 'e-pv-formfield-textcolor-icon', id: this.pdfViewer.element.id + 'formField_textColor' });\n        this.fontColorPalette = this.createColorPicker(this.fontColorElement.id, selectedItem.color);\n        selectedItem.color !== 'black' ? this.fontColorValue = selectedItem.color : null;\n        this.fontColorPalette.change = this.onFontColorChange.bind(this);\n        this.fontColorDropDown = this.createDropDownButton(this.fontColorElement, 'e-pv-annotation-textcolor-icon', this.fontColorPalette.element.parentElement);\n        fontColorContainer.appendChild(this.fontColorElement);\n        this.setToolTip(this.pdfViewer.localeObj.getConstant('Font color'), this.fontColorDropDown.element);\n        this.updateColorInIcon(this.fontColorElement, this.pdfViewer.selectedItems.formFields[0].color);\n        if (selectedItem.formFieldAnnotationType === 'Checkbox' || selectedItem.formFieldAnnotationType === 'RadioButton') {\n            this.fontColorPalette.disabled = true;\n            this.fontColorDropDown.disabled = true;\n            this.fontColorElement.style.pointerEvents = 'none';\n            this.fontColorElement.style.opacity = '0.5';\n            fontAlignContainer.style.pointerEvents = 'none';\n            fontAlignContainer.style.opacity = '0.5';\n            this.formFieldFontSize.enabled = false;\n            this.formFieldFontFamily.enabled = false;\n            fontFamilyDropdownContainer.style.pointerEvents = 'none';\n            fontSizeContainer.style.pointerEvents = 'none';\n            fontStyleContainer.style.pointerEvents = 'none';\n            fontStyleContainer.style.opacity = '0.5';\n        }\n        var maxLengthGroup = createElement('div', { className: 'e-pv-formfield-maxlength-group', id: this.pdfViewer.element.id + 'formField_maxlength_group' });\n        var maxLengthContainer = createElement('div', { className: 'e-pv-formfield-maxlength-icon', id: this.pdfViewer.element.id + 'formField_maxlength' });\n        maxLengthGroup.appendChild(maxLengthContainer);\n        this.createLabelElement(this.pdfViewer.localeObj.getConstant('Max Length'), maxLengthContainer, true, 'e-pv-properties-formfield-label', elementID + '_properties_formfield_maxlength');\n        var maxLengthDropdownContainer = createElement('div', { className: 'e-pv-formfield-maxlength', id: this.pdfViewer.element.id + 'formField_maxlength_container' });\n        var maxLengthItemDropdown = createElement('input', { className: 'e-pv-formfield-maxlength-input e-input' });\n        maxLengthDropdownContainer.appendChild(maxLengthItemDropdown);\n        maxLengthGroup.appendChild(maxLengthDropdownContainer);\n        // Render the Numeric Textbox\n        this.maxLengthItem = new NumericTextBox({ format: 'n', value: selectedItem.maxLength !== 0 ? selectedItem.maxLength : 0, min: 0 }, maxLengthItemDropdown);\n        fontColorContainer.appendChild(maxLengthGroup);\n        this.setToolTip(this.pdfViewer.localeObj.getConstant('Max Length'), this.maxLengthItem.element);\n        if (selectedItem.formFieldAnnotationType !== 'Textbox' && selectedItem.formFieldAnnotationType !== 'PasswordField') {\n            this.maxLengthItem.enabled = false;\n            maxLengthContainer.style.pointerEvents = 'none';\n        }\n        appearancePropertiesDiv.appendChild(fontColorContainer);\n        var colorContainer = createElement('div', { className: 'e-pv-properties-color-container-style-prop' });\n        var backgroundColorContainer = createElement('div', { className: 'e-pv-properties-fill-color-style-prop' });\n        appearancePropertiesDiv.appendChild(backgroundColorContainer);\n        this.createLabelElement(this.pdfViewer.localeObj.getConstant('Fill'), backgroundColorContainer, true, 'e-pv-properties-formfield-label', elementID + '_properties_formfield_fontcolor');\n        this.colorDropDownElement = createElement('div', { className: 'e-pv-formfield-fontcolor-icon', id: this.pdfViewer.element.id + 'formField_fontColor' });\n        this.colorPalette = this.createColorPicker(this.colorDropDownElement.id, selectedItem.backgroundColor);\n        this.colorPalette.change = this.onColorPickerChange.bind(this);\n        // eslint-disable-next-line max-len\n        this.colorDropDown = this.createDropDownButton(this.colorDropDownElement, 'e-pv-annotation-color-icon', this.colorPalette.element.parentElement);\n        this.setToolTip(this.pdfViewer.localeObj.getConstant('Fill Color'), this.colorDropDown.element);\n        backgroundColorContainer.appendChild(this.colorDropDownElement);\n        colorContainer.appendChild(backgroundColorContainer);\n        this.updateColorInIcon(this.colorDropDownElement, this.pdfViewer.selectedItems.formFields[0].backgroundColor);\n        var strokeColorContainer = createElement('div', { className: 'e-pv-properties-stroke-color-style-prop' });\n        this.createLabelElement(this.pdfViewer.localeObj.getConstant('Border'), strokeColorContainer, true, 'e-pv-properties-formfield-label', elementID + '_properties_formfield_strokecolor');\n        this.strokeDropDownElement = createElement('div', { className: 'e-pv-formfield-strokecolor-icon', id: this.pdfViewer.element.id + 'formField_strokeColor' });\n        this.strokeColorPicker = this.createColorPicker(this.strokeDropDownElement.id, selectedItem.borderColor);\n        this.strokeColorPicker.change = this.onStrokePickerChange.bind(this);\n        // eslint-disable-next-line max-len\n        this.strokeDropDown = this.createDropDownButton(this.strokeDropDownElement, 'e-pv-annotation-stroke-icon', this.strokeColorPicker.element.parentElement);\n        this.setToolTip(this.pdfViewer.localeObj.getConstant('Border Color'), this.strokeDropDown.element);\n        strokeColorContainer.appendChild(this.strokeDropDownElement);\n        colorContainer.appendChild(strokeColorContainer);\n        this.updateColorInIcon(this.strokeDropDownElement, this.pdfViewer.selectedItems.formFields[0].borderColor);\n        var strokeThicknessContainer = createElement('div', { className: 'e-pv-properties-stroke-thickness-style-prop' });\n        this.createLabelElement(this.pdfViewer.localeObj.getConstant('Thickness'), strokeThicknessContainer, true, 'e-pv-properties-formfield-label', elementID + '_properties_formfield_strokethickness');\n        this.thicknessElement = createElement('div', { className: 'e-pv-formfield-strokethickness-icon', id: this.pdfViewer.element.id + 'formField_strokethickness' });\n        ;\n        var thicknessContainer = this.createThicknessSlider(this.thicknessElement.id);\n        // eslint-disable-next-line max-len\n        this.thicknessDropDown = this.createDropDownButton(this.thicknessElement, 'e-pv-annotation-thickness-icon', thicknessContainer);\n        this.thicknessDropDown.beforeOpen = this.thicknessDropDownBeforeOpen.bind(this);\n        this.setToolTip(this.pdfViewer.localeObj.getConstant('Thickness'), this.thicknessDropDown.element);\n        this.thicknessSlider.change = this.thicknessChange.bind(this);\n        this.thicknessSlider.changed = this.thicknessChange.bind(this);\n        strokeThicknessContainer.appendChild(this.thicknessElement);\n        colorContainer.appendChild(strokeThicknessContainer);\n        appearancePropertiesDiv.appendChild(colorContainer);\n        return appearancePropertiesDiv;\n    };\n    FormDesigner.prototype.thicknessChange = function (args) {\n        if (this.pdfViewer.selectedItems.formFields.length === 1) {\n            this.formFieldBorderWidth = args.value;\n            this.updateThicknessIndicator();\n        }\n    };\n    FormDesigner.prototype.thicknessDropDownBeforeOpen = function () {\n        if (this.pdfViewer.selectedItems.formFields.length === 1) {\n            this.formFieldBorderWidth = this.pdfViewer.selectedItems.formFields[0].thickness.toString();\n            this.thicknessSlider.value = this.pdfViewer.selectedItems.formFields[0].thickness;\n        }\n        this.updateThicknessIndicator();\n    };\n    FormDesigner.prototype.updateThicknessIndicator = function () {\n        this.thicknessIndicator.textContent = this.thicknessSlider.value + ' pt';\n    };\n    FormDesigner.prototype.createOptionProperties = function () {\n        var _this = this;\n        var elementID = this.pdfViewer.element.id;\n        var optionPropertiesDiv = createElement('div', { id: elementID + '_option_prop_appearance' });\n        var listItemAddContainer = createElement('div', { className: 'e-pv-properties-form-field-list-add-div' });\n        var formFieldListItemMainDiv = createElement('div', { className: 'e-pv-properties-form-field-list-item-main-div' });\n        // eslint-disable-next-line max-len\n        this.createLabelElement(this.pdfViewer.localeObj.getConstant('List Item'), formFieldListItemMainDiv, true, 'e-pv-properties-formfield-label', elementID + '_properties_formfield_listitem');\n        var formFieldListItemDiv = createElement('div', { className: 'e-pv-properties-list-item-edit-prop' });\n        var formFieldListItemContainer = createElement('input', { className: 'e-pv-properties-list-item-input e-input' });\n        formFieldListItemContainer.addEventListener('keyup', function (args) {\n            _this.formFieldAddButton.disabled = true;\n            _this.formFieldListItem.value = args.target.value;\n            if (args.target && args.target.value) {\n                if (_this.formFieldListItemCollection.length > 0) {\n                    for (var i = 0; i < _this.formFieldListItemCollection.length; i++) {\n                        var itemName = _this.formFieldListItemCollection[i];\n                        if (itemName === args.target.value) {\n                            _this.formFieldAddButton.disabled = true;\n                            break;\n                        }\n                        else {\n                            _this.formFieldAddButton.disabled = false;\n                        }\n                    }\n                }\n                else {\n                    _this.formFieldAddButton.disabled = false;\n                }\n            }\n        });\n        formFieldListItemDiv.appendChild(formFieldListItemContainer);\n        formFieldListItemMainDiv.appendChild(formFieldListItemDiv);\n        // eslint-disable-next-line max-len\n        this.formFieldListItem = new TextBox({ type: \"text\", cssClass: 'e-pv-properties-formfield-listitem' }, formFieldListItemContainer);\n        listItemAddContainer.appendChild(formFieldListItemMainDiv);\n        optionPropertiesDiv.appendChild(listItemAddContainer);\n        var buttonDiv = createElement('div', { className: 'e-pv-properties-form-field-list-btn-div' });\n        var buttonAddInput = createElement('button', { className: 'e-btn' });\n        buttonAddInput.addEventListener('click', this.addListItemOnClick.bind(this));\n        buttonDiv.appendChild(buttonAddInput);\n        this.formFieldAddButton = new Button({ content: this.pdfViewer.localeObj.getConstant('Add'), disabled: true, cssClass: 'e-pv-properties-dropdown-btn' }, buttonAddInput);\n        listItemAddContainer.appendChild(buttonDiv);\n        var exportValueContainer = createElement('div', { className: 'e-pv-properties-form-field-export-value-div' });\n        var formFieldexportValueMainDiv = createElement('div', { className: 'e-pv-properties-form-field-export-value-main-div' });\n        this.createLabelElement(this.pdfViewer.localeObj.getConstant('Export Value'), formFieldexportValueMainDiv, true, 'e-pv-properties-formfield-label', elementID + '_properties_formfield_exportValue');\n        var formFieldExportItemDiv = createElement('div', { className: 'e-pv-properties-export-value-edit-prop' });\n        var formFieldExportItemContainer = createElement('input', { className: 'e-pv-properties-export-value-input e-input' });\n        formFieldExportItemDiv.appendChild(formFieldExportItemContainer);\n        formFieldexportValueMainDiv.appendChild(formFieldExportItemDiv);\n        // eslint-disable-next-line max-len\n        this.formFieldListItem = new TextBox({ type: \"text\", cssClass: 'e-pv-properties-formfield-exportvalue' }, formFieldExportItemContainer);\n        exportValueContainer.appendChild(formFieldexportValueMainDiv);\n        optionPropertiesDiv.appendChild(exportValueContainer);\n        var dropdownListItemContainer = createElement('div', { className: 'e-pv-properties-form-field-option-dropdown-list-div' });\n        var formFieldDropdownListMainDiv = createElement('div', { className: 'e-pv-properties-form-field-option-dropdown-list-item-div' });\n        var selectedElement = this.pdfViewer.selectedItems.formFields[0];\n        if (selectedElement.formFieldAnnotationType === 'DropdownList') {\n            // eslint-disable-next-line max-len\n            this.createLabelElement(this.pdfViewer.localeObj.getConstant('Dropdown Item List'), formFieldDropdownListMainDiv, true, 'e-pv-properties-formfield-label', elementID + '_properties_formfield_dropdown_listitem');\n        }\n        else {\n            // eslint-disable-next-line max-len\n            this.createLabelElement(this.pdfViewer.localeObj.getConstant('List Box Item List'), formFieldDropdownListMainDiv, true, 'e-pv-properties-formfield-label', elementID + '_properties_formfield_dropdown_listitem');\n        }\n        dropdownListItemContainer.appendChild(formFieldDropdownListMainDiv);\n        var btnTextAreaContainer = createElement('div', { className: 'e-pv-properties-form-field-btn-textarea-container' });\n        var textAreaContainer = createElement('div', { className: 'e-pv-properties-formfield-textarea', styles: 'width:300px;height:123px;border:1px solid #E0E0E0;margin-right:15px;overflow:auto' });\n        var listElement = createElement('ul', { id: this.pdfViewer.element.id + '_ul_list_item', className: 'e-pv-form-designer-ul-list-items' });\n        var listCount = this.createListElement(listElement);\n        textAreaContainer.appendChild(listElement);\n        btnTextAreaContainer.appendChild(textAreaContainer);\n        var buttonGroup = createElement('div', { className: 'e-pv-properties-form-field-group-btn-div' });\n        var deleteButtonDiv = createElement('div', { className: 'e-pv-properties-form-field-delete-btn-div' });\n        var buttonDeleteInput = createElement('button', { className: 'e-btn' });\n        buttonDeleteInput.addEventListener('click', this.deleteListItem.bind(this));\n        deleteButtonDiv.appendChild(buttonDeleteInput);\n        this.formFieldDeleteButton = new Button({ content: this.pdfViewer.localeObj.getConstant('Delete Item'), disabled: listCount > 0 ? false : true, cssClass: 'e-pv-properties-dropdown-btn' }, buttonDeleteInput);\n        buttonGroup.appendChild(deleteButtonDiv);\n        var upButtonDiv = createElement('div', { className: 'e-pv-properties-form-field-up-btn-div' });\n        var buttonUpInput = createElement('button', { className: 'e-btn' });\n        buttonUpInput.addEventListener('click', this.moveUpListItem.bind(this));\n        upButtonDiv.appendChild(buttonUpInput);\n        this.formFieldUpButton = new Button({ content: this.pdfViewer.localeObj.getConstant('Up'), disabled: listCount > 1 ? false : true, cssClass: 'e-pv-properties-dropdown-btn' }, buttonUpInput);\n        buttonGroup.appendChild(upButtonDiv);\n        var downButtonDiv = createElement('div', { className: 'e-pv-properties-form-field-down-btn-div' });\n        var buttonDownInput = createElement('button', { className: 'e-btn' });\n        buttonDownInput.addEventListener('click', this.moveDownListItem.bind(this));\n        downButtonDiv.appendChild(buttonDownInput);\n        this.formFieldDownButton = new Button({ content: this.pdfViewer.localeObj.getConstant('Down'), disabled: true, cssClass: 'e-pv-properties-dropdown-btn' }, buttonDownInput);\n        buttonGroup.appendChild(downButtonDiv);\n        btnTextAreaContainer.appendChild(buttonGroup);\n        dropdownListItemContainer.appendChild(btnTextAreaContainer);\n        optionPropertiesDiv.appendChild(dropdownListItemContainer);\n        return optionPropertiesDiv;\n    };\n    FormDesigner.prototype.addListItemOnClick = function () {\n        var dropdownValue = this.formFieldListItem.value;\n        this.formFieldListItemCollection.push(dropdownValue);\n        var ulElement = document.getElementById(this.pdfViewer.element.id + '_ul_list_item');\n        if (ulElement.children && ulElement.children.length > 0) {\n            for (var i = 0; i < ulElement.children.length; i++) {\n                var element = ulElement.children[i];\n                if (element.classList.contains('e-pv-li-select')) {\n                    element.classList.remove('e-pv-li-select');\n                }\n            }\n        }\n        var createLiElement = createElement('li', { className: 'e-pv-formfield-li-element' });\n        createLiElement.addEventListener('click', this.listItemOnClick.bind(this));\n        createLiElement.innerHTML = dropdownValue;\n        createLiElement.classList.add('e-pv-li-select');\n        ulElement.appendChild(createLiElement);\n        this.formFieldDeleteButton.disabled = false;\n        this.formFieldAddButton.disabled = true;\n        if (createLiElement.previousElementSibling) {\n            this.formFieldUpButton.disabled = false;\n        }\n        if (!createLiElement.nextElementSibling) {\n            this.formFieldDownButton.disabled = true;\n        }\n    };\n    FormDesigner.prototype.listItemOnClick = function (args) {\n        var ulElement = document.getElementById(this.pdfViewer.element.id + '_ul_list_item');\n        if (ulElement.children && ulElement.children.length > 0) {\n            for (var i = 0; i < ulElement.children.length; i++) {\n                var element = ulElement.children[i];\n                if (element.classList.contains('e-pv-li-select')) {\n                    element.classList.remove('e-pv-li-select');\n                }\n            }\n        }\n        if (args.target) {\n            args.target.classList.add('e-pv-li-select');\n        }\n        if (args.target.nextElementSibling) {\n            this.formFieldDownButton.disabled = false;\n        }\n        else {\n            this.formFieldDownButton.disabled = true;\n        }\n        if (args.target.previousElementSibling) {\n            this.formFieldUpButton.disabled = false;\n        }\n        else {\n            this.formFieldUpButton.disabled = true;\n        }\n    };\n    FormDesigner.prototype.deleteListItem = function () {\n        var ulElement = document.getElementById(this.pdfViewer.element.id + '_ul_list_item');\n        if (ulElement.children && ulElement.children.length > 0) {\n            for (var i = 0; i < ulElement.children.length; i++) {\n                var element = ulElement.children[i];\n                if (element.classList.contains('e-pv-li-select')) {\n                    element.classList.remove('e-pv-li-select');\n                    this.formFieldListItemCollection.splice(i, 1);\n                    if (element.previousElementSibling) {\n                        element.previousElementSibling.classList.add('e-pv-li-select');\n                        if (!element.previousElementSibling.previousElementSibling) {\n                            this.formFieldUpButton.disabled = true;\n                        }\n                    }\n                    else if (element.nextElementSibling) {\n                        element.nextElementSibling.classList.add('e-pv-li-select');\n                        if (!element.nextElementSibling.nextElementSibling) {\n                            this.formFieldDownButton.disabled = true;\n                        }\n                    }\n                    element.remove();\n                }\n            }\n        }\n        if (ulElement.children && ulElement.children.length === 0) {\n            this.formFieldDeleteButton.disabled = true;\n            this.formFieldUpButton.disabled = true;\n            this.formFieldDownButton.disabled = true;\n        }\n        if (ulElement.children && ulElement.children.length === 1) {\n            this.formFieldDeleteButton.disabled = false;\n            this.formFieldUpButton.disabled = true;\n            this.formFieldDownButton.disabled = true;\n        }\n    };\n    FormDesigner.prototype.moveUpListItem = function () {\n        var ulElement = document.getElementById(this.pdfViewer.element.id + '_ul_list_item');\n        if (ulElement.children && ulElement.children.length > 0) {\n            for (var i = 0; i < ulElement.children.length; i++) {\n                var element = ulElement.children[i];\n                if (element.classList.contains('e-pv-li-select')) {\n                    if (element.previousElementSibling) {\n                        element.parentNode.insertBefore(element, element.previousElementSibling);\n                        if (!element.previousElementSibling)\n                            this.formFieldUpButton.disabled = true;\n                    }\n                    else {\n                        this.formFieldUpButton.disabled = true;\n                    }\n                    if (element.nextElementSibling) {\n                        this.formFieldDownButton.disabled = false;\n                    }\n                }\n            }\n        }\n    };\n    FormDesigner.prototype.moveDownListItem = function () {\n        var element;\n        var ulElement = document.getElementById(this.pdfViewer.element.id + '_ul_list_item');\n        if (ulElement.children && ulElement.children.length > 0) {\n            for (var i = 0; i < ulElement.children.length; i++) {\n                element = ulElement.children[i];\n                if (element.classList.contains('e-pv-li-select')) {\n                    if (element.nextElementSibling) {\n                        element.parentNode.insertBefore(element.nextElementSibling, element);\n                        break;\n                    }\n                    else {\n                        this.formFieldDownButton.disabled = true;\n                    }\n                }\n            }\n        }\n        if (!element.nextElementSibling) {\n            this.formFieldDownButton.disabled = true;\n        }\n        if (element.previousElementSibling) {\n            this.formFieldUpButton.disabled = false;\n        }\n    };\n    FormDesigner.prototype.createListElement = function (ulElement) {\n        var selectedElement = this.pdfViewer.selectedItems.formFields[0];\n        if (selectedElement) {\n            if (selectedElement.options && selectedElement.options.length > 0) {\n                for (var i = 0; i < selectedElement.options.length; i++) {\n                    var dropdownValue = selectedElement.options[i].itemName;\n                    if (this.formFieldListItemCollection[i] !== selectedElement.options[i].itemName) {\n                        this.formFieldListItemCollection.push(dropdownValue);\n                        var createLiElement = createElement('li', { className: 'e-pv-formfield-li-element' });\n                        createLiElement.addEventListener('click', this.listItemOnClick.bind(this));\n                        createLiElement.innerHTML = dropdownValue;\n                        ulElement.appendChild(createLiElement);\n                    }\n                }\n                ulElement.children[ulElement.children.length - 1].classList.add('e-pv-li-select');\n            }\n        }\n        return ulElement.children.length;\n    };\n    FormDesigner.prototype.createThicknessSlider = function (idString) {\n        var outerContainer = createElement('div', { className: 'e-pv-annotation-thickness-popup-container' });\n        document.body.appendChild(outerContainer);\n        var label = createElement('span', { id: idString + '_label', className: 'e-pv-annotation-thickness-label' });\n        label.textContent = this.pdfViewer.localeObj.getConstant('Line Thickness');\n        var sliderElement = createElement('div', { id: idString + '_slider' });\n        this.thicknessSlider = new Slider({ type: 'MinRange', cssClass: 'e-pv-annotation-thickness-slider', max: 12, min: 0 });\n        // eslint-disable-next-line max-len\n        this.thicknessIndicator = createElement('div', { id: idString + '_thickness_indicator', className: 'e-pv-annotation-thickness-indicator' });\n        this.thicknessIndicator.textContent = '0 pt';\n        if (!this.pdfViewer.enableRtl) {\n            outerContainer.appendChild(label);\n            outerContainer.appendChild(sliderElement);\n            this.thicknessSlider.appendTo(sliderElement);\n            outerContainer.appendChild(this.thicknessIndicator);\n        }\n        else {\n            outerContainer.appendChild(this.thicknessIndicator);\n            outerContainer.appendChild(sliderElement);\n            this.thicknessSlider.enableRtl = true;\n            this.thicknessSlider.appendTo(sliderElement);\n            outerContainer.appendChild(label);\n        }\n        this.thicknessSlider.element.parentElement.classList.add('e-pv-annotation-thickness-slider-container');\n        return outerContainer;\n    };\n    FormDesigner.prototype.createColorPicker = function (idString, color) {\n        var inputElement = createElement('input', { id: idString + '_target' });\n        document.body.appendChild(inputElement);\n        var colorPicker = new ColorPicker({\n            inline: true, mode: 'Palette', cssClass: 'e-show-value', enableOpacity: false,\n            value: color, showButtons: false, modeSwitcher: false\n        });\n        if (this.pdfViewer.enableRtl) {\n            colorPicker.enableRtl = true;\n        }\n        colorPicker.appendTo(inputElement);\n        return colorPicker;\n    };\n    FormDesigner.prototype.fontStyleClicked = function (args) {\n        if (args.target) {\n            if (args.target.id.indexOf(\"formField_bold\") !== -1) {\n                var item = (args.target.id.indexOf(\"formField_bold_div\") !== -1) ? args.target : args.target.parentElement;\n                if (item.classList.contains('e-pv-li-select'))\n                    this.isBold = true;\n                this.isBold = !this.isBold;\n                if (this.isBold) {\n                    this.formFieldBold = \"bold\";\n                    item.classList.add('e-pv-li-select');\n                }\n                else {\n                    this.formFieldBold = \"normal\";\n                    item.classList.remove('e-pv-li-select');\n                }\n            }\n            else if (args.target.id.indexOf(\"formField_italic\") !== -1) {\n                var item = (args.target.id.indexOf(\"formField_italic_div\") !== -1) ? args.target : args.target.parentElement;\n                if (item.classList.contains('e-pv-li-select'))\n                    this.isItalic = true;\n                this.isItalic = !this.isItalic;\n                if (this.isItalic) {\n                    this.formFieldItalic = \"italic\";\n                    item.classList.add('e-pv-li-select');\n                }\n                else {\n                    this.formFieldItalic = \"normal\";\n                    item.classList.remove('e-pv-li-select');\n                }\n            }\n            else if (args.target.id.indexOf(\"formField_underline\") !== -1) {\n                var item = (args.target.id.indexOf(\"formField_underline_textinput_div\") !== -1) ? args.target : args.target.parentElement;\n                if (item.classList.contains('e-pv-li-select'))\n                    this.isUnderline = true;\n                this.isUnderline = !this.isUnderline;\n                if (this.isUnderline) {\n                    this.formFieldUnderline = \"underline\";\n                    this.isStrikeThrough = false;\n                    item.classList.add('e-pv-li-select');\n                }\n                else {\n                    this.formFieldUnderline = \"none\";\n                    item.classList.remove('e-pv-li-select');\n                }\n            }\n            else if (args.target.id.indexOf(\"formField_strikeout\") !== -1) {\n                var item = (args.target.id.indexOf(\"formField_strikeout_div\") !== -1) ? args.target : args.target.parentElement;\n                if (item.classList.contains('e-pv-li-select'))\n                    this.isStrikeThrough = true;\n                this.isStrikeThrough = !this.isStrikeThrough;\n                if (this.isStrikeThrough) {\n                    this.formFieldStrikeOut = \"line-through\";\n                    this.isUnderline = false;\n                    item.classList.add('e-pv-li-select');\n                }\n                else {\n                    this.formFieldStrikeOut = \"none\";\n                    item.classList.remove('e-pv-li-select');\n                }\n            }\n        }\n    };\n    FormDesigner.prototype.clearFontAlignIconSelection = function (currentElement) {\n        for (var i = 0; i < currentElement.children.length; i++) {\n            if (currentElement.children[i].classList.contains('e-pv-li-select')) {\n                currentElement.children[i].classList.remove('e-pv-li-select');\n            }\n        }\n    };\n    FormDesigner.prototype.fontAlignClicked = function (args) {\n        if (args.target) {\n            args.target.classList.remove('e-pv-li-select');\n            if (args.target.id.indexOf(\"_formField_left_align\") !== -1) {\n                var item = (args.target.id.indexOf(\"_formField_left_align_div\") !== -1) ? args.target : args.target.parentElement;\n                this.formFieldAlign = \"left\";\n                this.clearFontAlignIconSelection(args.currentTarget);\n                item.classList.add('e-pv-li-select');\n            }\n            else if (args.target.id.indexOf(\"_formField_right_align\") !== -1) {\n                var item = (args.target.id.indexOf(\"_formField_right_align_div\") !== -1) ? args.target : args.target.parentElement;\n                this.formFieldAlign = \"right\";\n                this.clearFontAlignIconSelection(args.currentTarget);\n                item.classList.add('e-pv-li-select');\n            }\n            else {\n                var item = (args.target.id.indexOf(\"_formField_center_align_div\") !== -1) ? args.target : args.target.parentElement;\n                this.formFieldAlign = \"center\";\n                this.clearFontAlignIconSelection(args.currentTarget);\n                item.classList.add('e-pv-li-select');\n            }\n        }\n    };\n    FormDesigner.prototype.onFontColorChange = function (args) {\n        this.fontColorValue = (args.currentValue.hex === '') ? '#ffffff00' : args.currentValue.hex;\n        this.updateColorInIcon(this.fontColorElement, this.fontColorValue);\n        this.fontColorDropDown.toggle();\n    };\n    FormDesigner.prototype.onColorPickerChange = function (args) {\n        this.backgroundColorValue = (args.currentValue.hex === '') ? '#ffffff00' : args.currentValue.hex;\n        this.updateColorInIcon(this.colorDropDownElement, this.backgroundColorValue);\n        this.colorDropDown.toggle();\n    };\n    /**\n     * @private\n     */\n    FormDesigner.prototype.updateColorInIcon = function (element, color) {\n        element.childNodes[0].style.borderBottomColor = color;\n    };\n    FormDesigner.prototype.onStrokePickerChange = function (args) {\n        this.borderColorValue = (args.currentValue.hex === '') ? '#ffffff00' : args.currentValue.hex;\n        this.updateColorInIcon(this.strokeDropDownElement, this.borderColorValue);\n        this.strokeDropDown.toggle();\n    };\n    FormDesigner.prototype.createDropDownButton = function (element, iconClass, target) {\n        // eslint-disable-next-line max-len\n        var dropDownButton = new DropDownButton({ iconCss: iconClass + ' e-pv-icon', target: target });\n        if (this.pdfViewer.enableRtl) {\n            dropDownButton.enableRtl = true;\n        }\n        dropDownButton.appendTo(element);\n        return dropDownButton;\n    };\n    /**\n     * @private\n    */\n    FormDesigner.prototype.addClassFontItem = function (idString, className, isSelectedStyle) {\n        var element = createElement('div', { id: this.pdfViewer.element.id + idString + '_div' });\n        element.classList.add(className + \"-div\");\n        var spanElement = createElement('span', { id: this.pdfViewer.element.id + idString + '_span' });\n        spanElement.classList.add(className);\n        spanElement.classList.add(\"e-pv-icon\");\n        switch (className) {\n            case 'e-pv-bold-icon':\n                this.setToolTip(this.pdfViewer.localeObj.getConstant('Bold'), element);\n                break;\n            case 'e-pv-italic-icon':\n                this.setToolTip(this.pdfViewer.localeObj.getConstant('Italic'), element);\n                break;\n            case 'e-pv-underlinetext-icon':\n                this.setToolTip(this.pdfViewer.localeObj.getConstant('Underlines'), element);\n                break;\n            case 'e-pv-strikeout-icon':\n                this.setToolTip(this.pdfViewer.localeObj.getConstant('Strikethroughs'), element);\n                break;\n            case 'e-pv-left-align-icon':\n                this.setToolTip(this.pdfViewer.localeObj.getConstant('Align left'), element);\n                break;\n            case 'e-pv-center-align-icon':\n                this.setToolTip(this.pdfViewer.localeObj.getConstant('Center'), element);\n                break;\n            case 'e-pv-right-align-icon':\n                this.setToolTip(this.pdfViewer.localeObj.getConstant('Align right'), element);\n                break;\n        }\n        if (isSelectedStyle)\n            element.classList.add('e-pv-li-select');\n        element.appendChild(spanElement);\n        return element;\n    };\n    // eslint-disable-next-line max-len\n    FormDesigner.prototype.createLabelElement = function (labelText, parentElement, isLabelNeeded, className, idString) {\n        var container = createElement('div', { id: idString + '_container', className: className + '-container' });\n        var label = null;\n        if (isLabelNeeded) {\n            label = createElement('div', { id: idString + '_label', className: className });\n            label.textContent = labelText;\n            container.appendChild(label);\n        }\n        parentElement.appendChild(label);\n    };\n    FormDesigner.prototype.setReadOnlyToFormField = function (selectedItem, isReadOnly) {\n        for (var i = 0; i < this.pdfViewer.formFieldCollection.length; i++) {\n            var formField = this.pdfViewer.formFieldCollection[i];\n            if (formField.formFieldAnnotationType === selectedItem.formFieldAnnotationType && formField.name === selectedItem.name && formField.id === selectedItem.id) {\n                formField.isReadonly = isReadOnly;\n                switch (formField.formFieldAnnotationType) {\n                    case 'Textbox':\n                    case 'PasswordField':\n                    case 'DropdownList':\n                    case 'ListBox':\n                    case 'SignatureField':\n                    case 'InitialField':\n                        var inputElement = document.getElementById(formField.id + \"_content_html_element\").firstElementChild.firstElementChild;\n                        this.setReadOnlyToElement(formField, inputElement, isReadOnly);\n                        break;\n                    case 'RadioButton':\n                        var radioButtonDivDivElement = document.getElementById(formField.id + \"_content_html_element\").firstElementChild.firstElementChild.firstElementChild;\n                        this.setReadOnlyToElement(formField, radioButtonDivDivElement, isReadOnly);\n                        break;\n                    case 'Checkbox':\n                        var checkboxDivElement = document.getElementById(formField.id + \"_content_html_element\").firstElementChild.firstElementChild.lastElementChild;\n                        this.setReadOnlyToElement(formField, checkboxDivElement, isReadOnly);\n                        break;\n                }\n            }\n        }\n    };\n    /**\n     * @private\n    */\n    FormDesigner.prototype.getFormDesignerSignField = function (signatureFieldCollection) {\n        var formDesignerData = this.pdfViewerBase.getItemFromSessionStorage('_formDesigner');\n        // eslint-disable-next-line\n        var currentData;\n        if (formDesignerData) {\n            // eslint-disable-next-line\n            var formFieldsObject = JSON.parse(formDesignerData);\n            for (var i = 0; i < formFieldsObject.length; i++) {\n                currentData = formFieldsObject[i].FormField;\n                if (currentData.formFieldAnnotationType === 'SignatureField') {\n                    // eslint-disable-next-line\n                    currentData['uniqueID'] = currentData.id.replace(\"_content\", \"\");\n                    signatureFieldCollection.push(formFieldsObject[i]);\n                }\n            }\n        }\n        return signatureFieldCollection;\n    };\n    FormDesigner.prototype.setRequiredToFormField = function (selectedItem, isRequired) {\n        for (var i = 0; i < this.pdfViewer.formFieldCollection.length; i++) {\n            var formField = this.pdfViewer.formFieldCollection[i];\n            if (formField.formFieldAnnotationType === selectedItem.formFieldAnnotationType && formField.name === selectedItem.name && formField.id === selectedItem.id) {\n                formField.isRequired = isRequired;\n                switch (formField.formFieldAnnotationType) {\n                    case 'Textbox':\n                    case 'PasswordField':\n                    case 'DropdownList':\n                    case 'SignatureField':\n                    case 'InitialField':\n                        var inputElement = document.getElementById(formField.id + \"_content_html_element\").firstElementChild.firstElementChild;\n                        this.setRequiredToElement(formField, inputElement, isRequired);\n                        break;\n                    case 'RadioButton':\n                        var radioButtonDivDivElement = document.getElementById(formField.id + \"_content_html_element\").firstElementChild.firstElementChild.firstElementChild;\n                        this.setRequiredToElement(formField, radioButtonDivDivElement, isRequired);\n                        this.updateFormFieldCollections(formField);\n                        break;\n                    case 'Checkbox':\n                        var checkboxDivElement = document.getElementById(formField.id + \"_content_html_element\").firstElementChild.firstElementChild.lastElementChild;\n                        this.setRequiredToElement(formField, checkboxDivElement, isRequired);\n                        break;\n                    default:\n                        break;\n                }\n            }\n        }\n    };\n    FormDesigner.prototype.setReadOnlyToElement = function (selectedItem, inputElement, isReadOnly) {\n        if (isReadOnly) {\n            inputElement.disabled = true;\n            if (selectedItem.formFieldAnnotationType === 'RadioButton') {\n                inputElement.parentElement.style.cursor = 'default';\n                inputElement.parentElement.style.backgroundColor = 'transparent';\n            }\n            else {\n                inputElement.style.cursor = 'default';\n                inputElement.style.backgroundColor = 'transparent';\n            }\n        }\n        else {\n            inputElement.disabled = false;\n            if (selectedItem.formFieldAnnotationType === 'RadioButton') {\n                inputElement.parentElement.style.backgroundColor = selectedItem.backgroundColor;\n            }\n            else if (selectedItem.formFieldAnnotationType == \"SignatureField\" || selectedItem.formFieldAnnotationType == \"InitialField\") {\n                inputElement.style.backgroundColor = 'transparent';\n            }\n            else {\n                inputElement.style.backgroundColor = selectedItem.backgroundColor;\n            }\n        }\n    };\n    FormDesigner.prototype.setRequiredToElement = function (selectedItem, inputElement, isRequired) {\n        if (isRequired) {\n            inputElement.required = true;\n            inputElement.style.border = '1px solid red';\n            if (selectedItem.formFieldAnnotationType === 'RadioButton') {\n                var thickness = selectedItem.thickness === 0 ? 1 : selectedItem.thickness;\n                inputElement.parentElement.style.boxShadow = 'red 0px 0px 0px ' + thickness + 'px';\n            }\n        }\n        else {\n            inputElement.required = false;\n            inputElement.style.borderWidth = selectedItem.thickness;\n            inputElement.style.borderColor = selectedItem.borderColor;\n            if (selectedItem.formFieldAnnotationType === 'RadioButton') {\n                inputElement.parentElement.style.boxShadow = selectedItem.borderColor + ' 0px 0px 0px ' + selectedItem.thickness + 'px';\n            }\n        }\n    };\n    /**\n     * @private\n    */\n    FormDesigner.prototype.destroyPropertiesWindow = function () {\n        this.formFieldListItemCollection = [];\n        this.formFieldListItemDataSource = [];\n        this.formFieldFontFamily = null;\n        this.formFieldFontSize = null;\n        this.formFieldAlign = null;\n        this.fontColorValue = null;\n        this.backgroundColorValue = null;\n        this.borderColorValue = null;\n        this.formFieldBorderWidth = null;\n        this.formFieldName = null;\n        this.formFieldChecked = null;\n        this.formFieldReadOnly = null;\n        this.formFieldRequired = null;\n        this.formFieldTooltip = null;\n        this.formFieldPrinting = null;\n        this.formFieldMultiline = null;\n        this.formFieldVisibility = null;\n        var dialogElement = this.pdfViewerBase.getElement('_properties_window');\n        if (dialogElement) {\n            dialogElement.parentElement.removeChild(dialogElement);\n        }\n    };\n    /**\n     * @private\n    */\n    FormDesigner.prototype.destroy = function () {\n        this.destroyPropertiesWindow();\n    };\n    FormDesigner.prototype.hex = function (x) {\n        return ('0' + x.toString(16)).slice(-2);\n    };\n    /**\n     * @private\n    */\n    FormDesigner.prototype.getModuleName = function () {\n        return 'FormDesigner';\n    };\n    FormDesigner.prototype.updateAnnotationCanvas = function (canvas, pageWidth, pageHeight, pageNumber) {\n        var ratio = this.pdfViewerBase.getZoomRatio();\n        canvas.width = pageWidth * ratio;\n        canvas.height = pageHeight * ratio;\n        canvas.style.width = pageWidth + 'px';\n        canvas.style.height = pageHeight + 'px';\n        canvas.style.position = 'absolute';\n        canvas.style.zIndex = '1';\n        this.pdfViewerBase.applyElementStyles(canvas, pageNumber);\n    };\n    FormDesigner.prototype.getFontFamily = function (fontFamily) {\n        var fontFamilyNames = ['Helvetica', 'Courier', 'TimesRoman', 'Symbol', 'ZapfDingbats'];\n        return fontFamilyNames.indexOf(fontFamily) > -1 ? true : false;\n    };\n    FormDesigner.prototype.updateTextFieldSettingProperties = function (drawingObject, isFormDesignerToolbarVisible, isSetFormFieldMode) {\n        var textFieldSettings = this.pdfViewer.textFieldSettings;\n        if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && !isNullOrUndefined(textFieldSettings.isReadOnly)) {\n            drawingObject.isReadonly = textFieldSettings.isReadOnly;\n        }\n        if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && !isNullOrUndefined(textFieldSettings.isRequired)) {\n            drawingObject.isRequired = textFieldSettings.isRequired;\n        }\n        if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && textFieldSettings.value) {\n            drawingObject.value = textFieldSettings.value;\n        }\n        if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && textFieldSettings.backgroundColor !== 'white') {\n            drawingObject.backgroundColor = textFieldSettings.backgroundColor;\n        }\n        if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && textFieldSettings.borderColor !== 'black') {\n            drawingObject.borderColor = textFieldSettings.borderColor;\n        }\n        if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && textFieldSettings.alignment !== 'Left') {\n            drawingObject.alignment = textFieldSettings.alignment;\n        }\n        if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && textFieldSettings.color !== 'black') {\n            drawingObject.color = textFieldSettings.color;\n        }\n        if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && textFieldSettings.fontFamily !== 'Helvetica') {\n            drawingObject.fontFamily = textFieldSettings.fontFamily;\n        }\n        if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && textFieldSettings.fontSize !== 10) {\n            drawingObject.fontSize = textFieldSettings.fontSize;\n        }\n        if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && textFieldSettings.fontStyle) {\n            drawingObject.fontStyle = this.getFontStyleName(textFieldSettings.fontStyle, drawingObject);\n            ;\n        }\n        if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && textFieldSettings.name) {\n            drawingObject.name = textFieldSettings.name;\n        }\n        if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && textFieldSettings.tooltip) {\n            drawingObject.tooltip = textFieldSettings.tooltip;\n        }\n        if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && textFieldSettings.thickness !== 1) {\n            drawingObject.thickness = textFieldSettings.thickness;\n        }\n        if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && textFieldSettings.maxLength) {\n            drawingObject.maxLength = textFieldSettings.maxLength;\n        }\n        if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && textFieldSettings.visibility) {\n            drawingObject.visibility = textFieldSettings.visibility;\n        }\n        if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && !isNullOrUndefined(textFieldSettings.isPrint)) {\n            drawingObject.isPrint = textFieldSettings.isPrint;\n        }\n        if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && !isNullOrUndefined(textFieldSettings.isMultiline)) {\n            drawingObject.isMultiline = textFieldSettings.isMultiline;\n        }\n    };\n    FormDesigner.prototype.updatePasswordFieldSettingProperties = function (drawingObject, isFormDesignerToolbarVisible, isSetFormFieldMode) {\n        var passwordFieldSettings = this.pdfViewer.passwordFieldSettings;\n        if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && !isNullOrUndefined(passwordFieldSettings.isReadOnly)) {\n            drawingObject.isReadonly = passwordFieldSettings.isReadOnly;\n        }\n        if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && !isNullOrUndefined(passwordFieldSettings.isRequired)) {\n            drawingObject.isRequired = passwordFieldSettings.isRequired;\n        }\n        if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && passwordFieldSettings.value) {\n            drawingObject.value = passwordFieldSettings.value;\n        }\n        if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && passwordFieldSettings.backgroundColor !== 'white') {\n            drawingObject.backgroundColor = passwordFieldSettings.backgroundColor;\n        }\n        if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && passwordFieldSettings.borderColor !== 'black') {\n            drawingObject.borderColor = passwordFieldSettings.borderColor;\n        }\n        if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && passwordFieldSettings.alignment !== 'Left') {\n            drawingObject.alignment = passwordFieldSettings.alignment;\n        }\n        if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && passwordFieldSettings.color !== 'black') {\n            drawingObject.color = passwordFieldSettings.color;\n        }\n        if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && passwordFieldSettings.fontFamily !== 'Helvetica') {\n            drawingObject.fontFamily = passwordFieldSettings.fontFamily;\n        }\n        if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && passwordFieldSettings.fontSize !== 10) {\n            drawingObject.fontSize = passwordFieldSettings.fontSize;\n        }\n        if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && passwordFieldSettings.fontStyle) {\n            drawingObject.fontStyle = this.getFontStyleName(passwordFieldSettings.fontStyle, drawingObject);\n        }\n        if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && passwordFieldSettings.name) {\n            drawingObject.name = passwordFieldSettings.name;\n        }\n        if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && passwordFieldSettings.tooltip) {\n            drawingObject.tooltip = passwordFieldSettings.tooltip;\n        }\n        if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && passwordFieldSettings.thickness !== 1) {\n            drawingObject.thickness = passwordFieldSettings.thickness;\n        }\n        if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && passwordFieldSettings.maxLength) {\n            drawingObject.maxLength = passwordFieldSettings.maxLength;\n        }\n        if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && passwordFieldSettings.visibility) {\n            drawingObject.visibility = passwordFieldSettings.visibility;\n        }\n        if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && !isNullOrUndefined(passwordFieldSettings.isPrint)) {\n            drawingObject.isPrint = passwordFieldSettings.isPrint;\n        }\n    };\n    FormDesigner.prototype.updateCheckBoxFieldSettingsProperties = function (drawingObject, isFormDesignerToolbarVisible, isSetFormFieldMode) {\n        var checkBoxFieldSettings = this.pdfViewer.checkBoxFieldSettings;\n        if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && !isNullOrUndefined(checkBoxFieldSettings.isReadOnly)) {\n            drawingObject.isReadonly = checkBoxFieldSettings.isReadOnly;\n        }\n        if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && !isNullOrUndefined(checkBoxFieldSettings.isRequired)) {\n            drawingObject.isRequired = checkBoxFieldSettings.isRequired;\n        }\n        if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && checkBoxFieldSettings.backgroundColor !== 'white') {\n            drawingObject.backgroundColor = checkBoxFieldSettings.backgroundColor;\n        }\n        if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && checkBoxFieldSettings.borderColor !== 'black') {\n            drawingObject.borderColor = checkBoxFieldSettings.borderColor;\n        }\n        if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && checkBoxFieldSettings.name) {\n            drawingObject.name = checkBoxFieldSettings.name;\n        }\n        if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && checkBoxFieldSettings.tooltip) {\n            drawingObject.tooltip = checkBoxFieldSettings.tooltip;\n        }\n        if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && checkBoxFieldSettings.thickness !== 1) {\n            drawingObject.thickness = checkBoxFieldSettings.thickness;\n        }\n        if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && checkBoxFieldSettings.visibility) {\n            drawingObject.visibility = checkBoxFieldSettings.visibility;\n        }\n        if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && !isNullOrUndefined(checkBoxFieldSettings.isPrint)) {\n            drawingObject.isPrint = checkBoxFieldSettings.isPrint;\n        }\n        if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && !isNullOrUndefined(checkBoxFieldSettings.isChecked)) {\n            drawingObject.isChecked = checkBoxFieldSettings.isChecked;\n        }\n    };\n    FormDesigner.prototype.updateRadioButtonFieldSettingProperties = function (drawingObject, isFormDesignerToolbarVisible, isSetFormFieldMode) {\n        var radioButtonFieldSettings = this.pdfViewer.radioButtonFieldSettings;\n        if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && !isNullOrUndefined(radioButtonFieldSettings.isReadOnly)) {\n            drawingObject.isReadonly = radioButtonFieldSettings.isReadOnly;\n        }\n        if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && !isNullOrUndefined(radioButtonFieldSettings.isRequired)) {\n            drawingObject.isRequired = radioButtonFieldSettings.isRequired;\n        }\n        if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && radioButtonFieldSettings.backgroundColor !== 'white') {\n            drawingObject.backgroundColor = radioButtonFieldSettings.backgroundColor;\n        }\n        if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && radioButtonFieldSettings.borderColor !== 'black') {\n            drawingObject.borderColor = radioButtonFieldSettings.borderColor;\n        }\n        if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && radioButtonFieldSettings.name) {\n            drawingObject.name = radioButtonFieldSettings.name;\n        }\n        if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && radioButtonFieldSettings.tooltip) {\n            drawingObject.tooltip = radioButtonFieldSettings.tooltip;\n        }\n        if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && radioButtonFieldSettings.thickness !== 1) {\n            drawingObject.thickness = radioButtonFieldSettings.thickness;\n        }\n        if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && radioButtonFieldSettings.visibility) {\n            drawingObject.visibility = radioButtonFieldSettings.visibility;\n        }\n        if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && !isNullOrUndefined(radioButtonFieldSettings.isPrint)) {\n            drawingObject.isPrint = radioButtonFieldSettings.isPrint;\n        }\n        if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && !isNullOrUndefined(radioButtonFieldSettings.isSelected)) {\n            drawingObject.isSelected = radioButtonFieldSettings.isSelected;\n        }\n    };\n    FormDesigner.prototype.updateDropdownFieldSettingsProperties = function (drawingObject, isFormDesignerToolbarVisible, isSetFormFieldMode) {\n        var dropdownFieldSettings = this.pdfViewer.DropdownFieldSettings;\n        if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && !isNullOrUndefined(dropdownFieldSettings.isReadOnly)) {\n            drawingObject.isReadonly = dropdownFieldSettings.isReadOnly;\n        }\n        if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && !isNullOrUndefined(dropdownFieldSettings.isRequired)) {\n            drawingObject.isRequired = dropdownFieldSettings.isRequired;\n        }\n        if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && dropdownFieldSettings.backgroundColor !== 'white') {\n            drawingObject.backgroundColor = dropdownFieldSettings.backgroundColor;\n        }\n        if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && dropdownFieldSettings.borderColor !== 'black') {\n            drawingObject.borderColor = dropdownFieldSettings.borderColor;\n        }\n        if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && dropdownFieldSettings.alignment !== 'Left') {\n            drawingObject.alignment = dropdownFieldSettings.alignment;\n        }\n        if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && dropdownFieldSettings.color !== 'black') {\n            drawingObject.color = dropdownFieldSettings.color;\n        }\n        if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && dropdownFieldSettings.fontFamily !== 'Helvetica') {\n            drawingObject.fontFamily = dropdownFieldSettings.fontFamily;\n        }\n        if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && dropdownFieldSettings.fontSize !== 10) {\n            drawingObject.fontSize = dropdownFieldSettings.fontSize;\n        }\n        if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && dropdownFieldSettings.fontStyle) {\n            drawingObject.fontStyle = this.getFontStyleName(dropdownFieldSettings.fontStyle, drawingObject);\n            ;\n        }\n        if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && dropdownFieldSettings.name) {\n            drawingObject.name = dropdownFieldSettings.name;\n        }\n        if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && dropdownFieldSettings.tooltip) {\n            drawingObject.tooltip = dropdownFieldSettings.tooltip;\n        }\n        if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && dropdownFieldSettings.thickness !== 1) {\n            drawingObject.thickness = dropdownFieldSettings.thickness;\n        }\n        if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && dropdownFieldSettings.visibility) {\n            drawingObject.visibility = dropdownFieldSettings.visibility;\n        }\n        if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && !isNullOrUndefined(dropdownFieldSettings.isPrint)) {\n            drawingObject.isPrint = dropdownFieldSettings.isPrint;\n        }\n        if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && dropdownFieldSettings.options) {\n            drawingObject.options = drawingObject.options && drawingObject.options.length > 0 ? drawingObject.options : dropdownFieldSettings.options;\n        }\n    };\n    FormDesigner.prototype.updatelistBoxFieldSettingsProperties = function (drawingObject, isFormDesignerToolbarVisible, isSetFormFieldMode) {\n        var listBoxFieldSettings = this.pdfViewer.listBoxFieldSettings;\n        if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && !isNullOrUndefined(listBoxFieldSettings.isReadOnly)) {\n            drawingObject.isReadonly = listBoxFieldSettings.isReadOnly;\n        }\n        if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && !isNullOrUndefined(listBoxFieldSettings.isRequired)) {\n            drawingObject.isRequired = listBoxFieldSettings.isRequired;\n        }\n        if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && listBoxFieldSettings.backgroundColor !== 'white') {\n            drawingObject.backgroundColor = listBoxFieldSettings.backgroundColor;\n        }\n        if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && listBoxFieldSettings.borderColor !== 'black') {\n            drawingObject.borderColor = listBoxFieldSettings.borderColor;\n        }\n        if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && listBoxFieldSettings.alignment !== 'Left') {\n            drawingObject.alignment = listBoxFieldSettings.alignment;\n        }\n        if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && listBoxFieldSettings.color !== 'black') {\n            drawingObject.color = listBoxFieldSettings.color;\n        }\n        if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && listBoxFieldSettings.fontFamily !== 'Helvetica') {\n            drawingObject.fontFamily = listBoxFieldSettings.fontFamily;\n        }\n        if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && listBoxFieldSettings.fontSize !== 10) {\n            drawingObject.fontSize = listBoxFieldSettings.fontSize;\n        }\n        if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && listBoxFieldSettings.fontStyle) {\n            drawingObject.fontStyle = this.getFontStyleName(listBoxFieldSettings.fontStyle, drawingObject);\n            ;\n        }\n        if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && listBoxFieldSettings.name) {\n            drawingObject.name = listBoxFieldSettings.name;\n        }\n        if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && listBoxFieldSettings.tooltip) {\n            drawingObject.tooltip = listBoxFieldSettings.tooltip;\n        }\n        if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && listBoxFieldSettings.thickness !== 1) {\n            drawingObject.thickness = listBoxFieldSettings.thickness;\n        }\n        if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && listBoxFieldSettings.visibility) {\n            drawingObject.visibility = listBoxFieldSettings.visibility;\n        }\n        if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && !isNullOrUndefined(listBoxFieldSettings.isPrint)) {\n            drawingObject.isPrint = listBoxFieldSettings.isPrint;\n        }\n        if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && listBoxFieldSettings.options) {\n            drawingObject.options = drawingObject.options && drawingObject.options.length > 0 ? drawingObject.options : listBoxFieldSettings.options;\n        }\n    };\n    FormDesigner.prototype.updateSignInitialFieldProperties = function (signatureField, isInitialField, isFormDesignerToolbarVisible, isSetFormFieldMode) {\n        var initialFieldSettings = this.pdfViewer.initialFieldSettings;\n        var signatureFieldSettings = this.pdfViewer.signatureFieldSettings;\n        if (isInitialField) {\n            if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && !isNullOrUndefined(initialFieldSettings.isReadOnly)) {\n                signatureField.isReadonly = initialFieldSettings.isReadOnly;\n            }\n            if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && !isNullOrUndefined(initialFieldSettings.isRequired)) {\n                signatureField.isRequired = initialFieldSettings.isRequired;\n            }\n            if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && initialFieldSettings.visibility) {\n                signatureField.visibility = initialFieldSettings.visibility;\n            }\n            if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && initialFieldSettings.tooltip) {\n                signatureField.tooltip = initialFieldSettings.tooltip;\n            }\n            if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && initialFieldSettings.name) {\n                signatureField.name = initialFieldSettings.name;\n            }\n            if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && !isNullOrUndefined(initialFieldSettings.isPrint)) {\n                signatureField.isPrint = initialFieldSettings.isPrint;\n            }\n        }\n        else {\n            if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && !isNullOrUndefined(signatureFieldSettings.isReadOnly)) {\n                signatureField.isReadonly = signatureFieldSettings.isReadOnly;\n            }\n            if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && !isNullOrUndefined(signatureFieldSettings.isRequired)) {\n                signatureField.isRequired = signatureFieldSettings.isRequired;\n            }\n            if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && signatureFieldSettings.visibility) {\n                signatureField.visibility = signatureFieldSettings.visibility;\n            }\n            if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && signatureFieldSettings.tooltip) {\n                signatureField.tooltip = signatureFieldSettings.tooltip;\n            }\n            if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && signatureFieldSettings.name) {\n                signatureField.name = signatureFieldSettings.name;\n            }\n            if ((isFormDesignerToolbarVisible || isSetFormFieldMode) && !isNullOrUndefined(signatureFieldSettings.isPrint)) {\n                signatureField.isPrint = signatureFieldSettings.isPrint;\n            }\n        }\n    };\n    FormDesigner.prototype.getFontStyleName = function (fontStyle, drawingObject) {\n        var fontStyleName = 'None';\n        if (fontStyle === 1) {\n            drawingObject.font.isBold = true;\n            fontStyleName = 'Bold';\n        }\n        if (fontStyle === 2) {\n            drawingObject.font.isItalic = true;\n            fontStyleName = 'Italic';\n        }\n        if (fontStyle === 8) {\n            drawingObject.font.isStrikeout = true;\n            fontStyleName = 'Strikethrough';\n        }\n        if (fontStyle === 4) {\n            drawingObject.font.isUnderline = true;\n            fontStyleName = 'Underline';\n        }\n        return fontStyleName;\n    };\n    FormDesigner.prototype.getAlignment = function (alignment) {\n        var align;\n        if (alignment === 'left') {\n            align = 'left';\n        }\n        else if (alignment === 'right') {\n            align = 'right';\n        }\n        else if (alignment === 'center') {\n            align = 'center';\n        }\n        this.formFieldAlign = align;\n    };\n    FormDesigner.prototype.getFontStyle = function (font) {\n        if (font.isBold) {\n            this.formFieldBold = 'bold';\n        }\n        if (font.isItalic) {\n            this.formFieldItalic = 'italic';\n        }\n        if (font.isUnderline) {\n            this.formFieldUnderline = 'underline';\n        }\n        if (font.isStrikeout) {\n            this.formFieldStrikeOut = 'line-through';\n        }\n    };\n    return FormDesigner;\n}());\nexport { FormDesigner };\n"],"mappings":"AAAA;AACA,SAASA,OAAT,EAAkBC,aAAlB,QAAuC,sBAAvC;AACA,SAASC,2BAAT,EAAsCC,IAAtC,EAA4CC,oBAA5C,EAAkEC,eAAlE,EAAmFC,QAAnF,QAAmG,0BAAnG;AACA,SAASC,iBAAT,QAAkC,sBAAlC;AACA,SAASC,MAAT,EAAiBC,OAAjB,QAAgC,wBAAhC;AACA,SAASC,GAAT,QAAoB,6BAApB;AACA,SAASC,cAAT,QAA+B,8BAA/B;AACA,SAASC,WAAT,EAAsBC,MAAtB,EAA8BC,OAA9B,EAAuCC,cAAvC,QAA6D,wBAA7D;AACA,SAASC,YAAT,QAA6B,2BAA7B;AACA,SAASC,MAAT,EAAiBC,QAAjB,QAAiC,yBAAjC;AACA,SAASC,WAAT,EAAsBC,SAAtB,QAAuC,eAAvC;AACA,SAASC,WAAT,QAA4B,yBAA5B;AACA;;AACA;AACA;AACA;;AACA,IAAIC,YAAY;AAAG;AAAe,YAAY;EAC1C;AACJ;AACA;AACA;AACA;EACI,SAASA,YAAT,CAAsBC,MAAtB,EAA8BC,IAA9B,EAAoC;IAChC,KAAKC,+BAAL,GAAuC,KAAvC;IACA,KAAKC,6BAAL,GAAqC,KAArC;IACA,KAAKC,2BAAL,GAAmC,EAAnC;IACA,KAAKC,2BAAL,GAAmC,EAAnC;IACA,KAAKC,cAAL,GAAsB,KAAtB;IACA,KAAKC,kBAAL,GAA0B,KAA1B;IACA;AACR;AACA;;IACQ,KAAKC,0BAAL,GAAkC,KAAlC;IACA;AACR;AACA;;IACQ,KAAKC,cAAL,GAAsB,CAAtB;IACA;AACR;AACA;;IACQ,KAAKC,gBAAL,GAAwB,CAAxB;IACA;AACR;AACA;;IACQ,KAAKC,uBAAL,GAA+B,KAA/B;IACA;AACR;AACA;;IACQ,KAAKC,aAAL,GAAqB,KAArB;IACA,KAAKC,YAAL,GAAoB,KAApB;IACA,KAAKC,kBAAL,GAA0B,KAA1B;IACA,KAAKC,SAAL,GAAiBf,MAAjB;IACA,KAAKgB,aAAL,GAAqBf,IAArB;EACH;EACD;AACJ;AACA;;;EACIF,YAAY,CAACkB,SAAb,CAAuBC,UAAvB,GAAoC,UAAUC,uBAAV,EAAmCC,GAAnC,EAAwCC,KAAxC,EAA+C;IAC/E,IAAIC,SAAS,GAAGC,QAAQ,CAACC,cAAT,CAAwB,KAAKT,SAAL,CAAeU,OAAf,CAAuBC,EAAvB,GAA4B,aAA5B,GAA4C,KAAKV,aAAL,CAAmBW,cAAnB,CAAkCC,YAAtG,CAAhB;IACA,IAAIC,aAAa,GAAGN,QAAQ,CAACC,cAAT,CAAwB,KAAKT,SAAL,CAAeU,OAAf,CAAuBC,EAAvB,GAA4B,cAA5B,GAA6C,KAAKV,aAAL,CAAmBW,cAAnB,CAAkCC,YAAvG,CAApB;;IACA,IAAIC,aAAa,KAAK,IAAlB,IAA0BP,SAAS,KAAK,IAA5C,EAAkD;MAC9C,IAAIQ,SAAS,GAAG,KAAKd,aAAL,CAAmBe,aAAnB,EAAhB;MACA,IAAIC,WAAW,GAAG,KAAK,CAAvB;MACA,IAAIC,oBAAoB,GAAG;QACvB,MAAM,+BADiB;QAEvB,SAAS;MAFc,CAA3B;MAIA,IAAIC,MAAM,GAAG,KAAKC,0BAAL,CAAgCf,GAAhC,EAAqCD,uBAArC,CAAb;MACAa,WAAW,GAAG,KAAKI,iBAAL,CAAuB,KAAvB,EAA8BH,oBAA9B,CAAd;MACA,KAAKpB,YAAL,GAAoB,IAApB;;MACA,IAAIM,uBAAuB,KAAK,gBAA5B,IAAgDA,uBAAuB,KAAK,cAAhF,EAAgG;QAC5Fa,WAAW,CAACK,WAAZ,CAAwB,KAAKC,qBAAL,CAA2B,KAAKvB,SAAhC,EAA2CK,GAA3C,EAAgDc,MAAhD,CAAxB;MACH,CAFD,MAGK,IAAIf,uBAAuB,KAAK,cAAhC,EAAgD;QACjD,IAAIM,OAAO,GAAG;UAAEC,EAAE,EAAE;QAAN,CAAd;QACAM,WAAW,CAACK,WAAZ,CAAwB,KAAKE,kBAAL,CAAwBd,OAAxB,EAAiCL,GAAjC,CAAxB;MACH,CAHI,MAIA,IAAID,uBAAuB,KAAK,SAAhC,EAA2C;QAC5C,IAAIM,OAAO,GAAG;UAAEC,EAAE,EAAE;QAAN,CAAd;QACAM,WAAW,CAACK,WAAZ,CAAwB,KAAKG,aAAL,CAAmBf,OAAnB,EAA4BL,GAA5B,CAAxB;MACH,CAHI,MAIA;QACDY,WAAW,CAACK,WAAZ,CAAwB,KAAKI,kBAAL,CAAwBtB,uBAAxB,EAAiDC,GAAjD,EAAsDc,MAAtD,CAAxB;MACH;;MACDZ,SAAS,CAACe,WAAV,CAAsBL,WAAtB;MACA,IAAIU,KAAK,GAAG,KAAK1B,aAAL,CAAmB2B,gBAAnB,CAAoCtB,KAApC,CAAZ;MACAW,WAAW,CAACY,YAAZ,CAAyB,OAAzB,EAAkC,YAAYV,MAAM,CAACW,MAAP,GAAgBf,SAA5B,GAAwC,YAAxC,GAAuDI,MAAM,CAACY,KAAP,GAAehB,SAAtE,GAAkF,UAAlF,GAA+FY,KAAK,CAACK,CAAN,GAAUjB,SAAzG,GAAqH,UAArH,GAAkIY,KAAK,CAACM,CAAN,GAAUlB,SAA5I,GAAwJ,KAAxJ,GAC9B,iCADJ;IAEH;EACJ,CAhCD;EAiCA;AACJ;AACA;;;EACI/B,YAAY,CAACkB,SAAb,CAAuBgC,eAAvB,GAAyC,UAAU9B,uBAAV,EAAmCM,OAAnC,EAA4CyB,aAA5C,EAA2DC,SAA3D,EAAsEC,cAAtE,EAAsF;IAC3H,IAAI9B,SAAS,GAAGC,QAAQ,CAACC,cAAT,CAAwB,KAAKT,SAAL,CAAeU,OAAf,CAAuBC,EAAvB,GAA4B,aAA5B,GAA4CyB,SAApE,CAAhB;IACA,IAAItB,aAAa,GAAGN,QAAQ,CAACC,cAAT,CAAwB,KAAKT,SAAL,CAAeU,OAAf,CAAuBC,EAAvB,GAA4B,cAA5B,GAA6CyB,SAArE,CAApB;;IACA,IAAI1B,OAAO,KAAK,IAAZ,IAAoBI,aAAa,KAAK,IAAtC,IAA8CP,SAAS,KAAK,IAAhE,EAAsE;MAClE,IAAIQ,SAAS,GAAG,KAAKd,aAAL,CAAmBe,aAAnB,EAAhB;MACA,IAAIC,WAAW,GAAG,KAAK,CAAvB;MACA,IAAIqB,iBAAiB,GAAG,KAAK,CAA7B;MACA,IAAIC,0BAA0B,GAAG;QAC7B,MAAM,gBAAgB7B,OAAO,CAACC,EAAxB,GAA6B,eADN;QAE7B,SAAS;MAFoB,CAAjC;MAIA2B,iBAAiB,GAAG,KAAKjB,iBAAL,CAAuB,KAAvB,EAA8BkB,0BAA9B,CAApB;MACA,IAAIrB,oBAAoB,GAAG;QACvB,MAAMR,OAAO,CAACC,EAAR,GAAa,eADI;QAEvB,SAAS;MAFc,CAA3B;MAIAM,WAAW,GAAG,KAAKI,iBAAL,CAAuB,KAAvB,EAA8BH,oBAA9B,CAAd;;MACA,IAAId,uBAAuB,KAAK,gBAA5B,IAAgDA,uBAAuB,KAAK,cAAhF,EAAgG;QAC5FM,OAAO,CAAC8B,QAAR,GAAmBvB,WAAW,CAACK,WAAZ,CAAwB,KAAKC,qBAAL,CAA2Bc,cAA3B,EAA2CF,aAA3C,CAAxB,CAAnB;MACH,CAFD,MAGK,IAAI/B,uBAAuB,KAAK,cAAhC,EAAgD;QACjDM,OAAO,CAAC8B,QAAR,GAAmBvB,WAAW,CAACK,WAAZ,CAAwB,KAAKE,kBAAL,CAAwBd,OAAxB,EAAiCyB,aAAjC,CAAxB,CAAnB;MACH,CAFI,MAGA,IAAI/B,uBAAuB,KAAK,SAAhC,EAA2C;QAC5CM,OAAO,CAAC8B,QAAR,GAAmBvB,WAAW,CAACK,WAAZ,CAAwB,KAAKG,aAAL,CAAmBf,OAAnB,EAA4ByB,aAA5B,CAAxB,CAAnB;MACH,CAFI,MAGA;QACDzB,OAAO,CAAC8B,QAAR,GAAmBvB,WAAW,CAACK,WAAZ,CAAwB,KAAKI,kBAAL,CAAwBtB,uBAAxB,EAAiD+B,aAAjD,CAAxB,CAAnB;MACH;;MACD,KAAK3C,kBAAL,GAA0B,KAA1B;MACA,IAAIiD,UAAU,GAAGjC,QAAQ,CAAC7C,aAAT,CAAuB,KAAvB,CAAjB;MACA8E,UAAU,CAAC9B,EAAX,GAAgBwB,aAAa,CAACxB,EAAd,GAAmB,gBAAnC;MACA8B,UAAU,CAACC,KAAX,CAAiBC,QAAjB,GAA4BR,aAAa,CAACQ,QAAd,GAA0BR,aAAa,CAACQ,QAAd,GAAyB5B,SAA1B,GAAuC,IAAhE,GAAwE,KAAKA,SAAN,GAAmB,IAAtH;MACA0B,UAAU,CAACG,SAAX,GAAuB,yBAAvB;;MACA,IAAI,KAAK5C,SAAL,CAAe6C,YAAnB,EAAiC;QAC7BJ,UAAU,CAACK,SAAX,GAAuBX,aAAa,CAACY,IAArC;QACAN,UAAU,CAACC,KAAX,CAAiBM,QAAjB,GAA4B,UAA5B;MACH,CAHD,MAIK;QACDP,UAAU,CAACK,SAAX,GAAuB,EAAvB;QACAL,UAAU,CAACC,KAAX,CAAiBM,QAAjB,GAA4B,SAA5B;MACH;;MACD/B,WAAW,CAACK,WAAZ,CAAwBmB,UAAxB;MACAH,iBAAiB,CAAChB,WAAlB,CAA8BL,WAA9B;MACAV,SAAS,CAACe,WAAV,CAAsBgB,iBAAtB;;MACA,IAAIlC,uBAAuB,KAAK,aAAhC,EAA+C;QAC3C,IAAII,QAAQ,CAACyC,sBAAT,CAAgC,oBAAhC,EAAsDC,MAAtD,GAA+D,CAAnE,EAAsE;UAClE,IAAIC,WAAW,GAAG3C,QAAQ,CAACyC,sBAAT,CAAgC,oBAAhC,CAAlB;;UACA,KAAK,IAAIG,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,WAAW,CAACD,MAAhC,EAAwCE,CAAC,EAAzC,EAA6C;YACzC,IAAIjC,MAAM,GAAG,KAAKkC,4BAAL,CAAkClB,aAAlC,CAAb;YACAgB,WAAW,CAACC,CAAD,CAAX,CAAeV,KAAf,CAAqBX,KAArB,GAA8BZ,MAAM,CAACY,KAAP,GAAe,EAAhB,GAAsB,IAAnD;YACAoB,WAAW,CAACC,CAAD,CAAX,CAAeV,KAAf,CAAqBZ,MAArB,GAA+BX,MAAM,CAACW,MAAP,GAAgB,EAAjB,GAAuB,IAArD;;YACA,IAAIwB,QAAQ,CAACH,WAAW,CAACC,CAAD,CAAX,CAAeV,KAAf,CAAqBX,KAAtB,EAA6B,EAA7B,CAAR,IAA4C,CAA5C,IAAiDuB,QAAQ,CAACH,WAAW,CAACC,CAAD,CAAX,CAAeV,KAAf,CAAqBZ,MAAtB,EAA8B,EAA9B,CAAR,IAA6C,CAAlG,EAAqG;cACjGqB,WAAW,CAACC,CAAD,CAAX,CAAeV,KAAf,CAAqBX,KAArB,GAA6B,KAA7B;cACAoB,WAAW,CAACC,CAAD,CAAX,CAAeV,KAAf,CAAqBZ,MAArB,GAA8B,KAA9B;cACAqB,WAAW,CAACC,CAAD,CAAX,CAAeV,KAAf,CAAqBa,MAArB,GAA8B,KAA9B;YACH;UACJ;QACJ;MACJ;;MACD,IAAI5B,KAAK,GAAG/D,2BAA2B,CAAC8C,OAAD,CAA3B,CAAqC8C,OAAjD;MACAvC,WAAW,CAACY,YAAZ,CAAyB,OAAzB,EAAkC,YAAanB,OAAO,CAAC+C,UAAR,CAAmB3B,MAAnB,GAA4Bf,SAAzC,GAAsD,YAAtD,GAAsEL,OAAO,CAAC+C,UAAR,CAAmB1B,KAAnB,GAA2BhB,SAAjG,GAC9B,UAD8B,GACjBY,KAAK,CAACK,CAAN,GAAUjB,SADO,GACK,UADL,GACkBY,KAAK,CAACM,CAAN,GAAUlB,SAD5B,GACwC,KADxC,GAE9B,qCAF8B,IAEWL,OAAO,CAACgD,WAAR,GAAsBhD,OAAO,CAACiD,eAFzC,IAE4D,OAF5D,GAG9B,iBAH8B,IAGR,KAAK3D,SAAL,CAAe6C,YAAhB,GAAgC,MAAhC,GAAyC,KAHhC,IAI5B,cAJ4B,IAITnC,OAAO,CAACkD,OAAT,GAAoB,SAApB,GAAgC,QAJtB,IAIkC,WAJlC,GAIgDlD,OAAO,CAACgC,KAAR,CAAcmB,OAJ9D,GAIwE,GAJ1G;MAKA,KAAKC,uCAAL,CAA6CnC,KAA7C,EAAoDjB,OAApD,EAA6DN,uBAA7D,EAAsF+B,aAAtF;MACA,IAAI4B,KAAK,GAAG;QACRhB,IAAI,EAAEZ,aAAa,CAACY,IADZ;QACkBpC,EAAE,EAAEwB,aAAa,CAACxB,EADpC;QACwCqD,KAAK,EAAE7B,aAAa,CAAC6B,KAD7D;QACoEC,UAAU,EAAE9B,aAAa,CAAC8B,UAD9F;QAC0GtB,QAAQ,EAAER,aAAa,CAACQ,QADlI;QAC4IuB,SAAS,EAAE/B,aAAa,CAAC+B,SADrK;QAERC,KAAK,EAAEhC,aAAa,CAACgC,KAFb;QAEoBC,eAAe,EAAEjC,aAAa,CAACiC,eAFnD;QAEoEC,SAAS,EAAElC,aAAa,CAACkC,SAF7F;QAEwGC,UAAU,EAAEnC,aAAa,CAACmC,UAFlI;QAE8IC,UAAU,EAAEpC,aAAa,CAACoC,UAFxK;QAGRC,SAAS,EAAErC,aAAa,CAACqC,SAHjB;QAG4BC,UAAU,EAAEtC,aAAa,CAACsC,UAHtD;QAGkEC,OAAO,EAAEvC,aAAa,CAACuC,OAHzF;QAGkGC,QAAQ,EAAExC,aAAa,CAACuB,WAH1H;QAGuIkB,OAAO,EAAEzC,aAAa,CAACyC,OAH9J;QAIRC,WAAW,EAAE1C,aAAa,CAAC0C,WAJnB;QAIgCC,SAAS,EAAE3C,aAAa,CAAC2C,SAJzD;QAIoEC,OAAO,EAAE5C,aAAa,CAAC4C,OAJ3F;QAIoGC,UAAU,EAAE7C,aAAa,CAAC6C,UAJ9H;QAI0IC,SAAS,EAAE9C,aAAa,CAAC8C,SAJnK;QAI8KC,UAAU,EAAE/C,aAAa,CAAC+C;MAJxM,CAAZ;MAMA,KAAKlF,SAAL,CAAemF,qBAAf,CAAqC,cAArC,EAAqDpB,KAArD,EAA4D,KAAK9D,aAAL,CAAmBW,cAAnB,CAAkCC,YAA9F;IACH,CAvED,MAwEK;MACD,IAAIc,KAAK,GAAG/D,2BAA2B,CAAC8C,OAAD,CAA3B,CAAqC8C,OAAjD;MACA,KAAKM,uCAAL,CAA6CnC,KAA7C,EAAoDjB,OAApD,EAA6DN,uBAA7D,EAAsF+B,aAAtF;IACH;;IACD,OAAOzB,OAAO,CAAC8B,QAAf;EACH,CAhFD;EAiFA;AACJ;AACA;;;EACIxD,YAAY,CAACkB,SAAb,CAAuB4D,uCAAvB,GAAiE,UAAUnC,KAAV,EAAiBjB,OAAjB,EAA0B0E,aAA1B,EAAyCjD,aAAzC,EAAwD;IACrH,IAAIpB,SAAS,GAAG,KAAKd,aAAL,CAAmBe,aAAnB,EAAhB;IACA,IAAIqE,aAAa,GAAG;MAChB1E,EAAE,EAAED,OAAO,CAACC,EADI;MACA2E,SAAS,EAAE;QAAEC,CAAC,EAAE5D,KAAK,CAACK,CAAN,GAAUjB,SAAf;QAA0ByE,CAAC,EAAE7D,KAAK,CAACM,CAAN,GAAUlB,SAAvC;QAAkD0E,KAAK,EAAE/E,OAAO,CAAC+C,UAAR,CAAmB1B,KAAnB,GAA2BhB,SAApF;QAA+F2E,MAAM,EAAEhF,OAAO,CAAC+C,UAAR,CAAmB3B,MAAnB,GAA4Bf;MAAnI,CADX;MAEhBgC,IAAI,EAAEZ,aAAa,CAACY,IAFJ;MAEUhC,SAAS,EAAEA,SAFrB;MAEgCiE,UAAU,EAAE7C,aAAa,CAAC6C,UAF1D;MAEsEhB,KAAK,EAAE7B,aAAa,CAAC6B,KAF3F;MAEkG5D,uBAAuB,EAAEgF,aAF3H;MAE0IO,WAAW,EAAExD,aAAa,CAACwD,WAFrK;MAGhBC,aAAa,EAAEzD,aAAa,CAACyD,aAHb;MAG4BC,cAAc,EAAE1D,aAAa,CAAC0D,cAH1D;MAIhB5B,UAAU,EAAE9B,aAAa,CAAC8B,UAJV;MAIsBtB,QAAQ,EAAER,aAAa,CAACQ,QAJ9C;MAIwDuB,SAAS,EAAE/B,aAAa,CAAC+B,SAJjF;MAI4F4B,SAAS,EAAE,KAAKC,UAAL,CAAgB5D,aAAa,CAACgC,KAA9B,CAJvG;MAKhBU,WAAW,EAAE,KAAKkB,UAAL,CAAgB5D,aAAa,CAAC0C,WAA9B,CALG;MAKyCC,SAAS,EAAE3C,aAAa,CAAC2C,SALlE;MAK6EV,eAAe,EAAE,KAAK2B,UAAL,CAAgB5D,aAAa,CAACiC,eAA9B,CAL9F;MAMhB4B,SAAS,EAAE7D,aAAa,CAACkC,SANT;MAMoBY,SAAS,EAAE9C,aAAa,CAAC8C,SAN7C;MAMwDC,UAAU,EAAE/C,aAAa,CAAC+C,UANlF;MAM8FZ,UAAU,EAAEnC,aAAa,CAACmC,UANxH;MAMoI2B,IAAI,EAAE;QACtJC,MAAM,EAAE/D,aAAa,CAAC8D,IAAd,CAAmBC,MAD2H;QACnHC,QAAQ,EAAEhE,aAAa,CAAC8D,IAAd,CAAmBE,QADsF;QAC5EC,WAAW,EAAEjE,aAAa,CAAC8D,IAAd,CAAmBG,WAD4C;QAC/BC,WAAW,EAAElE,aAAa,CAAC8D,IAAd,CAAmBI;MADD,CAN1I;MAQbC,aAAa,EAAEnE,aAAa,CAACmE,aARhB;MAQ+BC,eAAe,EAAE,IARhD;MAQsDC,MAAM,EAAErE,aAAa,CAAC4C,OAAd,GAAwB5C,aAAa,CAAC4C,OAAtC,GAAgD,EAR9G;MAQkHR,UAAU,EAAEpC,aAAa,CAACoC,UAR5I;MAQwJC,SAAS,EAAErC,aAAa,CAACqC,SARjL;MAQ4LC,UAAU,EAAEtC,aAAa,CAACsC,UARtN;MAQkOC,OAAO,EAAEvC,aAAa,CAACuC,OARzP;MAQkQC,QAAQ,EAAExC,aAAa,CAACuB,WAR1R;MAQuSkB,OAAO,EAAEzC,aAAa,CAACyC;IAR9T,CAApB;;IAUA,IAAIS,aAAa,CAACjF,uBAAd,KAA0C,aAA9C,EAA6D;MACzDiF,aAAa,CAACkB,eAAd,GAAgC,EAAhC;MACAlB,aAAa,CAACkB,eAAd,CAA8BE,IAA9B,CAAmC;QAC/B9F,EAAE,EAAED,OAAO,CAACC,EADmB;QACf2E,SAAS,EAAE;UAAEC,CAAC,EAAE5D,KAAK,CAACK,CAAN,GAAUjB,SAAf;UAA0ByE,CAAC,EAAE7D,KAAK,CAACM,CAAN,GAAUlB,SAAvC;UAAkD0E,KAAK,EAAE/E,OAAO,CAAC+C,UAAR,CAAmB1B,KAAnB,GAA2BhB,SAApF;UAA+F2E,MAAM,EAAEhF,OAAO,CAAC+C,UAAR,CAAmB3B,MAAnB,GAA4Bf;QAAnI,CADI;QAE/BgC,IAAI,EAAEZ,aAAa,CAACY,IAFW;QAELhC,SAAS,EAAEA,SAFN;QAEiBiE,UAAU,EAAE7C,aAAa,CAAC6C,UAF3C;QAEuDhB,KAAK,EAAE7B,aAAa,CAAC6B,KAF5E;QAEmF5D,uBAAuB,EAAEgF,aAF5G;QAG/BnB,UAAU,EAAE9B,aAAa,CAAC8B,UAHK;QAGOtB,QAAQ,EAAER,aAAa,CAACQ,QAH/B;QAGyCuB,SAAS,EAAE/B,aAAa,CAAC+B,SAHlE;QAG6E4B,SAAS,EAAE,KAAKC,UAAL,CAAgB5D,aAAa,CAACgC,KAA9B,CAHxF;QAI/BU,WAAW,EAAE,KAAKkB,UAAL,CAAgB5D,aAAa,CAAC0C,WAA9B,CAJkB;QAI0BC,SAAS,EAAE3C,aAAa,CAAC2C,SAJnD;QAI8DV,eAAe,EAAE,KAAK2B,UAAL,CAAgB5D,aAAa,CAACiC,eAA9B,CAJ/E;QAK/B4B,SAAS,EAAE7D,aAAa,CAACkC,SALM;QAKKY,SAAS,EAAE9C,aAAa,CAAC8C,SAL9B;QAKyCC,UAAU,EAAE/C,aAAa,CAAC+C,UALnE;QAK+EZ,UAAU,EAAEnC,aAAa,CAACmC,UALzG;QAKqHC,UAAU,EAAEpC,aAAa,CAACoC,UAL/I;QAM/BC,SAAS,EAAErC,aAAa,CAACqC,SANM;QAMKC,UAAU,EAAEtC,aAAa,CAACsC,UAN/B;QAM2CC,OAAO,EAAEvC,aAAa,CAACuC,OANlE;QAM2EC,QAAQ,EAAE,CANrF;QAMwFC,OAAO,EAAEzC,aAAa,CAACyC;MAN/G,CAAnC;IAQH;;IACD,IAAI8B,SAAS,GAAG,KAAKC,kBAAL,CAAwBtB,aAAxB,EAAuClD,aAAvC,CAAhB;;IACA,IAAI,CAACuE,SAAL,EAAgB;MACZ,KAAK,IAAItD,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKnD,aAAL,CAAmB2G,mBAAnB,CAAuC1D,MAA3D,EAAmEE,CAAC,EAApE,EAAwE;QACpE,IAAIyD,gBAAgB,GAAG,KAAK5G,aAAL,CAAmB2G,mBAAnB,CAAuCxD,CAAvC,CAAvB;;QACA,IAAIyD,gBAAgB,CAAC,KAAD,CAAhB,KAA4BxB,aAAa,CAAC1E,EAA9C,EAAkD;UAC9C,KAAKV,aAAL,CAAmB2G,mBAAnB,CAAuCE,MAAvC,CAA8C1D,CAA9C,EAAiD,CAAjD;UACA,KAAKnD,aAAL,CAAmB2G,mBAAnB,CAAuCH,IAAvC,CAA4C;YAAEM,GAAG,EAAErG,OAAO,CAACC,EAAf;YAAmBqG,SAAS,EAAE3B;UAA9B,CAA5C;UACA,KAAKlG,+BAAL,GAAuC,IAAvC;QACH;MACJ;;MACD,IAAI,CAAC,KAAKA,+BAAV,EAA2C;QACvC,KAAKc,aAAL,CAAmB2G,mBAAnB,CAAuCH,IAAvC,CAA4C;UAAEM,GAAG,EAAErG,OAAO,CAACC,EAAf;UAAmBqG,SAAS,EAAE3B;QAA9B,CAA5C;MACH;;MACD,KAAKpF,aAAL,CAAmBgH,uBAAnB,CAA2C,KAAKhH,aAAL,CAAmB2G,mBAA9D,EAAmF,eAAnF;MACA,KAAKzH,+BAAL,GAAuC,KAAvC;;MACA,IAAI,KAAKc,aAAL,CAAmB2G,mBAAnB,CAAuC1D,MAAvC,GAAgD,CAApD,EAAuD;QACnD,KAAKjD,aAAL,CAAmBiH,qBAAnB,CAAyC,IAAzC;MACH,CAFD,MAGK;QACD,KAAKjH,aAAL,CAAmBiH,qBAAnB,CAAyC,KAAzC;MACH;IACJ;EACJ,CA7CD;;EA8CAlI,YAAY,CAACkB,SAAb,CAAuByG,kBAAvB,GAA4C,UAAUQ,WAAV,EAAuBC,iBAAvB,EAA0C;IAClF,IAAIC,IAAI,GAAG,KAAKpH,aAAL,CAAmBqH,yBAAnB,CAA6C,eAA7C,CAAX;;IACA,IAAID,IAAJ,EAAU;MACN,IAAIE,cAAc,GAAGC,IAAI,CAACC,KAAL,CAAWJ,IAAX,CAArB;MACA,IAAIX,SAAS,GAAG,KAAhB;;MACA,KAAK,IAAItD,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGmE,cAAc,CAACrE,MAAnC,EAA2CE,CAAC,EAA5C,EAAgD;QAC5C,IAAIsE,WAAW,GAAGH,cAAc,CAACnE,CAAD,CAAhC;QACA,IAAImD,eAAe,GAAG,KAAK,CAA3B;;QACA,IAAIY,WAAW,CAAC/G,uBAAZ,KAAwC,aAA5C,EAA2D;UACvD,IAAI+G,WAAW,CAACZ,eAAZ,IAA+BmB,WAAW,CAACV,SAAZ,CAAsBT,eAAzD,EAA0E;YACtE,KAAK,IAAIoB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,WAAW,CAACV,SAAZ,CAAsBT,eAAtB,CAAsCrD,MAA1D,EAAkEyE,CAAC,EAAnE,EAAuE;cACnE,IAAID,WAAW,CAACV,SAAZ,CAAsBT,eAAtB,CAAsCoB,CAAtC,EAAyChH,EAAzC,KAAgDwG,WAAW,CAACxG,EAAhE,EAAoE;gBAChE4F,eAAe,GAAG;kBACdjB,SAAS,EAAE6B,WAAW,CAAC7B,SADT;kBACoB3E,EAAE,EAAEwG,WAAW,CAACxG,EADpC;kBAEdoC,IAAI,EAAEoE,WAAW,CAACpE,IAFJ;kBAEUhC,SAAS,EAAEoG,WAAW,CAACpG,SAFjC;kBAE4CiE,UAAU,EAAEmC,WAAW,CAACnC,UAFpE;kBAEgFhB,KAAK,EAAEmD,WAAW,CAACnD,KAFnG;kBAE0G5D,uBAAuB,EAAE+G,WAAW,CAAC/G,uBAF/I;kBAGd6D,UAAU,EAAEkD,WAAW,CAAClD,UAHV;kBAGsBtB,QAAQ,EAAEwE,WAAW,CAACxE,QAH5C;kBAGsDuB,SAAS,EAAEiD,WAAW,CAACjD,SAH7E;kBAGwF4B,SAAS,EAAE,KAAKC,UAAL,CAAgBqB,iBAAiB,CAACjD,KAAlC,CAHnG;kBAIdU,WAAW,EAAE,KAAKkB,UAAL,CAAgBqB,iBAAiB,CAACvC,WAAlC,CAJC;kBAI+CC,SAAS,EAAEsC,iBAAiB,CAACtC,SAJ5E;kBAIuFV,eAAe,EAAE,KAAK2B,UAAL,CAAgBqB,iBAAiB,CAAChD,eAAlC,CAJxG;kBAI4J4B,SAAS,EAAEmB,WAAW,CAACnB,SAJnL;kBAI8Lf,SAAS,EAAEkC,WAAW,CAAClC,SAJrN;kBAIgOC,UAAU,EAAEiC,WAAW,CAACjC,UAJxP;kBAKdZ,UAAU,EAAE6C,WAAW,CAAC7C,UALV;kBAKsBC,UAAU,EAAE4C,WAAW,CAAC5C,UAL9C;kBAK0DC,SAAS,EAAE2C,WAAW,CAAC3C,SALjF;kBAK4FC,UAAU,EAAE0C,WAAW,CAAC1C,UALpH;kBAKgIC,OAAO,EAAEyC,WAAW,CAACzC,OALrJ;kBAK8JC,QAAQ,EAAE,CALxK;kBAK2KC,OAAO,EAAEuC,WAAW,CAACvC;gBALhM,CAAlB;gBAOA8C,WAAW,CAACV,SAAZ,CAAsBT,eAAtB,CAAsCO,MAAtC,CAA6Ca,CAA7C,EAAgD,CAAhD;gBACAD,WAAW,CAACV,SAAZ,CAAsBT,eAAtB,CAAsCE,IAAtC,CAA2CF,eAA3C;;gBACA,IAAI,CAACtI,iBAAiB,CAAC,KAAKgC,aAAL,CAAmB2G,mBAAnB,CAAuCxD,CAAvC,CAAD,CAAtB,EAAmE;kBAC/D,IAAI,KAAKnD,aAAL,CAAmB2G,mBAAnB,CAAuCxD,CAAvC,EAA0C4D,SAA1C,CAAoDjE,IAApD,KAA6D2E,WAAW,CAACV,SAAZ,CAAsBjE,IAAvF,EAA6F;oBACzF,KAAK9C,aAAL,CAAmB2G,mBAAnB,CAAuCxD,CAAvC,EAA0C4D,SAA1C,CAAoDT,eAApD,GAAsEmB,WAAW,CAACV,SAAZ,CAAsBT,eAA5F;oBACAG,SAAS,GAAG,IAAZ;kBACH;gBACJ;;gBACD;cACH,CAjBD,MAkBK;gBACD,IAAIS,WAAW,CAAC/G,uBAAZ,KAAwCsH,WAAW,CAACV,SAAZ,CAAsB5G,uBAA9D,IAAyF+G,WAAW,CAACpE,IAAZ,KAAqB2E,WAAW,CAACV,SAAZ,CAAsBjE,IAAxI,EAA8I;kBAC1IwD,eAAe,GAAG;oBACdjB,SAAS,EAAE6B,WAAW,CAAC7B,SADT;oBACoB3E,EAAE,EAAEwG,WAAW,CAACxG,EADpC;oBAEdoC,IAAI,EAAEoE,WAAW,CAACpE,IAFJ;oBAEUhC,SAAS,EAAEoG,WAAW,CAACpG,SAFjC;oBAE4CiE,UAAU,EAAEmC,WAAW,CAACnC,UAFpE;oBAEgFhB,KAAK,EAAEmD,WAAW,CAACnD,KAFnG;oBAE0G5D,uBAAuB,EAAE+G,WAAW,CAAC/G,uBAF/I;oBAGd6D,UAAU,EAAEkD,WAAW,CAAClD,UAHV;oBAGsBtB,QAAQ,EAAEwE,WAAW,CAACxE,QAH5C;oBAGsDuB,SAAS,EAAEiD,WAAW,CAACjD,SAH7E;oBAGwF4B,SAAS,EAAE,KAAKC,UAAL,CAAgBqB,iBAAiB,CAACjD,KAAlC,CAHnG;oBAIdU,WAAW,EAAE,KAAKkB,UAAL,CAAgBqB,iBAAiB,CAACvC,WAAlC,CAJC;oBAI+CC,SAAS,EAAEsC,iBAAiB,CAACtC,SAJ5E;oBAIuFV,eAAe,EAAE,KAAK2B,UAAL,CAAgBqB,iBAAiB,CAAChD,eAAlC,CAJxG;oBAI4J4B,SAAS,EAAEmB,WAAW,CAACnB,SAJnL;oBAI8Lf,SAAS,EAAEkC,WAAW,CAAClC,SAJrN;oBAIgOC,UAAU,EAAEiC,WAAW,CAACjC,UAJxP;oBAKdZ,UAAU,EAAE6C,WAAW,CAAC7C,UALV;oBAKsBC,UAAU,EAAE4C,WAAW,CAAC5C,UAL9C;oBAK0DC,SAAS,EAAE2C,WAAW,CAAC3C,SALjF;oBAK4FC,UAAU,EAAE0C,WAAW,CAAC1C,UALpH;oBAKgIC,OAAO,EAAEyC,WAAW,CAACzC,OALrJ;oBAK8JC,QAAQ,EAAE,CALxK;oBAK2KC,OAAO,EAAEuC,WAAW,CAACvC;kBALhM,CAAlB;kBAOA,IAAIgD,yBAAyB,GAAG,KAAhC;;kBACA,KAAK,IAAIC,GAAG,GAAG,CAAf,EAAkBA,GAAG,GAAGH,WAAW,CAACV,SAAZ,CAAsBT,eAAtB,CAAsCrD,MAA9D,EAAsE2E,GAAG,EAAzE,EAA6E;oBACzE,IAAIH,WAAW,CAACV,SAAZ,CAAsBT,eAAtB,CAAsCsB,GAAtC,EAA2ClH,EAA3C,KAAkD4F,eAAe,CAAC5F,EAAtE,EAA0E;sBACtE+G,WAAW,CAACV,SAAZ,CAAsBT,eAAtB,CAAsCsB,GAAtC,IAA6CtB,eAA7C;sBACAqB,yBAAyB,GAAG,IAA5B;sBACA;oBACH;kBACJ;;kBACD,IAAI,CAACA,yBAAL,EAAgC;oBAC5BF,WAAW,CAACV,SAAZ,CAAsBT,eAAtB,CAAsCE,IAAtC,CAA2CF,eAA3C;kBACH;;kBACD,IAAI,CAACtI,iBAAiB,CAAC,KAAKgC,aAAL,CAAmB2G,mBAAnB,CAAuCxD,CAAvC,CAAD,CAAtB,EAAmE;oBAC/D,KAAKnD,aAAL,CAAmB2G,mBAAnB,CAAuCxD,CAAvC,EAA0C4D,SAA1C,CAAoDT,eAApD,GAAsEmB,WAAW,CAACV,SAAZ,CAAsBT,eAA5F;oBACAG,SAAS,GAAG,IAAZ;;oBACA,KAAK,IAAIoB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAK7H,aAAL,CAAmB2G,mBAAnB,CAAuC1D,MAA3D,EAAmE4E,CAAC,EAApE,EAAwE;sBACpE,IAAIjB,gBAAgB,GAAG,KAAK5G,aAAL,CAAmB2G,mBAAnB,CAAuCkB,CAAvC,CAAvB;;sBACA,IAAIjB,gBAAgB,CAAC,KAAD,CAAhB,KAA4BN,eAAe,CAAC5F,EAAhD,EAAoD;wBAChD,KAAKV,aAAL,CAAmB2G,mBAAnB,CAAuCE,MAAvC,CAA8CgB,CAA9C,EAAiD,CAAjD;sBACH;oBACJ;kBACJ;gBACJ;cACJ;YACJ;UACJ;QACJ;MACJ;;MACD,IAAIpB,SAAJ,EAAe;QACX,KAAKzG,aAAL,CAAmBgH,uBAAnB,CAA2C,KAAKhH,aAAL,CAAmB2G,mBAA9D,EAAmF,eAAnF;MACH;IACJ;;IACD,OAAOF,SAAP;EACH,CAtED,CA/M0C,CAsR1C;;;EACA1H,YAAY,CAACkB,SAAb,CAAuB6F,UAAvB,GAAoC,UAAUgC,WAAV,EAAuB;IACvD,IAAI,CAACA,WAAW,CAACC,KAAZ,CAAkB,gBAAlB,CAAD,IAAwC,CAACD,WAAW,CAACC,KAAZ,CAAkB,4DAAlB,CAA7C,EAA8H;MAC1H,IAAIC,SAAS,GAAG,KAAKC,UAAL,CAAgBH,WAAhB,CAAhB;MACA,IAAIE,SAAS,IAAI,EAAjB,EACIF,WAAW,GAAGE,SAAd;IACP;;IACD,IAAIE,WAAW,GAAGJ,WAAW,CAACK,KAAZ,CAAkB,GAAlB,CAAlB;;IACA,IAAInK,iBAAiB,CAACkK,WAAW,CAAC,CAAD,CAAZ,CAArB,EAAuC;MACnCJ,WAAW,GAAG,KAAKM,QAAL,CAAcN,WAAd,EAA2B,MAA3B,CAAd;MACAI,WAAW,GAAGJ,WAAW,CAACK,KAAZ,CAAkB,GAAlB,CAAd;IACH,CAVsD,CAWvD;;;IACA,IAAIE,CAAC,GAAGhF,QAAQ,CAAC6E,WAAW,CAAC,CAAD,CAAX,CAAeC,KAAf,CAAqB,GAArB,EAA0B,CAA1B,CAAD,CAAhB,CAZuD,CAavD;;IACA,IAAIG,CAAC,GAAGjF,QAAQ,CAAC6E,WAAW,CAAC,CAAD,CAAZ,CAAhB,CAduD,CAevD;;IACA,IAAIK,CAAC,GAAGlF,QAAQ,CAAC6E,WAAW,CAAC,CAAD,CAAZ,CAAhB,CAhBuD,CAiBvD;;IACA,IAAIM,CAAC,GAAGC,UAAU,CAACP,WAAW,CAAC,CAAD,CAAZ,CAAV,GAA6B,GAArC;;IACA,IAAIQ,KAAK,CAACF,CAAD,CAAT,EAAc;MACVA,CAAC,GAAG,CAAJ;IACH;;IACD,OAAO;MAAEH,CAAC,EAAEA,CAAL;MAAQC,CAAC,EAAEA,CAAX;MAAcC,CAAC,EAAEA,CAAjB;MAAoBC,CAAC,EAAEA;IAAvB,CAAP;EACH,CAvBD;EAwBA;AACJ;AACA;AACA;EACI;;;EACAzJ,YAAY,CAACkB,SAAb,CAAuBgI,UAAvB,GAAoC,UAAUU,MAAV,EAAkB;IAClD;IACA,IAAIC,OAAO,GAAG;MACV,aAAa,SADH;MACc,gBAAgB,SAD9B;MACyC,QAAQ,SADjD;MAC4D,cAAc,SAD1E;MACqF,SAAS,SAD9F;MAEV,SAAS,SAFC;MAEU,UAAU,SAFpB;MAE+B,SAAS,SAFxC;MAEmD,kBAAkB,SAFrE;MAEgF,QAAQ,SAFxF;MAGV,cAAc,SAHJ;MAGe,SAAS,SAHxB;MAGmC,aAAa,SAHhD;MAG2D,UAAU,SAHrE;MAGgF,eAAe,SAH/F;MAIV,aAAa,SAJH;MAIc,cAAc,SAJ5B;MAIuC,aAAa,SAJpD;MAI+D,SAAS,SAJxE;MAKV,kBAAkB,SALR;MAKmB,YAAY,SAL/B;MAK0C,WAAW,SALrD;MAMV,QAAQ,SANE;MAMS,YAAY,SANrB;MAMgC,YAAY,SAN5C;MAMuD,iBAAiB,SANxE;MAMmF,YAAY,SAN/F;MAOV,WAAW,SAPD;MAOY,cAAc,SAP1B;MAOqC,aAAa,SAPlD;MAO6D,aAAa,SAP1E;MAQV,eAAe,SARL;MAQgB,kBAAkB,SARlC;MAQ6C,cAAc,SAR3D;MAQsE,cAAc,SARpF;MASV,gBAAgB,SATN;MASiB,iBAAiB,SATlC;MAS6C,iBAAiB,SAT9D;MASyE,iBAAiB,SAT1F;MAUV,cAAc,SAVJ;MAUe,YAAY,SAV3B;MAUsC,eAAe,SAVrD;MAUgE,WAAW,SAV3E;MAWV,cAAc,SAXJ;MAWe,aAAa,SAX5B;MAWuC,eAAe,SAXtD;MAYV,eAAe,SAZL;MAYgB,WAAW,SAZ3B;MAYsC,aAAa,SAZnD;MAY8D,cAAc,SAZ5E;MAaV,QAAQ,SAbE;MAaS,aAAa,SAbtB;MAaiC,QAAQ,SAbzC;MAaoD,SAAS,SAb7D;MAcV,eAAe,SAdL;MAcgB,YAAY,SAd5B;MAcuC,WAAW,SAdlD;MAc6D,cAAc,SAd3E;MAeV,gBAAgB,SAfN;MAeiB,gBAAgB,SAfjC;MAe4C,UAAU,SAftD;MAeiE,SAAS,SAf1E;MAgBV,QAAQ,SAhBE;MAgBS,WAAW,SAhBpB;MAgB+B,SAAS,SAhBxC;MAgBmD,SAAS,SAhB5D;MAiBV,YAAY,SAjBF;MAiBa,iBAAiB,SAjB9B;MAiByC,aAAa,SAjBtD;MAiBiE,gBAAgB,SAjBjF;MAkBV,aAAa,SAlBH;MAkBc,cAAc,SAlB5B;MAkBuC,aAAa,SAlBpD;MAmBV,wBAAwB,SAnBd;MAmByB,aAAa,SAnBtC;MAmBiD,cAAc,SAnB/D;MAoBV,aAAa,SApBH;MAoBc,eAAe,SApB7B;MAoBwC,iBAAiB,SApBzD;MAqBV,gBAAgB,SArBN;MAqBiB,kBAAkB,SArBnC;MAqB8C,kBAAkB,SArBhE;MAsBV,eAAe,SAtBL;MAsBgB,QAAQ,SAtBxB;MAsBmC,aAAa,SAtBhD;MAsB2D,SAAS,SAtBpE;MAuBV,WAAW,SAvBD;MAuBY,UAAU,SAvBtB;MAuBiC,oBAAoB,SAvBrD;MAuBgE,cAAc,SAvB9E;MAwBV,kBAAkB,SAxBR;MAwBmB,mBAAmB,SAxBtC;MAwBiD,qBAAqB,SAxBtE;MAyBV,mBAAmB,SAzBT;MAyBoB,mBAAmB,SAzBvC;MAyBkD,gBAAgB,SAzBlE;MA0BV,aAAa,SA1BH;MA0Bc,aAAa,SA1B3B;MA0BsC,YAAY,SA1BlD;MA0B6D,eAAe,SA1B5E;MA2BV,iBAAiB,SA3BP;MA2BkB,OAAO,SA3BzB;MA2BoC,aAAa,SA3BjD;MA2B4D,aAAa,SA3BzE;MA4BV,aAAa,SA5BH;MA4Bc,UAAU,SA5BxB;MA4BmC,aAAa,SA5BhD;MA4B2D,UAAU,SA5BrE;MA6BV,iBAAiB,SA7BP;MA6BkB,aAAa,SA7B/B;MA6B0C,iBAAiB,SA7B3D;MA8BV,iBAAiB,SA9BP;MA8BkB,cAAc,SA9BhC;MA8B2C,aAAa,SA9BxD;MA8BmE,QAAQ,SA9B3E;MA+BV,SAAS,SA/BC;MA+BU,SAAS,SA/BnB;MA+B8B,cAAc,SA/B5C;MA+BuD,QAAQ,SA/B/D;MA+B0E,QAAQ,SA/BlF;MAgCV,aAAa,SAhCH;MAgCc,UAAU,SAhCxB;MAgCmC,cAAc,SAhCjD;MAgC4D,UAAU,SAhCtE;MAiCV,eAAe,SAjCL;MAiCgB,UAAU,SAjC1B;MAiCqC,cAAc,SAjCnD;MAiC8D,YAAY,SAjC1E;MAkCV,YAAY,SAlCF;MAkCa,UAAU,SAlCvB;MAkCkC,UAAU,SAlC5C;MAkCuD,WAAW,SAlClE;MAmCV,aAAa,SAnCH;MAmCc,aAAa,SAnC3B;MAmCsC,QAAQ,SAnC9C;MAmCyD,eAAe,SAnCxE;MAoCV,OAAO,SApCG;MAoCQ,QAAQ,SApChB;MAoC2B,WAAW,SApCtC;MAoCiD,UAAU,SApC3D;MAoCsE,aAAa;IApCnF,CAAd;;IAsCA,IAAI,OAAOA,OAAO,CAACD,MAAM,CAACE,WAAP,EAAD,CAAd,KAAyC,WAA7C,EAA0D;MACtD,OAAOD,OAAO,CAACD,MAAM,CAACE,WAAP,EAAD,CAAd;IACH;;IACD,OAAO,EAAP;EACH,CA5CD;EA6CA;AACJ;AACA;AACA;AACA;AACA;AACA;;;EACI9J,YAAY,CAACkB,SAAb,CAAuBmI,QAAvB,GAAkC,UAAUrE,KAAV,EAAiB+E,IAAjB,EAAuB;IACrDA,IAAI,GAAG,CAACA,IAAD,GAAQ,KAAR,GAAgBA,IAAI,CAACD,WAAL,EAAvB;;IACA,IAAI9E,KAAK,CAAC,CAAD,CAAL,KAAa,GAAjB,EAAsB;MAClB,IAAIgF,MAAM,GAAG,KAAKC,uBAAL,CAA6BjF,KAA7B,CAAb;;MACA,IAAI+E,IAAI,KAAK,KAAT,IAAkBA,IAAI,KAAK,MAA/B,EAAuC;QACnC,IAAIG,GAAG,GAAG,KAAKC,QAAL,CAAcH,MAAd,CAAV;QACA,OAAOD,IAAI,KAAK,KAAT,GAAiBG,GAAG,CAACE,KAAJ,CAAU,CAAV,EAAa,CAAb,CAAjB,GAAmCF,GAA1C;MACH,CAHD,MAIK;QACD,IAAIH,IAAI,KAAK,KAAb,EAAoB;UAChB,OAAO,KAAKM,kBAAL,CAAwB,KAAKC,QAAL,CAAcC,KAAd,CAAoB,IAApB,EAA0BP,MAAM,CAACI,KAAP,CAAa,CAAb,EAAgB,CAAhB,CAA1B,CAAxB,CAAP;QACH,CAFD,MAGK;UACD,IAAIL,IAAI,KAAK,MAAb,EAAqB;YACjB,OAAO,KAAKM,kBAAL,CAAwB,KAAKC,QAAL,CAAcC,KAAd,CAAoB,IAApB,EAA0BP,MAA1B,CAAxB,CAAP;UACH,CAFD,MAGK;YACD,OAAO,MAAP;UACH;QACJ;MACJ;IACJ,CAnBD,MAoBK;MACD,IAAIhF,KAAK,CAAC,CAAD,CAAL,KAAa,GAAjB,EAAsB;QAClB,IAAIgF,MAAM,GAAG,KAAKQ,QAAL,CAAcD,KAAd,CAAoB,IAApB,EAA0B,KAAKN,uBAAL,CAA6BjF,KAA7B,CAA1B,CAAb;;QACA,IAAI+E,IAAI,KAAK,MAAb,EAAqB;UACjB,OAAO,KAAKU,kBAAL,CAAwBT,MAAxB,CAAP;QACH,CAFD,MAGK;UACD,IAAID,IAAI,KAAK,KAAT,IAAkBA,IAAI,KAAK,MAA/B,EAAuC;YACnC,IAAIG,GAAG,GAAG,KAAKC,QAAL,CAAcH,MAAd,CAAV;YACA,OAAOD,IAAI,KAAK,KAAT,GAAiBG,GAAG,CAACE,KAAJ,CAAU,CAAV,EAAa,CAAb,CAAjB,GAAmCF,GAA1C;UACH,CAHD,MAIK;YACD,IAAIH,IAAI,KAAK,KAAb,EAAoB;cAChB,OAAO,KAAKU,kBAAL,CAAwBT,MAAM,CAACI,KAAP,CAAa,CAAb,EAAgB,CAAhB,CAAxB,CAAP;YACH,CAFD,MAGK;cACD,OAAO,MAAP;YACH;UACJ;QACJ;MACJ,CAnBD,MAoBK;QACDpF,KAAK,GAAG,KAAK0F,UAAL,CAAgB1F,KAAhB,CAAR;QACA,IAAI2F,GAAG,GAAG,KAAKC,QAAL,CAAc5F,KAAd,CAAV;;QACA,IAAI+E,IAAI,KAAK,KAAT,IAAkBA,IAAI,KAAK,KAA/B,EAAsC;UAClCY,GAAG,GAAGA,GAAG,CAACP,KAAJ,CAAU,CAAV,EAAa,CAAb,CAAN;QACH;;QACD,IAAIL,IAAI,KAAK,MAAT,IAAmBA,IAAI,KAAK,KAAhC,EAAuC;UACnC,OAAO,KAAKU,kBAAL,CAAwBE,GAAxB,CAAP;QACH,CAFD,MAGK;UACD,IAAIZ,IAAI,KAAK,MAAT,IAAmBA,IAAI,KAAK,KAAhC,EAAuC;YACnC,OAAO,KAAKM,kBAAL,CAAwB,KAAKC,QAAL,CAAcC,KAAd,CAAoB,IAApB,EAA0BI,GAA1B,CAAxB,CAAP;UACH,CAFD,MAGK;YACD,IAAIZ,IAAI,KAAK,KAAb,EAAoB;cAChB,OAAO/E,KAAK,CAACoF,KAAN,CAAY,CAAZ,EAAe,CAAf,CAAP;YACH,CAFD,MAGK;cACD,IAAIL,IAAI,KAAK,GAAb,EAAkB;gBACd,OAAOY,GAAG,CAAC,CAAD,CAAH,CAAOE,QAAP,EAAP;cACH,CAFD,MAGK;gBACD,OAAO,MAAP;cACH;YACJ;UACJ;QACJ;MACJ;IACJ;EACJ,CAxED;;EAyEA7K,YAAY,CAACkB,SAAb,CAAuB+I,uBAAvB,GAAiD,UAAUjF,KAAV,EAAiB;IAC9D;IACA,OAAQA,KAAK,CAACoF,KAAN,CAAYpF,KAAK,CAAC8F,OAAN,CAAc,GAAd,IAAqB,CAAjC,EAAoC9F,KAAK,CAAC8F,OAAN,CAAc,GAAd,CAApC,CAAD,CAA0D1B,KAA1D,CAAgE,GAAhE,EAAqE2B,GAArE,CAAyE,UAAUC,CAAV,EAAa5G,CAAb,EAAgB;MAC5F,OAAQA,CAAC,KAAK,CAAP,GAAYE,QAAQ,CAAC0G,CAAD,EAAI,EAAJ,CAApB,GAA8BtB,UAAU,CAACsB,CAAD,CAA/C;IACH,CAFM,CAAP;EAGH,CALD;;EAMAhL,YAAY,CAACkB,SAAb,CAAuBuJ,kBAAvB,GAA4C,UAAUE,GAAV,EAAe;IACvD,OAAOA,GAAG,CAACzG,MAAJ,GAAayG,GAAG,CAACzG,MAAJ,KAAe,CAAf,GAAmB,UAAUyG,GAAG,CAACM,IAAJ,EAAV,GAAuB,GAA1C,GAAgD,SAASN,GAAG,CAACM,IAAJ,EAAT,GAAsB,GAAnF,GAAyF,EAAhG;EACH,CAFD;;EAGAjL,YAAY,CAACkB,SAAb,CAAuBmJ,kBAAvB,GAA4C,UAAUa,GAAV,EAAe;IACvD,OAAOA,GAAG,CAAChH,MAAJ,KAAe,CAAf,GAAmB,UAAUgH,GAAG,CAACD,IAAJ,EAAV,GAAuB,GAA1C,GAAgD,SAASC,GAAG,CAACD,IAAJ,EAAT,GAAsB,GAA7E;EACH,CAFD;;EAGAjL,YAAY,CAACkB,SAAb,CAAuBwJ,UAAvB,GAAoC,UAAU1F,KAAV,EAAiB;IACjD,IAAI,CAACA,KAAL,EAAY;MACR,OAAO,EAAP;IACH;;IACD,IAAIA,KAAK,CAAC,CAAD,CAAL,KAAa,GAAjB,EAAsB;MAClBA,KAAK,GAAG,MAAMA,KAAd;IACH;;IACD,IAAImG,GAAG,GAAGnG,KAAK,CAACd,MAAhB;;IACA,IAAIiH,GAAG,KAAK,CAAZ,EAAe;MACXnG,KAAK,IAAI,GAAT;MACAmG,GAAG,GAAG,CAAN;IACH;;IACD,IAAIA,GAAG,KAAK,CAAZ,EAAe;MACX,IAAIC,SAAS,GAAG,EAAhB;;MACA,KAAK,IAAIhH,CAAC,GAAG,CAAR,EAAWiH,KAAK,GAAGrG,KAAK,CAACd,MAA9B,EAAsCE,CAAC,GAAGiH,KAA1C,EAAiDjH,CAAC,EAAlD,EAAsD;QAClDgH,SAAS,IAAKpG,KAAK,CAACsG,MAAN,CAAalH,CAAb,IAAkBY,KAAK,CAACsG,MAAN,CAAalH,CAAb,CAAhC;MACH;;MACDY,KAAK,GAAG,MAAMoG,SAAd;MACAD,GAAG,GAAG,CAAN;IACH;;IACD,IAAIA,GAAG,KAAK,CAAZ,EAAe;MACXnG,KAAK,IAAI,IAAT;IACH;;IACD,OAAOA,KAAP;EACH,CAxBD;;EAyBAhF,YAAY,CAACkB,SAAb,CAAuB0J,QAAvB,GAAkC,UAAUV,GAAV,EAAe;IAC7C,IAAI,CAACA,GAAL,EAAU;MACN,OAAO,EAAP;IACH;;IACDA,GAAG,GAAGA,GAAG,CAACqB,IAAJ,EAAN;;IACA,IAAIrB,GAAG,CAAChG,MAAJ,KAAe,CAAnB,EAAsB;MAClBgG,GAAG,GAAG,KAAKQ,UAAL,CAAgBR,GAAhB,CAAN;IACH;;IACD,IAAIrF,OAAO,GAAG2G,MAAM,CAAC,CAAClH,QAAQ,CAAC4F,GAAG,CAACE,KAAJ,CAAU,CAAC,CAAX,CAAD,EAAgB,EAAhB,CAAR,GAA8B,GAA/B,EAAoCqB,OAApC,CAA4C,CAA5C,CAAD,CAApB;IACAvB,GAAG,GAAGA,GAAG,CAACE,KAAJ,CAAU,CAAV,EAAa,CAAb,CAAN;IACA,IAAIsB,MAAM,GAAGpH,QAAQ,CAAC4F,GAAD,EAAM,EAAN,CAArB;IACA,IAAIyB,CAAC,GAAG,EAAR;IACAA,CAAC,CAAClE,IAAF,CAAQiE,MAAM,IAAI,EAAX,GAAiB,GAAxB;IACAC,CAAC,CAAClE,IAAF,CAAQiE,MAAM,IAAI,CAAX,GAAgB,GAAvB;IACAC,CAAC,CAAClE,IAAF,CAAOiE,MAAM,GAAG,GAAhB;IACAC,CAAC,CAAClE,IAAF,CAAO5C,OAAP;IACA,OAAO8G,CAAP;EACH,CAjBD;;EAkBA3L,YAAY,CAACkB,SAAb,CAAuBoJ,QAAvB,GAAkC,UAAUhB,CAAV,EAAaC,CAAb,EAAgBC,CAAhB,EAAmB3E,OAAnB,EAA4B;IAC1DyE,CAAC,IAAI,GAAL;IACAC,CAAC,IAAI,GAAL;IACAC,CAAC,IAAI,GAAL;IACA,IAAIoC,GAAG,GAAGC,IAAI,CAACD,GAAL,CAAStC,CAAT,EAAYC,CAAZ,EAAeC,CAAf,CAAV;IACA,IAAIsC,GAAG,GAAGD,IAAI,CAACC,GAAL,CAASxC,CAAT,EAAYC,CAAZ,EAAeC,CAAf,CAAV;IACA,IAAImC,CAAJ;IACA,IAAII,CAAJ;IACA,IAAIC,CAAC,GAAGJ,GAAR;IACA,IAAIK,CAAC,GAAGL,GAAG,GAAGE,GAAd;IACAC,CAAC,GAAGH,GAAG,KAAK,CAAR,GAAY,CAAZ,GAAgBK,CAAC,GAAGL,GAAxB;;IACA,IAAIA,GAAG,KAAKE,GAAZ,EAAiB;MACbH,CAAC,GAAG,CAAJ;IACH,CAFD,MAGK;MACD,QAAQC,GAAR;QACI,KAAKtC,CAAL;UACIqC,CAAC,GAAG,CAACpC,CAAC,GAAGC,CAAL,IAAUyC,CAAV,IAAe1C,CAAC,GAAGC,CAAJ,GAAQ,CAAR,GAAY,CAA3B,CAAJ;UACA;;QACJ,KAAKD,CAAL;UACIoC,CAAC,GAAG,CAACnC,CAAC,GAAGF,CAAL,IAAU2C,CAAV,GAAc,CAAlB;UACA;;QACJ,KAAKzC,CAAL;UACImC,CAAC,GAAG,CAACrC,CAAC,GAAGC,CAAL,IAAU0C,CAAV,GAAc,CAAlB;UACA;MATR;;MAWAN,CAAC,IAAI,CAAL;IACH;;IACD,IAAIT,GAAG,GAAG,CAACW,IAAI,CAACK,KAAL,CAAWP,CAAC,GAAG,GAAf,CAAD,EAAsBE,IAAI,CAACK,KAAL,CAAWH,CAAC,GAAG,IAAf,IAAuB,EAA7C,EAAiDF,IAAI,CAACK,KAAL,CAAWF,CAAC,GAAG,IAAf,IAAuB,EAAxE,CAAV;;IACA,IAAI,CAAC/M,iBAAiB,CAAC4F,OAAD,CAAtB,EAAiC;MAC7BqG,GAAG,CAACzD,IAAJ,CAAS5C,OAAT;IACH;;IACD,OAAOqG,GAAP;EACH,CAjCD;;EAkCAlL,YAAY,CAACkB,SAAb,CAAuBsJ,QAAvB,GAAkC,UAAUmB,CAAV,EAAaI,CAAb,EAAgBC,CAAhB,EAAmBnH,OAAnB,EAA4B;IAC1D,IAAIyE,CAAJ;IACA,IAAIC,CAAJ;IACA,IAAIC,CAAJ;IACA,IAAIpF,CAAJ;IACA,IAAI+H,CAAJ;IACA,IAAIC,CAAJ;IACA,IAAIC,CAAJ;IACA,IAAIC,CAAJ;IACAP,CAAC,IAAI,GAAL;IACAC,CAAC,IAAI,GAAL;;IACA,IAAID,CAAC,KAAK,CAAV,EAAa;MACTzC,CAAC,GAAGC,CAAC,GAAGC,CAAC,GAAGwC,CAAZ;MACA,OAAO,CAACH,IAAI,CAACK,KAAL,CAAW5C,CAAC,GAAG,GAAf,CAAD,EAAsBuC,IAAI,CAACK,KAAL,CAAW3C,CAAC,GAAG,GAAf,CAAtB,EAA2CsC,IAAI,CAACK,KAAL,CAAW1C,CAAC,GAAG,GAAf,CAA3C,EAAgE3E,OAAhE,CAAP;IACH;;IACD8G,CAAC,IAAI,EAAL;IACAvH,CAAC,GAAGyH,IAAI,CAACU,KAAL,CAAWZ,CAAX,CAAJ;IACAQ,CAAC,GAAGR,CAAC,GAAGvH,CAAR;IACAgI,CAAC,GAAGJ,CAAC,IAAI,IAAID,CAAR,CAAL;IACAM,CAAC,GAAGL,CAAC,IAAI,IAAID,CAAC,GAAGI,CAAZ,CAAL;IACAG,CAAC,GAAGN,CAAC,IAAI,IAAID,CAAC,IAAI,IAAII,CAAR,CAAT,CAAL;;IACA,QAAQ/H,CAAR;MACI,KAAK,CAAL;QACIkF,CAAC,GAAG0C,CAAJ;QACAzC,CAAC,GAAG+C,CAAJ;QACA9C,CAAC,GAAG4C,CAAJ;QACA;;MACJ,KAAK,CAAL;QACI9C,CAAC,GAAG+C,CAAJ;QACA9C,CAAC,GAAGyC,CAAJ;QACAxC,CAAC,GAAG4C,CAAJ;QACA;;MACJ,KAAK,CAAL;QACI9C,CAAC,GAAG8C,CAAJ;QACA7C,CAAC,GAAGyC,CAAJ;QACAxC,CAAC,GAAG8C,CAAJ;QACA;;MACJ,KAAK,CAAL;QACIhD,CAAC,GAAG8C,CAAJ;QACA7C,CAAC,GAAG8C,CAAJ;QACA7C,CAAC,GAAGwC,CAAJ;QACA;;MACJ,KAAK,CAAL;QACI1C,CAAC,GAAGgD,CAAJ;QACA/C,CAAC,GAAG6C,CAAJ;QACA5C,CAAC,GAAGwC,CAAJ;QACA;;MACJ;QACI1C,CAAC,GAAG0C,CAAJ;QACAzC,CAAC,GAAG6C,CAAJ;QACA5C,CAAC,GAAG6C,CAAJ;IA7BR;;IA+BA,IAAI1B,GAAG,GAAG,CAACkB,IAAI,CAACK,KAAL,CAAW5C,CAAC,GAAG,GAAf,CAAD,EAAsBuC,IAAI,CAACK,KAAL,CAAW3C,CAAC,GAAG,GAAf,CAAtB,EAA2CsC,IAAI,CAACK,KAAL,CAAW1C,CAAC,GAAG,GAAf,CAA3C,CAAV;;IACA,IAAI,CAACvK,iBAAiB,CAAC4F,OAAD,CAAtB,EAAiC;MAC7B8F,GAAG,CAAClD,IAAJ,CAAS5C,OAAT;IACH;;IACD,OAAO8F,GAAP;EACH,CAzDD;;EA0DA3K,YAAY,CAACkB,SAAb,CAAuBiJ,QAAvB,GAAkC,UAAUQ,GAAV,EAAe;IAC7C;IACA,OAAOA,GAAG,CAACzG,MAAJ,GAAc,MAAM,KAAKgG,GAAL,CAASS,GAAG,CAAC,CAAD,CAAZ,CAAN,GAAyB,KAAKT,GAAL,CAASS,GAAG,CAAC,CAAD,CAAZ,CAAzB,GAA4C,KAAKT,GAAL,CAASS,GAAG,CAAC,CAAD,CAAZ,CAA5C,IAChB,CAAC1L,iBAAiB,CAAC0L,GAAG,CAAC,CAAD,CAAJ,CAAlB,GAA8BA,GAAG,CAAC,CAAD,CAAH,KAAW,CAAX,GAAe,CAACkB,IAAI,CAACK,KAAL,CAAWvB,GAAG,CAAC,CAAD,CAAH,GAAS,GAApB,IAA2B,OAA5B,EAAqCE,QAArC,CAA8C,EAA9C,EAAkD2B,MAAlD,CAAyD,CAAC,CAA1D,CAAf,GAA8E,IAA5G,GAAoH,EADpG,CAAd,GACyH,EADhI;EAEH,CAJD;EAKA;AACJ;AACA;;;EACIxM,YAAY,CAACkB,SAAb,CAAuBuL,YAAvB,GAAsC,UAAUzG,UAAV,EAAsB0G,MAAtB,EAA8B;IAChE,IAAIA,MAAM,KAAK,IAAX,IAAmBA,MAAM,KAAKC,SAAlC,EAA6C;MACzCD,MAAM,GAAGA,MAAT;IACH,CAFD,MAGK;MACDA,MAAM,GAAG,KAAKzL,aAAL,CAAmB2L,UAAnB,CAA8B,uBAAuB5G,UAArD,CAAT;MACA,IAAI6G,IAAI,GAAG,KAAK5L,aAAL,CAAmBe,aAAnB,EAAX;MACA,IAAI8K,KAAK,GAAG,KAAK7L,aAAL,CAAmB8L,YAAnB,CAAgCF,IAAhC,CAAZ;;MACA,IAAIH,MAAJ,EAAY;QACR,IAAI3J,KAAK,GAAG,KAAK9B,aAAL,CAAmB+L,QAAnB,CAA4BhH,UAA5B,EAAwCjD,KAApD;QACA,IAAID,MAAM,GAAG,KAAK7B,aAAL,CAAmB+L,QAAnB,CAA4BhH,UAA5B,EAAwClD,MAArD;QACA4J,MAAM,CAAC3J,KAAP,GAAeA,KAAK,GAAG+J,KAAvB;QACAJ,MAAM,CAAC5J,MAAP,GAAgBA,MAAM,GAAGgK,KAAzB;QACAJ,MAAM,CAAChJ,KAAP,CAAaX,KAAb,GAAqBA,KAAK,GAAG8J,IAAR,GAAe,IAApC;QACAH,MAAM,CAAChJ,KAAP,CAAaZ,MAAb,GAAsBA,MAAM,GAAG+J,IAAT,GAAgB,IAAtC;MACH;IACJ;;IACD,KAAK7L,SAAL,CAAeiM,OAAf,CAAuBC,yBAAvB,CAAiDR,MAAjD,EAAyD1G,UAAzD;EACH,CAlBD;EAmBA;AACJ;AACA;;;EACIhG,YAAY,CAACkB,SAAb,CAAuBiM,kBAAvB,GAA4C,UAAU/J,SAAV,EAAqB;IAC7D,IAAIrB,SAAS,GAAG,KAAKd,aAAL,CAAmBe,aAAnB,EAAhB;IACA,IAAIqG,IAAI,GAAG,KAAKpH,aAAL,CAAmBqH,yBAAnB,CAA6C,eAA7C,CAAX;;IACA,IAAID,IAAJ,EAAU;MACN,IAAIE,cAAc,GAAGC,IAAI,CAACC,KAAL,CAAWJ,IAAX,CAArB;MACA,IAAI9G,SAAS,GAAGC,QAAQ,CAACC,cAAT,CAAwB,KAAKT,SAAL,CAAeU,OAAf,CAAuBC,EAAvB,GAA4B,aAA5B,GAA4CyB,SAApE,CAAhB;MACA,IAAItB,aAAa,GAAGN,QAAQ,CAACC,cAAT,CAAwB,KAAKT,SAAL,CAAeU,OAAf,CAAuBC,EAAvB,GAA4B,cAA5B,GAA6CyB,SAArE,CAApB;;MACA,IAAImF,cAAc,KAAK,IAAnB,IAA2BzG,aAAa,KAAK,IAA7C,IAAqDP,SAAS,KAAK,IAAvE,EAA6E;QACzE,KAAK,IAAI6C,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGmE,cAAc,CAACrE,MAAnC,EAA2CE,CAAC,EAA5C,EAAgD;UAC5C;UACA,IAAIsE,WAAW,GAAGH,cAAc,CAACnE,CAAD,CAAd,CAAkB4D,SAApC;;UACA,IAAIU,WAAW,CAAC1C,UAAZ,KAA2B5C,SAAS,GAAG,CAA3C,EAA8C;YAC1C,IAAIgK,YAAY,GAAG5L,QAAQ,CAACC,cAAT,CAAwB,gBAAgBiH,WAAW,CAAC/G,EAA5B,GAAiC,eAAzD,CAAnB;;YACA,IAAI,CAACyL,YAAL,EAAmB;cACf,IAAIC,cAAc,GAAG,KAAKrM,SAAL,CAAesM,SAAf,CAAyB/E,cAAc,CAACnE,CAAD,CAAd,CAAkB2D,GAAlB,CAAsBqB,KAAtB,CAA4B,GAA5B,EAAiC,CAAjC,CAAzB,CAArB;cACA,IAAI1H,OAAO,GAAG2L,cAAc,CAACE,OAAf,CAAuBC,QAAvB,CAAgC,CAAhC,CAAd;;cACA,IAAI9L,OAAJ,EAAa;gBACT,IAAIgH,WAAW,CAACtH,uBAAZ,KAAwC,aAA5C,EAA2D;kBACvD,KAAK,IAAIqM,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG/E,WAAW,CAACnB,eAAZ,CAA4BrD,MAAhD,EAAwDuJ,CAAC,EAAzD,EAA6D;oBACzDJ,cAAc,GAAG,KAAKrM,SAAL,CAAesM,SAAf,CAAyB5E,WAAW,CAACnB,eAAZ,CAA4BkG,CAA5B,EAA+B9L,EAA/B,CAAkCyH,KAAlC,CAAwC,GAAxC,EAA6C,CAA7C,CAAzB,CAAjB;oBACA1H,OAAO,GAAG2L,cAAc,CAACE,OAAf,CAAuBC,QAAvB,CAAgC,CAAhC,CAAV;oBACA9E,WAAW,CAACnB,eAAZ,CAA4BkG,CAA5B,IAAiC,KAAKC,yBAAL,CAA+BhM,OAA/B,EAAwCgH,WAAW,CAACnB,eAAZ,CAA4BkG,CAA5B,CAAxC,EAAwEJ,cAAxE,EAAwFtL,SAAxF,CAAjC;oBACA,KAAKd,aAAL,CAAmB2G,mBAAnB,CAAuCxD,CAAvC,EAA0C4D,SAA1C,CAAoDT,eAApD,CAAoEkG,CAApE,EAAuEnH,SAAvE,GAAmFoC,WAAW,CAACnB,eAAZ,CAA4BkG,CAA5B,EAA+BnH,SAAlH;oBACA,KAAKrF,aAAL,CAAmB2G,mBAAnB,CAAuCxD,CAAvC,EAA0C4D,SAA1C,CAAoDT,eAApD,CAAoEkG,CAApE,EAAuE1L,SAAvE,GAAmFA,SAAnF;kBACH;gBACJ,CARD,MASK;kBACD2G,WAAW,CAACpC,SAAZ,GAAwB,KAAKoH,yBAAL,CAA+BhM,OAA/B,EAAwCgH,WAAxC,EAAqD2E,cAArD,EAAqEtL,SAArE,EAAgFuE,SAAxG;kBACA,KAAKrF,aAAL,CAAmB2G,mBAAnB,CAAuCxD,CAAvC,EAA0C4D,SAA1C,CAAoD1B,SAApD,GAAgEoC,WAAW,CAACpC,SAA5E;kBACA,KAAKrF,aAAL,CAAmB2G,mBAAnB,CAAuCxD,CAAvC,EAA0C4D,SAA1C,CAAoDjG,SAApD,GAAgEA,SAAhE;gBACH;;gBACD,KAAKd,aAAL,CAAmBgH,uBAAnB,CAA2C,KAAKhH,aAAL,CAAmB2G,mBAA9D,EAAmF,eAAnF;cACH;YACJ;UACJ;QACJ;MACJ;IACJ;EACJ,CAtCD;;EAuCA5H,YAAY,CAACkB,SAAb,CAAuBwM,yBAAvB,GAAmD,UAAUhM,OAAV,EAAmBgH,WAAnB,EAAgC2E,cAAhC,EAAgDtL,SAAhD,EAA2D;IAC1G,IAAIL,OAAJ,EAAa;MACT,IAAIO,WAAW,GAAG,KAAK,CAAvB;MACA,IAAIqB,iBAAiB,GAAG,KAAK,CAA7B;MACA,IAAIC,0BAA0B,GAAG;QAC7B,MAAM,gBAAgB7B,OAAO,CAACC,EAAxB,GAA6B,eADN;QAE7B,SAAS;MAFoB,CAAjC;MAIA2B,iBAAiB,GAAG,KAAKjB,iBAAL,CAAuB,KAAvB,EAA8BkB,0BAA9B,CAApB;MACA,IAAIrB,oBAAoB,GAAG;QACvB,MAAMR,OAAO,CAACC,EAAR,GAAa,eADI;QAEvB,SAAS;MAFc,CAA3B;MAIAM,WAAW,GAAG,KAAKI,iBAAL,CAAuB,KAAvB,EAA8BH,oBAA9B,CAAd;;MACA,IAAIwG,WAAW,CAACtH,uBAAZ,KAAwC,gBAAxC,IAA4DsH,WAAW,CAACtH,uBAAZ,KAAwC,cAAxG,EAAwH;QACpH,KAAKX,0BAAL,GAAkC,IAAlC;QACA4M,cAAc,CAACrI,KAAf,GAAuB0D,WAAW,CAAC1D,KAAnC;QACAqI,cAAc,CAACzG,aAAf,GAA+B8B,WAAW,CAAC9B,aAA3C;QACAyG,cAAc,CAACxG,cAAf,GAAgC6B,WAAW,CAAC7B,cAA5C;QACAnF,OAAO,CAAC8B,QAAR,GAAmBvB,WAAW,CAACK,WAAZ,CAAwB,KAAKC,qBAAL,CAA2B,KAAKvB,SAAhC,EAA2CqM,cAA3C,CAAxB,CAAnB;QACA,KAAK5M,0BAAL,GAAkC,KAAlC;MACH,CAPD,MAQK,IAAIiI,WAAW,CAACtH,uBAAZ,KAAwC,cAA5C,EAA4D;QAC7DM,OAAO,CAAC8B,QAAR,GAAmBvB,WAAW,CAACK,WAAZ,CAAwB,KAAKE,kBAAL,CAAwBd,OAAxB,EAAiC2L,cAAjC,CAAxB,CAAnB;MACH,CAFI,MAGA,IAAI3E,WAAW,CAACtH,uBAAZ,KAAwC,SAA5C,EAAuD;QACxDM,OAAO,CAAC8B,QAAR,GAAmBvB,WAAW,CAACK,WAAZ,CAAwB,KAAKG,aAAL,CAAmBf,OAAnB,EAA4B2L,cAA5B,CAAxB,CAAnB;MACH,CAFI,MAGA;QACD3L,OAAO,CAAC8B,QAAR,GAAmBvB,WAAW,CAACK,WAAZ,CAAwB,KAAKI,kBAAL,CAAwBgG,WAAW,CAACtH,uBAApC,EAA6DiM,cAA7D,CAAxB,CAAnB;MACH;;MACD,IAAI5J,UAAU,GAAGjC,QAAQ,CAAC7C,aAAT,CAAuB,KAAvB,CAAjB;MACA8E,UAAU,CAAC9B,EAAX,GAAgB0L,cAAc,CAAC1L,EAAf,GAAoB,gBAApC;MACA8B,UAAU,CAACC,KAAX,CAAiBC,QAAjB,GAA4B0J,cAAc,CAAC1J,QAAf,GAA2B0J,cAAc,CAAC1J,QAAf,GAA0B5B,SAA3B,GAAwC,IAAlE,GAA0E,KAAKA,SAAN,GAAmB,IAAxH;MACA0B,UAAU,CAACG,SAAX,GAAuB,yBAAvB;;MACA,IAAI,KAAK5C,SAAL,CAAe6C,YAAnB,EAAiC;QAC7BJ,UAAU,CAACK,SAAX,GAAuBuJ,cAAc,CAACtJ,IAAtC;QACAN,UAAU,CAACC,KAAX,CAAiBM,QAAjB,GAA4B,UAA5B;MACH,CAHD,MAIK;QACDP,UAAU,CAACK,SAAX,GAAuB,EAAvB;QACAL,UAAU,CAACC,KAAX,CAAiBM,QAAjB,GAA4B,SAA5B;MACH;;MACD/B,WAAW,CAACK,WAAZ,CAAwBmB,UAAxB;MACAH,iBAAiB,CAAChB,WAAlB,CAA8BL,WAA9B;MACA,IAAIV,SAAS,GAAGC,QAAQ,CAACC,cAAT,CAAwB,KAAKT,SAAL,CAAeU,OAAf,CAAuBC,EAAvB,GAA4B,aAA5B,IAA6C+G,WAAW,CAAC1C,UAAZ,GAAyB,CAAtE,CAAxB,CAAhB;MACAzE,SAAS,CAACe,WAAV,CAAsBgB,iBAAtB;;MACA,IAAI+J,cAAc,CAACjM,uBAAf,KAA2C,aAA/C,EAA8D;QAC1D,IAAII,QAAQ,CAACyC,sBAAT,CAAgC,oBAAhC,EAAsDC,MAAtD,GAA+D,CAAnE,EAAsE;UAClE,IAAI/B,MAAM,GAAG,KAAKkC,4BAAL,CAAkCgJ,cAAlC,CAAb;UACA,IAAIlJ,WAAW,GAAG3C,QAAQ,CAACyC,sBAAT,CAAgC,oBAAhC,CAAlB,CAFkE,CAGlE;QACH;MACJ;;MACD,IAAItB,KAAK,GAAG/D,2BAA2B,CAACyO,cAAc,CAACE,OAAf,CAAuBC,QAAvB,CAAgC,CAAhC,CAAD,CAA3B,CAAgEhJ,OAA5E;MACAvC,WAAW,CAACY,YAAZ,CAAyB,OAAzB,EAAkC,YAAanB,OAAO,CAAC+C,UAAR,CAAmB3B,MAAnB,GAA4Bf,SAAzC,GAAsD,YAAtD,GAAsEL,OAAO,CAAC+C,UAAR,CAAmB1B,KAAnB,GAA2BhB,SAAjG,GAC9B,UAD8B,GACjBY,KAAK,CAACK,CAAN,GAAUjB,SADO,GACK,UADL,GACkBY,KAAK,CAACM,CAAN,GAAUlB,SAD5B,GACwC,KADxC,GAE9B,qCAF8B,IAEWL,OAAO,CAACgD,WAAR,GAAsBhD,OAAO,CAACiD,eAFzC,IAE4D,OAF5D,GAG9B,iBAH8B,IAGR,KAAK3D,SAAL,CAAe6C,YAAhB,GAAgC,MAAhC,GAAyC,KAHhC,IAI5B,cAJ4B,IAITnC,OAAO,CAACkD,OAAT,GAAoB,SAApB,GAAgC,QAJtB,IAIkC,WAJlC,GAIgDlD,OAAO,CAACgC,KAAR,CAAcmB,OAJ9D,GAIwE,GAJ1G;MAKA6D,WAAW,CAACpC,SAAZ,GAAwB;QAAEC,CAAC,EAAE5D,KAAK,CAACK,CAAN,GAAUjB,SAAf;QAA0ByE,CAAC,EAAE7D,KAAK,CAACM,CAAN,GAAUlB,SAAvC;QAAkD0E,KAAK,EAAE/E,OAAO,CAAC+C,UAAR,CAAmB1B,KAAnB,GAA2BhB,SAApF;QAA+F2E,MAAM,EAAEhF,OAAO,CAAC+C,UAAR,CAAmB3B,MAAnB,GAA4Bf;MAAnI,CAAxB;IACH;;IACD,OAAO2G,WAAP;EACH,CA/DD;EAgEA;AACJ;AACA;AACA;;EACI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;EAEI;AACJ;AACA;;;EACI1I,YAAY,CAACkB,SAAb,CAAuBkB,0BAAvB,GAAoD,UAAUf,GAAV,EAAeD,uBAAf,EAAwC;IACxF,IAAIW,SAAS,GAAG,KAAKd,aAAL,CAAmBe,aAAnB,EAAhB;;IACA,QAAQZ,uBAAR;MACI,KAAK,SAAL;QACIC,GAAG,CAAC0B,KAAJ,GAAY,MAAMhB,SAAlB;QACAV,GAAG,CAACyB,MAAJ,GAAa,KAAKf,SAAlB;QACA;;MACJ,KAAK,eAAL;QACIV,GAAG,CAAC0B,KAAJ,GAAY,MAAMhB,SAAlB;QACAV,GAAG,CAACyB,MAAJ,GAAa,KAAKf,SAAlB;QACA;;MACJ,KAAK,gBAAL;MACA,KAAK,cAAL;QACIV,GAAG,CAAC0B,KAAJ,GAAY,MAAMhB,SAAlB;QACAV,GAAG,CAACyB,MAAJ,GAAa,KAAKf,SAAlB;QACA;;MACJ,KAAK,UAAL;QACIV,GAAG,CAAC0B,KAAJ,GAAY,KAAKhB,SAAjB;QACAV,GAAG,CAACyB,MAAJ,GAAa,KAAKf,SAAlB;QACA;;MACJ,KAAK,aAAL;QACIV,GAAG,CAAC0B,KAAJ,GAAY,KAAKhB,SAAjB;QACAV,GAAG,CAACyB,MAAJ,GAAa,KAAKf,SAAlB;QACA;;MACJ,KAAK,cAAL;QACIV,GAAG,CAAC0B,KAAJ,GAAY,MAAMhB,SAAlB;QACAV,GAAG,CAACyB,MAAJ,GAAa,KAAKf,SAAlB;QACA;;MACJ,KAAK,SAAL;QACIV,GAAG,CAAC0B,KAAJ,GAAY,MAAMhB,SAAlB;QACAV,GAAG,CAACyB,MAAJ,GAAa,KAAKf,SAAlB;QACA;IA7BR;;IA+BA,OAAO;MAAEgB,KAAK,EAAE1B,GAAG,CAAC0B,KAAb;MAAoBD,MAAM,EAAEzB,GAAG,CAACyB;IAAhC,CAAP;EACH,CAlCD;EAmCA;AACJ;AACA;;;EACI9C,YAAY,CAACkB,SAAb,CAAuByM,iBAAvB,GAA2C,UAAUC,YAAV,EAAwB;IAC/D,IAAIlM,OAAO,GAAGkM,YAAY,CAACL,OAAb,CAAqBC,QAArB,CAA8B,CAA9B,CAAd;IACA,IAAIzL,SAAS,GAAG,KAAKd,aAAL,CAAmBe,aAAnB,EAAhB;;IACA,IAAIN,OAAJ,EAAa;MACT,IAAIO,WAAW,GAAGT,QAAQ,CAACC,cAAT,CAAwBC,OAAO,CAACC,EAAR,GAAa,eAArC,CAAlB;;MACA,IAAI,CAAC1C,iBAAiB,CAACgD,WAAD,CAAtB,EAAqC;QACjC,IAAIU,KAAK,GAAG/D,2BAA2B,CAACgP,YAAY,CAACL,OAAb,CAAqBC,QAArB,CAA8B,CAA9B,CAAD,CAA3B,CAA8DhJ,OAA1E;QACAvC,WAAW,CAACY,YAAZ,CAAyB,OAAzB,EAAkC,YAAanB,OAAO,CAAC+C,UAAR,CAAmB3B,MAAnB,GAA4Bf,SAAzC,GAAsD,YAAtD,GAAsEL,OAAO,CAAC+C,UAAR,CAAmB1B,KAAnB,GAA2BhB,SAAjG,GAC9B,UAD8B,GACjBY,KAAK,CAACK,CAAN,GAAUjB,SADO,GACK,UADL,GACkBY,KAAK,CAACM,CAAN,GAAUlB,SAD5B,GACwC,KADxC,GAE9B,qCAF8B,IAEWL,OAAO,CAACgD,WAAR,GAAsBhD,OAAO,CAACiD,eAFzC,IAE4D,OAF5D,GAG9B,iBAH8B,IAGR,KAAK3D,SAAL,CAAe6C,YAAhB,GAAgC,MAAhC,GAAyC,KAHhC,IAI5B,cAJ4B,IAITnC,OAAO,CAACkD,OAAT,GAAoB,SAApB,GAAgC,QAJtB,IAIkC,WAJlC,GAIgDlD,OAAO,CAACgC,KAAR,CAAcmB,OAJ9D,GAIwE,GAJ1G;QAKA,IAAIwD,IAAI,GAAG,KAAKpH,aAAL,CAAmBqH,yBAAnB,CAA6C,eAA7C,CAAX;;QACA,IAAIsF,YAAY,CAACxM,uBAAb,KAAyC,aAA7C,EAA4D;UACxD,IAAIyM,cAAc,GAAG5L,WAAW,CAAC6L,iBAAZ,CAA8BA,iBAAnD;UACA,IAAI3J,WAAW,GAAGlC,WAAW,CAAC6L,iBAAZ,CAA8BA,iBAA9B,CAAgDC,gBAAlE;;UACA,IAAIrM,OAAO,CAAC+C,UAAR,CAAmB1B,KAAnB,GAA2BrB,OAAO,CAAC+C,UAAR,CAAmB3B,MAAlD,EAA0D;YACtDb,WAAW,CAAC6L,iBAAZ,CAA8BpK,KAA9B,CAAoCsK,OAApC,GAA8C,SAA9C;YACAH,cAAc,CAACnK,KAAf,CAAqBX,KAArB,GAA6B8K,cAAc,CAACnK,KAAf,CAAqBZ,MAArB,GAA+BpB,OAAO,CAAC+C,UAAR,CAAmB3B,MAAnB,GAA4Bf,SAA7B,GAA0C,IAArG;YACAoC,WAAW,CAACT,KAAZ,CAAkBX,KAAlB,GAA0BoB,WAAW,CAACT,KAAZ,CAAkBZ,MAAlB,GAA4BpB,OAAO,CAAC+C,UAAR,CAAmB3B,MAAnB,GAA4B,EAA7B,GAAmC,IAAxF;UACH,CAJD,MAKK;YACDb,WAAW,CAAC6L,iBAAZ,CAA8BpK,KAA9B,CAAoCsK,OAApC,GAA8C,MAA9C;YACAH,cAAc,CAACnK,KAAf,CAAqBX,KAArB,GAA6B8K,cAAc,CAACnK,KAAf,CAAqBZ,MAArB,GAA+BpB,OAAO,CAAC+C,UAAR,CAAmB1B,KAAnB,GAA2BhB,SAA5B,GAAyC,IAApG;YACAoC,WAAW,CAACT,KAAZ,CAAkBX,KAAlB,GAA0BoB,WAAW,CAACT,KAAZ,CAAkBZ,MAAlB,GAA4BpB,OAAO,CAAC+C,UAAR,CAAmB1B,KAAnB,GAA2B,EAA5B,GAAkC,IAAvF;UACH;QACJ;;QACD,IAAI6K,YAAY,CAACxM,uBAAb,KAAyC,UAA7C,EAAyD;UACrD,IAAI6M,gBAAgB,GAAG,EAAvB;UACA,IAAIJ,cAAc,GAAG5L,WAAW,CAAC6L,iBAAZ,CAA8BA,iBAAnD;UACA,IAAI3J,WAAW,GAAGlC,WAAW,CAAC6L,iBAAZ,CAA8BA,iBAA9B,CAAgDC,gBAAhD,CAAiED,iBAAnF;;UACA,IAAIpM,OAAO,CAAC+C,UAAR,CAAmB1B,KAAnB,GAA2BrB,OAAO,CAAC+C,UAAR,CAAmB3B,MAAlD,EAA0D;YACtDb,WAAW,CAAC6L,iBAAZ,CAA8BpK,KAA9B,CAAoCsK,OAApC,GAA8C,SAA9C;YACAH,cAAc,CAACnK,KAAf,CAAqBX,KAArB,GAA6B8K,cAAc,CAACnK,KAAf,CAAqBZ,MAArB,GAA+BpB,OAAO,CAAC+C,UAAR,CAAmB3B,MAAnB,GAA4Bf,SAA7B,GAA0C,IAArG;YACAoC,WAAW,CAACT,KAAZ,CAAkBX,KAAlB,GAA4BrB,OAAO,CAAC+C,UAAR,CAAmB3B,MAAnB,GAA4B,CAA7B,GAAkCf,SAAnC,GAAgD,IAA1E;YACAoC,WAAW,CAACT,KAAZ,CAAkBZ,MAAlB,GAA6BpB,OAAO,CAAC+C,UAAR,CAAmB3B,MAAnB,GAA4B,GAA7B,GAAoCf,SAArC,GAAkD,IAA7E;YACAoC,WAAW,CAACT,KAAZ,CAAkBwK,IAAlB,GAA2BxM,OAAO,CAAC+C,UAAR,CAAmB3B,MAAnB,GAA4B,GAA7B,GAAoCf,SAArC,GAAkD,IAA3E;YACAoC,WAAW,CAACT,KAAZ,CAAkByK,GAAlB,GAA0BzM,OAAO,CAAC+C,UAAR,CAAmB3B,MAAnB,GAA4B,CAA7B,GAAkCf,SAAnC,GAAgD,IAAxE;UACH,CAPD,MAQK;YACDE,WAAW,CAAC6L,iBAAZ,CAA8BpK,KAA9B,CAAoCsK,OAApC,GAA8C,MAA9C;YACAH,cAAc,CAACnK,KAAf,CAAqBX,KAArB,GAA6B8K,cAAc,CAACnK,KAAf,CAAqBZ,MAArB,GAA+BpB,OAAO,CAAC+C,UAAR,CAAmB1B,KAAnB,GAA2BhB,SAA5B,GAAyC,IAApG;YACAoC,WAAW,CAACT,KAAZ,CAAkBX,KAAlB,GAA4BrB,OAAO,CAAC+C,UAAR,CAAmB1B,KAAnB,GAA2B,CAA5B,GAAiChB,SAAlC,GAA+C,IAAzE;YACAoC,WAAW,CAACT,KAAZ,CAAkBZ,MAAlB,GAA6BpB,OAAO,CAAC+C,UAAR,CAAmB1B,KAAnB,GAA2B,GAA5B,GAAmChB,SAApC,GAAiD,IAA5E;YACAoC,WAAW,CAACT,KAAZ,CAAkBwK,IAAlB,GAA2BxM,OAAO,CAAC+C,UAAR,CAAmB1B,KAAnB,GAA2B,GAA5B,GAAmChB,SAApC,GAAiD,IAA1E;YACAoC,WAAW,CAACT,KAAZ,CAAkByK,GAAlB,GAA0BzM,OAAO,CAAC+C,UAAR,CAAmB1B,KAAnB,GAA2B,CAA5B,GAAiChB,SAAlC,GAA+C,IAAvE;UACH;;UACD,IAAIoC,WAAW,CAACP,SAAZ,CAAsBkH,OAAtB,CAA8B,iBAA9B,MAAqD,CAAC,CAA1D,EAA6D;YACzD,IAAIsD,aAAa,GAAG9J,QAAQ,CAACuJ,cAAc,CAACnK,KAAf,CAAqBX,KAAtB,EAA6B,EAA7B,CAA5B;;YACA,IAAIqL,aAAa,GAAGH,gBAApB,EAAsC;cAClC9J,WAAW,CAACT,KAAZ,CAAkB2K,WAAlB,GAAgC,KAAhC;YACH,CAFD,MAGK,IAAID,aAAa,IAAI,EAArB,EAAyB;cAC1BjK,WAAW,CAACT,KAAZ,CAAkB2K,WAAlB,GAAgC,KAAhC;YACH,CAFI,MAGA;cACDlK,WAAW,CAACT,KAAZ,CAAkB2K,WAAlB,GAAgC,KAAhC;YACH;UACJ;QACJ;;QACD,IAAIT,YAAY,CAACxM,uBAAb,KAAyC,gBAA7C,EAA+D;UAC3D,IAAIkN,YAAY,GAAGrM,WAAW,CAAC6L,iBAAZ,CAA8BA,iBAAjD;UACA,IAAIS,aAAa,GAAGD,YAAY,CAACE,kBAAjC;UACA,IAAIrM,MAAM,GAAG,KAAKsM,SAAL,CAAeF,aAAf,CAAb;UACA,IAAIxI,OAAO,GAAG;YACVjD,MAAM,EAAEpB,OAAO,CAAC+C,UAAR,CAAmB3B,MADjB;YAEVC,KAAK,EAAErB,OAAO,CAAC+C,UAAR,CAAmB1B,KAFhB;YAGV2L,0BAA0B,EAAE;cACxBC,IAAI,EAAEJ,aAAa,CAACK,WADI;cAExB7L,KAAK,EAAEZ,MAAM,CAACY,KAFU;cAGxBD,MAAM,EAAEX,MAAM,CAACW;YAHS;UAHlB,CAAd;UASA,KAAK+L,wBAAL,CAA8BjB,YAA9B,EAA4C7H,OAA5C,EAAqDuI,YAArD;QACH;;QACD,IAAI/F,cAAc,GAAGC,IAAI,CAACC,KAAL,CAAWJ,IAAX,CAArB;;QACA,KAAK,IAAIjE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGmE,cAAc,CAACrE,MAAnC,EAA2CE,CAAC,EAA5C,EAAgD;UAC5C,IAAImE,cAAc,CAACnE,CAAD,CAAd,CAAkB4D,SAAlB,CAA4B5G,uBAA5B,KAAwD,aAA5D,EAA2E;YACvE,KAAK,IAAIqM,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGlF,cAAc,CAACnE,CAAD,CAAd,CAAkB4D,SAAlB,CAA4BT,eAA5B,CAA4CrD,MAAhE,EAAwEuJ,CAAC,EAAzE,EAA6E;cACzE,IAAI/L,OAAO,CAACC,EAAR,KAAe4G,cAAc,CAACnE,CAAD,CAAd,CAAkB4D,SAAlB,CAA4BT,eAA5B,CAA4CkG,CAA5C,EAA+C9L,EAAlE,EAAsE;gBAClE,KAAKV,aAAL,CAAmB2G,mBAAnB,CAAuCxD,CAAvC,EAA0C4D,SAA1C,CAAoDT,eAApD,CAAoEkG,CAApE,EAAuEnH,SAAvE,GAAmF;kBAAEC,CAAC,EAAE5D,KAAK,CAACK,CAAN,GAAUjB,SAAf;kBAA0ByE,CAAC,EAAE7D,KAAK,CAACM,CAAN,GAAUlB,SAAvC;kBAAkD0E,KAAK,EAAE/E,OAAO,CAAC+C,UAAR,CAAmB1B,KAAnB,GAA2BhB,SAApF;kBAA+F2E,MAAM,EAAEhF,OAAO,CAAC+C,UAAR,CAAmB3B,MAAnB,GAA4Bf;gBAAnI,CAAnF;gBACA,KAAKd,aAAL,CAAmB2G,mBAAnB,CAAuCxD,CAAvC,EAA0C4D,SAA1C,CAAoDT,eAApD,CAAoEkG,CAApE,EAAuE1L,SAAvE,GAAmFA,SAAnF;gBACA;cACH;YACJ;UACJ,CARD,MASK;YACD,IAAIwG,cAAc,CAACnE,CAAD,CAAd,CAAkB2D,GAAlB,KAA0BrG,OAAO,CAACC,EAAtC,EAA0C;cACtC4G,cAAc,CAACnE,CAAD,CAAd,CAAkB4D,SAAlB,CAA4B1B,SAA5B,GAAwC;gBAAEC,CAAC,EAAE5D,KAAK,CAACK,CAAN,GAAUjB,SAAf;gBAA0ByE,CAAC,EAAE7D,KAAK,CAACM,CAAN,GAAUlB,SAAvC;gBAAkD0E,KAAK,EAAE/E,OAAO,CAAC+C,UAAR,CAAmB1B,KAAnB,GAA2BhB,SAApF;gBAA+F2E,MAAM,EAAEhF,OAAO,CAAC+C,UAAR,CAAmB3B,MAAnB,GAA4Bf;cAAnI,CAAxC;cACA,KAAKd,aAAL,CAAmB2G,mBAAnB,CAAuCxD,CAAvC,EAA0C4D,SAA1C,CAAoD1B,SAApD,GAAgEiC,cAAc,CAACnE,CAAD,CAAd,CAAkB4D,SAAlB,CAA4B1B,SAA5F;YACH;UACJ;QACJ;;QACD,KAAKrF,aAAL,CAAmBgH,uBAAnB,CAA2C,KAAKhH,aAAL,CAAmB2G,mBAA9D,EAAmF,eAAnF;MACH;IACJ;EACJ,CAhGD;;EAiGA5H,YAAY,CAACkB,SAAb,CAAuBmD,4BAAvB,GAAsD,UAAUlB,aAAV,EAAyBhB,MAAzB,EAAiC;IACnF,IAAIJ,SAAS,GAAG,KAAKd,aAAL,CAAmBe,aAAnB,EAAhB;IACA,IAAIe,KAAK,GAAG,CAAZ;IACA,IAAID,MAAM,GAAG,CAAb;IACA,IAAIkL,OAAO,GAAG,EAAd;;IACA,IAAI7L,MAAJ,EAAY;MACR,IAAIA,MAAM,CAACY,KAAP,GAAeZ,MAAM,CAACW,MAA1B,EAAkC;QAC9BC,KAAK,GAAGD,MAAM,GAAGX,MAAM,CAACW,MAAP,GAAgBf,SAAjC;QACAiM,OAAO,GAAG,SAAV;MACH,CAHD,MAIK;QACDjL,KAAK,GAAGD,MAAM,GAAGX,MAAM,CAACY,KAAP,GAAehB,SAAhC;QACAiM,OAAO,GAAG,MAAV;MACH;IACJ,CATD,MAUK,IAAI7K,aAAJ,EAAmB;MACpB,IAAIA,aAAa,CAAChB,MAAd,CAAqBY,KAArB,GAA6BI,aAAa,CAAChB,MAAd,CAAqBW,MAAtD,EAA8D;QAC1DC,KAAK,GAAGD,MAAM,GAAGK,aAAa,CAAChB,MAAd,CAAqBW,MAArB,GAA8Bf,SAA/C;QACAiM,OAAO,GAAG,SAAV;MACH,CAHD,MAIK;QACDjL,KAAK,GAAGD,MAAM,GAAGK,aAAa,CAAChB,MAAd,CAAqBY,KAArB,GAA6BhB,SAA9C;QACAiM,OAAO,GAAG,MAAV;MACH;IACJ;;IACD,OAAO;MAAEjL,KAAK,EAAEA,KAAT;MAAgBD,MAAM,EAAEA,MAAxB;MAAgCkL,OAAO,EAAEA;IAAzC,CAAP;EACH,CA1BD;;EA2BAhO,YAAY,CAACkB,SAAb,CAAuB4N,gCAAvB,GAA0D,UAAUC,iBAAV,EAA6B;IACnF,IAAIhN,SAAS,GAAG,KAAKd,aAAL,CAAmBe,aAAnB,EAAhB;IACA,IAAIN,OAAO,GAAGqN,iBAAiB,CAACxB,OAAlB,CAA0BC,QAA1B,CAAmC,CAAnC,CAAd;IACA,IAAInF,IAAI,GAAG,KAAKpH,aAAL,CAAmBqH,yBAAnB,CAA6C,eAA7C,CAAX;IACA,IAAIC,cAAc,GAAGC,IAAI,CAACC,KAAL,CAAWJ,IAAX,CAArB;;IACA,KAAK,IAAIjE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGmE,cAAc,CAACrE,MAAnC,EAA2CE,CAAC,EAA5C,EAAgD;MAC5C,IAAImE,cAAc,CAACnE,CAAD,CAAd,CAAkB4D,SAAlB,CAA4B5G,uBAA5B,KAAwD,aAA5D,EAA2E;QACvE,KAAK,IAAIqM,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGlF,cAAc,CAACnE,CAAD,CAAd,CAAkB4D,SAAlB,CAA4BT,eAA5B,CAA4CrD,MAAhE,EAAwEuJ,CAAC,EAAzE,EAA6E;UACzE,IAAI/L,OAAO,CAACC,EAAR,KAAe4G,cAAc,CAACnE,CAAD,CAAd,CAAkB4D,SAAlB,CAA4BT,eAA5B,CAA4CkG,CAA5C,EAA+C9L,EAAlE,EAAsE;YAClE,IAAIqN,qBAAqB,GAAG;cACxBrN,EAAE,EAAED,OAAO,CAACC,EADY;cACR2E,SAAS,EAAE;gBAAEC,CAAC,EAAE7E,OAAO,CAACS,MAAR,CAAea,CAAf,GAAmBjB,SAAxB;gBAAmCyE,CAAC,EAAE9E,OAAO,CAACS,MAAR,CAAec,CAAf,GAAmBlB,SAAzD;gBAAoE0E,KAAK,EAAE/E,OAAO,CAACS,MAAR,CAAeY,KAAf,GAAuBhB,SAAlG;gBAA6G2E,MAAM,EAAEhF,OAAO,CAACS,MAAR,CAAeW,MAAf,GAAwBf;cAA7I,CADH;cAExBgC,IAAI,EAAEgL,iBAAiB,CAAChL,IAFA;cAEMhC,SAAS,EAAEA,SAFjB;cAE4BiE,UAAU,EAAE+I,iBAAiB,CAAC/I,UAF1D;cAEsEhB,KAAK,EAAE+J,iBAAiB,CAAC/J,KAF/F;cAEsG5D,uBAAuB,EAAE2N,iBAAiB,CAAC3N,uBAFjJ;cAGxB6D,UAAU,EAAE8J,iBAAiB,CAAC9J,UAHN;cAGkBtB,QAAQ,EAAEoL,iBAAiB,CAACpL,QAH9C;cAGwDuB,SAAS,EAAE6J,iBAAiB,CAAC7J,SAHrF;cAGgG4B,SAAS,EAAE,KAAKC,UAAL,CAAgBgI,iBAAiB,CAAC5J,KAAlC,CAH3G;cAIxBC,eAAe,EAAE,KAAK2B,UAAL,CAAgBgI,iBAAiB,CAAC3J,eAAlC,CAJO;cAI6CS,WAAW,EAAE,KAAKkB,UAAL,CAAgBgI,iBAAiB,CAAClJ,WAAlC,CAJ1D;cAI0GC,SAAS,EAAEiJ,iBAAiB,CAACjJ,SAJvI;cAIkJkB,SAAS,EAAE+H,iBAAiB,CAAC1J,SAJ/K;cAI0LY,SAAS,EAAE8I,iBAAiB,CAAC9I,SAJvN;cAIkOC,UAAU,EAAE6I,iBAAiB,CAAC7I,UAJhQ;cAKxBZ,UAAU,EAAEyJ,iBAAiB,CAACzJ,UALN;cAKkBC,UAAU,EAAEwJ,iBAAiB,CAACxJ,UALhD;cAK4DC,SAAS,EAAEuJ,iBAAiB,CAACvJ,SALzF;cAKoGC,UAAU,EAAEsJ,iBAAiB,CAACtJ,UALlI;cAK8IC,OAAO,EAAEqJ,iBAAiB,CAACrJ,OALzK;cAKkLC,QAAQ,EAAE,CAL5L;cAK+LC,OAAO,EAAEmJ,iBAAiB,CAACnJ;YAL1N,CAA5B;YAOA2C,cAAc,CAACnE,CAAD,CAAd,CAAkB4D,SAAlB,CAA4BT,eAA5B,CAA4CkG,CAA5C,IAAiDuB,qBAAjD;;YACA,IAAI,KAAK/N,aAAL,CAAmB2G,mBAAnB,CAAuCxD,CAAvC,KAA6C,KAAKnD,aAAL,CAAmB2G,mBAAnB,CAAuCxD,CAAvC,EAA0C4D,SAAvF,IAAoG,KAAK/G,aAAL,CAAmB2G,mBAAnB,CAAuCxD,CAAvC,EAA0C4D,SAA1C,CAAoDT,eAApD,CAAoEkG,CAApE,CAAxG,EAAgL;cAC5K,KAAKxM,aAAL,CAAmB2G,mBAAnB,CAAuCxD,CAAvC,EAA0C4D,SAA1C,CAAoDT,eAApD,CAAoEkG,CAApE,IAAyEuB,qBAAzE;YACH;;YACD;UACH;QACJ;MACJ,CAjBD,MAkBK,IAAIzG,cAAc,CAACnE,CAAD,CAAd,CAAkB2D,GAAlB,KAA0BrG,OAAO,CAACC,EAAtC,EAA0C;QAC3C,IAAI0E,aAAa,GAAG;UAChB1E,EAAE,EAAED,OAAO,CAACC,EADI;UACA2E,SAAS,EAAE;YAAEC,CAAC,EAAE7E,OAAO,CAACS,MAAR,CAAea,CAAf,GAAmBjB,SAAxB;YAAmCyE,CAAC,EAAE9E,OAAO,CAACS,MAAR,CAAec,CAAf,GAAmBlB,SAAzD;YAAoE0E,KAAK,EAAE/E,OAAO,CAACS,MAAR,CAAeY,KAAf,GAAuBhB,SAAlG;YAA6G2E,MAAM,EAAEhF,OAAO,CAACS,MAAR,CAAeW,MAAf,GAAwBf;UAA7I,CADX;UAEhBgC,IAAI,EAAEgL,iBAAiB,CAAChL,IAFR;UAEchC,SAAS,EAAEA,SAFzB;UAEoCiE,UAAU,EAAE+I,iBAAiB,CAAC/I,UAFlE;UAE8EhB,KAAK,EAAE+J,iBAAiB,CAAC/J,KAFvG;UAE8G5D,uBAAuB,EAAE2N,iBAAiB,CAAC3N,uBAFzJ;UAGhB6D,UAAU,EAAE8J,iBAAiB,CAAC9J,UAHd;UAG0BtB,QAAQ,EAAEoL,iBAAiB,CAACpL,QAHtD;UAGgEuB,SAAS,EAAE6J,iBAAiB,CAAC7J,SAH7F;UAGwG4B,SAAS,EAAE,KAAKC,UAAL,CAAgBgI,iBAAiB,CAAC5J,KAAlC,CAHnH;UAIhBC,eAAe,EAAE,KAAK2B,UAAL,CAAgBgI,iBAAiB,CAAC3J,eAAlC,CAJD;UAIqDS,WAAW,EAAE,KAAKkB,UAAL,CAAgBgI,iBAAiB,CAAClJ,WAAlC,CAJlE;UAIkHC,SAAS,EAAEiJ,iBAAiB,CAACjJ,SAJ/I;UAI0JkB,SAAS,EAAE+H,iBAAiB,CAAC1J,SAJvL;UAIkMY,SAAS,EAAE8I,iBAAiB,CAAC9I,SAJ/N;UAI0OC,UAAU,EAAE6I,iBAAiB,CAAC7I,UAJxQ;UAKhBZ,UAAU,EAAEyJ,iBAAiB,CAACzJ,UALd;UAK0B2B,IAAI,EAAE;YAAEC,MAAM,EAAE6H,iBAAiB,CAAC9H,IAAlB,CAAuBC,MAAjC;YAAyCC,QAAQ,EAAE4H,iBAAiB,CAAC9H,IAAlB,CAAuBE,QAA1E;YAAoFC,WAAW,EAAE2H,iBAAiB,CAAC9H,IAAlB,CAAuBG,WAAxH;YAAqIC,WAAW,EAAE0H,iBAAiB,CAAC9H,IAAlB,CAAuBI;UAAzK,CALhC;UAKwNC,aAAa,EAAE,EALvO;UAK2OC,eAAe,EAAE,IAL5P;UAKkQC,MAAM,EAAEuH,iBAAiB,CAAChJ,OAAlB,GAA4BgJ,iBAAiB,CAAChJ,OAA9C,GAAwD,EALlU;UAKsUR,UAAU,EAAEwJ,iBAAiB,CAACxJ,UALpW;UAKgXC,SAAS,EAAEuJ,iBAAiB,CAACvJ,SAL7Y;UAKwZC,UAAU,EAAEsJ,iBAAiB,CAACtJ,UALtb;UAKkcC,OAAO,EAAEqJ,iBAAiB,CAACrJ,OAL7d;UAKseC,QAAQ,EAAE,CALhf;UAKmfC,OAAO,EAAEmJ,iBAAiB,CAACnJ;QAL9gB,CAApB;;QAOA,IAAI2C,cAAc,CAACnE,CAAD,CAAd,CAAkB4D,SAAlB,CAA4B5G,uBAA5B,KAAwD,gBAAxD,IAA4EmH,cAAc,CAACnE,CAAD,CAAd,CAAkB4D,SAAlB,CAA4B5G,uBAA5B,KAAwD,cAAxI,EAAwJ;UACpJ,IAAI6N,0BAA0B,GAAGF,iBAAjC;UACA,IAAIG,eAAe,GAAG;YAClBvN,EAAE,EAAED,OAAO,CAACC,EADM;YACF2E,SAAS,EAAE;cAAEC,CAAC,EAAE7E,OAAO,CAACS,MAAR,CAAea,CAAf,GAAmBjB,SAAxB;cAAmCyE,CAAC,EAAE9E,OAAO,CAACS,MAAR,CAAec,CAAf,GAAmBlB,SAAzD;cAAoE0E,KAAK,EAAE/E,OAAO,CAACS,MAAR,CAAeY,KAAf,GAAuBhB,SAAlG;cAA6G2E,MAAM,EAAEhF,OAAO,CAACS,MAAR,CAAeW,MAAf,GAAwBf;YAA7I,CADT;YAElBgC,IAAI,EAAEgL,iBAAiB,CAAChL,IAFN;YAEYhC,SAAS,EAAEA,SAFvB;YAEkCiE,UAAU,EAAE+I,iBAAiB,CAAC/I,UAFhE;YAE4EhB,KAAK,EAAE+J,iBAAiB,CAAC/J,KAFrG;YAE4G5D,uBAAuB,EAAE2N,iBAAiB,CAAC3N,uBAFvJ;YAGlB6D,UAAU,EAAE8J,iBAAiB,CAAC9J,UAHZ;YAGwBtB,QAAQ,EAAEoL,iBAAiB,CAACpL,QAHpD;YAG8DuB,SAAS,EAAE6J,iBAAiB,CAAC7J,SAH3F;YAGsG4B,SAAS,EAAE,KAAKC,UAAL,CAAgBgI,iBAAiB,CAAC5J,KAAlC,CAHjH;YAIlBC,eAAe,EAAE,KAAK2B,UAAL,CAAgBgI,iBAAiB,CAAC3J,eAAlC,CAJC;YAImDS,WAAW,EAAE,KAAKkB,UAAL,CAAgBgI,iBAAiB,CAAClJ,WAAlC,CAJhE;YAIgHC,SAAS,EAAEiJ,iBAAiB,CAACjJ,SAJ7I;YAIwJkB,SAAS,EAAE+H,iBAAiB,CAAC1J,SAJrL;YAIgMY,SAAS,EAAE8I,iBAAiB,CAAC9I,SAJ7N;YAIwOC,UAAU,EAAE6I,iBAAiB,CAAC7I,UAJtQ;YAKlBZ,UAAU,EAAEyJ,iBAAiB,CAACzJ,UALZ;YAKwB2B,IAAI,EAAE;cAAEC,MAAM,EAAE6H,iBAAiB,CAAC9H,IAAlB,CAAuBC,MAAjC;cAAyCC,QAAQ,EAAE4H,iBAAiB,CAAC9H,IAAlB,CAAuBE,QAA1E;cAAoFC,WAAW,EAAE2H,iBAAiB,CAAC9H,IAAlB,CAAuBG,WAAxH;cAAqIC,WAAW,EAAE0H,iBAAiB,CAAC9H,IAAlB,CAAuBI;YAAzK,CAL9B;YAKsNC,aAAa,EAAE,EALrO;YAKyOC,eAAe,EAAE,IAL1P;YAKgQC,MAAM,EAAEuH,iBAAiB,CAAChJ,OAAlB,GAA4BgJ,iBAAiB,CAAChJ,OAA9C,GAAwD,EALhU;YAKoUR,UAAU,EAAEwJ,iBAAiB,CAACxJ,UALlW;YAK8WC,SAAS,EAAEuJ,iBAAiB,CAACvJ,SAL3Y;YAKsZC,UAAU,EAAEsJ,iBAAiB,CAACtJ,UALpb;YAKgcC,OAAO,EAAEqJ,iBAAiB,CAACrJ,OAL3d;YAKoeC,QAAQ,EAAE,CAL9e;YAKifC,OAAO,EAAEmJ,iBAAiB,CAACnJ,OAL5gB;YAMlBgB,aAAa,EAAEmI,iBAAiB,CAACnI,aANf;YAM8BC,cAAc,EAAEoI,0BAA0B,CAACpI;UANzE,CAAtB;UAQA0B,cAAc,CAACnE,CAAD,CAAd,CAAkB4D,SAAlB,GAA8BkH,eAA9B;UACA,KAAKjO,aAAL,CAAmB2G,mBAAnB,CAAuCxD,CAAvC,EAA0C4D,SAA1C,GAAsDkH,eAAtD;QACH,CAZD,MAaK;UACD3G,cAAc,CAACnE,CAAD,CAAd,CAAkB4D,SAAlB,GAA8B3B,aAA9B;UACA,KAAKpF,aAAL,CAAmB2G,mBAAnB,CAAuCxD,CAAvC,EAA0C4D,SAA1C,GAAsD3B,aAAtD;QACH;;QACD;MACH;IACJ;;IACD,IAAI,KAAKpF,aAAL,CAAmB2G,mBAAnB,CAAuC1D,MAAvC,GAAgD,CAApD,EAAuD;MACnD,KAAKjD,aAAL,CAAmBiH,qBAAnB,CAAyC,IAAzC;IACH,CAFD,MAGK;MACD,KAAKjH,aAAL,CAAmBiH,qBAAnB,CAAyC,KAAzC;IACH;;IACD,KAAKjH,aAAL,CAAmBgH,uBAAnB,CAA2C,KAAKhH,aAAL,CAAmB2G,mBAA9D,EAAmF,eAAnF;EACH,CA3DD;EA4DA;AACJ;AACA;;;EACI5H,YAAY,CAACkB,SAAb,CAAuBqB,qBAAvB,GAA+C,UAAUc,cAAV,EAA0BgK,cAA1B,EAA0ClL,MAA1C,EAAkDuD,OAAlD,EAA2D;IACtG,KAAKnF,cAAL,GAAsBtB,iBAAiB,CAACoO,cAAc,CAAC9M,cAAhB,CAAjB,GAAmD,KAAnD,GAA2D8M,cAAc,CAAC9M,cAAhG;IACA,KAAKU,aAAL,CAAmBV,cAAnB,GAAoC,KAAKA,cAAzC;IACA,KAAKU,aAAL,CAAmBV,cAAnB,GAAoC8M,cAAc,CAAC9M,cAAnD;IACA,IAAImB,OAAO,GAAG/C,aAAa,CAAC,KAAD,CAA3B;IACA+C,OAAO,CAACkC,SAAR,GAAoB,gBAApB;IACAlC,OAAO,CAACgC,KAAR,CAAcM,QAAd,GAAyB,UAAzB;IACAtC,OAAO,CAACgC,KAAR,CAAcX,KAAd,GAAsB,MAAtB;IACArB,OAAO,CAACgC,KAAR,CAAcZ,MAAd,GAAuB,MAAvB;IACA,IAAIW,UAAU,GAAG9E,aAAa,CAAC,KAAD,CAA9B;IACA8E,UAAU,CAACC,KAAX,CAAiBX,KAAjB,GAAyB,MAAzB;IACAU,UAAU,CAACC,KAAX,CAAiBZ,MAAjB,GAA0B,MAA1B;IACAW,UAAU,CAACC,KAAX,CAAiBM,QAAjB,GAA4B,UAA5B;IACAP,UAAU,CAACC,KAAX,CAAiB0B,eAAjB,GAAmC,aAAnC;IACA3B,UAAU,CAACC,KAAX,CAAiByL,MAAjB,GAA0B,mBAA1B;;IACA,IAAI,CAAClQ,iBAAiB,CAACoO,cAAc,CAACrI,KAAhB,CAAlB,IAA4CqI,cAAc,CAACrI,KAAf,KAAyB,EAAzE,EAA6E;MACzEvB,UAAU,CAACG,SAAX,GAAuB,2CAAvB;MACAH,UAAU,CAACC,KAAX,CAAiB0L,aAAjB,GAAiC,MAAjC;IACH,CAHD,MAIK;MACD3L,UAAU,CAACG,SAAX,GAAuB,iCAAvB;MACAH,UAAU,CAACC,KAAX,CAAiB0L,aAAjB,GAAiC,EAAjC;IACH;;IACD3L,UAAU,CAAC9B,EAAX,GAAgB0L,cAAc,CAAC1L,EAA/B;IACA8B,UAAU,CAAC4L,QAAX,GAAsBhC,cAAc,CAAC/H,UAArC;IACA5D,OAAO,CAACY,WAAR,CAAoBmB,UAApB;IACA,IAAI6L,sBAAsB,GAAG,KAAKtO,SAAL,CAAesO,sBAA5C;;IACA,IAAI,CAACA,sBAAsB,CAACZ,0BAA5B,EAAwD;MACpDY,sBAAsB,CAACZ,0BAAvB,GAAoD;QAAE7J,OAAO,EAAE,CAAX;QAAcO,eAAe,EAAE,QAA/B;QAAyCrC,KAAK,EAAE,EAAhD;QAAoDD,MAAM,EAAE,EAA5D;QAAgEa,QAAQ,EAAE,EAA1E;QAA8EgL,IAAI,EAAE,IAApF;QAA0FxJ,KAAK,EAAE;MAAjG,CAApD;IACH;;IACD,IAAI,CAACmK,sBAAsB,CAACC,uBAA5B,EAAqD;MACjDD,sBAAsB,CAACC,uBAAvB,GAAiD;QAAEC,WAAW,EAAE3P,WAAW,CAAC4P,IAAZ,GAAmB5P,WAAW,CAAC6P,IAA/B,GAAsC7P,WAAW,CAAC8P,MAAjE;QAAyEC,iBAAiB,EAAE;MAA5F,CAAjD;IACH,CAhCqG,CAiCtG;;;IACA,IAAIC,YAAY,GAAG,KAAK7O,SAAL,CAAesO,sBAAf,CAAsCZ,0BAAtC,CAAiE3L,KAAjE,KAA2E,EAA3E,GAAiFsK,cAAc,CAAC9M,cAAf,GAAgC,EAAhC,GAAqC,EAAtH,GAA4H,KAAKS,SAAL,CAAesO,sBAAf,CAAsCZ,0BAAtC,CAAiE3L,KAAhN;IACA,IAAI+M,4BAA4B,GAAIzC,cAAc,CAACqB,0BAAf,IAA6CrB,cAAc,CAACqB,0BAAf,CAA0C3L,KAAxF,GAAiGsK,cAAc,CAACqB,0BAAf,CAA0C3L,KAA3I,GAAmJ8M,YAAtL;IACA,IAAIE,aAAa,GAAG,KAAK/O,SAAL,CAAesO,sBAAf,CAAsCZ,0BAAtC,CAAiE5L,MAAjE,KAA4E,EAA5E,GAAiF,EAAjF,GAAsF,KAAK9B,SAAL,CAAesO,sBAAf,CAAsCZ,0BAAtC,CAAiE5L,MAA3K;IACA,IAAIkN,6BAA6B,GAAI3C,cAAc,CAACqB,0BAAf,IAA6CrB,cAAc,CAACqB,0BAAf,CAA0C5L,MAAxF,GAAkGuK,cAAc,CAACqB,0BAAf,CAA0C5L,MAA5I,GAAqJiN,aAAzL;IACA,IAAIE,yBAAyB,GAAG,KAAKjP,SAAL,CAAesO,sBAAf,CAAsCZ,0BAAtC,CAAiEtJ,eAAjE,KAAqF,QAArF,GAAgG,WAAhG,GAA8G,KAAKpE,SAAL,CAAesO,sBAAf,CAAsCZ,0BAAtC,CAAiEtJ,eAA/M;IACA,IAAI8K,aAAa,GAAG7C,cAAc,CAAC9M,cAAf,GAAgC,SAAhC,GAA4C,MAAhE;IACA,IAAI4P,mBAAmB,GAAG9C,cAAc,CAAClL,MAAf,GAAwBkL,cAAc,CAAClL,MAAf,CAAsBY,KAA9C,GAAsDZ,MAAM,CAACY,KAAvF;IACA,IAAIqN,oBAAoB,GAAG/C,cAAc,CAAClL,MAAf,GAAwBkL,cAAc,CAAClL,MAAf,CAAsBW,MAA9C,GAAuDX,MAAM,CAACW,MAAzF,CAzCsG,CA0CtG;;IACA,IAAIA,MAAM,GAAGkN,6BAA6B,GAAGI,oBAAoB,GAAG,CAAvD,GAA2DA,oBAAoB,GAAG,CAAlF,GAAsFJ,6BAAnG,CA3CsG,CA4CtG;;IACA,IAAIjN,KAAK,GAAG+M,4BAA4B,GAAGK,mBAAmB,GAAG,CAArD,GAAyDA,mBAAmB,GAAG,CAA/E,GAAmFL,4BAA/F;IACA,IAAInM,QAAQ,GAAG,EAAf;IACA,IAAI0J,cAAc,CAACqB,0BAAf,IAA6CrB,cAAc,CAACqB,0BAAf,CAA0C/K,QAA3F,EACI;MACAA,QAAQ,GAAG0J,cAAc,CAACqB,0BAAf,CAA0C/K,QAA1C,GAAqDb,MAAM,GAAG,CAA9D,GAAkE,EAAlE,GAAuEuK,cAAc,CAACqB,0BAAf,CAA0C/K,QAA5H,CAFJ,KAII;MACAA,QAAQ,GAAG,KAAK3C,SAAL,CAAesO,sBAAf,CAAsCZ,0BAAtC,CAAiE/K,QAAjE,GAA4Eb,MAAM,GAAG,CAArF,GAAyF,EAAzF,GAA8F,KAAK9B,SAAL,CAAesO,sBAAf,CAAsCZ,0BAAtC,CAAiE/K,QAA1K;IACJ,IAAIQ,WAAW,GAAGxF,aAAa,CAAC,MAAD,CAA/B;IACA,IAAI0R,oBAAoB,GAAG,KAAKrP,SAAL,CAAeqP,oBAA1C;;IACA,IAAI,CAACA,oBAAoB,CAACC,wBAA1B,EAAoD;MAChDD,oBAAoB,CAACC,wBAArB,GAAgD;QAAEzL,OAAO,EAAE,CAAX;QAAcO,eAAe,EAAE,QAA/B;QAAyCrC,KAAK,EAAE,EAAhD;QAAoDD,MAAM,EAAE,EAA5D;QAAgEa,QAAQ,EAAE,EAA1E;QAA8EgL,IAAI,EAAE,IAApF;QAA0FxJ,KAAK,EAAE;MAAjG,CAAhD;IACH;;IACD,IAAI,CAACkL,oBAAoB,CAACE,qBAA1B,EAAiD;MAC7CF,oBAAoB,CAACE,qBAArB,GAA6C;QAAEf,WAAW,EAAE3P,WAAW,CAAC4P,IAAZ,GAAmB5P,WAAW,CAAC6P,IAA/B,GAAsC7P,WAAW,CAAC8P,MAAjE;QAAyEC,iBAAiB,EAAE;MAA5F,CAA7C;IACH;;IACD,IAAIY,SAAS,GAAGnD,cAAc,CAACqB,0BAAf,GAA4CrB,cAAc,CAACqB,0BAAf,CAA0CC,IAAtF,GAA6F,IAA7G;;IACA,IAAItB,cAAc,CAAC9M,cAAnB,EAAmC;MAC/B4D,WAAW,CAACxC,EAAZ,GAAiB,gBAAgB0L,cAAc,CAACjK,SAA/B,GAA2C,GAA3C,GAAiD,KAAKqN,mBAAL,EAAlE;MACA,KAAKC,gBAAL,CAAsBvM,WAAtB,EAAmCqM,SAAnC,EAA8C,KAAKxP,SAAL,CAAeqP,oBAAf,CAAoCC,wBAApC,CAA6D3B,IAA3G,EAAiH,SAAjH;IACH,CAHD,MAIK;MACDxK,WAAW,CAACT,KAAZ,CAAkBZ,MAAlB,GAA2B,EAA3B;MACAqB,WAAW,CAACT,KAAZ,CAAkBX,KAAlB,GAA0B,EAA1B;MACAoB,WAAW,CAACxC,EAAZ,GAAiB,aAAa0L,cAAc,CAACjK,SAA5B,GAAwC,GAAxC,GAA8C,KAAKqN,mBAAL,EAA/D;MACA,KAAKC,gBAAL,CAAsBvM,WAAtB,EAAmCqM,SAAnC,EAA8C,KAAKxP,SAAL,CAAesO,sBAAf,CAAsCZ,0BAAtC,CAAiEC,IAA/G,EAAqH,MAArH;IACH;;IACDxK,WAAW,CAACT,KAAZ,CAAkBiN,QAAlB,GAA6B,QAA7B;IACAxM,WAAW,CAACT,KAAZ,CAAkBkN,UAAlB,GAA+B,QAA/B;IACAzM,WAAW,CAACT,KAAZ,CAAkBmN,OAAlB,GAA4B,iBAA5B;IACA1M,WAAW,CAACT,KAAZ,CAAkBoN,SAAlB,GAA8B,YAA9B;IACA,IAAI/O,SAAS,GAAG,KAAKd,aAAL,CAAmBe,aAAnB,EAAhB;IACAmC,WAAW,CAACT,KAAZ,CAAkBsD,SAAlB,GAA8B,MAA9B;IACA7C,WAAW,CAACT,KAAZ,CAAkBC,QAAlB,GAA8BA,QAAQ,GAAG5B,SAAZ,GAAyB,IAAtD;IACA,IAAIgP,YAAY,GAAG,KAAKtC,SAAL,CAAetK,WAAf,CAAnB;IACAA,WAAW,CAACT,KAAZ,CAAkByB,KAAlB,GAA2BkI,cAAc,CAACqB,0BAAf,IAA6CrB,cAAc,CAACqB,0BAAf,CAA0CvJ,KAAxF,GAAiGkI,cAAc,CAACqB,0BAAf,CAA0CvJ,KAA3I,GAAmJ,KAAKnE,SAAL,CAAesO,sBAAf,CAAsCZ,0BAAtC,CAAiEvJ,KAA9O,CAhFsG,CAiFtG;;IACAhB,WAAW,CAACT,KAAZ,CAAkB0B,eAAlB,GAAqCiI,cAAc,CAACqB,0BAAf,IAA6CrB,cAAc,CAACqB,0BAAf,CAA0CtJ,eAAxF,GAA2GiI,cAAc,CAACqB,0BAAf,CAA0CtJ,eAArJ,GAAuK6K,yBAA3M;IACA9L,WAAW,CAACT,KAAZ,CAAkBsN,UAAlB,GAAgC3D,cAAc,CAACqB,0BAAf,IAA6CrB,cAAc,CAACqB,0BAAf,CAA0CsC,UAAxF,GAAsG3D,cAAc,CAACqB,0BAAf,CAA0CsC,UAAhJ,GAA6J7M,WAAW,CAACT,KAAZ,CAAkB0B,eAA9M;IACAjB,WAAW,CAACT,KAAZ,CAAkBmB,OAAlB,GAA6BwI,cAAc,CAACqB,0BAAf,IAA6CrB,cAAc,CAACqB,0BAAf,CAA0C7J,OAAxF,GAAmGwI,cAAc,CAACqB,0BAAf,CAA0C7J,OAA7I,GAAuJ,KAAK7D,SAAL,CAAesO,sBAAf,CAAsCZ,0BAAtC,CAAiE7J,OAApP;IACAV,WAAW,CAACT,KAAZ,CAAkBM,QAAlB,GAA6B,UAA7B;IACAG,WAAW,CAACT,KAAZ,CAAkBX,KAAlB,GAA0BA,KAAK,GAAGhB,SAAR,GAAoB,IAA9C;IACAoC,WAAW,CAACT,KAAZ,CAAkBZ,MAAlB,GAA2BA,MAAM,GAAGf,SAAT,GAAqB,IAAhD;IACA,IAAIkP,QAAQ,GAAG,KAAKC,cAAL,CAAoBf,mBAApB,EAAyCpN,KAAzC,EAAgDgO,YAAY,CAAChO,KAAb,GAAqBY,QAArE,EAA+E5B,SAA/E,CAAf;IACAoC,WAAW,CAACT,KAAZ,CAAkBX,KAAlB,GAA0BkO,QAAQ,GAAItN,QAAQ,GAAG5B,SAAvB,GAAoC,IAA9D;IACA,IAAIoP,SAAS,GAAG,KAAKD,cAAL,CAAoBd,oBAApB,EAA0CtN,MAA1C,EAAkDiO,YAAY,CAACjO,MAA/D,EAAuEf,SAAvE,CAAhB;IACAoC,WAAW,CAACT,KAAZ,CAAkBZ,MAAlB,GAA2BqO,SAAS,GAAG,IAAvC;;IACA,IAAI,CAACzL,OAAL,EAAc;MACVhE,OAAO,CAACY,WAAR,CAAoB6B,WAApB;IACH;;IACD,KAAKiN,gCAAL,CAAsC/D,cAAtC,EAAsDA,cAAc,CAAC9M,cAArE,EAAqF,KAAKS,SAAL,CAAeqQ,4BAApG,EAAkI,KAAK7Q,kBAAvI;;IACA,IAAI,CAACvB,iBAAiB,CAACoO,cAAc,CAACzH,OAAhB,CAAlB,IAA8CyH,cAAc,CAACzH,OAAf,IAA0B,EAA5E,EAAgF;MAC5E,KAAK0L,UAAL,CAAgBjE,cAAc,CAACzH,OAA/B,EAAwClE,OAAxC;IACH;;IACD,KAAK6P,8BAAL,CAAoClE,cAApC,EAAoD3L,OAApD,EAA6DgE,OAA7D;IACA,OAAOhE,OAAP;EACH,CArGD,CA99B0C,CAokC1C;;;EACA1B,YAAY,CAACkB,SAAb,CAAuBwP,gBAAvB,GAA0C,UAAUvM,WAAV,EAAuBqM,SAAvB,EAAkCgB,aAAlC,EAAiDC,WAAjD,EAA8D;IACpGtN,WAAW,CAACL,SAAZ,GAAwB0M,SAAS,GAAGA,SAAH,GAAegB,aAAa,GAAGA,aAAH,GAAmBC,WAAhF;EACH,CAFD;;EAGAzR,YAAY,CAACkB,SAAb,CAAuBuN,SAAvB,GAAmC,UAAUxM,WAAV,EAAuB;IACtD,IAAIyP,aAAa,GAAGzP,WAAW,CAAC0P,SAAZ,CAAsB,IAAtB,CAApB;IACAD,aAAa,CAAChO,KAAd,CAAoBZ,MAApB,GAA6B,EAA7B;IACA4O,aAAa,CAAChO,KAAd,CAAoBX,KAApB,GAA4B,EAA5B;IACA2O,aAAa,CAAC/P,EAAd,GAAmB+P,aAAa,CAAC/P,EAAd,GAAmB,gBAAtC;IACAH,QAAQ,CAACoQ,IAAT,CAActP,WAAd,CAA0BoP,aAA1B;IACA,IAAIG,KAAK,GAAGrQ,QAAQ,CAACC,cAAT,CAAwBiQ,aAAa,CAAC/P,EAAtC,CAAZ;IACA,IAAIQ,MAAM,GAAG0P,KAAK,CAACC,qBAAN,EAAb;IACAtQ,QAAQ,CAACoQ,IAAT,CAAcG,WAAd,CAA0BL,aAA1B;IACA,OAAOvP,MAAP;EACH,CAVD;;EAWAnC,YAAY,CAACkB,SAAb,CAAuB2N,wBAAvB,GAAkD,UAAUmD,eAAV,EAA2BjM,OAA3B,EAAoC9D,WAApC,EAAiD;IAC/F,IAAIA,WAAW,KAAK,IAApB,EAA0B;MACtB,IAAIgQ,WAAW,GAAGhQ,WAAW,CAAC6P,qBAAZ,EAAlB;MACA,IAAI/P,SAAS,GAAG,KAAKd,aAAL,CAAmBe,aAAnB,EAAhB;MACA,IAAImC,WAAW,GAAGlC,WAAW,CAACuM,kBAA9B;MACA,IAAI0D,oBAAoB,GAAGF,eAAe,CAACtD,0BAA3C;MACA,IAAIyD,iBAAiB,GAAGpM,OAAO,CAAC2I,0BAAhC;MACAvK,WAAW,CAACT,KAAZ,CAAkBX,KAAlB,GAA0B,EAA1B;MACAoB,WAAW,CAACT,KAAZ,CAAkBZ,MAAlB,GAA2B,EAA3B;;MACA,IAAIqP,iBAAiB,CAACxD,IAAlB,KAA2BhC,SAA/B,EAA0C;QACtC,KAAK+D,gBAAL,CAAsBvM,WAAtB,EAAmCgO,iBAAiB,CAACxD,IAArD,EAA2DwD,iBAAiB,CAACxD,IAA7E,EAAmF,MAAnF;QACAuD,oBAAoB,CAACvD,IAArB,GAA4BwD,iBAAiB,CAACxD,IAA9C;MACH;;MACD,IAAIwD,iBAAiB,CAACxO,QAAtB,EAAgC;QAC5BQ,WAAW,CAACT,KAAZ,CAAkBC,QAAlB,GAA6BwO,iBAAiB,CAACxO,QAAlB,GAA6BqO,eAAe,CAAClP,MAAhB,GAAyB,CAAtD,GAA0D,EAA1D,GAA+DqP,iBAAiB,CAACxO,QAAlB,GAA6B5B,SAA7B,GAAyC,IAArI;QACAmQ,oBAAoB,CAACvO,QAArB,GAAgCwO,iBAAiB,CAACxO,QAAlD;MACH;;MACD,IAAIxB,MAAM,GAAG,KAAKsM,SAAL,CAAetK,WAAf,CAAb;;MACA,IAAIgO,iBAAiB,CAAChN,KAAtB,EAA6B;QACzBhB,WAAW,CAACT,KAAZ,CAAkByB,KAAlB,GAA0BgN,iBAAiB,CAAChN,KAA5C;QACA+M,oBAAoB,CAAC/M,KAArB,GAA6B,KAAK+D,UAAL,CAAgBiJ,iBAAiB,CAAChN,KAAlC,CAA7B;MACH;;MACD,IAAIgN,iBAAiB,CAAC/M,eAAtB,EAAuC;QACnCjB,WAAW,CAACT,KAAZ,CAAkB0B,eAAlB,GAAoC+M,iBAAiB,CAAC/M,eAAtD;QACA8M,oBAAoB,CAAC9M,eAArB,GAAuC,KAAK8D,UAAL,CAAgBiJ,iBAAiB,CAAC/M,eAAlC,CAAvC;MACH;;MACD,IAAI+M,iBAAiB,CAACtN,OAAtB,EAA+B;QAC3BV,WAAW,CAACT,KAAZ,CAAkBmB,OAAlB,GAA4BsN,iBAAiB,CAACtN,OAA9C;QACAqN,oBAAoB,CAACrN,OAArB,GAA+BsN,iBAAiB,CAACtN,OAAjD;MACH;;MACD,IAAIsN,iBAAiB,CAACpP,KAAlB,IAA2BgD,OAAO,CAAChD,KAAnC,IAA4CoP,iBAAiB,CAACxD,IAAlE,EAAwE;QACpE,IAAI5L,KAAK,GAAG,KAAKmO,cAAL,CAAoBe,WAAW,CAAClP,KAAhC,EAAuCoP,iBAAiB,CAACpP,KAAzD,EAAgEZ,MAAM,CAACY,KAAvE,EAA8EhB,SAA9E,CAAZ;QACAoC,WAAW,CAACT,KAAZ,CAAkBX,KAAlB,GAA0BA,KAAK,GAAImP,oBAAoB,CAACvO,QAArB,GAAgC5B,SAAzC,GAAsD,IAAhF;QACAmQ,oBAAoB,CAACnP,KAArB,GAA6BA,KAA7B;MACH;;MACD,IAAIoP,iBAAiB,CAACrP,MAAlB,IAA4BiD,OAAO,CAACjD,MAApC,IAA8CqP,iBAAiB,CAACxD,IAApE,EAA0E;QACtE,IAAI7L,MAAM,GAAG,KAAKoO,cAAL,CAAoBe,WAAW,CAACnP,MAAhC,EAAwCqP,iBAAiB,CAACrP,MAA1D,EAAkEX,MAAM,CAACW,MAAzE,EAAiFf,SAAjF,CAAb;QACAoC,WAAW,CAACT,KAAZ,CAAkBZ,MAAlB,GAA2BA,MAAM,GAAG,IAApC;QACAoP,oBAAoB,CAACpP,MAArB,GAA8BA,MAA9B;MACH;;MACD,KAAKyO,8BAAL,CAAoCS,eAApC,EAAqD/P,WAArD,EAAkE+P,eAAe,CAACtM,OAAlF;MACAsM,eAAe,CAACtD,0BAAhB,GAA6CwD,oBAA7C;MACA,OAAOF,eAAP;IACH;EACJ,CA5CD;;EA6CAhS,YAAY,CAACkB,SAAb,CAAuBgQ,cAAvB,GAAwC,UAAUkB,UAAV,EAAsBC,cAAtB,EAAsCC,cAAtC,EAAsDvQ,SAAtD,EAAiE;IACrG,IAAIwQ,aAAJ;;IACA,IAAIH,UAAU,GAAG,CAAb,GAAiBC,cAAjB,IAAmCC,cAAc,GAAGD,cAAxD,EAAwE;MACpEE,aAAa,GAAGF,cAAc,GAAGtQ,SAAjC;IACH,CAFD,MAGK,IAAIuQ,cAAc,IAAIF,UAAU,GAAG,CAAnC,EAAsC;MACvCG,aAAa,GAAGD,cAAc,GAAGvQ,SAAjC;IACH,CAFI,MAGA;MACDwQ,aAAa,GAAGH,UAAU,GAAG,CAAb,GAAiBrQ,SAAjC;IACH;;IACD,OAAOwQ,aAAP;EACH,CAZD;EAaA;AACJ;AACA;;;EACIvS,YAAY,CAACkB,SAAb,CAAuBsB,kBAAvB,GAA4C,UAAUgQ,eAAV,EAA2BrP,aAA3B,EAA0C;IAClF,IAAIzB,OAAO,GAAG/C,aAAa,CAAC,KAAD,CAA3B;IACA+C,OAAO,CAACkC,SAAR,GAAoB,gBAApB;IACAlC,OAAO,CAACgC,KAAR,CAAcM,QAAd,GAAyB,UAAzB;IACAtC,OAAO,CAACgC,KAAR,CAAcX,KAAd,GAAsB,MAAtB;IACArB,OAAO,CAACgC,KAAR,CAAcZ,MAAd,GAAuB,MAAvB;IACA,IAAI2P,MAAM,GAAGjR,QAAQ,CAAC7C,aAAT,CAAuB,QAAvB,CAAb;IACA8T,MAAM,CAACC,gBAAP,CAAwB,QAAxB,EAAkC,KAAKC,cAAL,CAAoBC,IAApB,CAAyB,IAAzB,CAAlC;IACAH,MAAM,CAAC9Q,EAAP,GAAYwB,aAAa,CAACxB,EAA1B;IACA8Q,MAAM,CAAC1O,IAAP,GAAc,qBAAqB,KAAK9C,aAAL,CAAmBW,cAAnB,CAAkCC,YAAvD,GAAsE2Q,eAAe,CAAC7Q,EAApG;IACA8Q,MAAM,CAAC7O,SAAP,GAAmB,yBAAnB;IACA6O,MAAM,CAAC/O,KAAP,CAAaX,KAAb,GAAqB,MAArB;IACA0P,MAAM,CAAC/O,KAAP,CAAaZ,MAAb,GAAsB,MAAtB;IACA2P,MAAM,CAAC/O,KAAP,CAAaM,QAAb,GAAwB,UAAxB;IACA,KAAK6O,qCAAL,CAA2C1P,aAA3C,EAA0D,KAAKnC,SAAL,CAAeqQ,4BAAzE,EAAuG,KAAK7Q,kBAA5G;IACA,IAAIsS,gBAAgB,GAAG3P,aAAa,CAAC4C,OAAd,GAAwB5C,aAAa,CAAC4C,OAAtC,GAAgD,EAAvE;IACA,KAAKgN,4BAAL,CAAkC5P,aAAlC,EAAiDsP,MAAjD;;IACA,KAAK,IAAIhF,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGqF,gBAAgB,CAAC5O,MAArC,EAA6CuJ,CAAC,EAA9C,EAAkD;MAC9C,IAAIjG,MAAM,GAAGhG,QAAQ,CAAC7C,aAAT,CAAuB,QAAvB,CAAb;MACA6I,MAAM,CAAC5D,SAAP,GAAmB,yBAAnB;MACA4D,MAAM,CAACxC,KAAP,GAAe8N,gBAAgB,CAACrF,CAAD,CAAhB,CAAoBuF,SAAnC;MACAxL,MAAM,CAACmH,IAAP,GAAcmE,gBAAgB,CAACrF,CAAD,CAAhB,CAAoBwF,QAAlC;MACA,KAAKF,4BAAL,CAAkC5P,aAAlC,EAAiDqE,MAAjD;MACAiL,MAAM,CAACnQ,WAAP,CAAmBkF,MAAnB;IACH;;IACDiL,MAAM,CAACnL,aAAP,GAAuB,CAACrI,iBAAiB,CAACkE,aAAa,CAACmE,aAAf,CAAlB,GAAkDnE,aAAa,CAACmE,aAAhE,GAAgF,CAAvG;IACA5F,OAAO,CAACY,WAAR,CAAoBmQ,MAApB;;IACA,IAAI,CAACxT,iBAAiB,CAACkE,aAAa,CAACyC,OAAf,CAAlB,IAA6CzC,aAAa,CAACyC,OAAd,IAAyB,EAA1E,EAA8E;MAC1E,KAAK0L,UAAL,CAAgBnO,aAAa,CAACyC,OAA9B,EAAuClE,OAAvC;IACH;;IACD,OAAOA,OAAP;EACH,CA/BD;EAgCA;AACJ;AACA;;;EACI1B,YAAY,CAACkB,SAAb,CAAuBuB,aAAvB,GAAuC,UAAUyQ,cAAV,EAA0B/P,aAA1B,EAAyC;IAC5E,IAAIzB,OAAO,GAAG/C,aAAa,CAAC,KAAD,CAA3B;IACA+C,OAAO,CAACkC,SAAR,GAAoB,gBAApB;IACAlC,OAAO,CAACgC,KAAR,CAAcM,QAAd,GAAyB,UAAzB;IACAtC,OAAO,CAACgC,KAAR,CAAcX,KAAd,GAAsB,MAAtB;IACArB,OAAO,CAACgC,KAAR,CAAcZ,MAAd,GAAuB,MAAvB;IACA,IAAI2P,MAAM,GAAGjR,QAAQ,CAAC7C,aAAT,CAAuB,QAAvB,CAAb;IACA8T,MAAM,CAACC,gBAAP,CAAwB,OAAxB,EAAiC,KAAKS,aAAL,CAAmBP,IAAnB,CAAwB,IAAxB,CAAjC;IACAH,MAAM,CAAC9Q,EAAP,GAAYwB,aAAa,CAACxB,EAA1B;IACA8Q,MAAM,CAAC1O,IAAP,GAAc,qBAAqB,KAAK9C,aAAL,CAAmBW,cAAnB,CAAkCC,YAAvD,GAAsEqR,cAAc,CAACvR,EAAnG;IACA8Q,MAAM,CAAC7O,SAAP,GAAmB,wBAAnB;IACA6O,MAAM,CAAC/O,KAAP,CAAaX,KAAb,GAAqB,MAArB;IACA0P,MAAM,CAAC/O,KAAP,CAAaZ,MAAb,GAAsB,MAAtB;IACA2P,MAAM,CAAC/O,KAAP,CAAaM,QAAb,GAAwB,UAAxB;IACAyO,MAAM,CAACW,QAAP,GAAkB,IAAlB;IACA,KAAKC,oCAAL,CAA0ClQ,aAA1C,EAAyD,KAAKnC,SAAL,CAAeqQ,4BAAxE,EAAsG,KAAK7Q,kBAA3G;IACA,IAAIsS,gBAAgB,GAAG3P,aAAa,CAAC4C,OAAd,GAAwB5C,aAAa,CAAC4C,OAAtC,GAAgD,EAAvE;IACA,KAAKuN,uBAAL,CAA6BnQ,aAA7B,EAA4CsP,MAA5C;;IACA,KAAK,IAAIhF,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGqF,gBAAgB,CAAC5O,MAArC,EAA6CuJ,CAAC,EAA9C,EAAkD;MAC9C,IAAIjG,MAAM,GAAGhG,QAAQ,CAAC7C,aAAT,CAAuB,QAAvB,CAAb;MACA6I,MAAM,CAAC5D,SAAP,GAAmB,wBAAnB;MACA4D,MAAM,CAACxC,KAAP,GAAe8N,gBAAgB,CAACrF,CAAD,CAAhB,CAAoBuF,SAAnC;MACAxL,MAAM,CAACmH,IAAP,GAAcmE,gBAAgB,CAACrF,CAAD,CAAhB,CAAoBwF,QAAlC;;MACA,IAAI,CAAChU,iBAAiB,CAACkE,aAAa,CAACmE,aAAf,CAAtB,EAAqD;QACjD,KAAK,IAAIiM,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGpQ,aAAa,CAACmE,aAAd,CAA4BpD,MAAhD,EAAwDqP,CAAC,EAAzD,EAA6D;UACzD,IAAI9F,CAAC,KAAKtK,aAAa,CAACmE,aAAd,CAA4BiM,CAA5B,CAAV,EAA0C;YACtC/L,MAAM,CAACgM,QAAP,GAAkB,IAAlB;UACH;QACJ;MACJ;;MACDf,MAAM,CAACnQ,WAAP,CAAmBkF,MAAnB;IACH;;IACD9F,OAAO,CAACY,WAAR,CAAoBmQ,MAApB;;IACA,IAAI,CAACxT,iBAAiB,CAACkE,aAAa,CAACyC,OAAf,CAAlB,IAA6CzC,aAAa,CAACyC,OAAd,IAAyB,EAA1E,EAA8E;MAC1E,KAAK0L,UAAL,CAAgBnO,aAAa,CAACyC,OAA9B,EAAuClE,OAAvC;IACH;;IACD,OAAOA,OAAP;EACH,CArCD;EAsCA;AACJ;AACA;;;EACI1B,YAAY,CAACkB,SAAb,CAAuBwB,kBAAvB,GAA4C,UAAUtB,uBAAV,EAAmC+B,aAAnC,EAAkDsQ,eAAlD,EAAmE/N,OAAnE,EAA4E;IACpH,IAAI3D,SAAS,GAAG,KAAKd,aAAL,CAAmBe,aAAnB,EAAhB;IACA,IAAIN,OAAO,GAAG/C,aAAa,CAAC,KAAD,CAA3B;IACA+C,OAAO,CAACkC,SAAR,GAAoB,gBAApB;IACAlC,OAAO,CAACgC,KAAR,CAAcM,QAAd,GAAyB,UAAzB;IACAtC,OAAO,CAACgC,KAAR,CAAcX,KAAd,GAAsB,MAAtB;IACArB,OAAO,CAACgC,KAAR,CAAcZ,MAAd,GAAuB,MAAvB;IACA,IAAI4Q,YAAJ;IACA,IAAIC,WAAJ;IACA,IAAIC,SAAJ;IACA,IAAIC,YAAY,GAAGlV,aAAa,CAAC,OAAD,CAAhC;IACA,IAAImV,QAAQ,GAAGnV,aAAa,CAAC,UAAD,CAA5B;IACAkV,YAAY,CAAClS,EAAb,GAAkBwB,aAAa,CAACxB,EAAhC;IACAkS,YAAY,CAACnQ,KAAb,CAAmBM,QAAnB,GAA8B,UAA9B;;IACA,IAAI5C,uBAAuB,KAAK,SAAhC,EAA2C;MACvC,IAAI+B,aAAa,CAACwD,WAAlB,EAA+B;QAC3BmN,QAAQ,GAAG,KAAKC,qBAAL,CAA2BF,YAAY,CAAClS,EAAxC,CAAX;QACA,KAAKqS,gCAAL,CAAsC7Q,aAAtC,EAAqD,KAAKnC,SAAL,CAAeqQ,4BAApE,EAAkG,KAAK7Q,kBAAvG;QACA,KAAKyT,uBAAL,CAA6B9Q,aAA7B,EAA4C2Q,QAA5C;MACH,CAJD,MAKK;QACDD,YAAY,GAAG,KAAKK,oBAAL,CAA0BL,YAAY,CAAClS,EAAvC,CAAf;QACA,KAAKqS,gCAAL,CAAsC7Q,aAAtC,EAAqD,KAAKnC,SAAL,CAAeqQ,4BAApE,EAAkG,KAAK7Q,kBAAvG;QACA,KAAKyT,uBAAL,CAA6B9Q,aAA7B,EAA4C0Q,YAA5C;MACH;IACJ,CAXD,MAYK,IAAIzS,uBAAuB,IAAI,UAA/B,EAA2C;MAC5C,IAAI6M,gBAAgB,GAAG,EAAvB;MACAvM,OAAO,CAACgC,KAAR,CAAcsD,SAAd,GAA2BtI,OAAO,CAACyV,IAAR,CAAapQ,IAAb,KAAsB,QAAvB,GAAmC,gBAAnC,GAAsD,QAAhF;MACArC,OAAO,CAACgC,KAAR,CAAcsK,OAAd,GAAwB,MAAxB;MACAtM,OAAO,CAACgC,KAAR,CAAc0Q,UAAd,GAA2B,QAA3B;MACA,IAAIjS,MAAM,GAAG,KAAKkC,4BAAL,CAAkClB,aAAlC,EAAiDsQ,eAAjD,CAAb;MACA/R,OAAO,CAACgC,KAAR,CAAcsK,OAAd,GAAwB7L,MAAM,CAAC6L,OAA/B;MACA0F,YAAY,GAAG/U,aAAa,CAAC,OAAD,EAAU;QAAEiF,SAAS,EAAE;MAAb,CAAV,CAA5B;MACA8P,YAAY,CAAChQ,KAAb,CAAmBX,KAAnB,GAA2BZ,MAAM,CAACY,KAAP,GAAe,IAA1C;MACA2Q,YAAY,CAAChQ,KAAb,CAAmBZ,MAAnB,GAA4BX,MAAM,CAACW,MAAP,GAAgB,IAA5C;MACA,IAAI,KAAKhC,YAAT,EACI4S,YAAY,CAAChQ,KAAb,CAAmB2Q,MAAnB,GAA4B,WAA5B,CADJ,KAGIX,YAAY,CAAChQ,KAAb,CAAmB2Q,MAAnB,GAA4B,SAA5B;MACJV,WAAW,GAAGhV,aAAa,CAAC,KAAD,EAAQ;QAAEiF,SAAS,EAAE;MAAb,CAAR,CAA3B;MACA+P,WAAW,CAACjB,gBAAZ,CAA6B,OAA7B,EAAsC,KAAK4B,gBAAL,CAAsB1B,IAAtB,CAA2B,IAA3B,CAAtC;MACAe,WAAW,CAAChS,EAAZ,GAAiBwB,aAAa,CAACxB,EAAd,GAAmB,QAApC;;MACA,IAAIwB,aAAa,CAAC8C,SAAlB,EAA6B;QACzB2N,SAAS,GAAGjV,aAAa,CAAC,MAAD,EAAS;UAAEiF,SAAS,EAAE;QAAb,CAAT,CAAzB;MACH,CAFD,MAIIgQ,SAAS,GAAGjV,aAAa,CAAC,MAAD,EAAS;QAAEiF,SAAS,EAAE;MAAb,CAAT,CAAzB;;MACJgQ,SAAS,CAACjS,EAAV,GAAewB,aAAa,CAACxB,EAAd,GAAmB,aAAlC;MACA+R,YAAY,CAAC/R,EAAb,GAAkBwB,aAAa,CAACxB,EAAd,GAAmB,cAArC;MACAiS,SAAS,CAAClQ,KAAV,CAAgBX,KAAhB,GAAyBZ,MAAM,CAACY,KAAP,GAAe,CAAhB,GAAqB,IAA7C;MACA6Q,SAAS,CAAClQ,KAAV,CAAgBZ,MAAhB,GAA0BX,MAAM,CAACW,MAAP,GAAgB,GAAjB,GAAwB,IAAjD;MACA8Q,SAAS,CAAClQ,KAAV,CAAgBwK,IAAhB,GAAwB/L,MAAM,CAACY,KAAP,GAAe,GAAhB,GAAuB,IAA9C;MACA6Q,SAAS,CAAClQ,KAAV,CAAgByK,GAAhB,GAAuBhM,MAAM,CAACW,MAAP,GAAgB,CAAjB,GAAsB,IAA5C;;MACA,IAAI8Q,SAAS,CAAChQ,SAAV,CAAoBkH,OAApB,CAA4B,iBAA5B,MAAmD,CAAC,CAAxD,EAA2D;QACvD,IAAIsD,aAAa,GAAG9J,QAAQ,CAACoP,YAAY,CAAChQ,KAAb,CAAmBX,KAApB,EAA2B,EAA3B,CAA5B;;QACA,IAAIqL,aAAa,GAAGH,gBAApB,EAAsC;UAClC2F,SAAS,CAAClQ,KAAV,CAAgB2K,WAAhB,GAA8B,KAA9B;QACH,CAFD,MAGK,IAAID,aAAa,IAAI,EAArB,EAAyB;UAC1BwF,SAAS,CAAClQ,KAAV,CAAgB2K,WAAhB,GAA8B,KAA9B;QACH,CAFI,MAGA;UACDuF,SAAS,CAAClQ,KAAV,CAAgB2K,WAAhB,GAA8B,KAA9B;QACH;MACJ;;MACDwF,YAAY,CAAC9J,IAAb,GAAoB,UAApB;MACA8J,YAAY,CAACnQ,KAAb,CAAmBa,MAAnB,GAA4B,KAA5B;MACAsP,YAAY,CAACnQ,KAAb,CAAmBX,KAAnB,GAA2BZ,MAAM,CAACY,KAAP,GAAe,IAA1C;MACA8Q,YAAY,CAACnQ,KAAb,CAAmBZ,MAAnB,GAA4BX,MAAM,CAACW,MAAP,GAAgB,IAA5C;;MACA,IAAI4C,OAAJ,EAAa;QACT,KAAK6O,wBAAL,CAA8BpR,aAA9B,EAA6C0Q,YAA7C;MACH,CAFD,MAGK;QACD,KAAKW,qCAAL,CAA2CrR,aAA3C,EAA0D,KAAKnC,SAAL,CAAeqQ,4BAAzE,EAAuG,KAAK7Q,kBAA5G;QACA,KAAK+T,wBAAL,CAA8BpR,aAA9B,EAA6CwQ,WAA7C;MACH;;MACDD,YAAY,CAACpR,WAAb,CAAyBuR,YAAzB;MACAH,YAAY,CAACpR,WAAb,CAAyBqR,WAAzB;MACAA,WAAW,CAACrR,WAAZ,CAAwBsR,SAAxB;;MACA,IAAIlO,OAAJ,EAAa;QACTmO,YAAY,CAACnQ,KAAb,CAAmB+Q,YAAnB,GAAkCtR,aAAa,CAAC2C,SAAd,GAA0B,IAA5D;QACA+N,YAAY,CAACnQ,KAAb,CAAmBgR,YAAnB,GAAkCvR,aAAa,CAAC0C,WAAhD;QACAgO,YAAY,CAACnQ,KAAb,CAAmBiR,YAAnB,GAAkC,OAAlC;QACAd,YAAY,CAACnQ,KAAb,CAAmBsN,UAAnB,GAAgC7N,aAAa,CAACiC,eAA9C;MACH;IACJ,CA5DI,MA6DA,IAAIhE,uBAAuB,IAAI,eAA/B,EAAgD;MACjDyS,YAAY,CAAC9J,IAAb,GAAoB,UAApB;MACA8J,YAAY,CAACjQ,SAAb,GAAyB,sBAAzB;MACAiQ,YAAY,CAACnQ,KAAb,CAAmBX,KAAnB,GAA2B,MAA3B;MACA8Q,YAAY,CAACnQ,KAAb,CAAmBZ,MAAnB,GAA4B,MAA5B;MACA+Q,YAAY,CAACnB,gBAAb,CAA8B,OAA9B,EAAuC,KAAKkC,iBAAL,CAAuBhC,IAAvB,CAA4B,IAA5B,CAAvC;MACAiB,YAAY,CAACnB,gBAAb,CAA8B,QAA9B,EAAwC,KAAKmC,eAAL,CAAqBjC,IAArB,CAA0B,IAA1B,CAAxC;MACA,KAAKkC,oCAAL,CAA0C3R,aAA1C,EAAyD,KAAKnC,SAAL,CAAeqQ,4BAAxE,EAAsG,KAAK7Q,kBAA3G;MACA,KAAKuU,6BAAL,CAAmC5R,aAAnC,EAAkD0Q,YAAlD;IACH,CATI,MAUA;MACD;AACZ;AACA;AACA;AACA;AACA;MACYnS,OAAO,CAACgC,KAAR,CAAcsK,OAAd,GAAwB,MAAxB;MACAtM,OAAO,CAACgC,KAAR,CAAc0Q,UAAd,GAA2B,QAA3B;MACA,IAAIjS,MAAM,GAAG,KAAKkC,4BAAL,CAAkClB,aAAlC,EAAiDsQ,eAAjD,CAAb;MACA/R,OAAO,CAACgC,KAAR,CAAcsK,OAAd,GAAwB7L,MAAM,CAAC6L,OAA/B;MACA0F,YAAY,GAAG/U,aAAa,CAAC,OAAD,EAAU;QAAEiF,SAAS,EAAE;MAAb,CAAV,CAA5B;MACA8P,YAAY,CAAChQ,KAAb,CAAmBX,KAAnB,GAA2BZ,MAAM,CAACY,KAAP,GAAe,IAA1C;MACA2Q,YAAY,CAAChQ,KAAb,CAAmBZ,MAAnB,GAA4BX,MAAM,CAACW,MAAP,GAAgB,IAA5C;MACA4Q,YAAY,CAAChQ,KAAb,CAAmBsK,OAAnB,GAA6B,OAA7B;MACA0F,YAAY,CAAChQ,KAAb,CAAmBsR,aAAnB,GAAmC,QAAnC;MACAtB,YAAY,CAAChQ,KAAb,CAAmBuR,SAAnB,GAA+B9R,aAAa,CAAC0C,WAAd,GAA4B,eAA5B,GAA8C1C,aAAa,CAAC2C,SAA5D,GAAwE,IAAvG;MACA4N,YAAY,CAAChQ,KAAb,CAAmBwR,YAAnB,GAAkC,KAAlC;MACAxB,YAAY,CAAChQ,KAAb,CAAmB6B,UAAnB,GAAgCpC,aAAa,CAACoC,UAA9C;MACA,IAAI,KAAKzE,YAAT,EACI4S,YAAY,CAAChQ,KAAb,CAAmB2Q,MAAnB,GAA4B,WAA5B,CADJ,KAGIX,YAAY,CAAChQ,KAAb,CAAmB2Q,MAAnB,GAA4B,SAA5B;MACJX,YAAY,CAAChQ,KAAb,CAAmBsN,UAAnB,GAAgC7N,aAAa,CAACiC,eAA9C;MACAwO,SAAS,GAAGjV,aAAa,CAAC,MAAD,EAAS;QAAEiF,SAAS,EAAE;MAAb,CAAT,CAAzB;MACAgQ,SAAS,CAACjS,EAAV,GAAewB,aAAa,CAACxB,EAA7B;MACAiS,SAAS,CAAClQ,KAAV,CAAgBX,KAAhB,GAAwB8I,IAAI,CAACU,KAAL,CAAWpK,MAAM,CAACY,KAAP,GAAe,CAA1B,IAA+B,IAAvD;MACA6Q,SAAS,CAAClQ,KAAV,CAAgBZ,MAAhB,GAAyB+I,IAAI,CAACU,KAAL,CAAWpK,MAAM,CAACW,MAAP,GAAgB,CAA3B,IAAgC,IAAzD;;MACA,IAAIf,SAAS,GAAG,CAAZ,IAAiBI,MAAM,CAACY,KAAP,IAAgB,EAAjC,IAAuCZ,MAAM,CAACW,MAAP,IAAiB,EAA5D,EAAgE;QAC5D8Q,SAAS,CAAClQ,KAAV,CAAgBa,MAAhB,GAAyBsH,IAAI,CAACK,KAAL,CAAW5H,QAAQ,CAACoP,YAAY,CAAChQ,KAAb,CAAmBX,KAApB,CAAR,GAAqC,GAAhD,IAAuD,IAAhF;MACH,CAFD,MAGK;QACD6Q,SAAS,CAAClQ,KAAV,CAAgBa,MAAhB,GAAyBsH,IAAI,CAACK,KAAL,CAAW5H,QAAQ,CAACoP,YAAY,CAAChQ,KAAb,CAAmBX,KAApB,CAAR,GAAqC,CAAhD,IAAqD,IAA9E;MACH;;MACD2Q,YAAY,CAAChB,gBAAb,CAA8B,OAA9B,EAAuC,KAAKyC,mBAAL,CAAyBvC,IAAzB,CAA8B,IAA9B,CAAvC;MACAc,YAAY,CAAC/R,EAAb,GAAkBwB,aAAa,CAACxB,EAAd,GAAmB,cAArC;MACAkS,YAAY,CAAC9J,IAAb,GAAoB,OAApB;MACA,IAAI,CAACrE,OAAL,EACImO,YAAY,CAACjQ,SAAb,GAAyB,gBAAzB;MACJiQ,YAAY,CAACnQ,KAAb,CAAmBa,MAAnB,GAA4B,KAA5B;MACAsP,YAAY,CAACnB,gBAAb,CAA8B,OAA9B,EAAuC,UAAUpR,KAAV,EAAiB;QACpDA,KAAK,CAAC8T,eAAN;MACH,CAFD;MAGAvB,YAAY,CAACnQ,KAAb,CAAmBX,KAAnB,GAA2BZ,MAAM,CAACY,KAAP,GAAe,IAA1C;MACA8Q,YAAY,CAACnQ,KAAb,CAAmBZ,MAAnB,GAA4BX,MAAM,CAACW,MAAP,GAAgB,IAA5C;MACA,KAAKuS,uCAAL,CAA6ClS,aAA7C,EAA4D,KAAKnC,SAAL,CAAeqQ,4BAA3E,EAAyG,KAAK7Q,kBAA9G;MACA,KAAK8U,2BAAL,CAAiCnS,aAAjC,EAAgD0Q,YAAhD;MACAH,YAAY,CAACpR,WAAb,CAAyBuR,YAAzB;MACAH,YAAY,CAACpR,WAAb,CAAyBsR,SAAzB;;MACA,IAAIzQ,aAAa,CAACsC,UAAlB,EAA8B;QAC1BiO,YAAY,CAAChQ,KAAb,CAAmBuR,SAAnB,GAA+B,qBAAqB9R,aAAa,CAAC2C,SAAnC,GAA+C,IAA9E;MACH,CAnDA,CAoDD;MACA;MACA;MACA;MACA;MACA;;IACH;;IACD,IAAI,CAAC1E,uBAAuB,KAAK,UAA5B,IAA0CA,uBAAuB,KAAK,aAAvE,KAAyF,CAACsE,OAA9F,EAAuG;MACnGhE,OAAO,CAACY,WAAR,CAAoBoR,YAApB;IACH,CAFD,MAGK;MACD,IAAIvQ,aAAa,CAACwD,WAAlB,EAA+B;QAC3BjF,OAAO,CAACY,WAAR,CAAoBwR,QAApB;MACH,CAFD,MAGK;QACDpS,OAAO,CAACY,WAAR,CAAoBuR,YAApB;MACH;IACJ;;IACD,IAAI,CAAC5U,iBAAiB,CAACkE,aAAa,CAACyC,OAAf,CAAlB,IAA6CzC,aAAa,CAACyC,OAAd,IAAyB,EAA1E,EAA8E;MAC1E,IAAIxE,uBAAuB,KAAK,aAAhC,EACI,KAAKkQ,UAAL,CAAgBnO,aAAa,CAACyC,OAA9B,EAAuC8N,YAAvC,EADJ,KAGI,KAAKpC,UAAL,CAAgBnO,aAAa,CAACyC,OAA9B,EAAuClE,OAAvC;IACP;;IACD,KAAKZ,YAAL,GAAoB,KAApB;IACA,OAAOY,OAAP;EACH,CA/KD;;EAgLA1B,YAAY,CAACkB,SAAb,CAAuBiS,aAAvB,GAAuC,UAAU7R,KAAV,EAAiB;IACpD,IAAI+G,IAAI,GAAG,KAAKpH,aAAL,CAAmBqH,yBAAnB,CAA6C,eAA7C,CAAX;IACA,IAAIC,cAAc,GAAGC,IAAI,CAACC,KAAL,CAAWJ,IAAX,CAArB;;IACA,KAAK,IAAIjE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGmE,cAAc,CAACrE,MAAnC,EAA2CE,CAAC,EAA5C,EAAgD;MAC5C,IAAImE,cAAc,CAACnE,CAAD,CAAd,CAAkB2D,GAAlB,CAAsBqB,KAAtB,CAA4B,GAA5B,EAAiC,CAAjC,MAAwC9H,KAAK,CAACiU,aAAN,CAAoB5T,EAApB,CAAuByH,KAAvB,CAA6B,GAA7B,EAAkC,CAAlC,CAAxC,IACA,KAAKpI,SAAL,CAAesM,SAAf,CAAyBhM,KAAK,CAACiU,aAAN,CAAoB5T,EAApB,CAAuByH,KAAvB,CAA6B,GAA7B,EAAkC,CAAlC,CAAzB,EAA+DrF,IAA/D,KAAwEwE,cAAc,CAACnE,CAAD,CAAd,CAAkB4D,SAAlB,CAA4BjE,IADxG,EAC8G;QAC1G,IAAIwE,cAAc,CAACnE,CAAD,CAAd,CAAkB2D,GAAlB,CAAsBqB,KAAtB,CAA4B,GAA5B,EAAiC,CAAjC,MAAwC9H,KAAK,CAACiU,aAAN,CAAoB5T,EAApB,CAAuByH,KAAvB,CAA6B,GAA7B,EAAkC,CAAlC,CAA5C,EAAkF;UAC9E,IAAIyK,YAAY,GAAGrS,QAAQ,CAACC,cAAT,CAAyB8G,cAAc,CAACnE,CAAD,CAAd,CAAkB2D,GAAlB,CAAsBqB,KAAtB,CAA4B,GAA5B,EAAiC,CAAjC,IAAsC,uBAA/D,EAAyF0E,iBAAzF,CAA2GA,iBAA9H;;UACA,KAAK,IAAIyF,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGjS,KAAK,CAACiU,aAAN,CAAoBxP,OAApB,CAA4B7B,MAAhD,EAAwDqP,CAAC,EAAzD,EAA6D;YACzDM,YAAY,CAAC9N,OAAb,CAAqBwN,CAArB,EAAwBC,QAAxB,GAAmClS,KAAK,CAACiU,aAAN,CAAoBxP,OAApB,CAA4BwN,CAA5B,EAA+BC,QAAlE;UACH;QACJ;;QACDjL,cAAc,CAACnE,CAAD,CAAd,CAAkB4D,SAAlB,CAA4BV,aAA5B,GAA4C,EAA5C;QACA,IAAIkO,SAAS,GAAG,KAAKvU,aAAL,CAAmB2G,mBAAnB,CAAuCxD,CAAvC,EAA0C4D,SAA1C,CAAoDV,aAApE;;QACA,KAAK,IAAImG,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGnM,KAAK,CAACiU,aAAN,CAAoBE,eAApB,CAAoCvR,MAAxD,EAAgEuJ,CAAC,EAAjE,EAAqE;UACjE,IAAIiI,WAAW,GAAGpU,KAAK,CAACiU,aAAN,CAAoBE,eAApB,CAAoChI,CAApC,EAAuCkI,KAAzD;UACA,IAAIC,aAAa,GAAG,CAApB;;UACA,IAAI,KAAK3U,aAAL,CAAmB2G,mBAAnB,CAAuCxD,CAAvC,EAA0C4D,SAA1C,CAAoDV,aAApD,IAAqE,KAAKrG,aAAL,CAAmB2G,mBAAnB,CAAuCxD,CAAvC,EAA0C4D,SAA1C,CAAoDV,aAApD,CAAkEpD,MAAlE,KAA6E,CAAtJ,EAAyJ;YACrJ0R,aAAa,GAAG,KAAK3U,aAAL,CAAmB2G,mBAAnB,CAAuCxD,CAAvC,EAA0C4D,SAA1C,CAAoDV,aAApD,CAAkEuO,GAAlE,EAAhB;YACA,KAAK5U,aAAL,CAAmB2G,mBAAnB,CAAuCxD,CAAvC,EAA0C4D,SAA1C,CAAoDV,aAApD,CAAkEG,IAAlE,CAAuEmO,aAAvE;UACH;;UACD,IAAIE,QAAQ,GAAGvN,cAAc,CAACnE,CAAD,CAAd,CAAkB4D,SAAlB,CAA4BR,MAA5B,CAAmCoO,aAAnC,EAAkD5C,SAAjE;UACAzK,cAAc,CAACnE,CAAD,CAAd,CAAkB4D,SAAlB,CAA4BV,aAA5B,CAA0CG,IAA1C,CAA+CiO,WAA/C;UACA,KAAK1U,SAAL,CAAesM,SAAf,CAAyB/E,cAAc,CAACnE,CAAD,CAAd,CAAkB2D,GAAlB,CAAsBqB,KAAtB,CAA4B,GAA5B,EAAiC,CAAjC,CAAzB,EAA8D9B,aAA9D,GAA8EiB,cAAc,CAACnE,CAAD,CAAd,CAAkB4D,SAAlB,CAA4BV,aAA1G;UACA,KAAKrG,aAAL,CAAmB2G,mBAAnB,CAAuCxD,CAAvC,EAA0C4D,SAA1C,CAAoDV,aAApD,GAAoEiB,cAAc,CAACnE,CAAD,CAAd,CAAkB4D,SAAlB,CAA4BV,aAAhG;UACA,IAAIyO,QAAQ,GAAGxN,cAAc,CAACnE,CAAD,CAAd,CAAkB4D,SAAlB,CAA4BR,MAA5B,CAAmCkO,WAAnC,EAAgD1C,SAA/D;UACA,KAAK/R,aAAL,CAAmB2G,mBAAnB,CAAuCxD,CAAvC,EAA0C4D,SAA1C,CAAoDhD,KAApD,GAA4D+Q,QAA5D;UACA,KAAKC,0BAAL,CAAgC,KAAK/U,aAAL,CAAmB2G,mBAAnB,CAAuCxD,CAAvC,EAA0C4D,SAA1E;UACA,KAAKhH,SAAL,CAAeiV,kCAAf,CAAkD,2BAAlD,EAA+E1N,cAAc,CAACnE,CAAD,CAAd,CAAkB4D,SAAjG,EAA4G,KAAK/G,aAAL,CAAmB2G,mBAAnB,CAAuCxD,CAAvC,EAA0C4D,SAA1C,CAAoDhC,UAAhK,EAA4K,IAA5K,EAAkL,KAAlL,EAAyL,KAAzL,EAAgM,KAAhM,EAAuM,KAAvM,EAA8M,KAA9M,EAAqN,KAArN,EAA4N,KAA5N,EAAmO,KAAnO,EAA0O,KAA1O,EAAiP,KAAjP,EAAwP,KAAxP,EAA+P,KAA/P,EAAsQ,KAAtQ,EAA6Q,KAA7Q,EAAoR8P,QAApR,EAA8RC,QAA9R;QACH;;QACD,IAAI,KAAK/U,SAAL,CAAekV,UAAnB,EAA+B;UAC3B,KAAKlV,SAAL,CAAekV,UAAf,CAA0BC,SAA1B,CAAoC,KAAKlV,aAAL,CAAmB2G,mBAAnB,CAAuCxD,CAAvC,EAA0C4D,SAA1C,CAAoDhC,UAAxF,EAAoG,IAApG,EAA0G,KAAK/E,aAAL,CAAmB2G,mBAAnB,CAAuCxD,CAAvC,EAA0C4D,SAApJ,EAA+J,wBAA/J,EAAyL,EAAzL,EAA6LwN,SAA7L,EAAwM,KAAKvU,aAAL,CAAmB2G,mBAAnB,CAAuCxD,CAAvC,EAA0C4D,SAA1C,CAAoDV,aAA5P;QACH;MACJ;IACJ;;IACD,KAAKrG,aAAL,CAAmBgH,uBAAnB,CAA2C,KAAKhH,aAAL,CAAmB2G,mBAA9D,EAAmF,eAAnF;EACH,CApCD;;EAqCA5H,YAAY,CAACkB,SAAb,CAAuByR,cAAvB,GAAwC,UAAUrR,KAAV,EAAiB;IACrD,IAAI+G,IAAI,GAAG,KAAKpH,aAAL,CAAmBqH,yBAAnB,CAA6C,eAA7C,CAAX;IACA,IAAIC,cAAc,GAAGC,IAAI,CAACC,KAAL,CAAWJ,IAAX,CAArB;;IACA,KAAK,IAAIjE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGmE,cAAc,CAACrE,MAAnC,EAA2CE,CAAC,EAA5C,EAAgD;MAC5C,IAAImE,cAAc,CAACnE,CAAD,CAAd,CAAkB2D,GAAlB,CAAsBqB,KAAtB,CAA4B,GAA5B,EAAiC,CAAjC,MAAwC9H,KAAK,CAAC8U,MAAN,CAAazU,EAAb,CAAgByH,KAAhB,CAAsB,GAAtB,EAA2B,CAA3B,CAAxC,IACA,KAAKpI,SAAL,CAAesM,SAAf,CAAyBhM,KAAK,CAAC8U,MAAN,CAAazU,EAAb,CAAgByH,KAAhB,CAAsB,GAAtB,EAA2B,CAA3B,CAAzB,EAAwDrF,IAAxD,KAAiEwE,cAAc,CAACnE,CAAD,CAAd,CAAkB4D,SAAlB,CAA4BjE,IADjG,EACuG;QACnG,KAAK9C,aAAL,CAAmB2G,mBAAnB,CAAuCxD,CAAvC,EAA0C4D,SAA1C,CAAoDV,aAApD,GAAoE,EAApE;QACA,IAAIoO,WAAW,GAAGlU,QAAQ,CAACC,cAAT,CAAwBH,KAAK,CAACiU,aAAN,CAAoB5T,EAA5C,EAAgD2F,aAAlE;QACA,IAAIsO,aAAa,GAAG,CAApB;;QACA,IAAIrN,cAAc,CAACnE,CAAD,CAAd,CAAkB4D,SAAlB,CAA4BV,aAA5B,CAA0CpD,MAA1C,KAAqD,CAAzD,EAA4D;UACxD0R,aAAa,GAAGrN,cAAc,CAACnE,CAAD,CAAd,CAAkB4D,SAAlB,CAA4BV,aAA5B,CAA0CuO,GAA1C,EAAhB;UACAtN,cAAc,CAACnE,CAAD,CAAd,CAAkB4D,SAAlB,CAA4BV,aAA5B,CAA0CG,IAA1C,CAA+CmO,aAA/C;QACH;;QACD,IAAIE,QAAQ,GAAGvN,cAAc,CAACnE,CAAD,CAAd,CAAkB4D,SAAlB,CAA4BR,MAA5B,CAAmCoO,aAAnC,EAAkD5C,SAAjE;QACAzK,cAAc,CAACnE,CAAD,CAAd,CAAkB4D,SAAlB,CAA4BV,aAA5B,CAA0CG,IAA1C,CAA+CiO,WAA/C;QACA,KAAK1U,SAAL,CAAesM,SAAf,CAAyB/E,cAAc,CAACnE,CAAD,CAAd,CAAkB2D,GAAlB,CAAsBqB,KAAtB,CAA4B,GAA5B,EAAiC,CAAjC,CAAzB,EAA8D9B,aAA9D,GAA8EoO,WAA9E;QACA,KAAKzU,aAAL,CAAmB2G,mBAAnB,CAAuCxD,CAAvC,EAA0C4D,SAA1C,CAAoDV,aAApD,CAAkEG,IAAlE,CAAuEiO,WAAvE;QACA,IAAIK,QAAQ,GAAGxN,cAAc,CAACnE,CAAD,CAAd,CAAkB4D,SAAlB,CAA4BR,MAA5B,CAAmCkO,WAAnC,EAAgD1C,SAA/D;QACA,KAAK/R,aAAL,CAAmB2G,mBAAnB,CAAuCxD,CAAvC,EAA0C4D,SAA1C,CAAoDhD,KAApD,GAA4D+Q,QAA5D;;QACA,IAAIxN,cAAc,CAACnE,CAAD,CAAd,CAAkB2D,GAAlB,CAAsBqB,KAAtB,CAA4B,GAA5B,EAAiC,CAAjC,MAAwC9H,KAAK,CAAC8U,MAAN,CAAazU,EAAb,CAAgByH,KAAhB,CAAsB,GAAtB,EAA2B,CAA3B,CAA5C,EAA2E;UACvE,IAAIyK,YAAY,GAAGrS,QAAQ,CAACC,cAAT,CAAyB8G,cAAc,CAACnE,CAAD,CAAd,CAAkB2D,GAAlB,CAAsBqB,KAAtB,CAA4B,GAA5B,EAAiC,CAAjC,IAAsC,uBAA/D,EAAyF0E,iBAAzF,CAA2GA,iBAA9H;UACA+F,YAAY,CAACvM,aAAb,GAA6BoO,WAA7B;QACH;;QACD,KAAKM,0BAAL,CAAgC,KAAK/U,aAAL,CAAmB2G,mBAAnB,CAAuCxD,CAAvC,EAA0C4D,SAA1E;QACA,KAAKhH,SAAL,CAAeiV,kCAAf,CAAkD,2BAAlD,EAA+E1N,cAAc,CAACnE,CAAD,CAAd,CAAkB4D,SAAjG,EAA4G,KAAK/G,aAAL,CAAmB2G,mBAAnB,CAAuCxD,CAAvC,EAA0C4D,SAA1C,CAAoDhC,UAAhK,EAA4K,IAA5K,EAAkL,KAAlL,EAAyL,KAAzL,EAAgM,KAAhM,EAAuM,KAAvM,EAA8M,KAA9M,EAAqN,KAArN,EAA4N,KAA5N,EAAmO,KAAnO,EAA0O,KAA1O,EAAiP,KAAjP,EAAwP,KAAxP,EAA+P,KAA/P,EAAsQ,KAAtQ,EAA6Q,KAA7Q,EAAoR8P,QAApR,EAA8RC,QAA9R;;QACA,IAAI,KAAK/U,SAAL,CAAekV,UAAnB,EAA+B;UAC3B,KAAKlV,SAAL,CAAekV,UAAf,CAA0BC,SAA1B,CAAoC,KAAKlV,aAAL,CAAmB2G,mBAAnB,CAAuCxD,CAAvC,EAA0C4D,SAA1C,CAAoDhC,UAAxF,EAAoG,IAApG,EAA0G,KAAK/E,aAAL,CAAmB2G,mBAAnB,CAAuCxD,CAAvC,EAA0C4D,SAApJ,EAA+J,wBAA/J,EAAyL,EAAzL,EAA6L4N,aAA7L,EAA4MF,WAA5M;QACH;MACJ;IACJ;;IACD,KAAKzU,aAAL,CAAmBgH,uBAAnB,CAA2C,KAAKhH,aAAL,CAAmB2G,mBAA9D,EAAmF,eAAnF;EACH,CA/BD;;EAgCA5H,YAAY,CAACkB,SAAb,CAAuBoT,gBAAvB,GAA0C,UAAUhT,KAAV,EAAiB;IACvD,IAAI2M,gBAAgB,GAAG,EAAvB;IACA,IAAIhI,SAAS,GAAG,KAAhB;;IACA,IAAI,CAAC,KAAKjF,SAAL,CAAesM,SAAf,CAAyBhM,KAAK,CAAC8U,MAAN,CAAazU,EAAb,CAAgByH,KAAhB,CAAsB,GAAtB,EAA2B,CAA3B,CAAzB,EAAwD9D,UAA7D,EAAyE;MACrE,IAAIhE,KAAK,CAAC8U,MAAN,IAAgB9U,KAAK,CAAC8U,MAAN,CAAatI,iBAA7B,IAAkDxM,KAAK,CAAC8U,MAAN,CAAatI,iBAAb,CAA+BlK,SAA/B,KAA6C,oCAAnG,EAAyI;QACrItC,KAAK,CAAC8U,MAAN,CAAatI,iBAAb,CAA+BuI,SAA/B,CAAyCC,MAAzC,CAAgD,iBAAhD;QACAhV,KAAK,CAAC8U,MAAN,CAAatI,iBAAb,CAA+BuI,SAA/B,CAAyCE,GAAzC,CAA6C,oBAA7C,EAAmE,mBAAnE;QACAtQ,SAAS,GAAG,KAAZ;MACH,CAJD,MAKK,IAAI3E,KAAK,CAAC8U,MAAN,CAAaxS,SAAb,KAA2B,oCAA/B,EAAqE;QACtEtC,KAAK,CAAC8U,MAAN,CAAaC,SAAb,CAAuBC,MAAvB,CAA8B,iBAA9B;QACAhV,KAAK,CAAC8U,MAAN,CAAaC,SAAb,CAAuBE,GAAvB,CAA2B,oBAA3B,EAAiD,mBAAjD;QACAtQ,SAAS,GAAG,KAAZ;MACH,CAJI,MAKA;QACD3E,KAAK,CAAC8U,MAAN,CAAatI,iBAAb,CAA+BuI,SAA/B,CAAyCC,MAAzC,CAAgD,mBAAhD;QACAhV,KAAK,CAAC8U,MAAN,CAAatI,iBAAb,CAA+BuI,SAA/B,CAAyCE,GAAzC,CAA6C,oBAA7C,EAAmE,iBAAnE;QACAtQ,SAAS,GAAG,IAAZ;MACH;;MACD,IAAIoC,IAAI,GAAG,KAAKpH,aAAL,CAAmBqH,yBAAnB,CAA6C,eAA7C,CAAX;;MACA,IAAIrC,SAAJ,EAAe;QACX,IAAI3E,KAAK,CAAC8U,MAAN,CAAatI,iBAAb,CAA+BlK,SAA/B,CAAyCkH,OAAzC,CAAiD,iBAAjD,MAAwE,CAAC,CAA7E,EAAgF;UAC5E,IAAIsD,aAAa,GAAG9J,QAAQ,CAAChD,KAAK,CAAC8U,MAAN,CAAaI,aAAb,CAA2B9S,KAA3B,CAAiCX,KAAlC,EAAyC,EAAzC,CAA5B;;UACA,IAAIqL,aAAa,GAAGH,gBAApB,EAAsC;YAClC3M,KAAK,CAAC8U,MAAN,CAAatI,iBAAb,CAA+BpK,KAA/B,CAAqC2K,WAArC,GAAmD,KAAnD;UACH,CAFD,MAGK,IAAID,aAAa,IAAI,EAArB,EAAyB;YAC1B9M,KAAK,CAAC8U,MAAN,CAAatI,iBAAb,CAA+BpK,KAA/B,CAAqC2K,WAArC,GAAmD,KAAnD;UACH,CAFI,MAGA;YACD/M,KAAK,CAAC8U,MAAN,CAAatI,iBAAb,CAA+BpK,KAA/B,CAAqC2K,WAArC,GAAmD,KAAnD;UACH;QACJ;MACJ;;MACD,IAAI9F,cAAc,GAAGC,IAAI,CAACC,KAAL,CAAWJ,IAAX,CAArB;;MACA,KAAK,IAAIjE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGmE,cAAc,CAACrE,MAAnC,EAA2CE,CAAC,EAA5C,EAAgD;QAC5C,IAAImE,cAAc,CAACnE,CAAD,CAAd,CAAkB2D,GAAlB,CAAsBqB,KAAtB,CAA4B,GAA5B,EAAiC,CAAjC,MAAwC9H,KAAK,CAAC8U,MAAN,CAAazU,EAAb,CAAgByH,KAAhB,CAAsB,GAAtB,EAA2B,CAA3B,CAAxC,IACA,KAAKpI,SAAL,CAAesM,SAAf,CAAyBhM,KAAK,CAAC8U,MAAN,CAAazU,EAAb,CAAgByH,KAAhB,CAAsB,GAAtB,EAA2B,CAA3B,CAAzB,EAAwDrF,IAAxD,KAAiEwE,cAAc,CAACnE,CAAD,CAAd,CAAkB4D,SAAlB,CAA4BjE,IADjG,EACuG;UACnG,KAAK/C,SAAL,CAAesM,SAAf,CAAyB/E,cAAc,CAACnE,CAAD,CAAd,CAAkB2D,GAAlB,CAAsBqB,KAAtB,CAA4B,GAA5B,EAAiC,CAAjC,CAAzB,EAA8DnD,SAA9D,GAA0EA,SAA1E;UACA,IAAI6P,QAAQ,GAAG,KAAK7U,aAAL,CAAmB2G,mBAAnB,CAAuCxD,CAAvC,EAA0C4D,SAA1C,CAAoD/B,SAAnE;UACAsC,cAAc,CAACnE,CAAD,CAAd,CAAkB4D,SAAlB,CAA4B/B,SAA5B,GAAwCA,SAAxC;UACA,KAAKhF,aAAL,CAAmB2G,mBAAnB,CAAuCxD,CAAvC,EAA0C4D,SAA1C,CAAoD/B,SAApD,GAAgEsC,cAAc,CAACnE,CAAD,CAAd,CAAkB4D,SAAlB,CAA4B/B,SAA5F;;UACA,IAAIsC,cAAc,CAACnE,CAAD,CAAd,CAAkB2D,GAAlB,CAAsBqB,KAAtB,CAA4B,GAA5B,EAAiC,CAAjC,MAAwC9H,KAAK,CAAC8U,MAAN,CAAazU,EAAb,CAAgByH,KAAhB,CAAsB,GAAtB,EAA2B,CAA3B,CAA5C,EAA2E;YACvE,IAAIqN,eAAe,GAAGjV,QAAQ,CAACC,cAAT,CAAwB8G,cAAc,CAACnE,CAAD,CAAd,CAAkB2D,GAAlB,CAAsBqB,KAAtB,CAA4B,GAA5B,EAAiC,CAAjC,IAAsC,QAA9D,EAAwE0E,iBAA9F;;YACA,IAAI7H,SAAJ,EAAe;cACX,IAAIwQ,eAAe,CAACJ,SAAhB,CAA0BK,QAA1B,CAAmC,mBAAnC,CAAJ,EACID,eAAe,CAACJ,SAAhB,CAA0BC,MAA1B,CAAiC,mBAAjC;cACJG,eAAe,CAACJ,SAAhB,CAA0BE,GAA1B,CAA8B,iBAA9B;YACH,CAJD,MAKK;cACD,IAAIE,eAAe,CAACJ,SAAhB,CAA0BK,QAA1B,CAAmC,iBAAnC,CAAJ,EACID,eAAe,CAACJ,SAAhB,CAA0BC,MAA1B,CAAiC,iBAAjC;cACJG,eAAe,CAACJ,SAAhB,CAA0BE,GAA1B,CAA8B,mBAA9B;YACH;UACJ;;UACD,KAAKP,0BAAL,CAAgC,KAAK/U,aAAL,CAAmB2G,mBAAnB,CAAuCxD,CAAvC,EAA0C4D,SAA1E;UACA,KAAKhH,SAAL,CAAeiV,kCAAf,CAAkD,2BAAlD,EAA+E1N,cAAc,CAACnE,CAAD,CAAd,CAAkB4D,SAAjG,EAA4G,KAAK/G,aAAL,CAAmB2G,mBAAnB,CAAuCxD,CAAvC,EAA0C4D,SAA1C,CAAoDhC,UAAhK,EAA4K,IAA5K,EAAkL,KAAlL,EAAyL,KAAzL,EAAgM,KAAhM,EAAuM,KAAvM,EAA8M,KAA9M,EAAqN,KAArN,EAA4N,KAA5N,EAAmO,KAAnO,EAA0O,KAA1O,EAAiP,KAAjP,EAAwP,KAAxP,EAA+P,KAA/P,EAAsQ,KAAtQ,EAA6Q,KAA7Q,EAAoR8P,QAApR,EAA8R7P,SAA9R;;UACA,IAAI,KAAKjF,SAAL,CAAekV,UAAnB,EAA+B;YAC3B,KAAKlV,SAAL,CAAekV,UAAf,CAA0BC,SAA1B,CAAoC,KAAKlV,aAAL,CAAmB2G,mBAAnB,CAAuCxD,CAAvC,EAA0C4D,SAA1C,CAAoDhC,UAAxF,EAAoG,IAApG,EAA0G,KAAK/E,aAAL,CAAmB2G,mBAAnB,CAAuCxD,CAAvC,EAA0C4D,SAApJ,EAA+J,wBAA/J,EAAyL,EAAzL,EAA6L8N,QAA7L,EAAuM7P,SAAvM;UACH;QACJ;MACJ;;MACD,KAAKhF,aAAL,CAAmBgH,uBAAnB,CAA2C,KAAKhH,aAAL,CAAmB2G,mBAA9D,EAAmF,eAAnF;IACH;EACJ,CAhED;;EAiEA5H,YAAY,CAACkB,SAAb,CAAuByV,eAAvB,GAAyC,UAAUjV,OAAV,EAAmBuE,SAAnB,EAA8B;IACnE,IAAIA,SAAJ,EAAe;MACXvE,OAAO,CAACoM,iBAAR,CAA0BuI,SAA1B,CAAoCC,MAApC,CAA2C,mBAA3C;MACA5U,OAAO,CAACoM,iBAAR,CAA0BuI,SAA1B,CAAoCE,GAApC,CAAwC,oBAAxC,EAA8D,iBAA9D;IACH,CAHD,MAIK;MACD7U,OAAO,CAACoM,iBAAR,CAA0BuI,SAA1B,CAAoCC,MAApC,CAA2C,iBAA3C;MACA5U,OAAO,CAACoM,iBAAR,CAA0BuI,SAA1B,CAAoCE,GAApC,CAAwC,oBAAxC,EAA8D,mBAA9D;IACH;EACJ,CATD;;EAUAvW,YAAY,CAACkB,SAAb,CAAuBiU,mBAAvB,GAA6C,UAAU7T,KAAV,EAAiB;IAC1D,IAAI+G,IAAI,GAAG,KAAKpH,aAAL,CAAmBqH,yBAAnB,CAA6C,eAA7C,CAAX;IACA,IAAIC,cAAc,GAAGC,IAAI,CAACC,KAAL,CAAWJ,IAAX,CAArB;;IACA,KAAK,IAAIjE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGmE,cAAc,CAACrE,MAAnC,EAA2CE,CAAC,EAA5C,EAAgD;MAC5C,IAAImE,cAAc,CAACnE,CAAD,CAAd,CAAkB4D,SAAlB,CAA4BT,eAA5B,IAA+C,IAAnD,EAAyD;QACrD,IAAIuO,QAAQ,GAAG,KAAK,CAApB;QACA,IAAIc,WAAW,GAAG,KAAK,CAAvB;QACA,IAAIC,WAAW,GAAG,KAAK,CAAvB;;QACA,KAAK,IAAIpJ,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGlF,cAAc,CAACnE,CAAD,CAAd,CAAkB4D,SAAlB,CAA4BT,eAA5B,CAA4CrD,MAAhE,EAAwEuJ,CAAC,EAAzE,EAA6E;UACzE,IAAIlF,cAAc,CAACnE,CAAD,CAAd,CAAkB4D,SAAlB,CAA4BT,eAA5B,CAA4CkG,CAA5C,EAA+C9L,EAA/C,CAAkDyH,KAAlD,CAAwD,GAAxD,EAA6D,CAA7D,MAAoE9H,KAAK,CAACiU,aAAN,CAAoB5T,EAApB,CAAuByH,KAAvB,CAA6B,GAA7B,EAAkC,CAAlC,CAAxE,EAA8G;YAC1G,KAAKpI,SAAL,CAAesM,SAAf,CAAyBhM,KAAK,CAACiU,aAAN,CAAoB5T,EAApB,CAAuByH,KAAvB,CAA6B,GAA7B,EAAkC,CAAlC,CAAzB,EAA+DlD,UAA/D,GAA4E,IAA5E;YACAqC,cAAc,CAACnE,CAAD,CAAd,CAAkB4D,SAAlB,CAA4BT,eAA5B,CAA4CkG,CAA5C,EAA+CvH,UAA/C,GAA4D,IAA5D;YACA4P,QAAQ,GAAG,KAAK7U,aAAL,CAAmB2G,mBAAnB,CAAuCxD,CAAvC,EAA0C4D,SAA1C,CAAoDT,eAApD,CAAoEkG,CAApE,EAAuEvH,UAAlF;YACA,IAAI,CAAC4P,QAAL,EACIc,WAAW,GAAG,KAAK3V,aAAL,CAAmB2G,mBAAnB,CAAuCxD,CAAvC,EAA0C4D,SAA1C,CAAoDT,eAApD,CAAoEkG,CAApE,CAAd;YACJ,KAAKxM,aAAL,CAAmB2G,mBAAnB,CAAuCxD,CAAvC,EAA0C4D,SAA1C,CAAoDT,eAApD,CAAoEkG,CAApE,EAAuEvH,UAAvE,GAAoF,IAApF;YACA,KAAKlF,SAAL,CAAeiV,kCAAf,CAAkD,2BAAlD,EAA+E1N,cAAc,CAACnE,CAAD,CAAd,CAAkB4D,SAAjG,EAA4G,KAAK/G,aAAL,CAAmB2G,mBAAnB,CAAuCxD,CAAvC,EAA0C4D,SAA1C,CAAoDhC,UAAhK,EAA4K,IAA5K,EAAkL,KAAlL,EAAyL,KAAzL,EAAgM,KAAhM,EAAuM,KAAvM,EAA8M,KAA9M,EAAqN,KAArN,EAA4N,KAA5N,EAAmO,KAAnO,EAA0O,KAA1O,EAAiP,KAAjP,EAAwP,KAAxP,EAA+P,KAA/P,EAAsQ,KAAtQ,EAA6Q,KAA7Q,EAAoR,KAApR,EAA2R,IAA3R;UACH,CARD,MASK;YACD,IAAI,KAAKhF,SAAL,CAAesM,SAAf,CAAyBhM,KAAK,CAACiU,aAAN,CAAoB5T,EAApB,CAAuByH,KAAvB,CAA6B,GAA7B,EAAkC,CAAlC,CAAzB,EAA+DrF,IAA/D,KAAwEwE,cAAc,CAACnE,CAAD,CAAd,CAAkB4D,SAAlB,CAA4BT,eAA5B,CAA4CkG,CAA5C,EAA+C1J,IAA3H,EAAiI;cAC7H,KAAK/C,SAAL,CAAesM,SAAf,CAAyB/E,cAAc,CAACnE,CAAD,CAAd,CAAkB4D,SAAlB,CAA4BT,eAA5B,CAA4CkG,CAA5C,EAA+C9L,EAA/C,CAAkDyH,KAAlD,CAAwD,GAAxD,EAA6D,CAA7D,CAAzB,EAA0FlD,UAA1F,GAAuG,KAAvG;cACA,IAAI4Q,UAAU,GAAG,KAAK7V,aAAL,CAAmB2G,mBAAnB,CAAuCxD,CAAvC,EAA0C4D,SAA1C,CAAoDT,eAApD,CAAoEkG,CAApE,EAAuEvH,UAAxF;cACAqC,cAAc,CAACnE,CAAD,CAAd,CAAkB4D,SAAlB,CAA4BT,eAA5B,CAA4CkG,CAA5C,EAA+CvH,UAA/C,GAA4D,KAA5D;cACA4Q,UAAU,GAAG,KAAK7V,aAAL,CAAmB2G,mBAAnB,CAAuCxD,CAAvC,EAA0C4D,SAA1C,CAAoDT,eAApD,CAAoEkG,CAApE,EAAuEvH,UAApF;cACA,IAAI4Q,UAAJ,EACID,WAAW,GAAG,KAAK5V,aAAL,CAAmB2G,mBAAnB,CAAuCxD,CAAvC,EAA0C4D,SAA1C,CAAoDT,eAApD,CAAoEkG,CAApE,CAAd;cACJ,KAAKxM,aAAL,CAAmB2G,mBAAnB,CAAuCxD,CAAvC,EAA0C4D,SAA1C,CAAoDT,eAApD,CAAoEkG,CAApE,EAAuEvH,UAAvE,GAAoFqC,cAAc,CAACnE,CAAD,CAAd,CAAkB4D,SAAlB,CAA4BT,eAA5B,CAA4CkG,CAA5C,EAA+CvH,UAAnI;cACA,KAAKlF,SAAL,CAAeiV,kCAAf,CAAkD,2BAAlD,EAA+E1N,cAAc,CAACnE,CAAD,CAAd,CAAkB4D,SAAjG,EAA4G,KAAK/G,aAAL,CAAmB2G,mBAAnB,CAAuCxD,CAAvC,EAA0C4D,SAA1C,CAAoDhC,UAAhK,EAA4K,IAA5K,EAAkL,KAAlL,EAAyL,KAAzL,EAAgM,KAAhM,EAAuM,KAAvM,EAA8M,KAA9M,EAAqN,KAArN,EAA4N,KAA5N,EAAmO,KAAnO,EAA0O,KAA1O,EAAiP,KAAjP,EAAwP,KAAxP,EAA+P,KAA/P,EAAsQ,KAAtQ,EAA6Q,KAA7Q,EAAoR,IAApR,EAA0R,KAA1R;YACH;UACJ;;UACD,KAAKgQ,0BAAL,CAAgC,KAAK/U,aAAL,CAAmB2G,mBAAnB,CAAuCxD,CAAvC,EAA0C4D,SAA1C,CAAoDT,eAApD,CAAoEkG,CAApE,CAAhC;QACH;;QACD,IAAI,CAACmJ,WAAW,IAAI,IAAf,IAAuBC,WAAW,IAAI,IAAvC,KAAgD,KAAK7V,SAAL,CAAekV,UAAnE,EAA+E;UAC3E,KAAKlV,SAAL,CAAekV,UAAf,CAA0BC,SAA1B,CAAoC,KAAKlV,aAAL,CAAmB2G,mBAAnB,CAAuCxD,CAAvC,EAA0C4D,SAA1C,CAAoDhC,UAAxF,EAAoG,IAApG,EAA0G,KAAK/E,aAAL,CAAmB2G,mBAAnB,CAAuCxD,CAAvC,EAA0C4D,SAApJ,EAA+J,wBAA/J,EAAyL,EAAzL,EAA6L4O,WAA7L,EAA0MC,WAA1M;QACH;MACJ;IACJ;;IACD,KAAK5V,aAAL,CAAmBgH,uBAAnB,CAA2C,KAAKhH,aAAL,CAAmB2G,mBAA9D,EAAmF,eAAnF;EACH,CAtCD;;EAuCA5H,YAAY,CAACkB,SAAb,CAAuB2T,eAAvB,GAAyC,UAAUvT,KAAV,EAAiB;IACtD,IAAI+G,IAAI,GAAG,KAAKpH,aAAL,CAAmBqH,yBAAnB,CAA6C,eAA7C,CAAX;IACA,IAAIC,cAAc,GAAGC,IAAI,CAACC,KAAL,CAAWJ,IAAX,CAArB;;IACA,KAAK,IAAIjE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGmE,cAAc,CAACrE,MAAnC,EAA2CE,CAAC,EAA5C,EAAgD;MAC5C,IAAImE,cAAc,CAACnE,CAAD,CAAd,CAAkB2D,GAAlB,CAAsBqB,KAAtB,CAA4B,GAA5B,EAAiC,CAAjC,MAAwC9H,KAAK,CAAC8U,MAAN,CAAazU,EAAb,CAAgByH,KAAhB,CAAsB,GAAtB,EAA2B,CAA3B,CAAxC,IACA,KAAKpI,SAAL,CAAesM,SAAf,CAAyBhM,KAAK,CAAC8U,MAAN,CAAazU,EAAb,CAAgByH,KAAhB,CAAsB,GAAtB,EAA2B,CAA3B,CAAzB,EAAwDrF,IAAxD,KAAiEwE,cAAc,CAACnE,CAAD,CAAd,CAAkB4D,SAAlB,CAA4BjE,IADjG,EACuG;QACnG,IAAI+R,QAAQ,GAAG,KAAK7U,aAAL,CAAmB2G,mBAAnB,CAAuCxD,CAAvC,EAA0C4D,SAA1C,CAAoDhD,KAAnE;QACAuD,cAAc,CAACnE,CAAD,CAAd,CAAkB4D,SAAlB,CAA4BhD,KAA5B,GAAoC1D,KAAK,CAAC8U,MAAN,CAAapR,KAAjD;QACA,KAAKhE,SAAL,CAAesM,SAAf,CAAyB/E,cAAc,CAACnE,CAAD,CAAd,CAAkB2D,GAAlB,CAAsBqB,KAAtB,CAA4B,GAA5B,EAAiC,CAAjC,CAAzB,EAA8DpE,KAA9D,GAAsEuD,cAAc,CAACnE,CAAD,CAAd,CAAkB4D,SAAlB,CAA4BhD,KAAlG;QACA,KAAK/D,aAAL,CAAmB2G,mBAAnB,CAAuCxD,CAAvC,EAA0C4D,SAA1C,CAAoDhD,KAApD,GAA4DuD,cAAc,CAACnE,CAAD,CAAd,CAAkB4D,SAAlB,CAA4BhD,KAAxF;;QACA,IAAIuD,cAAc,CAACnE,CAAD,CAAd,CAAkB2D,GAAlB,CAAsBqB,KAAtB,CAA4B,GAA5B,EAAiC,CAAjC,MAAwC9H,KAAK,CAAC8U,MAAN,CAAazU,EAAb,CAAgByH,KAAhB,CAAsB,GAAtB,EAA2B,CAA3B,CAA5C,EAA2E;UACvE,IAAI1H,OAAO,GAAGF,QAAQ,CAACC,cAAT,CAAwB8G,cAAc,CAACnE,CAAD,CAAd,CAAkB2D,GAAlB,CAAsBqB,KAAtB,CAA4B,GAA5B,EAAiC,CAAjC,IAAsC,uBAA9D,CAAd;;UACA,IAAI1H,OAAO,IAAIA,OAAO,CAACoM,iBAAnB,IAAwCpM,OAAO,CAACoM,iBAAR,CAA0BA,iBAAtE,EAAyF;YACrF,IAAI+F,YAAY,GAAGnS,OAAO,CAACoM,iBAAR,CAA0BA,iBAA7C;YACA+F,YAAY,CAAC7O,KAAb,GAAqBuD,cAAc,CAACnE,CAAD,CAAd,CAAkB4D,SAAlB,CAA4BhD,KAAjD;UACH;QACJ;;QACD,KAAKgR,0BAAL,CAAgC,KAAK/U,aAAL,CAAmB2G,mBAAnB,CAAuCxD,CAAvC,EAA0C4D,SAA1E;QACA,KAAKhH,SAAL,CAAeiV,kCAAf,CAAkD,2BAAlD,EAA+E,KAAKhV,aAAL,CAAmB2G,mBAAnB,CAAuCxD,CAAvC,EAA0C4D,SAAzH,EAAoI,KAAK/G,aAAL,CAAmB2G,mBAAnB,CAAuCxD,CAAvC,EAA0C4D,SAA1C,CAAoDhC,UAAxL,EAAoM,IAApM,EAA0M,KAA1M,EAAiN,KAAjN,EAAwN,KAAxN,EAA+N,KAA/N,EAAsO,KAAtO,EAA6O,KAA7O,EAAoP,KAApP,EAA2P,KAA3P,EAAkQ,KAAlQ,EAAyQ,KAAzQ,EAAgR,KAAhR,EAAuR,KAAvR,EAA8R,KAA9R,EAAqS,KAArS,EAA4S8P,QAA5S,EAAsTxU,KAAK,CAAC8U,MAAN,CAAapR,KAAnU;;QACA,IAAI,KAAKhE,SAAL,CAAekV,UAAnB,EAA+B;UAC3B,KAAKlV,SAAL,CAAekV,UAAf,CAA0BC,SAA1B,CAAoC,KAAKlV,aAAL,CAAmB2G,mBAAnB,CAAuCxD,CAAvC,EAA0C4D,SAA1C,CAAoDhC,UAAxF,EAAoG,IAApG,EAA0G,KAAK/E,aAAL,CAAmB2G,mBAAnB,CAAuCxD,CAAvC,EAA0C4D,SAApJ,EAA+J,wBAA/J,EAAyL,EAAzL,EAA6L8N,QAA7L,EAAuMxU,KAAK,CAAC8U,MAAN,CAAapR,KAApN;QACH;MACJ;IACJ;;IACD,KAAK/D,aAAL,CAAmBgH,uBAAnB,CAA2C,KAAKhH,aAAL,CAAmB2G,mBAA9D,EAAmF,eAAnF;EACH,CAzBD;;EA0BA5H,YAAY,CAACkB,SAAb,CAAuB0T,iBAAvB,GAA2C,UAAUtT,KAAV,EAAiB;IACxDA,KAAK,CAAC8U,MAAN,CAAaW,KAAb;EACH,CAFD;EAGA;AACJ;AACA;AACA;AACA;AACA;AACA;;;EACI/W,YAAY,CAACkB,SAAb,CAAuB8V,YAAvB,GAAsC,UAAU5Q,aAAV,EAAyBL,OAAzB,EAAkCkR,YAAlC,EAAgDtV,EAAhD,EAAoD;IACtF,IAAIN,GAAG,GAAG;MACNyE,SAAS,EAAE,CADL;MACQ3D,MAAM,EAAE;QAAEa,CAAC,EAAE+C,OAAO,CAAC5D,MAAR,CAAeoE,CAApB;QAAuBtD,CAAC,EAAE8C,OAAO,CAAC5D,MAAR,CAAeqE,CAAzC;QAA4CzD,KAAK,EAAEgD,OAAO,CAAC5D,MAAR,CAAesE,KAAlE;QAAyE3D,MAAM,EAAEiD,OAAO,CAAC5D,MAAR,CAAeuE;MAAhG,CADhB;MAENzB,UAAU,EAAE,CAAChG,iBAAiB,CAAC8G,OAAO,CAACd,UAAT,CAAlB,GAAyCc,OAAO,CAACd,UAAjD,GAA8D,WAFpE;MAEiFtB,QAAQ,EAAE,CAAC1E,iBAAiB,CAAC8G,OAAO,CAACpC,QAAT,CAAlB,GAAuCoC,OAAO,CAACpC,QAA/C,GAA0D,EAFrJ;MAGNwB,KAAK,EAAE,CAAClG,iBAAiB,CAAC8G,OAAO,CAACZ,KAAT,CAAlB,GAAoCY,OAAO,CAACZ,KAA5C,GAAoD,OAHrD;MAG8DC,eAAe,EAAE,CAACnG,iBAAiB,CAAC8G,OAAO,CAACX,eAAT,CAAlB,GAA8CW,OAAO,CAACX,eAAtD,GAAwE,WAHvJ;MAINC,SAAS,EAAE,CAACpG,iBAAiB,CAAC8G,OAAO,CAACV,SAAT,CAAlB,GAAwCU,OAAO,CAACV,SAAhD,GAA4D,MAJjE;MAIyEC,UAAU,EAAES,OAAO,CAACmR,UAAR,GAAqBnR,OAAO,CAACmR,UAA7B,GAA0C,KAJ/H;MAIsIxS,WAAW,EAAEqB,OAAO,CAACrB;IAJ3J,CAAV;IAMArD,GAAG,CAAC6D,SAAJ,GAAgB,CAACjG,iBAAiB,CAAC8G,OAAO,CAACb,SAAT,CAAlB,GAAwCa,OAAO,CAACb,SAAhD,GAA4D,MAA5E;IACA7D,GAAG,CAACkE,UAAJ,GAAiB,CAACtG,iBAAiB,CAAC8G,OAAO,CAACR,UAAT,CAAlB,GAAyCQ,OAAO,CAACR,UAAjD,GAA8D,SAA/E;IACAlE,GAAG,CAAC2D,KAAJ,GAAY,CAAC/F,iBAAiB,CAAC8G,OAAO,CAACf,KAAT,CAAlB,GAAoCe,OAAO,CAACf,KAA5C,GAAoD,EAAhE;IACA3D,GAAG,CAACoE,UAAJ,GAAiBM,OAAO,CAACN,UAAR,GAAqBM,OAAO,CAACN,UAA7B,GAA0C,KAA3D;IACApE,GAAG,CAACqE,OAAJ,GAAcK,OAAO,CAACL,OAAtB;IACArE,GAAG,CAAC2E,UAAJ,GAAiB,CAAC/G,iBAAiB,CAAC8G,OAAO,CAACC,UAAT,CAAlB,GAAyCD,OAAO,CAACC,UAAjD,GAA8D,KAAK/E,aAAL,CAAmBkW,iBAAlG;IACA9V,GAAG,CAAC+B,SAAJ,GAAgB/B,GAAG,CAAC2E,UAAJ,GAAiB,CAAjC;IACA3E,GAAG,CAAC4F,IAAJ,GAAWlB,OAAO,CAACkB,IAAnB;IACA5F,GAAG,CAACM,EAAJ,GAASA,EAAT;;IACA,IAAIsV,YAAJ,EAAkB;MACd,KAAKG,iBAAL;IACH;;IACD,QAAQhR,aAAR;MACI,KAAK,SAAL;QACI/E,GAAG,CAACD,uBAAJ,GAA8BgF,aAA9B;QACA/E,GAAG,CAACsF,WAAJ,GAAkBZ,OAAO,CAACY,WAA1B;QACAtF,GAAG,CAAC0C,IAAJ,GAAW,CAAC9E,iBAAiB,CAAC8G,OAAO,CAAChC,IAAT,CAAlB,GAAmCgC,OAAO,CAAChC,IAA3C,GAAkD,YAAY,KAAKrD,cAA9E;QACAW,GAAG,CAACmE,SAAJ,GAAgBO,OAAO,CAACP,SAAxB;QACAnE,GAAG,CAACyE,SAAJ,GAAgB,CAAC7G,iBAAiB,CAAC8G,OAAO,CAACD,SAAT,CAAlB,GAAwCC,OAAO,CAACD,SAAhD,GAA4D,CAA5E;QACAzE,GAAG,CAACwE,WAAJ,GAAkB,CAAC5G,iBAAiB,CAAC8G,OAAO,CAACF,WAAT,CAAlB,GAA0CE,OAAO,CAACF,WAAlD,GAAgE,SAAlF;QACA;;MACJ,KAAK,UAAL;QACIxE,GAAG,CAACD,uBAAJ,GAA8B,eAA9B;QACAC,GAAG,CAAC0C,IAAJ,GAAW,CAAC9E,iBAAiB,CAAC8G,OAAO,CAAChC,IAAT,CAAlB,GAAmCgC,OAAO,CAAChC,IAA3C,GAAkD,aAAa,KAAKrD,cAA/E;QACAW,GAAG,CAACmE,SAAJ,GAAgBO,OAAO,CAACP,SAAxB;QACAnE,GAAG,CAACyE,SAAJ,GAAgB,CAAC7G,iBAAiB,CAAC8G,OAAO,CAACD,SAAT,CAAlB,GAAwCC,OAAO,CAACD,SAAhD,GAA4D,CAA5E;QACAzE,GAAG,CAACwE,WAAJ,GAAkB,CAAC5G,iBAAiB,CAAC8G,OAAO,CAACF,WAAT,CAAlB,GAA0CE,OAAO,CAACF,WAAlD,GAAgE,SAAlF;QACA;;MACJ,KAAK,UAAL;QACIxE,GAAG,CAACD,uBAAJ,GAA8B,cAA9B;QACAC,GAAG,CAAC0C,IAAJ,GAAW,CAAC9E,iBAAiB,CAAC8G,OAAO,CAAChC,IAAT,CAAlB,GAAmCgC,OAAO,CAAChC,IAA3C,GAAkD,aAAa,KAAKrD,cAA/E;QACAW,GAAG,CAAC0E,OAAJ,GAAcA,OAAO,CAACA,OAAR,GAAkBA,OAAO,CAACA,OAA1B,GAAoC,EAAlD;;QACA,KAAK,IAAI3B,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKpD,SAAL,CAAe4G,mBAAf,CAAmC1D,MAAvD,EAA+DE,CAAC,EAAhE,EAAoE;UAChE,IAAIiT,SAAS,GAAG,KAAKrW,SAAL,CAAe4G,mBAAf,CAAmCxD,CAAnC,CAAhB;;UACA,IAAIiT,SAAS,CAACjW,uBAAV,KAAsC,cAAtC,IAAwDiW,SAAS,CAACtT,IAAV,KAAmB1C,GAAG,CAAC0C,IAAnF,EAAyF;YACrF1C,GAAG,CAAC0E,OAAJ,GAAcsR,SAAS,CAACtR,OAAxB;YACA;UACH;QACJ;;QACD1E,GAAG,CAACiG,aAAJ,GAAoBvB,OAAO,CAACuB,aAA5B;QACAjG,GAAG,CAACyE,SAAJ,GAAgB,CAAC7G,iBAAiB,CAAC8G,OAAO,CAACD,SAAT,CAAlB,GAAwCC,OAAO,CAACD,SAAhD,GAA4D,CAA5E;QACAzE,GAAG,CAACwE,WAAJ,GAAkB,CAAC5G,iBAAiB,CAAC8G,OAAO,CAACF,WAAT,CAAlB,GAA0CE,OAAO,CAACF,WAAlD,GAAgE,SAAlF;QACA;;MACJ,KAAK,SAAL;QACIxE,GAAG,CAACD,uBAAJ,GAA8BgF,aAA9B;QACA/E,GAAG,CAAC0C,IAAJ,GAAW,CAAC9E,iBAAiB,CAAC8G,OAAO,CAAChC,IAAT,CAAlB,GAAmCgC,OAAO,CAAChC,IAA3C,GAAkD,aAAa,KAAKrD,cAA/E;QACAW,GAAG,CAAC0E,OAAJ,GAAcA,OAAO,CAACA,OAAR,GAAkBA,OAAO,CAACA,OAA1B,GAAoC,EAAlD;;QACA,KAAK,IAAI3B,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKpD,SAAL,CAAe4G,mBAAf,CAAmC1D,MAAvD,EAA+DE,CAAC,EAAhE,EAAoE;UAChE,IAAIiT,SAAS,GAAG,KAAKrW,SAAL,CAAe4G,mBAAf,CAAmCxD,CAAnC,CAAhB;;UACA,IAAIiT,SAAS,CAACjW,uBAAV,KAAsCgF,aAAtC,IAAuDiR,SAAS,CAACtT,IAAV,KAAmB1C,GAAG,CAAC0C,IAAlF,EAAwF;YACpF1C,GAAG,CAAC0E,OAAJ,GAAcsR,SAAS,CAACtR,OAAxB;YACA;UACH;QACJ;;QACD1E,GAAG,CAACiG,aAAJ,GAAoBvB,OAAO,CAACuB,aAA5B;QACAjG,GAAG,CAACyE,SAAJ,GAAgB,CAAC7G,iBAAiB,CAAC8G,OAAO,CAACD,SAAT,CAAlB,GAAwCC,OAAO,CAACD,SAAhD,GAA4D,CAA5E;QACAzE,GAAG,CAACwE,WAAJ,GAAkB,CAAC5G,iBAAiB,CAAC8G,OAAO,CAACF,WAAT,CAAlB,GAA0CE,OAAO,CAACF,WAAlD,GAAgE,SAAlF;QACA;;MACJ,KAAK,UAAL;QACIxE,GAAG,CAACD,uBAAJ,GAA8B,UAA9B;QACAC,GAAG,CAACc,MAAJ,GAAa;UAAEa,CAAC,EAAE+C,OAAO,CAAC5D,MAAR,CAAeoE,CAApB;UAAuBtD,CAAC,EAAE8C,OAAO,CAAC5D,MAAR,CAAeqE,CAAzC;UAA4CzD,KAAK,EAAEgD,OAAO,CAAC5D,MAAR,CAAesE,KAAlE;UAAyE3D,MAAM,EAAEiD,OAAO,CAAC5D,MAAR,CAAeuE;QAAhG,CAAb;QACArF,GAAG,CAAC+D,eAAJ,GAAsB,CAACnG,iBAAiB,CAAC8G,OAAO,CAACX,eAAT,CAAlB,GAA8CW,OAAO,CAACX,eAAtD,GAAwE,WAA9F;QACA/D,GAAG,CAACiE,UAAJ,GAAiBS,OAAO,CAACmR,UAAR,GAAqBnR,OAAO,CAACmR,UAA7B,GAA0C,KAA3D;QACA7V,GAAG,CAAC0C,IAAJ,GAAW,CAAC9E,iBAAiB,CAAC8G,OAAO,CAAChC,IAAT,CAAlB,GAAmCgC,OAAO,CAAChC,IAA3C,GAAkD,cAAc,KAAKrD,cAAhF;QACAW,GAAG,CAAC4E,SAAJ,GAAgBF,OAAO,CAACE,SAAR,GAAoBF,OAAO,CAACE,SAA5B,GAAwC,KAAxD;QACA5E,GAAG,CAACkE,UAAJ,GAAiBQ,OAAO,CAACR,UAAR,GAAqBQ,OAAO,CAACR,UAA7B,GAA0C,SAA3D;QACAlE,GAAG,CAACoE,UAAJ,GAAiBM,OAAO,CAACN,UAAR,GAAqBM,OAAO,CAACN,UAA7B,GAA0C,KAA3D;QACApE,GAAG,CAACyE,SAAJ,GAAgB,CAAC7G,iBAAiB,CAAC8G,OAAO,CAACD,SAAT,CAAlB,GAAwCC,OAAO,CAACD,SAAhD,GAA4D,CAA5E;QACAzE,GAAG,CAACwE,WAAJ,GAAkB,CAAC5G,iBAAiB,CAAC8G,OAAO,CAACF,WAAT,CAAlB,GAA0CE,OAAO,CAACF,WAAlD,GAAgE,SAAlF;QACA;;MACJ,KAAK,aAAL;QACIxE,GAAG,CAACD,uBAAJ,GAA8BgF,aAA9B;QACA/E,GAAG,CAACc,MAAJ,GAAa;UAAEa,CAAC,EAAE+C,OAAO,CAAC5D,MAAR,CAAeoE,CAApB;UAAuBtD,CAAC,EAAE8C,OAAO,CAAC5D,MAAR,CAAeqE,CAAzC;UAA4CzD,KAAK,EAAEgD,OAAO,CAAC5D,MAAR,CAAesE,KAAlE;UAAyE3D,MAAM,EAAEiD,OAAO,CAAC5D,MAAR,CAAeuE;QAAhG,CAAb;QACArF,GAAG,CAAC+D,eAAJ,GAAsB,CAACnG,iBAAiB,CAAC8G,OAAO,CAACX,eAAT,CAAlB,GAA8CW,OAAO,CAACX,eAAtD,GAAwE,WAA9F;QACA/D,GAAG,CAACiE,UAAJ,GAAiBS,OAAO,CAACmR,UAAR,GAAqBnR,OAAO,CAACmR,UAA7B,GAA0C,KAA3D;QACA7V,GAAG,CAAC0C,IAAJ,GAAW,CAAC9E,iBAAiB,CAAC8G,OAAO,CAAChC,IAAT,CAAlB,GAAmCgC,OAAO,CAAChC,IAA3C,GAAkD,iBAAiB,KAAKrD,cAAnF;QACAW,GAAG,CAAC6E,UAAJ,GAAiBH,OAAO,CAACG,UAAR,GAAqBH,OAAO,CAACG,UAA7B,GAA0C,KAA3D;QACA7E,GAAG,CAACkE,UAAJ,GAAiBQ,OAAO,CAACR,UAAR,GAAqBQ,OAAO,CAACR,UAA7B,GAA0C,SAA3D;QACAlE,GAAG,CAACoE,UAAJ,GAAiBM,OAAO,CAACN,UAAR,GAAqBM,OAAO,CAACN,UAA7B,GAA0C,KAA3D;QACApE,GAAG,CAACyE,SAAJ,GAAgB,CAAC7G,iBAAiB,CAAC8G,OAAO,CAACD,SAAT,CAAlB,GAAwCC,OAAO,CAACD,SAAhD,GAA4D,CAA5E;QACAzE,GAAG,CAACwE,WAAJ,GAAkB,CAAC5G,iBAAiB,CAAC8G,OAAO,CAACF,WAAT,CAAlB,GAA0CE,OAAO,CAACF,WAAlD,GAAgE,SAAlF;QACA;;MACJ,KAAK,gBAAL;QACIxE,GAAG,CAACD,uBAAJ,GAA8BgF,aAA9B;QACA/E,GAAG,CAACc,MAAJ,GAAa;UAAEa,CAAC,EAAE+C,OAAO,CAAC5D,MAAR,CAAeoE,CAApB;UAAuBtD,CAAC,EAAE8C,OAAO,CAAC5D,MAAR,CAAeqE,CAAzC;UAA4CzD,KAAK,EAAEgD,OAAO,CAAC5D,MAAR,CAAesE,KAAlE;UAAyE3D,MAAM,EAAEiD,OAAO,CAAC5D,MAAR,CAAeuE;QAAhG,CAAb;QACArF,GAAG,CAAC+D,eAAJ,GAAsB,CAACnG,iBAAiB,CAAC8G,OAAO,CAACX,eAAT,CAAlB,GAA8CW,OAAO,CAACX,eAAtD,GAAwE,WAA9F;QACA/D,GAAG,CAACsC,QAAJ,GAAe,CAAC1E,iBAAiB,CAAC8G,OAAO,CAACpC,QAAT,CAAlB,GAAuCoC,OAAO,CAACpC,QAA/C,GAA0D,EAAzE;QACAtC,GAAG,CAAC6D,SAAJ,GAAgB,CAACjG,iBAAiB,CAAC8G,OAAO,CAACb,SAAT,CAAlB,GAAwCa,OAAO,CAACb,SAAhD,GAA4D,MAA5E;QACA7D,GAAG,CAAC0C,IAAJ,GAAW,CAAC9E,iBAAiB,CAAC8G,OAAO,CAAChC,IAAT,CAAlB,GAAmCgC,OAAO,CAAChC,IAA3C,GAAkD,cAAc,KAAKrD,cAAhF;QACAW,GAAG,CAACoE,UAAJ,GAAiBM,OAAO,CAACN,UAAR,GAAqBM,OAAO,CAACN,UAA7B,GAA0C,KAA3D;QACApE,GAAG,CAACiE,UAAJ,GAAiBS,OAAO,CAACmR,UAAR,GAAqBnR,OAAO,CAACmR,UAA7B,GAA0C,KAA3D;QACA7V,GAAG,CAACqN,0BAAJ,GAAiC3I,OAAO,CAAC2I,0BAAR,GAAqC;UAAE7J,OAAO,EAAEkB,OAAO,CAAC2I,0BAAR,CAAmC7J,OAAnC,GAA6CkB,OAAO,CAAC2I,0BAAR,CAAmC7J,OAAhF,GAA0F,CAArG;UAClEO,eAAe,EAAEW,OAAO,CAAC2I,0BAAR,CAAmCtJ,eAAnC,GAAqDW,OAAO,CAAC2I,0BAAR,CAAmCtJ,eAAxF,GAA0G,QADzD;UACmErC,KAAK,EAAEgD,OAAO,CAAC2I,0BAAR,CAAmC3L,KAAnC,GAA2CgD,OAAO,CAAC2I,0BAAR,CAAmC3L,KAA9E,GAAsF,EADhK;UAElED,MAAM,EAAEiD,OAAO,CAAC2I,0BAAR,CAAmC5L,MAAnC,GAA4CiD,OAAO,CAAC2I,0BAAR,CAAmC5L,MAA/E,GAAwF,EAF9B;UAEkCa,QAAQ,EAAEoC,OAAO,CAAC2I,0BAAR,CAAmC/K,QAAnC,GAA8CoC,OAAO,CAAC2I,0BAAR,CAAmC/K,QAAjF,GAA4F,EAFxI;UAGlEgL,IAAI,EAAE5I,OAAO,CAAC2I,0BAAR,CAAmCC,IAAnC,GAA0C5I,OAAO,CAAC2I,0BAAR,CAAmCC,IAA7E,GAAoF,IAHxB;UAG8BxJ,KAAK,EAAEY,OAAO,CAAC2I,0BAAR,CAAmCvJ,KAAnC,GAA2CY,OAAO,CAAC2I,0BAAR,CAAmCvJ,KAA9E,GAAsF;QAH3H,CAArC,GAG4K,IAH7M;QAIA;;MACJ,KAAK,cAAL;QACI9D,GAAG,CAACD,uBAAJ,GAA8BgF,aAA9B;QACA/E,GAAG,CAACc,MAAJ,GAAa;UAAEa,CAAC,EAAE+C,OAAO,CAAC5D,MAAR,CAAeoE,CAApB;UAAuBtD,CAAC,EAAE8C,OAAO,CAAC5D,MAAR,CAAeqE,CAAzC;UAA4CzD,KAAK,EAAEgD,OAAO,CAAC5D,MAAR,CAAesE,KAAlE;UAAyE3D,MAAM,EAAEiD,OAAO,CAAC5D,MAAR,CAAeuE;QAAhG,CAAb;QACArF,GAAG,CAAC+D,eAAJ,GAAsB,CAACnG,iBAAiB,CAAC8G,OAAO,CAACX,eAAT,CAAlB,GAA8CW,OAAO,CAACX,eAAtD,GAAwE,WAA9F;QACA/D,GAAG,CAACsC,QAAJ,GAAe,CAAC1E,iBAAiB,CAAC8G,OAAO,CAACpC,QAAT,CAAlB,GAAuCoC,OAAO,CAACpC,QAA/C,GAA0D,EAAzE;QACAtC,GAAG,CAAC6D,SAAJ,GAAgB,CAACjG,iBAAiB,CAAC8G,OAAO,CAACb,SAAT,CAAlB,GAAwCa,OAAO,CAACb,SAAhD,GAA4D,MAA5E;QACA7D,GAAG,CAAC0C,IAAJ,GAAW,CAAC9E,iBAAiB,CAAC8G,OAAO,CAAChC,IAAT,CAAlB,GAAmCgC,OAAO,CAAChC,IAA3C,GAAkD,YAAY,KAAKrD,cAA9E;QACAW,GAAG,CAACoE,UAAJ,GAAiBM,OAAO,CAACN,UAAR,GAAqBM,OAAO,CAACN,UAA7B,GAA0C,KAA3D;QACApE,GAAG,CAACiE,UAAJ,GAAiBS,OAAO,CAACmR,UAAR,GAAqBnR,OAAO,CAACmR,UAA7B,GAA0C,KAA3D;QACA7V,GAAG,CAACd,cAAJ,GAAqB,IAArB;QACAc,GAAG,CAACqN,0BAAJ,GAAiC3I,OAAO,CAAC2I,0BAAR,GAAqC;UAAE7J,OAAO,EAAEkB,OAAO,CAAC2I,0BAAR,CAAmC7J,OAAnC,GAA6CkB,OAAO,CAAC2I,0BAAR,CAAmC7J,OAAhF,GAA0F,CAArG;UAClEO,eAAe,EAAEW,OAAO,CAAC2I,0BAAR,CAAmCtJ,eAAnC,GAAqDW,OAAO,CAAC2I,0BAAR,CAAmCtJ,eAAxF,GAA0G,QADzD;UACmErC,KAAK,EAAEgD,OAAO,CAAC2I,0BAAR,CAAmC3L,KAAnC,GAA2CgD,OAAO,CAAC2I,0BAAR,CAAmC3L,KAA9E,GAAsF,EADhK;UAElED,MAAM,EAAEiD,OAAO,CAAC2I,0BAAR,CAAmC5L,MAAnC,GAA4CiD,OAAO,CAAC2I,0BAAR,CAAmC5L,MAA/E,GAAwF,EAF9B;UAEkCa,QAAQ,EAAEoC,OAAO,CAAC2I,0BAAR,CAAmC/K,QAAnC,GAA8CoC,OAAO,CAAC2I,0BAAR,CAAmC/K,QAAjF,GAA4F,EAFxI;UAGlEgL,IAAI,EAAE5I,OAAO,CAAC2I,0BAAR,CAAmCC,IAAnC,GAA0C5I,OAAO,CAAC2I,0BAAR,CAAmCC,IAA7E,GAAoF,IAHxB;UAG8BxJ,KAAK,EAAEY,OAAO,CAAC2I,0BAAR,CAAmCvJ,KAAnC,GAA2CY,OAAO,CAAC2I,0BAAR,CAAmCvJ,KAA9E,GAAsF;QAH3H,CAArC,GAG4K,IAH7M;QAIA;IAlGR;;IAoGA9D,GAAG,CAACuE,OAAJ,GAAc,CAAC3G,iBAAiB,CAAC8G,OAAO,CAACH,OAAT,CAAlB,GAAsCG,OAAO,CAACH,OAA9C,GAAwD,EAAtE;IACA,IAAI0R,WAAW,GAAG,IAAlB;;IACA,IAAIL,YAAJ,EAAkB;MACd,KAAKM,kBAAL,CAAwBlW,GAAxB;IACH,CAFD,MAGK;MACD,KAAKJ,aAAL,CAAmBuW,wBAAnB;MACAF,WAAW,GAAG,KAAKG,aAAL,CAAmBpW,GAAnB,CAAd;IACH;;IACD,OAAOiW,WAAP;EACH,CAjID;;EAkIAtX,YAAY,CAACkB,SAAb,CAAuBqW,kBAAvB,GAA4C,UAAUG,IAAV,EAAgB;IACxD,IAAIL,SAAS,GAAG;MACZ1V,EAAE,EAAE3C,QAAQ,EADA;MACI+E,IAAI,EAAE2T,IAAI,CAAC3T,IADf;MACqBiB,KAAK,EAAE0S,IAAI,CAAC1S,KADjC;MAEZ+E,IAAI,EAAE2N,IAAI,CAACtW,uBAFC;MAEwB8V,UAAU,EAAEQ,IAAI,CAACpS,UAFzC;MAEqDL,UAAU,EAAEyS,IAAI,CAACzS,UAFtE;MAGZtB,QAAQ,EAAE+T,IAAI,CAAC/T,QAHH;MAGauB,SAAS,EAAEwS,IAAI,CAACxS,SAH7B;MAGwCC,KAAK,EAAEuS,IAAI,CAACvS,KAHpD;MAG2DC,eAAe,EAAEsS,IAAI,CAACtS,eAHjF;MAGkGuB,WAAW,EAAE+Q,IAAI,CAAC/Q,WAHpH;MAIZtB,SAAS,EAAEqS,IAAI,CAACrS,SAJJ;MAIeE,UAAU,EAAEmS,IAAI,CAACnS,UAJhC;MAI4CC,SAAS,EAAEkS,IAAI,CAAClS,SAJ5D;MAIuEC,UAAU,EAAEiS,IAAI,CAACjS,UAJxF;MAKZC,OAAO,EAAEgS,IAAI,CAAChS,OALF;MAKWQ,UAAU,EAAEwR,IAAI,CAACxR,UAL5B;MAKwCD,SAAS,EAAEyR,IAAI,CAACzR,SALxD;MAKmEL,OAAO,EAAE8R,IAAI,CAAC9R,OALjF;MAK0FzD,MAAM,EAAEuV,IAAI,CAACvV,MALvG;MAK+G2D,SAAS,EAAE4R,IAAI,CAAC5R,SAL/H;MAK0I1C,SAAS,EAAEsU,IAAI,CAACtU,SAL1J;MAKqKyC,WAAW,EAAE6R,IAAI,CAAC7R,WALvL;MAKoM6I,0BAA0B,EAAEgJ,IAAI,CAAChJ;IALrO,CAAhB;IAOA,KAAK1N,SAAL,CAAe2W,oBAAf,CAAoClQ,IAApC,CAAyC4P,SAAzC;EACH,CATD;EAUA;AACJ;AACA;;;EACIrX,YAAY,CAACkB,SAAb,CAAuBuW,aAAvB,GAAuC,UAAUpW,GAAV,EAAe;IAClD,IAAIqW,IAAI,GAAG,KAAK1W,SAAL,CAAeuV,GAAf,CAAmBlV,GAAnB,CAAX;IACA,IAAIsU,KAAK,GAAG,KAAK3U,SAAL,CAAe2W,oBAAf,CAAoCC,SAApC,CAA8C,UAAUC,EAAV,EAAc;MAAE,OAAOA,EAAE,CAAClW,EAAH,KAAU+V,IAAI,CAAC/V,EAAtB;IAA2B,CAAzF,CAAZ,CAFkD,CAGlD;;IACA,IAAI0G,IAAJ;;IACA,IAAIsN,KAAK,GAAG,CAAC,CAAb,EAAgB;MACZtN,IAAI,GAAG,KAAKrH,SAAL,CAAe2W,oBAAf,CAAoChC,KAApC,CAAP;;MACA,IAAI,KAAK5U,kBAAT,EAA6B;QACzB,KAAK+W,4BAAL,CAAkCJ,IAAlC,EAAwCrP,IAAxC;MACH;IACJ;;IACD,IAAI3H,cAAc,GAAG,KAAKM,SAAL,CAAe4G,mBAAf,CAAmCgQ,SAAnC,CAA6C,UAAUC,EAAV,EAAc;MAAE,OAAOA,EAAE,CAAClW,EAAH,KAAU+V,IAAI,CAAC/V,EAAtB;IAA2B,CAAxF,CAArB;;IACA,IAAIjB,cAAc,GAAG,CAArB,EAAwB;MACpB,KAAKM,SAAL,CAAe4G,mBAAf,CAAmCH,IAAnC,CAAwCiQ,IAAxC;IACH,CAFD,MAGK,IAAIhX,cAAc,GAAG,CAAC,CAAtB,EAAyB;MAC1B,KAAKM,SAAL,CAAe4G,mBAAf,CAAmClH,cAAnC,IAAqDgX,IAArD;IACH;;IACD,IAAIL,SAAS,GAAG;MACZ1V,EAAE,EAAE+V,IAAI,CAAC/V,EADG;MACCoC,IAAI,EAAE2T,IAAI,CAAC3T,IADZ;MACkBiB,KAAK,EAAE0S,IAAI,CAAC1S,KAD9B;MAEZ+E,IAAI,EAAE2N,IAAI,CAACtW,uBAFC;MAEwB8V,UAAU,EAAEQ,IAAI,CAACpS,UAFzC;MAEqDL,UAAU,EAAEyS,IAAI,CAACzS,UAFtE;MAGZtB,QAAQ,EAAE+T,IAAI,CAAC/T,QAHH;MAGauB,SAAS,EAAEwS,IAAI,CAACxS,SAH7B;MAGwCC,KAAK,EAAEuS,IAAI,CAACvS,KAHpD;MAG2DC,eAAe,EAAEsS,IAAI,CAACtS,eAHjF;MAGkGuB,WAAW,EAAE+Q,IAAI,CAAC/Q,WAHpH;MAIZtB,SAAS,EAAEqS,IAAI,CAACrS,SAJJ;MAIeE,UAAU,EAAEmS,IAAI,CAACnS,UAJhC;MAI4CC,SAAS,EAAEkS,IAAI,CAAClS,SAJ5D;MAIuEC,UAAU,EAAEiS,IAAI,CAACjS,UAJxF;MAKZC,OAAO,EAAEgS,IAAI,CAAChS,OALF;MAKWQ,UAAU,EAAEwR,IAAI,CAACxR,UAL5B;MAKwCD,SAAS,EAAEyR,IAAI,CAACzR,SALxD;MAKmEL,OAAO,EAAE8R,IAAI,CAAC9R,OALjF;MAK0FzD,MAAM,EAAEuV,IAAI,CAACvV,MALvG;MAK+GiB,SAAS,EAAEsU,IAAI,CAACtU,SAL/H;MAK0I0C,SAAS,EAAE4R,IAAI,CAAC5R,SAL1J;MAKqKD,WAAW,EAAE6R,IAAI,CAAC7R,WALvL;MAKoM6I,0BAA0B,EAAEgJ,IAAI,CAAChJ;IALrO,CAAhB;;IAOA,IAAIiH,KAAK,GAAG,CAAC,CAAb,EAAgB;MACZ,KAAK3U,SAAL,CAAe2W,oBAAf,CAAoChC,KAApC,IAA6C0B,SAA7C;IACH,CAFD,MAGK;MACD,KAAKrW,SAAL,CAAe2W,oBAAf,CAAoClQ,IAApC,CAAyC4P,SAAzC;IACH;;IACD,IAAIC,WAAW,GAAG,KAAKpU,eAAL,CAAqBwU,IAAI,CAACtW,uBAA1B,EAAmDsW,IAAI,CAACnK,OAAL,CAAaC,QAAb,CAAsB,CAAtB,CAAnD,EAA6EkK,IAA7E,EAAmFrW,GAAG,CAAC2E,UAAJ,GAAiB,CAApG,EAAuG,KAAKhF,SAA5G,CAAlB;IACA,OAAOsW,WAAP;EACH,CAjCD;EAkCA;AACJ;AACA;AACA;AACA;AACA;AACA;;;EACItX,YAAY,CAACkB,SAAb,CAAuB4W,4BAAvB,GAAsD,UAAUJ,IAAV,EAAgBrP,IAAhB,EAAsB;IACxEqP,IAAI,CAAC3T,IAAL,GAAYsE,IAAI,CAACtE,IAAjB;IACA2T,IAAI,CAAC1S,KAAL,GAAaqD,IAAI,CAACrD,KAAlB;IACA0S,IAAI,CAACpS,UAAL,GAAkB+C,IAAI,CAAC6O,UAAvB;IACAQ,IAAI,CAACzS,UAAL,GAAkBoD,IAAI,CAACpD,UAAvB;IACAyS,IAAI,CAAC/T,QAAL,GAAgB0E,IAAI,CAAC1E,QAArB;IACA+T,IAAI,CAACxS,SAAL,GAAiBmD,IAAI,CAACnD,SAAL,CAAe2F,QAAf,EAAjB;IACA6M,IAAI,CAACvS,KAAL,GAAakD,IAAI,CAAClD,KAAlB;IACAuS,IAAI,CAACtS,eAAL,GAAuBiD,IAAI,CAACjD,eAA5B;IACAsS,IAAI,CAACrS,SAAL,GAAiBgD,IAAI,CAAChD,SAAtB;IACAqS,IAAI,CAACnS,UAAL,GAAkB8C,IAAI,CAAC9C,UAAvB;IACAmS,IAAI,CAAClS,SAAL,GAAiB6C,IAAI,CAAC7C,SAAtB;IACAkS,IAAI,CAACjS,UAAL,GAAkB4C,IAAI,CAAC5C,UAAvB;IACAiS,IAAI,CAAChS,OAAL,GAAe2C,IAAI,CAAC3C,OAApB;IACAgS,IAAI,CAACxR,UAAL,GAAkBmC,IAAI,CAACnC,UAAvB;IACAwR,IAAI,CAACzR,SAAL,GAAiBoC,IAAI,CAACpC,SAAtB;IACAyR,IAAI,CAAC9R,OAAL,GAAeyC,IAAI,CAACzC,OAApB;IACA8R,IAAI,CAAC5R,SAAL,GAAiBuC,IAAI,CAACvC,SAAtB;IACA4R,IAAI,CAAC7R,WAAL,GAAmBwC,IAAI,CAACxC,WAAxB;EACH,CAnBD;EAoBA;AACJ;AACA;AACA;AACA;AACA;AACA;;;EACI7F,YAAY,CAACkB,SAAb,CAAuB6W,gBAAvB,GAA0C,UAAU3R,aAAV,EAAyBL,OAAzB,EAAkC;IACxE,QAAQK,aAAR;MACI,KAAK,SAAL;QACI,KAAK4R,sBAAL,CAA4B5R,aAA5B;QACA,KAAK5F,kBAAL,GAA0B,IAA1B;QACA;;MACJ,KAAK,UAAL;QACI,IAAIyX,YAAY,GAAG,eAAnB;QACA,KAAKC,qBAAL,CAA2BD,YAA3B;QACA,KAAKzX,kBAAL,GAA0B,IAA1B;QACA;;MACJ,KAAK,UAAL;QACI,IAAI2X,YAAY,GAAG,UAAnB;QACA,KAAKC,uBAAL,CAA6BD,YAA7B;QACA,KAAK3X,kBAAL,GAA0B,IAA1B;QACA;;MACJ,KAAK,aAAL;QACI,KAAK6X,0BAAL,CAAgCjS,aAAhC;QACA,KAAK5F,kBAAL,GAA0B,IAA1B;QACA;;MACJ,KAAK,UAAL;QACI,IAAI8X,YAAY,GAAG,cAAnB;QACA,KAAKC,2BAAL,CAAiCD,YAAjC,EAA+CvS,OAA/C;QACA,KAAKvF,kBAAL,GAA0B,IAA1B;QACA;;MACJ,KAAK,SAAL;QACI,KAAKgY,sBAAL,CAA4BpS,aAA5B,EAA2CL,OAA3C;QACA,KAAKvF,kBAAL,GAA0B,IAA1B;QACA;;MACJ,KAAK,gBAAL;MACA,KAAK,cAAL;QACI,KAAKiY,2BAAL,CAAiCrS,aAAjC;QACA,KAAK5F,kBAAL,GAA0B,IAA1B;IA/BR;EAiCH,CAlCD;EAmCA;AACJ;AACA;AACA;AACA;AACA;;;EACIR,YAAY,CAACkB,SAAb,CAAuBwX,cAAvB,GAAwC,UAAUC,WAAV,EAAuB;IAC3D,IAAItB,SAAS,GAAG,KAAKuB,YAAL,CAAkBD,WAAlB,CAAhB;;IACA,IAAItB,SAAJ,EAAe;MACX,QAAQA,SAAS,CAACjW,uBAAlB;QACI,KAAK,SAAL;UACI,KAAKyX,sBAAL,CAA4BxB,SAA5B;UACA;;QACJ,KAAK,eAAL;UACI,KAAKyB,uBAAL,CAA6BzB,SAA7B;UACA;;QACJ,KAAK,UAAL;UACI,KAAK0B,uBAAL,CAA6B1B,SAA7B;UACA;;QACJ,KAAK,aAAL;UACI,KAAK2B,0BAAL,CAAgC3B,SAAhC;UACA;;QACJ,KAAK,cAAL;UACI,KAAK4B,2BAAL,CAAiC5B,SAAjC;UACA;;QACJ,KAAK,SAAL;UACI,KAAK6B,sBAAL,CAA4B7B,SAA5B;UACA;;QACJ,KAAK,gBAAL;QACA,KAAK,cAAL;UACI,KAAK8B,+BAAL,CAAqC9B,SAArC;UACA;MAtBR;;MAwBA,KAAKvI,gCAAL,CAAsCuI,SAAtC;IACH;EACJ,CA7BD;EA8BA;AACJ;AACA;AACA;AACA;AACA;;;EACIrX,YAAY,CAACkB,SAAb,CAAuBkY,eAAvB,GAAyC,UAAUT,WAAV,EAAuB;IAC5D,IAAItB,SAAS,GAAG,KAAKuB,YAAL,CAAkBD,WAAlB,CAAhB;;IACA,IAAItB,SAAJ,EAAe;MACX,KAAKzW,uBAAL,GAA+B,IAA/B;MACA,KAAKI,SAAL,CAAeyR,MAAf,CAAsB,CAAC4E,SAAS,CAAC1V,EAAX,CAAtB;MACA,KAAKf,uBAAL,GAA+B,KAA/B;IACH;EACJ,CAPD;EAQA;AACJ;AACA;AACA;AACA;AACA;AACA;;;EACIZ,YAAY,CAACkB,SAAb,CAAuBmY,eAAvB,GAAyC,UAAUV,WAAV,EAAuB5S,OAAvB,EAAgC;IACrE,IAAIsR,SAAS,GAAG,KAAKuB,YAAL,CAAkBD,WAAlB,CAAhB;IACA,KAAK5X,kBAAL,GAA0B,IAA1B;;IACA,IAAIsW,SAAJ,EAAe;MACX,QAAQA,SAAS,CAACjW,uBAAlB;QACI,KAAK,SAAL;QACA,KAAK,eAAL;QACA,KAAK,cAAL;QACA,KAAK,SAAL;QACA,KAAK,gBAAL;QACA,KAAK,cAAL;UACI,IAAIyS,YAAY,GAAGrS,QAAQ,CAACC,cAAT,CAAwB4V,SAAS,CAAC1V,EAAV,GAAe,uBAAvC,CAAnB;;UACA,IAAIkS,YAAJ,EAAkB;YACdA,YAAY,GAAGA,YAAY,CAAC/F,iBAAb,CAA+BA,iBAA9C;YACA,KAAKwL,uBAAL,CAA6BjC,SAA7B,EAAwCtR,OAAxC,EAAiD8N,YAAjD;UACH,CAHD,MAIK;YACD,KAAK0F,6BAAL,CAAmCZ,WAAnC,EAAgD5S,OAAhD;UACH;;UACD;;QACJ,KAAK,aAAL;UACI,IAAIyT,wBAAwB,GAAGhY,QAAQ,CAACC,cAAT,CAAwB4V,SAAS,CAAC1V,EAAV,GAAe,uBAAvC,CAA/B;;UACA,IAAI6X,wBAAJ,EAA8B;YAC1BA,wBAAwB,GAAGA,wBAAwB,CAAC1L,iBAAzB,CAA2CA,iBAA3C,CAA6DA,iBAAxF;YACA,KAAKwL,uBAAL,CAA6BjC,SAA7B,EAAwCtR,OAAxC,EAAiDyT,wBAAjD;UACH,CAHD,MAIK;YACD,KAAKD,6BAAL,CAAmCZ,WAAnC,EAAgD5S,OAAhD;UACH;;UACD;;QACJ,KAAK,UAAL;UACI,IAAI0T,kBAAkB,GAAGjY,QAAQ,CAACC,cAAT,CAAwB4V,SAAS,CAAC1V,EAAV,GAAe,uBAAvC,CAAzB;;UACA,IAAI8X,kBAAJ,EAAwB;YACpBA,kBAAkB,GAAGA,kBAAkB,CAAC3L,iBAAnB,CAAqCA,iBAArC,CAAuDC,gBAA5E;YACA,KAAKuL,uBAAL,CAA6BjC,SAA7B,EAAwCtR,OAAxC,EAAiD0T,kBAAjD;UACH,CAHD,MAIK;YACD,KAAKF,6BAAL,CAAmCZ,WAAnC,EAAgD5S,OAAhD;UACH;;UACD;MAnCR;IAqCH,CAtCD,MAuCK;MACD,KAAKwT,6BAAL,CAAmCZ,WAAnC,EAAgD5S,OAAhD;IACH;EACJ,CA7CD;EA8CA;AACJ;AACA;AACA;AACA;AACA;;;EACI/F,YAAY,CAACkB,SAAb,CAAuBqY,6BAAvB,GAAuD,UAAUZ,WAAV,EAAuB5S,OAAvB,EAAgC;IACnF,IAAI6B,mBAAmB,GAAG,KAAK5G,SAAL,CAAe2W,oBAAzC;;IACA,KAAK,IAAIvT,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGwD,mBAAmB,CAAC1D,MAAxC,EAAgDE,CAAC,EAAjD,EAAqD;MACjD,IAAIsE,WAAW,GAAGd,mBAAmB,CAACxD,CAAD,CAArC;;MACA,IAAIsE,WAAW,CAAC/G,EAAZ,KAAmBgX,WAAvB,EAAoC;QAChC,KAAKe,mBAAL,CAAyBhR,WAAzB,EAAsC3C,OAAtC;QACA,IAAIrF,cAAc,GAAG,KAAKM,SAAL,CAAe2W,oBAAf,CAAoCC,SAApC,CAA8C,UAAUC,EAAV,EAAc;UAAE,OAAOA,EAAE,CAAClW,EAAH,KAAUgX,WAAjB;QAA+B,CAA7F,CAArB;QACA,KAAK3X,SAAL,CAAe2W,oBAAf,CAAoCjX,cAApC,IAAsDgI,WAAtD;MACH;IACJ;EACJ,CAVD;EAWA;AACJ;AACA;AACA;AACA;AACA;;;EACI1I,YAAY,CAACkB,SAAb,CAAuBwY,mBAAvB,GAA6C,UAAUhR,WAAV,EAAuB3C,OAAvB,EAAgC;IACzE,IAAIA,OAAO,CAAChC,IAAR,IAAgB2E,WAAW,CAAC3E,IAAZ,KAAqBgC,OAAO,CAAChC,IAAjD,EAAuD;MACnD2E,WAAW,CAAC3E,IAAZ,GAAmBgC,OAAO,CAAChC,IAA3B;IACH;;IACD,IAAI2E,WAAW,CAACqB,IAAZ,KAAqB,gBAArB,IAAyCrB,WAAW,CAACqB,IAAZ,KAAqB,cAAlE,EAAkF;MAC9E,IAAIhE,OAAO,CAACD,SAAR,IAAqB4C,WAAW,CAAC5C,SAAZ,KAA0BC,OAAO,CAACD,SAA3D,EAAsE;QAClE4C,WAAW,CAAC5C,SAAZ,GAAwBC,OAAO,CAACD,SAAhC;MACH;;MACD,IAAIC,OAAO,CAACF,WAAZ,EAAyB;QACrB,IAAIA,WAAW,GAAG,KAAK8T,oBAAL,CAA0B5T,OAAO,CAACF,WAAlC,CAAlB;;QACA,IAAI6C,WAAW,CAAC7C,WAAZ,KAA4BA,WAAhC,EAA6C;UACzC6C,WAAW,CAAC7C,WAAZ,GAA0BA,WAA1B;QACH;MACJ;IACJ;;IACD,IAAIE,OAAO,CAACX,eAAZ,EAA6B;MACzB,IAAIwU,SAAS,GAAG,KAAKD,oBAAL,CAA0B5T,OAAO,CAACX,eAAlC,CAAhB;;MACA,IAAIsD,WAAW,CAACtD,eAAZ,KAAgCwU,SAApC,EAA+C;QAC3ClR,WAAW,CAACtD,eAAZ,GAA8BwU,SAA9B;MACH;IACJ;;IACD,IAAI,CAAC3a,iBAAiB,CAAC8G,OAAO,CAACmR,UAAT,CAAlB,IAA0CxO,WAAW,CAACpD,UAAZ,KAA2BS,OAAO,CAACmR,UAAjF,EAA6F;MACzFxO,WAAW,CAACwO,UAAZ,GAAyBnR,OAAO,CAACmR,UAAjC;IACH;;IACD,IAAI,CAACjY,iBAAiB,CAAC8G,OAAO,CAACN,UAAT,CAAlB,IAA0CiD,WAAW,CAACjD,UAAZ,KAA2BM,OAAO,CAACN,UAAjF,EAA6F;MACzFiD,WAAW,CAACjD,UAAZ,GAAyBM,OAAO,CAACN,UAAjC;IACH;;IACD,IAAI,CAACxG,iBAAiB,CAAC8G,OAAO,CAACL,OAAT,CAAlB,IAAuCgD,WAAW,CAAChD,OAAZ,KAAwBK,OAAO,CAACL,OAA3E,EAAoF;MAChFgD,WAAW,CAAChD,OAAZ,GAAsBK,OAAO,CAACL,OAA9B;IACH;;IACD,IAAIK,OAAO,CAACR,UAAR,IAAsBmD,WAAW,CAACnD,UAAZ,KAA2BQ,OAAO,CAACR,UAA7D,EAAyE;MACrEmD,WAAW,CAACnD,UAAZ,GAAyBQ,OAAO,CAACR,UAAjC;IACH;;IACD,IAAIQ,OAAO,CAACH,OAAR,IAAmB8C,WAAW,CAAC9C,OAAZ,KAAwBG,OAAO,CAACH,OAAvD,EAAgE;MAC5D8C,WAAW,CAAC9C,OAAZ,GAAsBG,OAAO,CAACH,OAA9B;IACH;;IACD,IAAI8C,WAAW,CAACqB,IAAZ,KAAqB,UAArB,IAAoC,CAAC9K,iBAAiB,CAAC8G,OAAO,CAACE,SAAT,CAAlB,IAAyCyC,WAAW,CAACzC,SAAZ,KAA0BF,OAAO,CAACE,SAAnH,EAA+H;MAC3HyC,WAAW,CAACzC,SAAZ,GAAwBF,OAAO,CAACE,SAAhC;IACH;;IACD,IAAIyC,WAAW,CAACqB,IAAZ,KAAqB,aAArB,IAAuC,CAAC9K,iBAAiB,CAAC8G,OAAO,CAACG,UAAT,CAAlB,IAA0CwC,WAAW,CAACxC,UAAZ,KAA2BH,OAAO,CAACG,UAAxH,EAAqI;MACjIwC,WAAW,CAACxC,UAAZ,GAAyBH,OAAO,CAACG,UAAjC;IACH;;IACD,IAAI,CAACwC,WAAW,CAACqB,IAAZ,KAAqB,cAArB,IAAuCrB,WAAW,CAACqB,IAAZ,KAAqB,SAA7D,KAA2EhE,OAAO,CAACA,OAAvF,EAAgG;MAC5F2C,WAAW,CAAC3C,OAAZ,GAAsBA,OAAO,CAACA,OAA9B;IACH;;IACD,IAAI2C,WAAW,CAACqB,IAAZ,KAAqB,SAArB,IAAkCrB,WAAW,CAACqB,IAAZ,KAAqB,gBAAvD,IAA2ErB,WAAW,CAACqB,IAAZ,KAAqB,cAAhG,IACArB,WAAW,CAACqB,IAAZ,KAAqB,cADrB,IACuCrB,WAAW,CAACqB,IAAZ,KAAqB,SAD5D,IAEArB,WAAW,CAACqB,IAAZ,KAAqB,eAFzB,EAE0C;MACtC,IAAIhE,OAAO,CAACf,KAAR,IAAiB0D,WAAW,CAAC1D,KAAZ,KAAsBe,OAAO,CAACf,KAAnD,EAA0D;QACtD0D,WAAW,CAAC1D,KAAZ,GAAoBe,OAAO,CAACf,KAA5B;MACH;;MACD,IAAIe,OAAO,CAACpC,QAAR,IAAoB+E,WAAW,CAAC/E,QAAZ,KAAyBoC,OAAO,CAACpC,QAAzD,EAAmE;QAC/D+E,WAAW,CAAC/E,QAAZ,GAAuBoC,OAAO,CAACpC,QAA/B;MACH;;MACD,IAAIoC,OAAO,CAACZ,KAAZ,EAAmB;QACf,IAAIA,KAAK,GAAG,KAAKwU,oBAAL,CAA0B5T,OAAO,CAACZ,KAAlC,CAAZ;;QACA,IAAIuD,WAAW,CAACvD,KAAZ,KAAsBA,KAA1B,EAAiC;UAC7BuD,WAAW,CAACvD,KAAZ,GAAoBA,KAApB;QACH;MACJ;;MACD,IAAIuD,WAAW,CAACqB,IAAZ,KAAqB,gBAAzB,EAA2C;QACvC,IAAIhE,OAAO,CAACV,SAAR,IAAqBqD,WAAW,CAACrD,SAAZ,KAA0BU,OAAO,CAACV,SAA3D,EAAsE;UAClEqD,WAAW,CAACrD,SAAZ,GAAwBU,OAAO,CAACV,SAAhC;QACH;;QACD,IAAIU,OAAO,CAACP,SAAR,IAAqBkD,WAAW,CAAClD,SAAZ,KAA0BO,OAAO,CAACP,SAA3D,EAAsE;UAClEkD,WAAW,CAAClD,SAAZ,GAAwBO,OAAO,CAACP,SAAhC;QACH;MACJ;;MACD,IAAIkD,WAAW,CAACqB,IAAZ,KAAqB,eAAzB,EAA0C;QACtC,IAAIhE,OAAO,CAACd,UAAR,IAAsByD,WAAW,CAACzD,UAAZ,KAA2Bc,OAAO,CAACd,UAA7D,EAAyE;UACrEyD,WAAW,CAACzD,UAAZ,GAAyBc,OAAO,CAACd,UAAjC;QACH;;QACD,IAAIc,OAAO,CAACb,SAAR,IAAqBwD,WAAW,CAACxD,SAAZ,KAA0Ba,OAAO,CAACb,SAA3D,EAAsE;UAClEwD,WAAW,CAACxD,SAAZ,GAAwBa,OAAO,CAACb,SAAhC;QACH;MACJ;IACJ;EACJ,CA7ED;;EA8EAlF,YAAY,CAACkB,SAAb,CAAuB2Y,sBAAvB,GAAgD,UAAU1U,KAAV,EAAiB;IAC7D,IAAIA,KAAK,CAAC2U,QAAN,CAAe,GAAf,CAAJ,EAAyB;MACrB,IAAI3U,KAAK,CAACjB,MAAN,GAAe,CAAnB,EAAsB;QAClBiB,KAAK,GAAGA,KAAK,CAACiF,KAAN,CAAY,CAAZ,EAAe,CAAC,CAAhB,IAAqB,IAA7B;MACH,CAFD,MAGK;QACDjF,KAAK,IAAI,IAAT;MACH;IACJ;;IACD,OAAOA,KAAP;EACH,CAVD;;EAWAnF,YAAY,CAACkB,SAAb,CAAuBoY,uBAAvB,GAAiD,UAAUtH,eAAV,EAA2BjM,OAA3B,EAAoC9D,WAApC,EAAiD;IAC9F,IAAI8X,cAAc,GAAG,KAArB;IAAA,IAA4BC,mBAAmB,GAAG,KAAlD;IAAA,IAAyDC,iBAAiB,GAAG,KAA7E;IAAA,IAAoFC,kBAAkB,GAAG,KAAzG;IAAA,IAAgHC,cAAc,GAAG,KAAjI;IAAA,IAAwIC,wBAAwB,GAAG,KAAnK;IAAA,IAA0KC,oBAAoB,GAAG,KAAjM;IAAA,IAAwMC,oBAAoB,GAAG,KAA/N;IAAA,IAAsOC,kBAAkB,GAAG,KAA3P;IAAA,IAAkQC,iBAAiB,GAAG,KAAtR;IAAA,IAA6RC,mBAAmB,GAAG,KAAnT;IAAA,IAA0TC,kBAAkB,GAAG,KAA/U;IAAA,IAAsVC,iBAAiB,GAAG,KAA1W;IAAA,IAAiXC,cAAc,GAAG,KAAlY;IAAA,IAAyYC,gBAAgB,GAAG,KAA5Z;IAAA,IAAmaC,aAAa,GAAG,KAAnb;IACA,IAAIhF,QAAJ,EAAcC,QAAd;IACA,IAAIhU,SAAS,GAAG,KAAKd,aAAL,CAAmBe,aAAnB,EAAhB;;IACA,IAAI+D,OAAO,CAAChC,IAAZ,EAAkB;MACd,IAAIiO,eAAe,CAACjO,IAAhB,KAAyBgC,OAAO,CAAChC,IAArC,EAA2C;QACvC+W,aAAa,GAAG,IAAhB;MACH;;MACD9I,eAAe,CAACjO,IAAhB,GAAuBgC,OAAO,CAAChC,IAA/B;MACA,IAAIgX,YAAY,GAAGvZ,QAAQ,CAACC,cAAT,CAAwBuQ,eAAe,CAACrQ,EAAhB,GAAqB,gBAA7C,CAAnB;MACAoZ,YAAY,CAACjX,SAAb,GAAyBkO,eAAe,CAACjO,IAAzC;MACAgX,YAAY,CAACrX,KAAb,CAAmBC,QAAnB,GAA8BqO,eAAe,CAACrO,QAAhB,GAA4BqO,eAAe,CAACrO,QAAhB,GAA2B5B,SAA5B,GAAyC,IAApE,GAA4E,KAAKA,SAAN,GAAmB,IAA5H;MACAE,WAAW,CAAC8B,IAAZ,GAAmBgC,OAAO,CAAChC,IAA3B;MACA,KAAK/C,SAAL,CAAesM,SAAf,CAAyB0E,eAAe,CAACrQ,EAAhB,CAAmByH,KAAnB,CAAyB,GAAzB,EAA8B,CAA9B,CAAzB,EAA2DrF,IAA3D,GAAkEiO,eAAe,CAACjO,IAAlF;;MACA,IAAI+W,aAAJ,EAAmB;QACf,KAAKE,gCAAL,CAAsC,2BAAtC,EAAmEhJ,eAAnE,EAAoF,KAApF,EAA2F,KAA3F,EAAkG,KAAlG,EAAyG,KAAzG,EAAgH,KAAhH,EAAuH,KAAvH,EAA8H,KAA9H,EAAqI,KAArI,EAA4I,KAA5I,EAAmJ,KAAnJ,EAA0J,KAA1J,EAAiK,KAAjK,EAAwK,KAAxK,EAA+K,KAA/K,EAAsL,KAAtL,EAA6L8D,QAA7L,EAAuMC,QAAvM,EAAiN+E,aAAjN;MACH;IACJ;;IACD,IAAI9I,eAAe,CAAC5Q,uBAAhB,KAA4C,gBAAhD,EAAkE;MAC9D,IAAI2E,OAAO,CAACD,SAAZ,EAAuB;QACnB,IAAIkM,eAAe,CAAClM,SAAhB,KAA8BC,OAAO,CAACD,SAA1C,EAAqD;UACjDwU,oBAAoB,GAAG,IAAvB;UACAxE,QAAQ,GAAG9D,eAAe,CAAClM,SAA3B;UACAiQ,QAAQ,GAAGhQ,OAAO,CAACD,SAAnB;QACH;;QACD7D,WAAW,CAACyB,KAAZ,CAAkB2K,WAAlB,GAAgCtI,OAAO,CAACD,SAAR,CAAkB+E,QAAlB,KAA+B,IAA/D;QACAmH,eAAe,CAAClM,SAAhB,GAA4BC,OAAO,CAACD,SAApC;QACA,KAAK9E,SAAL,CAAesM,SAAf,CAAyB0E,eAAe,CAACrQ,EAAhB,CAAmByH,KAAnB,CAAyB,GAAzB,EAA8B,CAA9B,CAAzB,EAA2DtD,SAA3D,GAAuEC,OAAO,CAACD,SAA/E;;QACA,IAAIwU,oBAAJ,EAA0B;UACtB,KAAKU,gCAAL,CAAsC,2BAAtC,EAAmEhJ,eAAnE,EAAoF,KAApF,EAA2F,KAA3F,EAAkG,KAAlG,EAAyG,KAAzG,EAAgH,KAAhH,EAAuH,KAAvH,EAA8H,KAA9H,EAAqIsI,oBAArI,EAA2J,KAA3J,EAAkK,KAAlK,EAAyK,KAAzK,EAAgL,KAAhL,EAAuL,KAAvL,EAA8L,KAA9L,EAAqM,KAArM,EAA4MxE,QAA5M,EAAsNC,QAAtN;QACH;MACJ;;MACD,IAAIhQ,OAAO,CAACF,WAAZ,EAAyB;QACrB,IAAIA,WAAW,GAAG,KAAK8T,oBAAL,CAA0B5T,OAAO,CAACF,WAAlC,CAAlB;;QACA,IAAImM,eAAe,CAACnM,WAAhB,KAAgCA,WAApC,EAAiD;UAC7CwU,oBAAoB,GAAG,IAAvB;UACAvE,QAAQ,GAAG9D,eAAe,CAACnM,WAA3B;UACAkQ,QAAQ,GAAGlQ,WAAX;QACH;;QACDmM,eAAe,CAACnM,WAAhB,GAA8BA,WAA9B;QACA5D,WAAW,CAACyB,KAAZ,CAAkBmC,WAAlB,GAAgCA,WAAhC;;QACA,IAAImM,eAAe,CAAC5Q,uBAAhB,KAA4C,aAAhD,EAA+D;UAC3Da,WAAW,CAACuU,aAAZ,CAA0B9S,KAA1B,CAAgCuR,SAAhC,GAA4CpP,WAAW,GAAG,eAAd,GAAgCmM,eAAe,CAAClM,SAAhD,GAA4D,IAAxG;UACA,KAAKwL,UAAL,CAAgBvL,OAAO,CAACH,OAAxB,EAAiC3D,WAAW,CAACuU,aAA7C;QACH;;QACD,KAAKxV,SAAL,CAAesM,SAAf,CAAyB0E,eAAe,CAACrQ,EAAhB,CAAmByH,KAAnB,CAAyB,GAAzB,EAA8B,CAA9B,CAAzB,EAA2DvD,WAA3D,GAAyEA,WAAzE;;QACA,IAAIwU,oBAAJ,EAA0B;UACtB,KAAKW,gCAAL,CAAsC,2BAAtC,EAAmEhJ,eAAnE,EAAoF,KAApF,EAA2F,KAA3F,EAAkG,KAAlG,EAAyG,KAAzG,EAAgH,KAAhH,EAAuH,KAAvH,EAA8HqI,oBAA9H,EAAoJ,KAApJ,EAA2J,KAA3J,EAAkK,KAAlK,EAAyK,KAAzK,EAAgL,KAAhL,EAAuL,KAAvL,EAA8L,KAA9L,EAAqM,KAArM,EAA4MvE,QAA5M,EAAsNC,QAAtN;QACH;MACJ;IACJ;;IACD,IAAIhQ,OAAO,CAACX,eAAZ,EAA6B;MACzB,IAAIwU,SAAS,GAAG,KAAKD,oBAAL,CAA0B5T,OAAO,CAACX,eAAlC,CAAhB;MACAwU,SAAS,GAAG,KAAKC,sBAAL,CAA4BD,SAA5B,CAAZ;;MACA,IAAI5H,eAAe,CAAC5M,eAAhB,KAAoCwU,SAAxC,EAAmD;QAC/CQ,wBAAwB,GAAG,IAA3B;QACAtE,QAAQ,GAAG9D,eAAe,CAAC5M,eAA3B;QACA2Q,QAAQ,GAAG6D,SAAX;MACH;;MACD5H,eAAe,CAAC5M,eAAhB,GAAkCwU,SAAlC;;MACA,IAAI5H,eAAe,CAAC5Q,uBAAhB,KAA4C,gBAA5C,IAAgE4Q,eAAe,CAAC5Q,uBAAhB,KAA4C,cAAhH,EAAgI;QAC5Ha,WAAW,CAACuU,aAAZ,CAA0B9S,KAA1B,CAAgCsN,UAAhC,GAA6C4I,SAA7C;MACH,CAFD,MAGK;QACD3X,WAAW,CAACyB,KAAZ,CAAkBsN,UAAlB,GAA+B4I,SAA/B;MACH;;MACD,IAAI5H,eAAe,CAAC5Q,uBAAhB,KAA4C,aAAhD,EAA+D;QAC3Da,WAAW,CAACuU,aAAZ,CAA0B9S,KAA1B,CAAgCsN,UAAhC,GAA6CgB,eAAe,CAAC5M,eAA7D;MACH;;MACD,KAAKpE,SAAL,CAAesM,SAAf,CAAyB0E,eAAe,CAACrQ,EAAhB,CAAmByH,KAAnB,CAAyB,GAAzB,EAA8B,CAA9B,CAAzB,EAA2DhE,eAA3D,GAA6EwU,SAA7E;;MACA,IAAIQ,wBAAJ,EAA8B;QAC1B,KAAKY,gCAAL,CAAsC,2BAAtC,EAAmEhJ,eAAnE,EAAoF,KAApF,EAA2F,KAA3F,EAAkG,KAAlG,EAAyG,KAAzG,EAAgH,KAAhH,EAAuHoI,wBAAvH,EAAiJ,KAAjJ,EAAwJ,KAAxJ,EAA+J,KAA/J,EAAsK,KAAtK,EAA6K,KAA7K,EAAoL,KAApL,EAA2L,KAA3L,EAAkM,KAAlM,EAAyM,KAAzM,EAAgNtE,QAAhN,EAA0NC,QAA1N;MACH;IACJ;;IACD,IAAIhQ,OAAO,CAAC5D,MAAZ,EAAoB;MAChB6P,eAAe,CAAC7P,MAAhB,GAAyB;QAAEa,CAAC,EAAE+C,OAAO,CAAC5D,MAAR,CAAeoE,CAApB;QAAuBtD,CAAC,EAAE8C,OAAO,CAAC5D,MAAR,CAAeqE,CAAzC;QAA4CzD,KAAK,EAAEgD,OAAO,CAAC5D,MAAR,CAAesE,KAAlE;QAAyE3D,MAAM,EAAEiD,OAAO,CAAC5D,MAAR,CAAeuE;MAAhG,CAAzB;MACA,IAAIuU,WAAW,GAAG,KAAKja,SAAL,CAAesM,SAAf,CAAyB0E,eAAe,CAACrQ,EAAhB,CAAmByH,KAAnB,CAAyB,GAAzB,EAA8B,CAA9B,CAAzB,CAAlB;MACA6R,WAAW,CAAC9Y,MAAZ,GAAqB;QAAEa,CAAC,EAAE+C,OAAO,CAAC5D,MAAR,CAAeoE,CAApB;QAAuBtD,CAAC,EAAE8C,OAAO,CAAC5D,MAAR,CAAeqE,CAAzC;QAA4CzD,KAAK,EAAEgD,OAAO,CAAC5D,MAAR,CAAesE,KAAlE;QAAyE3D,MAAM,EAAEiD,OAAO,CAAC5D,MAAR,CAAeuE;MAAhG,CAArB;MACAuU,WAAW,CAAC1N,OAAZ,CAAoBpL,MAApB,GAA6B,IAAItD,IAAJ,CAASkH,OAAO,CAAC5D,MAAR,CAAeoE,CAAxB,EAA2BR,OAAO,CAAC5D,MAAR,CAAeqE,CAA1C,EAA6CT,OAAO,CAAC5D,MAAR,CAAesE,KAA5D,EAAmEV,OAAO,CAAC5D,MAAR,CAAeuE,MAAlF,CAA7B;MACA,KAAK1F,SAAL,CAAeiM,OAAf,CAAuBiO,kBAAvB,CAA0CD,WAA1C,EAAuD;QACnD9Y,MAAM,EAAE;UACJa,CAAC,EAAEiY,WAAW,CAAC1N,OAAZ,CAAoBpL,MAApB,CAA2Ba,CAD1B;UAC6BC,CAAC,EAAEgY,WAAW,CAAC1N,OAAZ,CAAoBpL,MAApB,CAA2Bc,CAD3D;UAEJF,KAAK,EAAEkY,WAAW,CAAC1N,OAAZ,CAAoBpL,MAApB,CAA2BY,KAF9B;UAEqCD,MAAM,EAAEmY,WAAW,CAAC1N,OAAZ,CAAoBpL,MAApB,CAA2BW;QAFxE;MAD2C,CAAvD;MAMA,IAAIpB,OAAO,GAAGuZ,WAAW,CAAC1N,OAAZ,CAAoBC,QAApB,CAA6B,CAA7B,CAAd;MACA,IAAI7K,KAAK,GAAG/D,2BAA2B,CAACqc,WAAW,CAAC1N,OAAZ,CAAoBC,QAApB,CAA6B,CAA7B,CAAD,CAA3B,CAA6DhJ,OAAzE;MACA,IAAI2W,MAAM,GAAG3Z,QAAQ,CAACC,cAAT,CAAwBC,OAAO,CAACC,EAAR,GAAa,eAArC,CAAb;;MACA,IAAI,CAAC1C,iBAAiB,CAACkc,MAAD,CAAtB,EAAgC;QAC5BA,MAAM,CAACtY,YAAP,CAAoB,OAApB,EAA6B,YAAanB,OAAO,CAAC+C,UAAR,CAAmB3B,MAAnB,GAA4Bf,SAAzC,GAAsD,YAAtD,GAAsEL,OAAO,CAAC+C,UAAR,CAAmB1B,KAAnB,GAA2BhB,SAAjG,GACzB,UADyB,GACZY,KAAK,CAACK,CAAN,GAAUjB,SADE,GACU,UADV,GACuBY,KAAK,CAACM,CAAN,GAAUlB,SADjC,GAC6C,KAD7C,GAEzB,qCAFyB,IAEgBL,OAAO,CAACgD,WAAR,GAAsBhD,OAAO,CAACiD,eAF9C,IAEiE,OAFjE,GAGzB,iBAHyB,IAGH,KAAK3D,SAAL,CAAe6C,YAAhB,GAAgC,MAAhC,GAAyC,KAHrC,IAIvB,cAJuB,IAIJnC,OAAO,CAACkD,OAAT,GAAoB,SAApB,GAAgC,QAJ3B,IAIuC,WAJvC,GAIqDlD,OAAO,CAACgC,KAAR,CAAcmB,OAJnE,GAI6E,GAJ1G;MAKH;IACJ;;IACD,IAAI,CAAC5F,iBAAiB,CAAC8G,OAAO,CAACmR,UAAT,CAAtB,EAA4C;MACxC,IAAIlF,eAAe,CAAC1M,UAAhB,KAA+BS,OAAO,CAACmR,UAA3C,EAAuD;QACnDsD,iBAAiB,GAAG,IAApB;QACA1E,QAAQ,GAAG9D,eAAe,CAAC1M,UAA3B;QACAyQ,QAAQ,GAAGhQ,OAAO,CAACmR,UAAnB;MACH;;MACDlF,eAAe,CAAC1M,UAAhB,GAA6BS,OAAO,CAACmR,UAArC;MACA,KAAKkE,oBAAL,CAA0BpJ,eAA1B,EAA2C/P,WAA3C,EAAwD8D,OAAO,CAACmR,UAAhE;MACA,KAAKmE,sBAAL,CAA4BrJ,eAA5B,EAA6CjM,OAAO,CAACmR,UAArD;MACA,KAAKlW,SAAL,CAAesM,SAAf,CAAyB0E,eAAe,CAACrQ,EAAhB,CAAmByH,KAAnB,CAAyB,GAAzB,EAA8B,CAA9B,CAAzB,EAA2D9D,UAA3D,GAAwES,OAAO,CAACmR,UAAhF;;MACA,IAAIsD,iBAAJ,EAAuB;QACnB,KAAKQ,gCAAL,CAAsC,2BAAtC,EAAmEhJ,eAAnE,EAAoF,KAApF,EAA2F,KAA3F,EAAkG,KAAlG,EAAyG,KAAzG,EAAgH,KAAhH,EAAuH,KAAvH,EAA8H,KAA9H,EAAqI,KAArI,EAA4I,KAA5I,EAAmJwI,iBAAnJ,EAAsK,KAAtK,EAA6K,KAA7K,EAAoL,KAApL,EAA2L,KAA3L,EAAkM,KAAlM,EAAyM1E,QAAzM,EAAmNC,QAAnN;MACH;IACJ;;IACD,IAAI,CAAC9W,iBAAiB,CAAC8G,OAAO,CAACN,UAAT,CAAtB,EAA4C;MACxC,IAAIuM,eAAe,CAACvM,UAAhB,KAA+BM,OAAO,CAACN,UAA3C,EAAuD;QACnDkV,iBAAiB,GAAG,IAApB;QACA7E,QAAQ,GAAG9D,eAAe,CAACvM,UAA3B;QACAsQ,QAAQ,GAAGhQ,OAAO,CAACN,UAAnB;MACH;;MACDuM,eAAe,CAACvM,UAAhB,GAA6BM,OAAO,CAACN,UAArC;MACA,KAAK6V,oBAAL,CAA0BtJ,eAA1B,EAA2C/P,WAA3C,EAAwD8D,OAAO,CAACN,UAAhE;MACA,KAAK8V,sBAAL,CAA4BvJ,eAA5B,EAA6CjM,OAAO,CAACN,UAArD;MACA,KAAKzE,SAAL,CAAesM,SAAf,CAAyB0E,eAAe,CAACrQ,EAAhB,CAAmByH,KAAnB,CAAyB,GAAzB,EAA8B,CAA9B,CAAzB,EAA2D3D,UAA3D,GAAwEM,OAAO,CAACN,UAAhF;;MACA,IAAIkV,iBAAJ,EAAuB;QACnB,KAAKK,gCAAL,CAAsC,2BAAtC,EAAmEhJ,eAAnE,EAAoF,KAApF,EAA2F,KAA3F,EAAkG,KAAlG,EAAyG,KAAzG,EAAgH,KAAhH,EAAuH,KAAvH,EAA8H,KAA9H,EAAqI,KAArI,EAA4I,KAA5I,EAAmJ,KAAnJ,EAA0J,KAA1J,EAAiK,KAAjK,EAAwK2I,iBAAxK,EAA2L,KAA3L,EAAkM,KAAlM,EAAyM7E,QAAzM,EAAmNC,QAAnN;MACH;IACJ;;IACD,IAAIhQ,OAAO,CAACR,UAAZ,EAAwB;MACpB,IAAIyM,eAAe,CAACzM,UAAhB,KAA+BQ,OAAO,CAACR,UAA3C,EAAuD;QACnDkV,mBAAmB,GAAG,IAAtB;QACA3E,QAAQ,GAAG9D,eAAe,CAACzM,UAA3B;QACAwQ,QAAQ,GAAGhQ,OAAO,CAACR,UAAnB;MACH;;MACDyM,eAAe,CAACzM,UAAhB,GAA6BQ,OAAO,CAACR,UAArC;MACAtD,WAAW,CAACyB,KAAZ,CAAkB6B,UAAlB,GAA+BQ,OAAO,CAACR,UAAvC;;MACA,IAAIyM,eAAe,CAAC5Q,uBAAhB,KAA4C,aAAhD,EAA+D;QAC3Da,WAAW,CAACuU,aAAZ,CAA0B9S,KAA1B,CAAgC6B,UAAhC,GAA6CyM,eAAe,CAACzM,UAA7D;MACH;;MACD,IAAIyM,eAAe,CAAC5Q,uBAAhB,KAA4C,gBAA5C,IAAgE4Q,eAAe,CAAC5Q,uBAAhB,KAA4C,cAAhH,EAAgI;QAC5Ha,WAAW,CAACuU,aAAZ,CAA0B9S,KAA1B,CAAgC6B,UAAhC,GAA6CyM,eAAe,CAACzM,UAA7D;QACA,IAAI2Q,UAAU,GAAG,KAAKlV,SAAL,CAAesM,SAAf,CAAyB0E,eAAe,CAACrQ,EAAhB,CAAmByH,KAAnB,CAAyB,GAAzB,EAA8B,CAA9B,IAAmC,UAA5D,CAAjB;QACA,IAAIf,IAAI,GAAG,KAAKpH,aAAL,CAAmBqH,yBAAnB,CAA6C,eAA7C,CAAX;QACA,IAAIC,cAAc,GAAGC,IAAI,CAACC,KAAL,CAAWJ,IAAX,CAArB;QACA,IAAIsN,KAAK,GAAG,KAAK6F,iBAAL,CAAuBxJ,eAAe,CAACrQ,EAAhB,CAAmByH,KAAnB,CAAyB,GAAzB,EAA8B,CAA9B,CAAvB,CAAZ;;QACA,IAAI4I,eAAe,CAACzM,UAAhB,KAA+B,QAAnC,EAA6C;UACzC,IAAI2Q,UAAJ,EAAgB;YACZ,KAAKuF,kBAAL,CAAwBzJ,eAAxB,EAAyCkE,UAAzC,EAAqDP,KAArD,EAA4DpN,cAA5D;UACH;QACJ,CAJD,MAKK;UACD,IAAI2N,UAAJ,EAAgB;YACZ,KAAKwF,kBAAL,CAAwB1J,eAAxB,EAAyC8D,QAAzC,EAAmDI,UAAnD,EAA+DP,KAA/D,EAAsEpN,cAAtE;UACH;QACJ;MACJ;;MACD,KAAKvH,SAAL,CAAesM,SAAf,CAAyB0E,eAAe,CAACrQ,EAAhB,CAAmByH,KAAnB,CAAyB,GAAzB,EAA8B,CAA9B,CAAzB,EAA2D7D,UAA3D,GAAwEQ,OAAO,CAACR,UAAhF;;MACA,IAAIkV,mBAAJ,EAAyB;QACrB,KAAKO,gCAAL,CAAsC,2BAAtC,EAAmEhJ,eAAnE,EAAoF,KAApF,EAA2F,KAA3F,EAAkG,KAAlG,EAAyG,KAAzG,EAAgH,KAAhH,EAAuH,KAAvH,EAA8H,KAA9H,EAAqI,KAArI,EAA4I,KAA5I,EAAmJ,KAAnJ,EAA0JyI,mBAA1J,EAA+K,KAA/K,EAAsL,KAAtL,EAA6L,KAA7L,EAAoM,KAApM,EAA2M3E,QAA3M,EAAqNC,QAArN;MACH;IACJ;;IACD,IAAI,CAAC9W,iBAAiB,CAAC8G,OAAO,CAACL,OAAT,CAAtB,EAAyC;MACrC,IAAIsM,eAAe,CAACtM,OAAhB,KAA4BK,OAAO,CAACL,OAAxC,EAAiD;QAC7CkV,cAAc,GAAG,IAAjB;QACA9E,QAAQ,GAAG9D,eAAe,CAACtM,OAA3B;QACAqQ,QAAQ,GAAGhQ,OAAO,CAACL,OAAnB;MACH;;MACDsM,eAAe,CAACtM,OAAhB,GAA0BK,OAAO,CAACL,OAAlC;MACA,KAAK1E,SAAL,CAAesM,SAAf,CAAyB0E,eAAe,CAACrQ,EAAhB,CAAmByH,KAAnB,CAAyB,GAAzB,EAA8B,CAA9B,CAAzB,EAA2D1D,OAA3D,GAAqEK,OAAO,CAACL,OAA7E;;MACA,IAAIkV,cAAJ,EAAoB;QAChB,KAAKI,gCAAL,CAAsC,2BAAtC,EAAmEhJ,eAAnE,EAAoF,KAApF,EAA2F,KAA3F,EAAkG,KAAlG,EAAyG,KAAzG,EAAgH,KAAhH,EAAuH,KAAvH,EAA8H,KAA9H,EAAqI,KAArI,EAA4I,KAA5I,EAAmJ,KAAnJ,EAA0J,KAA1J,EAAiK,KAAjK,EAAwK,KAAxK,EAA+K4I,cAA/K,EAA+L,KAA/L,EAAsM9E,QAAtM,EAAgNC,QAAhN;MACH;IACJ;;IACD,IAAIhQ,OAAO,CAACH,OAAZ,EAAqB;MACjB,IAAIoM,eAAe,CAACpM,OAAhB,KAA4BG,OAAO,CAACH,OAAxC,EAAiD;QAC7CiV,gBAAgB,GAAG,IAAnB;QACA/E,QAAQ,GAAG9D,eAAe,CAACpM,OAA3B;QACAmQ,QAAQ,GAAGhQ,OAAO,CAACH,OAAnB;MACH;;MACDoM,eAAe,CAACpM,OAAhB,GAA0BG,OAAO,CAACH,OAAlC;;MACA,IAAI,CAAC3G,iBAAiB,CAAC8G,OAAO,CAACH,OAAT,CAAtB,EAAyC;QACrC,IAAIoM,eAAe,CAAC5Q,uBAAhB,KAA4C,aAAhD,EAA+D;UAC3D,KAAKkQ,UAAL,CAAgBvL,OAAO,CAACH,OAAxB,EAAiC3D,WAAW,CAACuU,aAA7C;QACH,CAFD,MAGK;UACD,KAAKlF,UAAL,CAAgBvL,OAAO,CAACH,OAAxB,EAAiC3D,WAAjC;QACH;MACJ;;MACD,KAAKjB,SAAL,CAAesM,SAAf,CAAyB0E,eAAe,CAACrQ,EAAhB,CAAmByH,KAAnB,CAAyB,GAAzB,EAA8B,CAA9B,CAAzB,EAA2DxD,OAA3D,GAAqEG,OAAO,CAACH,OAA7E;;MACA,IAAIiV,gBAAJ,EAAsB;QAClB,KAAKG,gCAAL,CAAsC,2BAAtC,EAAmEhJ,eAAnE,EAAoF,KAApF,EAA2F,KAA3F,EAAkG,KAAlG,EAAyG,KAAzG,EAAgH,KAAhH,EAAuH,KAAvH,EAA8H,KAA9H,EAAqI,KAArI,EAA4I,KAA5I,EAAmJ,KAAnJ,EAA0J,KAA1J,EAAiK,KAAjK,EAAwK,KAAxK,EAA+K,KAA/K,EAAsL6I,gBAAtL,EAAwM/E,QAAxM,EAAkNC,QAAlN;MACH;IACJ;;IACD,IAAI/D,eAAe,CAAC5Q,uBAAhB,KAA4C,UAA5C,IAA2D,CAACnC,iBAAiB,CAAC8G,OAAO,CAACE,SAAT,CAA7E,IAAqGF,OAAO,CAACE,SAAjH,EAA4H;MACxH,IAAI+L,eAAe,CAAC/L,SAAhB,KAA8B,KAAK0V,oBAAvC,EAA6D;QACzD5B,cAAc,GAAG,IAAjB;QACAjE,QAAQ,GAAG9D,eAAe,CAAC/L,SAA3B;QACA8P,QAAQ,GAAGhQ,OAAO,CAACE,SAAnB;MACH;;MACD+L,eAAe,CAAC/L,SAAhB,GAA4BF,OAAO,CAACE,SAApC;MACAhE,WAAW,CAAC2Z,OAAZ,GAAsB7V,OAAO,CAACE,SAA9B;MACA,KAAK0Q,eAAL,CAAqB1U,WAArB,EAAkC8D,OAAO,CAACE,SAA1C;MACA,KAAKjF,SAAL,CAAesM,SAAf,CAAyB0E,eAAe,CAACrQ,EAAhB,CAAmByH,KAAnB,CAAyB,GAAzB,EAA8B,CAA9B,CAAzB,EAA2DnD,SAA3D,GAAuEF,OAAO,CAACE,SAA/E;;MACA,IAAI8T,cAAJ,EAAoB;QAChB,KAAKiB,gCAAL,CAAsC,2BAAtC,EAAmEhJ,eAAnE,EAAoF+H,cAApF,EAAoG,KAApG,EAA2G,KAA3G,EAAkH,KAAlH,EAAyH,KAAzH,EAAgI,KAAhI,EAAuI,KAAvI,EAA8I,KAA9I,EAAqJ,KAArJ,EAA4J,KAA5J,EAAmK,KAAnK,EAA0K,KAA1K,EAAiL,KAAjL,EAAwL,KAAxL,EAA+L,KAA/L,EAAsMjE,QAAtM,EAAgNC,QAAhN;MACH;IACJ;;IACD,IAAI/D,eAAe,CAAC5Q,uBAAhB,KAA4C,aAA5C,IAA8D,CAACnC,iBAAiB,CAAC8G,OAAO,CAACG,UAAT,CAAhF,IAAyGH,OAAO,CAACG,UAArH,EAAiI;MAC7H,IAAI8L,eAAe,CAAC9L,UAAhB,KAA+BH,OAAO,CAACG,UAA3C,EAAuD;QACnD6T,cAAc,GAAG,IAAjB;QACAjE,QAAQ,GAAG9D,eAAe,CAAC9L,UAA3B;QACA6P,QAAQ,GAAG,KAAK4F,oBAAhB;MACH;;MACD3J,eAAe,CAAC9L,UAAhB,GAA6BH,OAAO,CAACG,UAArC;MACAjE,WAAW,CAAC2Z,OAAZ,GAAsB7V,OAAO,CAACG,UAA9B;MACA,KAAKlF,SAAL,CAAesM,SAAf,CAAyB0E,eAAe,CAACrQ,EAAhB,CAAmByH,KAAnB,CAAyB,GAAzB,EAA8B,CAA9B,CAAzB,EAA2DlD,UAA3D,GAAwEH,OAAO,CAACG,UAAhF;;MACA,IAAI6T,cAAJ,EAAoB;QAChB,KAAKiB,gCAAL,CAAsC,2BAAtC,EAAmEhJ,eAAnE,EAAoF+H,cAApF,EAAoG,KAApG,EAA2G,KAA3G,EAAkH,KAAlH,EAAyH,KAAzH,EAAgI,KAAhI,EAAuI,KAAvI,EAA8I,KAA9I,EAAqJ,KAArJ,EAA4J,KAA5J,EAAmK,KAAnK,EAA0K,KAA1K,EAAiL,KAAjL,EAAwL,KAAxL,EAA+L,KAA/L,EAAsMjE,QAAtM,EAAgNC,QAAhN;MACH;IACJ;;IACD,IAAI/D,eAAe,CAAC5Q,uBAAhB,KAA4C,cAA5C,IAA8D4Q,eAAe,CAAC5Q,uBAAhB,KAA4C,SAA9G,EAAyH;MACrH,IAAI2E,OAAO,CAACA,OAAZ,EAAqB;QACjBiM,eAAe,CAACjM,OAAhB,GAA0BA,OAAO,CAACA,OAAlC;QACA,KAAK8V,4BAAL,CAAkC7J,eAAlC,EAAmD/P,WAAnD;QACA,KAAKjB,SAAL,CAAesM,SAAf,CAAyB0E,eAAe,CAACrQ,EAAhB,CAAmByH,KAAnB,CAAyB,GAAzB,EAA8B,CAA9B,CAAzB,EAA2DrD,OAA3D,GAAqEiM,eAAe,CAACjM,OAArF;MACH;IACJ;;IACD,IAAIiM,eAAe,CAAC5Q,uBAAhB,KAA4C,SAA5C,IAAyD4Q,eAAe,CAAC5Q,uBAAhB,KAA4C,gBAArG,IAAyH4Q,eAAe,CAAC5Q,uBAAhB,KAA4C,cAArK,IACA4Q,eAAe,CAAC5Q,uBAAhB,KAA4C,cAD5C,IAC8D4Q,eAAe,CAAC5Q,uBAAhB,KAA4C,SAD1G,IAEG4Q,eAAe,CAAC5Q,uBAAhB,KAA4C,eAFnD,EAEoE;MAChE,IAAI2E,OAAO,CAACf,KAAZ,EAAmB;QACf,IAAIgN,eAAe,CAAChN,KAAhB,KAA0Be,OAAO,CAACf,KAAtC,EAA6C;UACzC+U,cAAc,GAAG,IAAjB;UACAjE,QAAQ,GAAG9D,eAAe,CAAChN,KAA3B;UACA+Q,QAAQ,GAAGhQ,OAAO,CAACf,KAAnB;QACH;;QACDgN,eAAe,CAAChN,KAAhB,GAAwBe,OAAO,CAACf,KAAhC;;QACA,IAAI,EAAEgN,eAAe,CAAC5Q,uBAAhB,KAA4C,cAA5C,IAA8D4Q,eAAe,CAAC5Q,uBAAhB,KAA4C,SAA5G,CAAJ,EAA4H;UACxHa,WAAW,CAAC+C,KAAZ,GAAoBe,OAAO,CAACf,KAA5B;QACH,CAFD,MAGK,IAAIgN,eAAe,CAAC5Q,uBAAhB,KAA4C,cAA5C,IAA8D4Q,eAAe,CAAC5Q,uBAAhB,KAA4C,SAA9G,EAAyH;UAC1H,KAAK,IAAIgD,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGnC,WAAW,CAAC8D,OAAZ,CAAoB7B,MAAxC,EAAgDE,CAAC,EAAjD,EAAqD;YACjD,IAAInC,WAAW,CAAC8D,OAAZ,CAAoB3B,CAApB,EAAuBuK,IAAvB,KAAgC5I,OAAO,CAACf,KAA5C,EAAmD;cAC/C/C,WAAW,CAAC8D,OAAZ,CAAoBuB,aAApB,GAAoClD,CAApC;YACH;UACJ;QACJ;;QACD,KAAKpD,SAAL,CAAesM,SAAf,CAAyB0E,eAAe,CAACrQ,EAAhB,CAAmByH,KAAnB,CAAyB,GAAzB,EAA8B,CAA9B,CAAzB,EAA2DpE,KAA3D,GAAmEe,OAAO,CAACf,KAA3E;;QACA,IAAI+U,cAAJ,EAAoB;UAChB,KAAKiB,gCAAL,CAAsC,2BAAtC,EAAmEhJ,eAAnE,EAAoF+H,cAApF,EAAoG,KAApG,EAA2G,KAA3G,EAAkH,KAAlH,EAAyH,KAAzH,EAAgI,KAAhI,EAAuI,KAAvI,EAA8I,KAA9I,EAAqJ,KAArJ,EAA4J,KAA5J,EAAmK,KAAnK,EAA0K,KAA1K,EAAiL,KAAjL,EAAwL,KAAxL,EAA+L,KAA/L,EAAsMjE,QAAtM,EAAgNC,QAAhN;QACH;MACJ;;MACD,IAAIhQ,OAAO,CAACpC,QAAZ,EAAsB;QAClB,IAAIqO,eAAe,CAACrO,QAAhB,KAA6BoC,OAAO,CAACpC,QAAzC,EAAmD;UAC/CsW,iBAAiB,GAAG,IAApB;UACAnE,QAAQ,GAAG9D,eAAe,CAACrO,QAA3B;UACAoS,QAAQ,GAAGhQ,OAAO,CAACpC,QAAnB;QACH;;QACDqO,eAAe,CAACrO,QAAhB,GAA2BoC,OAAO,CAACpC,QAAnC;QACA1B,WAAW,CAACyB,KAAZ,CAAkBC,QAAlB,GAA8BoC,OAAO,CAACpC,QAAR,GAAmB5B,SAApB,GAAiC,IAA9D;QACA,KAAKf,SAAL,CAAesM,SAAf,CAAyB0E,eAAe,CAACrQ,EAAhB,CAAmByH,KAAnB,CAAyB,GAAzB,EAA8B,CAA9B,CAAzB,EAA2DzF,QAA3D,GAAsEoC,OAAO,CAACpC,QAA9E;;QACA,IAAIsW,iBAAJ,EAAuB;UACnB,KAAKe,gCAAL,CAAsC,2BAAtC,EAAmEhJ,eAAnE,EAAoF,KAApF,EAA2F,KAA3F,EAAkGiI,iBAAlG,EAAqH,KAArH,EAA4H,KAA5H,EAAmI,KAAnI,EAA0I,KAA1I,EAAiJ,KAAjJ,EAAwJ,KAAxJ,EAA+J,KAA/J,EAAsK,KAAtK,EAA6K,KAA7K,EAAoL,KAApL,EAA2L,KAA3L,EAAkM,KAAlM,EAAyMnE,QAAzM,EAAmNC,QAAnN;QACH;MACJ;;MACD,IAAIhQ,OAAO,CAACZ,KAAZ,EAAmB;QACf,IAAIA,KAAK,GAAG,KAAKwU,oBAAL,CAA0B5T,OAAO,CAACZ,KAAlC,CAAZ;;QACA,IAAI6M,eAAe,CAAC7M,KAAhB,KAA0BA,KAA9B,EAAqC;UACjCgV,cAAc,GAAG,IAAjB;UACArE,QAAQ,GAAG9D,eAAe,CAAC7M,KAA3B;UACA4Q,QAAQ,GAAG5Q,KAAX;QACH;;QACD6M,eAAe,CAAC7M,KAAhB,GAAwBA,KAAxB;QACAlD,WAAW,CAACyB,KAAZ,CAAkByB,KAAlB,GAA0BA,KAA1B;QACA,KAAKnE,SAAL,CAAesM,SAAf,CAAyB0E,eAAe,CAACrQ,EAAhB,CAAmByH,KAAnB,CAAyB,GAAzB,EAA8B,CAA9B,CAAzB,EAA2DjE,KAA3D,GAAmEA,KAAnE;;QACA,IAAIgV,cAAJ,EAAoB;UAChB,KAAKa,gCAAL,CAAsC,2BAAtC,EAAmEhJ,eAAnE,EAAoF,KAApF,EAA2F,KAA3F,EAAkG,KAAlG,EAAyG,KAAzG,EAAgHmI,cAAhH,EAAgI,KAAhI,EAAuI,KAAvI,EAA8I,KAA9I,EAAqJ,KAArJ,EAA4J,KAA5J,EAAmK,KAAnK,EAA0K,KAA1K,EAAiL,KAAjL,EAAwL,KAAxL,EAA+L,KAA/L,EAAsMrE,QAAtM,EAAgNC,QAAhN;QACH;MACJ;;MACD,IAAI/D,eAAe,CAAC5Q,uBAAhB,KAA4C,gBAAhD,EAAkE;QAC9D,IAAI2E,OAAO,CAACV,SAAZ,EAAuB;UACnB,IAAI2M,eAAe,CAAC3M,SAAhB,KAA8BU,OAAO,CAACV,SAA1C,EAAqD;YACjDkV,kBAAkB,GAAG,IAArB;YACAzE,QAAQ,GAAG9D,eAAe,CAAC3M,SAA3B;YACA0Q,QAAQ,GAAGhQ,OAAO,CAACV,SAAnB;UACH;;UACD2M,eAAe,CAAC3M,SAAhB,GAA4BU,OAAO,CAACV,SAApC;UACApD,WAAW,CAACyB,KAAZ,CAAkBsD,SAAlB,GAA8BjB,OAAO,CAACV,SAAtC;UACA,KAAKrE,SAAL,CAAesM,SAAf,CAAyB0E,eAAe,CAACrQ,EAAhB,CAAmByH,KAAnB,CAAyB,GAAzB,EAA8B,CAA9B,CAAzB,EAA2D/D,SAA3D,GAAuEU,OAAO,CAACV,SAA/E;;UACA,IAAIkV,kBAAJ,EAAwB;YACpB,KAAKS,gCAAL,CAAsC,2BAAtC,EAAmEhJ,eAAnE,EAAoF,KAApF,EAA2F,KAA3F,EAAkG,KAAlG,EAAyG,KAAzG,EAAgH,KAAhH,EAAuH,KAAvH,EAA8H,KAA9H,EAAqI,KAArI,EAA4IuI,kBAA5I,EAAgK,KAAhK,EAAuK,KAAvK,EAA8K,KAA9K,EAAqL,KAArL,EAA4L,KAA5L,EAAmM,KAAnM,EAA0MzE,QAA1M,EAAoNC,QAApN;UACH;QACJ;;QACD,IAAIhQ,OAAO,CAACP,SAAZ,EAAuB;UACnB,IAAIwM,eAAe,CAACxM,SAAhB,KAA8BO,OAAO,CAACP,SAA1C,EAAqD;YACjDkV,kBAAkB,GAAG,IAArB;YACA5E,QAAQ,GAAG9D,eAAe,CAACxM,SAA3B;YACAuQ,QAAQ,GAAGhQ,OAAO,CAACP,SAAnB;UACH;;UACDwM,eAAe,CAACxM,SAAhB,GAA4BO,OAAO,CAACP,SAApC;UACAvD,WAAW,CAACuD,SAAZ,GAAwBO,OAAO,CAACP,SAAhC;UACA,KAAKxE,SAAL,CAAesM,SAAf,CAAyB0E,eAAe,CAACrQ,EAAhB,CAAmByH,KAAnB,CAAyB,GAAzB,EAA8B,CAA9B,CAAzB,EAA2D5D,SAA3D,GAAuEO,OAAO,CAACP,SAA/E;;UACA,IAAIkV,kBAAJ,EAAwB;YACpB,KAAKM,gCAAL,CAAsC,2BAAtC,EAAmEhJ,eAAnE,EAAoF,KAApF,EAA2F,KAA3F,EAAkG,KAAlG,EAAyG,KAAzG,EAAgH,KAAhH,EAAuH,KAAvH,EAA8H,KAA9H,EAAqI,KAArI,EAA4I,KAA5I,EAAmJ,KAAnJ,EAA0J,KAA1J,EAAiK0I,kBAAjK,EAAqL,KAArL,EAA4L,KAA5L,EAAmM,KAAnM,EAA0M5E,QAA1M,EAAoNC,QAApN;UACH;QACJ;MACJ;;MACD,IAAI/D,eAAe,CAAC5Q,uBAAhB,KAA4C,eAAhD,EAAiE;QAC7D,IAAI2E,OAAO,CAACd,UAAZ,EAAwB;UACpB,IAAI+M,eAAe,CAAC/M,UAAhB,KAA+Bc,OAAO,CAACd,UAA3C,EAAuD;YACnD+U,mBAAmB,GAAG,IAAtB;YACAlE,QAAQ,GAAG9D,eAAe,CAAC/M,UAA3B;YACA8Q,QAAQ,GAAGhQ,OAAO,CAACd,UAAnB;UACH;;UACD+M,eAAe,CAAC/M,UAAhB,GAA6Bc,OAAO,CAACd,UAArC;UACAhD,WAAW,CAACyB,KAAZ,CAAkBuB,UAAlB,GAA+Bc,OAAO,CAACd,UAAvC;UACA,KAAKjE,SAAL,CAAesM,SAAf,CAAyB0E,eAAe,CAACrQ,EAAhB,CAAmByH,KAAnB,CAAyB,GAAzB,EAA8B,CAA9B,CAAzB,EAA2DnE,UAA3D,GAAwEc,OAAO,CAACd,UAAhF;;UACA,IAAI+U,mBAAJ,EAAyB;YACrB,KAAKgB,gCAAL,CAAsC,2BAAtC,EAAmEhJ,eAAnE,EAAoF,KAApF,EAA2FgI,mBAA3F,EAAgH,KAAhH,EAAuH,KAAvH,EAA8H,KAA9H,EAAqI,KAArI,EAA4I,KAA5I,EAAmJ,KAAnJ,EAA0J,KAA1J,EAAiK,KAAjK,EAAwK,KAAxK,EAA+K,KAA/K,EAAsL,KAAtL,EAA6L,KAA7L,EAAoM,KAApM,EAA2MlE,QAA3M,EAAqNC,QAArN;UACH;QACJ;;QACD,IAAI+F,YAAY,GAAG,EAAnB;QACA,IAAIC,YAAY,GAAG,EAAnB;;QACA,IAAIhW,OAAO,CAACb,SAAZ,EAAuB;UACnB4W,YAAY,IAAI9J,eAAe,CAAC/K,IAAhB,CAAqBC,MAArB,GAA8B,SAAS,IAAvC,GAA8C,EAA9D;UACA4U,YAAY,IAAI9J,eAAe,CAAC/K,IAAhB,CAAqBE,QAArB,GAAgC,WAAW,IAA3C,GAAkD,EAAlE;UACA2U,YAAY,IAAI9J,eAAe,CAAC/K,IAAhB,CAAqBG,WAArB,GAAmC,kBAAkB,IAArD,GAA4D,EAA5E;UACA0U,YAAY,IAAI9J,eAAe,CAAC/K,IAAhB,CAAqBI,WAArB,GAAmC,cAAc,IAAjD,GAAwD,EAAxE;;UACA,IAAI,CAACtB,OAAO,CAACb,SAAR,GAAoBpF,SAAS,CAACkc,IAA/B,MAAyC,CAA7C,EAAgD;YAC5C/Z,WAAW,CAACyB,KAAZ,CAAkBuY,UAAlB,GAA+B,MAA/B;YACAjK,eAAe,CAAC9M,SAAhB,GAA4B,MAA5B;YACA8M,eAAe,CAAC/K,IAAhB,CAAqBC,MAArB,GAA8B,IAA9B;YACA,KAAKlG,SAAL,CAAesM,SAAf,CAAyB0E,eAAe,CAACrQ,EAAhB,CAAmByH,KAAnB,CAAyB,GAAzB,EAA8B,CAA9B,CAAzB,EAA2DnC,IAA3D,CAAgEC,MAAhE,GAAyE,IAAzE;UACH;;UACD6U,YAAY,IAAI/J,eAAe,CAAC/K,IAAhB,CAAqBC,MAArB,GAA8B,SAAS,IAAvC,GAA8C,EAA9D;;UACA,IAAI,CAACnB,OAAO,CAACb,SAAR,GAAoBpF,SAAS,CAACoc,MAA/B,MAA2C,CAA/C,EAAkD;YAC9Cja,WAAW,CAACyB,KAAZ,CAAkBwB,SAAlB,GAA8B,QAA9B;YACA8M,eAAe,CAAC9M,SAAhB,GAA4B,QAA5B;YACA8M,eAAe,CAAC/K,IAAhB,CAAqBE,QAArB,GAAgC,IAAhC;YACA,KAAKnG,SAAL,CAAesM,SAAf,CAAyB0E,eAAe,CAACrQ,EAAhB,CAAmByH,KAAnB,CAAyB,GAAzB,EAA8B,CAA9B,CAAzB,EAA2DnC,IAA3D,CAAgEE,QAAhE,GAA2E,IAA3E;UACH;;UACD4U,YAAY,IAAI/J,eAAe,CAAC/K,IAAhB,CAAqBE,QAArB,GAAgC,WAAW,IAA3C,GAAkD,EAAlE;;UACA,IAAI,CAACpB,OAAO,CAACb,SAAR,GAAoBpF,SAAS,CAACqc,aAA/B,MAAkD,CAAtD,EAAyD;YACrDla,WAAW,CAACyB,KAAZ,CAAkB0Y,cAAlB,GAAmC,cAAnC;YACApK,eAAe,CAAC/K,IAAhB,CAAqBG,WAArB,GAAmC,IAAnC;YACA4K,eAAe,CAAC9M,SAAhB,GAA4B,eAA5B;YACA,KAAKlE,SAAL,CAAesM,SAAf,CAAyB0E,eAAe,CAACrQ,EAAhB,CAAmByH,KAAnB,CAAyB,GAAzB,EAA8B,CAA9B,CAAzB,EAA2DnC,IAA3D,CAAgEG,WAAhE,GAA8E,IAA9E;UACH;;UACD2U,YAAY,IAAI/J,eAAe,CAAC/K,IAAhB,CAAqBG,WAArB,GAAmC,kBAAkB,IAArD,GAA4D,EAA5E;;UACA,IAAI,CAACrB,OAAO,CAACb,SAAR,GAAoBpF,SAAS,CAACuc,SAA/B,MAA8C,CAAlD,EAAqD;YACjDpa,WAAW,CAACyB,KAAZ,CAAkB0Y,cAAlB,GAAmC,WAAnC;YACApK,eAAe,CAAC9M,SAAhB,GAA4B,WAA5B;YACA8M,eAAe,CAAC/K,IAAhB,CAAqBI,WAArB,GAAmC,IAAnC;YACA,KAAKrG,SAAL,CAAesM,SAAf,CAAyB0E,eAAe,CAACrQ,EAAhB,CAAmByH,KAAnB,CAAyB,GAAzB,EAA8B,CAA9B,CAAzB,EAA2DnC,IAA3D,CAAgEI,WAAhE,GAA8E,IAA9E;UACH;;UACD0U,YAAY,IAAI/J,eAAe,CAAC/K,IAAhB,CAAqBI,WAArB,GAAmC,cAAc,IAAjD,GAAwD,EAAxE;UACA6S,kBAAkB,GAAG,IAArB;;UACA,IAAIA,kBAAJ,EAAwB;YACpB,KAAKc,gCAAL,CAAsC,2BAAtC,EAAmEhJ,eAAnE,EAAoF,KAApF,EAA2F,KAA3F,EAAkG,KAAlG,EAAyGkI,kBAAzG,EAA6H,KAA7H,EAAoI,KAApI,EAA2I,KAA3I,EAAkJ,KAAlJ,EAAyJ,KAAzJ,EAAgK,KAAhK,EAAuK,KAAvK,EAA8K,KAA9K,EAAqL,KAArL,EAA4L,KAA5L,EAAmM,KAAnM,EAA0M4B,YAA1M,EAAwNC,YAAxN;UACH;QACJ;MACJ;IACJ;;IACD,IAAI/J,eAAe,CAAC5Q,uBAAhB,KAA4C,gBAA5C,IAAgE2E,OAAO,CAAC2I,0BAA5E,EAAwG;MACpGsD,eAAe,GAAG,KAAKnD,wBAAL,CAA8BmD,eAA9B,EAA+CjM,OAA/C,EAAwD9D,WAAxD,CAAlB;IACH;;IACD,KAAK6M,gCAAL,CAAsCkD,eAAtC;IACA,IAAIqF,SAAS,GAAG;MACZ1V,EAAE,EAAEqQ,eAAe,CAACrQ,EADR;MACYoC,IAAI,EAAEiO,eAAe,CAACjO,IADlC;MACwCiB,KAAK,EAAEgN,eAAe,CAAChN,KAD/D;MAEZ+E,IAAI,EAAEiI,eAAe,CAAC5Q,uBAFV;MAEmC8V,UAAU,EAAElF,eAAe,CAAC1M,UAF/D;MAE2EL,UAAU,EAAE+M,eAAe,CAAC/M,UAFvG;MAGZtB,QAAQ,EAAEqO,eAAe,CAACrO,QAHd;MAGwBuB,SAAS,EAAE8M,eAAe,CAAC9M,SAHnD;MAG8DC,KAAK,EAAE6M,eAAe,CAAC7M,KAHrF;MAG4FC,eAAe,EAAE4M,eAAe,CAAC5M,eAH7H;MAIZC,SAAS,EAAE2M,eAAe,CAAC3M,SAJf;MAI0BE,UAAU,EAAEyM,eAAe,CAACzM,UAJtD;MAIkEC,SAAS,EAAEwM,eAAe,CAACxM,SAJ7F;MAIwGC,UAAU,EAAEuM,eAAe,CAACvM,UAJpI;MAKZC,OAAO,EAAEsM,eAAe,CAACtM,OALb;MAKsBE,OAAO,EAAEoM,eAAe,CAACpM,OAL/C;MAKwDzD,MAAM,EAAE6P,eAAe,CAAC7P,MALhF;MAKwF2D,SAAS,EAAEkM,eAAe,CAAClM,SALnH;MAK8HD,WAAW,EAAEmM,eAAe,CAACnM;IAL3J,CAAhB;IAOA,KAAK7E,SAAL,CAAe2W,oBAAf,CAAoC,KAAK3W,SAAL,CAAe2W,oBAAf,CAAoCC,SAApC,CAA8C,UAAUC,EAAV,EAAc;MAAE,OAAOA,EAAE,CAAClW,EAAH,KAAU0V,SAAS,CAAC1V,EAA3B;IAAgC,CAA9F,CAApC,IAAuI0V,SAAvI;EACH,CAnXD;;EAoXArX,YAAY,CAACkB,SAAb,CAAuByY,oBAAvB,GAA8C,UAAU5Q,WAAV,EAAuB;IACjE,IAAIE,SAAS,GAAGF,WAAhB;;IACA,IAAI,CAACE,SAAS,CAACD,KAAV,CAAgB,gBAAhB,CAAD,IAAsC,CAACC,SAAS,CAACD,KAAV,CAAgB,4DAAhB,CAA3C,EAA0H;MACtHC,SAAS,GAAG,KAAKC,UAAL,CAAgBD,SAAhB,CAAZ;IACH;;IACD,OAAOA,SAAS,KAAK,EAAd,GAAmBA,SAAnB,GAA+BF,WAAtC;EACH,CAND;EAOA;AACJ;AACA;;;EACI/I,YAAY,CAACkB,SAAb,CAAuB0X,YAAvB,GAAsC,UAAUD,WAAV,EAAuB;IACzD,IAAItB,SAAJ;IACA,IAAIiF,yBAAJ;;IACA,IAAI,OAAO3D,WAAP,KAAuB,QAA3B,EAAqC;MACjC2D,yBAAyB,GAAG,KAAKC,uCAAL,CAA6C5D,WAAW,CAAChX,EAAzD,CAA5B;MACA,IAAI2a,yBAAJ,EACIjF,SAAS,GAAG,KAAKrW,SAAL,CAAesM,SAAf,CAAyBgP,yBAAyB,CAAC3a,EAAnD,CAAZ;IACP;;IACD,IAAI,OAAOgX,WAAP,KAAuB,QAA3B,EAAqC;MACjC2D,yBAAyB,GAAG,KAAKC,uCAAL,CAA6C5D,WAA7C,CAA5B;MACA,IAAI2D,yBAAJ,EACIjF,SAAS,GAAG,KAAKrW,SAAL,CAAesM,SAAf,CAAyBgP,yBAAyB,CAAC3a,EAAnD,CAAZ;IACP;;IACD,OAAO0V,SAAP;EACH,CAdD;;EAeArX,YAAY,CAACkB,SAAb,CAAuB2X,sBAAvB,GAAgD,UAAUxX,GAAV,EAAe;IAC3D,IAAIwS,YAAY,GAAGrS,QAAQ,CAACC,cAAT,CAAwBJ,GAAG,CAACM,EAAJ,GAAS,uBAAjC,EAA0DmM,iBAA1D,CAA4EA,iBAA/F;;IACA,IAAI+F,YAAJ,EAAkB;MACdxS,GAAG,CAAC0C,IAAJ,GAAW,cAAX;MACA1C,GAAG,CAAC2D,KAAJ,GAAY,EAAZ;MACA3D,GAAG,CAAC4D,UAAJ,GAAiB,WAAjB;MACA5D,GAAG,CAACsC,QAAJ,GAAe,EAAf;MACAtC,GAAG,CAAC6D,SAAJ,GAAgB,MAAhB;MACA7D,GAAG,CAAC8D,KAAJ,GAAY,OAAZ;MACA9D,GAAG,CAAC+D,eAAJ,GAAsB,WAAtB;MACA/D,GAAG,CAACgE,SAAJ,GAAgB,MAAhB;MACAhE,GAAG,CAACkE,UAAJ,GAAiB,SAAjB;MACAlE,GAAG,CAACiE,UAAJ,GAAiB,KAAjB;MACAjE,GAAG,CAACoE,UAAJ,GAAiB,KAAjB;MACApE,GAAG,CAACuE,OAAJ,GAAc,EAAd;MACAvE,GAAG,CAACqE,OAAJ,GAAc,IAAd;MACArE,GAAG,CAACwE,WAAJ,GAAkB,SAAlB;MACAxE,GAAG,CAACyE,SAAJ,GAAgB,CAAhB;MACAzE,GAAG,CAACmE,SAAJ,GAAgB,CAAhB;MACA,KAAKyO,uBAAL,CAA6B5S,GAA7B,EAAkCwS,YAAlC;IACH;EACJ,CArBD;;EAsBA7T,YAAY,CAACkB,SAAb,CAAuB4X,uBAAvB,GAAiD,UAAUzX,GAAV,EAAe;IAC5D,IAAIwS,YAAY,GAAGrS,QAAQ,CAACC,cAAT,CAAwBJ,GAAG,CAACM,EAAJ,GAAS,uBAAjC,EAA0DmM,iBAA1D,CAA4EA,iBAA/F;;IACA,IAAI+F,YAAJ,EAAkB;MACdxS,GAAG,CAAC0C,IAAJ,GAAW,gBAAX;MACA1C,GAAG,CAAC2D,KAAJ,GAAY,EAAZ;MACA3D,GAAG,CAAC4D,UAAJ,GAAiB,WAAjB;MACA5D,GAAG,CAACsC,QAAJ,GAAe,EAAf;MACAtC,GAAG,CAAC6D,SAAJ,GAAgB,MAAhB;MACA7D,GAAG,CAAC8D,KAAJ,GAAY,OAAZ;MACA9D,GAAG,CAAC+D,eAAJ,GAAsB,WAAtB;MACA/D,GAAG,CAACgE,SAAJ,GAAgB,MAAhB;MACAhE,GAAG,CAACkE,UAAJ,GAAiB,SAAjB;MACAlE,GAAG,CAACiE,UAAJ,GAAiB,KAAjB;MACAjE,GAAG,CAACoE,UAAJ,GAAiB,KAAjB;MACApE,GAAG,CAACuE,OAAJ,GAAc,EAAd;MACAvE,GAAG,CAACqE,OAAJ,GAAc,IAAd;MACArE,GAAG,CAACwE,WAAJ,GAAkB,SAAlB;MACAxE,GAAG,CAACyE,SAAJ,GAAgB,CAAhB;MACAzE,GAAG,CAACmE,SAAJ,GAAgB,CAAhB;MACA,KAAKuP,6BAAL,CAAmC1T,GAAnC,EAAwCwS,YAAxC;IACH;EACJ,CArBD;;EAsBA7T,YAAY,CAACkB,SAAb,CAAuB6X,uBAAvB,GAAiD,UAAU1X,GAAV,EAAe;IAC5D,IAAIwS,YAAY,GAAGrS,QAAQ,CAACC,cAAT,CAAwBJ,GAAG,CAACM,EAAJ,GAAS,uBAAjC,EAA0DmM,iBAA1D,CAA4EA,iBAA/F;;IACA,IAAI+F,YAAJ,EAAkB;MACdxS,GAAG,CAAC0C,IAAJ,GAAW,eAAX;MACA1C,GAAG,CAAC4E,SAAJ,GAAgB,KAAhB;MACA5E,GAAG,CAAC+D,eAAJ,GAAsB,WAAtB;MACA/D,GAAG,CAACkE,UAAJ,GAAiB,SAAjB;MACAlE,GAAG,CAACiE,UAAJ,GAAiB,KAAjB;MACAjE,GAAG,CAACoE,UAAJ,GAAiB,KAAjB;MACApE,GAAG,CAACuE,OAAJ,GAAc,EAAd;MACAvE,GAAG,CAACqE,OAAJ,GAAc,IAAd;MACArE,GAAG,CAACwE,WAAJ,GAAkB,SAAlB;MACAxE,GAAG,CAACyE,SAAJ,GAAgB,CAAhB;MACA,KAAKyO,wBAAL,CAA8BlT,GAA9B,EAAmCwS,YAAnC;IACH;EACJ,CAfD;;EAgBA7T,YAAY,CAACkB,SAAb,CAAuB8X,0BAAvB,GAAoD,UAAU3X,GAAV,EAAe;IAC/D,IAAIwS,YAAY,GAAGrS,QAAQ,CAACC,cAAT,CAAwBJ,GAAG,CAACM,EAAJ,GAAS,uBAAjC,EAA0DmM,iBAA1D,CAA4EA,iBAA/F;;IACA,IAAI+F,YAAJ,EAAkB;MACdxS,GAAG,CAAC0C,IAAJ,GAAW,kBAAX;MACA1C,GAAG,CAAC6E,UAAJ,GAAiB,KAAjB;MACA7E,GAAG,CAAC+D,eAAJ,GAAsB,WAAtB;MACA/D,GAAG,CAACkE,UAAJ,GAAiB,SAAjB;MACAlE,GAAG,CAACiE,UAAJ,GAAiB,KAAjB;MACAjE,GAAG,CAACoE,UAAJ,GAAiB,KAAjB;MACApE,GAAG,CAACuE,OAAJ,GAAc,EAAd;MACAvE,GAAG,CAACqE,OAAJ,GAAc,IAAd;MACArE,GAAG,CAACwE,WAAJ,GAAkB,SAAlB;MACAxE,GAAG,CAACyE,SAAJ,GAAgB,CAAhB;MACA,KAAKwP,2BAAL,CAAiCjU,GAAjC,EAAsCwS,YAAtC;IACH;EACJ,CAfD;;EAgBA7T,YAAY,CAACkB,SAAb,CAAuB+X,2BAAvB,GAAqD,UAAU5X,GAAV,EAAe;IAChE,IAAIwS,YAAY,GAAGrS,QAAQ,CAACC,cAAT,CAAwBJ,GAAG,CAACM,EAAJ,GAAS,uBAAjC,EAA0DmM,iBAA1D,CAA4EA,iBAA/F;;IACA,IAAI+F,YAAJ,EAAkB;MACdxS,GAAG,CAAC0C,IAAJ,GAAW,eAAX;MACA1C,GAAG,CAAC2D,KAAJ,GAAY,EAAZ;MACA3D,GAAG,CAAC4D,UAAJ,GAAiB,WAAjB;MACA5D,GAAG,CAACsC,QAAJ,GAAe,EAAf;MACAtC,GAAG,CAAC6D,SAAJ,GAAgB,MAAhB;MACA7D,GAAG,CAAC8D,KAAJ,GAAY,OAAZ;MACA9D,GAAG,CAAC+D,eAAJ,GAAsB,WAAtB;MACA/D,GAAG,CAACgE,SAAJ,GAAgB,MAAhB;MACAhE,GAAG,CAACkE,UAAJ,GAAiB,SAAjB;MACAlE,GAAG,CAACiE,UAAJ,GAAiB,KAAjB;MACAjE,GAAG,CAACoE,UAAJ,GAAiB,KAAjB;MACApE,GAAG,CAACuE,OAAJ,GAAc,EAAd;MACAvE,GAAG,CAACqE,OAAJ,GAAc,IAAd;MACArE,GAAG,CAACwE,WAAJ,GAAkB,SAAlB;MACAxE,GAAG,CAACyE,SAAJ,GAAgB,CAAhB;MACAzE,GAAG,CAAC0E,OAAJ,GAAc,EAAd;MACA,KAAKgN,4BAAL,CAAkC1R,GAAlC,EAAuCwS,YAAvC;;MACA,IAAIxS,GAAG,CAAC0E,OAAR,EAAiB;QACb,KAAK8V,4BAAL,CAAkCxa,GAAlC,EAAuCwS,YAAvC;MACH;IACJ;EACJ,CAxBD;;EAyBA7T,YAAY,CAACkB,SAAb,CAAuBgY,sBAAvB,GAAgD,UAAU7X,GAAV,EAAe;IAC3D,IAAIwS,YAAY,GAAGrS,QAAQ,CAACC,cAAT,CAAwBJ,GAAG,CAACM,EAAJ,GAAS,uBAAjC,EAA0DmM,iBAA1D,CAA4EA,iBAA/F;;IACA,IAAI+F,YAAJ,EAAkB;MACdxS,GAAG,CAAC0C,IAAJ,GAAW,cAAX;MACA1C,GAAG,CAAC2D,KAAJ,GAAY,EAAZ;MACA3D,GAAG,CAAC4D,UAAJ,GAAiB,WAAjB;MACA5D,GAAG,CAACsC,QAAJ,GAAe,EAAf;MACAtC,GAAG,CAAC6D,SAAJ,GAAgB,MAAhB;MACA7D,GAAG,CAAC8D,KAAJ,GAAY,OAAZ;MACA9D,GAAG,CAAC+D,eAAJ,GAAsB,WAAtB;MACA/D,GAAG,CAACgE,SAAJ,GAAgB,MAAhB;MACAhE,GAAG,CAACkE,UAAJ,GAAiB,SAAjB;MACAlE,GAAG,CAACiE,UAAJ,GAAiB,KAAjB;MACAjE,GAAG,CAACoE,UAAJ,GAAiB,KAAjB;MACApE,GAAG,CAACuE,OAAJ,GAAc,EAAd;MACAvE,GAAG,CAACqE,OAAJ,GAAc,IAAd;MACArE,GAAG,CAACwE,WAAJ,GAAkB,SAAlB;MACAxE,GAAG,CAACyE,SAAJ,GAAgB,CAAhB;MACAzE,GAAG,CAAC0E,OAAJ,GAAc,EAAd;MACA,KAAKuN,uBAAL,CAA6BjS,GAA7B,EAAkCwS,YAAlC;;MACA,IAAIxS,GAAG,CAAC0E,OAAR,EAAiB;QACb,KAAK8V,4BAAL,CAAkCxa,GAAlC,EAAuCwS,YAAvC;MACH;IACJ;EACJ,CAxBD;;EAyBA7T,YAAY,CAACkB,SAAb,CAAuBiY,+BAAvB,GAAyD,UAAU9X,GAAV,EAAe;IACpE,IAAIwS,YAAY,GAAGrS,QAAQ,CAACC,cAAT,CAAwBJ,GAAG,CAACM,EAAJ,GAAS,uBAAjC,EAA0DmM,iBAA1D,CAA4EA,iBAA/F;;IACA,IAAI+F,YAAJ,EAAkB;MACdxS,GAAG,CAAC0C,IAAJ,GAAW,gBAAX;MACA1C,GAAG,CAAC2D,KAAJ,GAAY,EAAZ;MACA3D,GAAG,CAAC4D,UAAJ,GAAiB,WAAjB;MACA5D,GAAG,CAACsC,QAAJ,GAAe,EAAf;MACAtC,GAAG,CAAC6D,SAAJ,GAAgB,MAAhB;MACA7D,GAAG,CAAC8D,KAAJ,GAAY,OAAZ;MACA9D,GAAG,CAAC+D,eAAJ,GAAsB,WAAtB;MACA/D,GAAG,CAACoE,UAAJ,GAAiB,KAAjB;MACApE,GAAG,CAACiE,UAAJ,GAAiB,KAAjB;MACAjE,GAAG,CAACuE,OAAJ,GAAc,EAAd;MACAvE,GAAG,CAACqE,OAAJ,GAAc,IAAd;MACArE,GAAG,CAACkE,UAAJ,GAAiB,SAAjB;MACA,KAAKgM,8BAAL,CAAoClQ,GAApC,EAAyCwS,YAAzC;IACH;EACJ,CAjBD;EAkBA;AACJ;AACA;AACA;AACA;AACA;AACA;;;EACI7T,YAAY,CAACkB,SAAb,CAAuBsb,eAAvB,GAAyC,UAAU7D,WAAV,EAAuBxC,SAAvB,EAAkC;IACvE,IAAIA,SAAS,KAAK,KAAK,CAAvB,EAA0B;MAAEA,SAAS,GAAG,IAAZ;IAAmB;;IAC/C,IAAIkB,SAAS,GAAG,KAAKuB,YAAL,CAAkBD,WAAlB,CAAhB;;IACA,IAAItB,SAAJ,EAAe;MACX,KAAKoF,cAAL,CAAoB9D,WAApB;MACA,KAAK3X,SAAL,CAAesV,MAAf,CAAsBe,SAAtB;MACA,KAAKrW,SAAL,CAAe0b,aAAf;MACA,IAAI,CAACzd,iBAAiB,CAAC,KAAK+B,SAAL,CAAe2b,OAAhB,CAAlB,IAA8C,CAAC1d,iBAAiB,CAAC,KAAK+B,SAAL,CAAe2b,OAAf,CAAuBC,yBAAxB,CAApE,EACI,KAAK5b,SAAL,CAAe2b,OAAf,CAAuBC,yBAAvB,CAAiDC,kBAAjD,CAAoE,KAApE;;MACJ,IAAI,KAAK5b,aAAL,CAAmB2G,mBAAnB,CAAuC1D,MAAvC,GAAgD,CAApD,EAAuD;QACnD,KAAKjD,aAAL,CAAmBiH,qBAAnB,CAAyC,IAAzC;MACH,CAFD,MAGK;QACD,KAAKjH,aAAL,CAAmBiH,qBAAnB,CAAyC,KAAzC;MACH;;MACD,IAAIiO,SAAS,IAAI,KAAKnV,SAAL,CAAekV,UAAhC,EAA4C;QACxC,KAAKlV,SAAL,CAAekV,UAAf,CAA0BC,SAA1B,CAAoC,KAAKlV,aAAL,CAAmBkW,iBAAvD,EAA0E,IAA1E,EAAgFE,SAAhF,EAA2F,QAA3F,EAAqG,EAArG,EAAyGA,SAAzG,EAAoHA,SAApH;MACH;IACJ;EACJ,CAnBD;EAoBA;AACJ;AACA;AACA;AACA;AACA;;;EACIrX,YAAY,CAACkB,SAAb,CAAuBub,cAAvB,GAAwC,UAAU9D,WAAV,EAAuB;IAC3D,IAAItB,SAAJ;IACA,IAAIiF,yBAAJ;;IACA,IAAI,OAAO3D,WAAP,KAAuB,QAA3B,EAAqC;MACjC2D,yBAAyB,GAAG,KAAKC,uCAAL,CAA6C5D,WAAW,CAAChX,EAAzD,CAA5B;MACA0V,SAAS,GAAG,KAAKrW,SAAL,CAAesM,SAAf,CAAyBgP,yBAAyB,CAAC3a,EAAnD,CAAZ;IACH;;IACD,IAAI,OAAOgX,WAAP,KAAuB,QAA3B,EAAqC;MACjC2D,yBAAyB,GAAG,KAAKC,uCAAL,CAA6C5D,WAA7C,CAA5B;MACAtB,SAAS,GAAG,KAAKrW,SAAL,CAAesM,SAAf,CAAyBgP,yBAAyB,CAAC3a,EAAnD,CAAZ;IACH;;IACD,IAAI0V,SAAS,IAAK,KAAKrW,SAAL,CAAe8b,aAAf,IAAgC,CAAC7d,iBAAiB,CAAC,KAAK+B,SAAL,CAAe8b,aAAf,CAA6BC,UAA7B,CAAwCC,UAAzC,CAAlD,IAA0G,KAAKhc,SAAL,CAAe8b,aAAf,CAA6BC,UAA7B,CAAwCC,UAAxC,CAAmD9Y,MAAnD,GAA4D,CAAtK,IACd,KAAKlD,SAAL,CAAe8b,aAAf,CAA6BC,UAA7B,CAAwCC,UAAxC,CAAmD,CAAnD,EAAsDrb,EAAtD,KAA6D0V,SAAS,CAAC1V,EAD3E,EACgF;MAC5E,KAAKX,SAAL,CAAeyb,cAAf,CAA8B,KAAKxb,aAAL,CAAmBW,cAAnB,CAAkCC,YAAhE;IACH;EACJ,CAfD;EAgBA;AACJ;AACA;;;EACI7B,YAAY,CAACkB,SAAb,CAAuB+b,OAAvB,GAAiC,UAAUC,IAAV,EAAgB;IAC7C,IAAIA,IAAI,IAAIA,IAAI,CAACpS,OAAL,CAAa,UAAb,MAA6B,CAAC,CAA1C,EAA6C;MACzC,KAAKqS,kCAAL,CAAwC,IAAxC;MACA,KAAKlc,aAAL,CAAmBuW,wBAAnB;IACH,CAHD,MAIK;MACD,KAAK2F,kCAAL,CAAwC,KAAxC;;MACA,IAAI,KAAKnc,SAAL,CAAeoc,mBAAnB,EAAwC;QACpC,KAAKpc,SAAL,CAAeoc,mBAAf,CAAmCC,uBAAnC;MACH;IACJ;EACJ,CAXD;;EAYArd,YAAY,CAACkB,SAAb,CAAuBic,kCAAvB,GAA4D,UAAUG,kBAAV,EAA8B;IACtF,IAAIC,WAAW,GAAG,KAAKvc,SAAL,CAAe4G,mBAAjC;;IACA,IAAI2V,WAAW,IAAIA,WAAW,CAACrZ,MAAZ,GAAqB,CAAxC,EAA2C;MACvC,KAAK,IAAIE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGmZ,WAAW,CAACrZ,MAAhC,EAAwCE,CAAC,EAAzC,EAA6C;QACzC,IAAI1C,OAAO,GAAGF,QAAQ,CAACC,cAAT,CAAwB8b,WAAW,CAACnZ,CAAD,CAAX,CAAezC,EAAf,GAAoB,uBAA5C,CAAd;QACA,IAAIoZ,YAAY,GAAGvZ,QAAQ,CAACC,cAAT,CAAwB8b,WAAW,CAACnZ,CAAD,CAAX,CAAezC,EAAf,GAAoB,gBAA5C,CAAnB;;QACA,IAAID,OAAJ,EAAa;UACT,IAAI4b,kBAAJ,EAAwB;YACpB,KAAKtc,SAAL,CAAe6C,YAAf,GAA8B,IAA9B;YACAnC,OAAO,CAACgC,KAAR,CAAc0L,aAAd,GAA8B,MAA9B;YACA2L,YAAY,CAACjX,SAAb,GAAyByZ,WAAW,CAACnZ,CAAD,CAAX,CAAeL,IAAxC;YACA,IAAIhC,SAAS,GAAG,KAAKd,aAAL,CAAmBe,aAAnB,EAAhB;YACA+Y,YAAY,CAACrX,KAAb,CAAmBC,QAAnB,GAA8B4Z,WAAW,CAACnZ,CAAD,CAAX,CAAeT,QAAf,GAA2B4Z,WAAW,CAACnZ,CAAD,CAAX,CAAeT,QAAf,GAA0B5B,SAA3B,GAAwC,IAAlE,GAA0E,KAAKA,SAAN,GAAmB,IAA1H;YACAgZ,YAAY,CAACrX,KAAb,CAAmBM,QAAnB,GAA8B,UAA9B;UACH,CAPD,MAQK;YACD,KAAKhD,SAAL,CAAe6C,YAAf,GAA8B,KAA9B;YACAnC,OAAO,CAACgC,KAAR,CAAc0L,aAAd,GAA8B,KAA9B;YACA2L,YAAY,CAACjX,SAAb,GAAyB,EAAzB;YACAiX,YAAY,CAACrX,KAAb,CAAmBM,QAAnB,GAA8B,SAA9B;;YACA,IAAIuZ,WAAW,CAACnZ,CAAD,CAAX,CAAehD,uBAAf,KAA2C,aAA/C,EAA8D;cAC1D,KAAKoc,mCAAL,CAAyCD,WAAW,CAACnZ,CAAD,CAApD;YACH;;YACD,IAAImZ,WAAW,CAACnZ,CAAD,CAAX,CAAehD,uBAAf,KAA2C,UAA/C,EAA2D;cACvD,KAAKqc,oCAAL,CAA0CF,WAAW,CAACnZ,CAAD,CAArD;YACH;;YACD,KAAKpD,SAAL,CAAeyb,cAAf,CAA8Bc,WAAW,CAACnZ,CAAD,CAAX,CAAehB,SAA7C;UACH;QACJ;MACJ;IACJ;EACJ,CA/BD,CAjpF0C,CAirF1C;;;EACApD,YAAY,CAACkB,SAAb,CAAuBqb,uCAAvB,GAAiE,UAAUmB,YAAV,EAAwB;IACrF;IACA,IAAIH,WAAW,GAAG,KAAKvc,SAAL,CAAe4G,mBAAjC;;IACA,IAAI2V,WAAW,IAAIG,YAAnB,EAAiC;MAC7B,KAAK,IAAItZ,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGmZ,WAAW,CAACrZ,MAAhC,EAAwCE,CAAC,EAAzC,EAA6C;QACzC,IAAImZ,WAAW,CAACnZ,CAAD,CAAX,CAAezC,EAAf,KAAsB+b,YAA1B,EAAwC;UACpC,OAAOH,WAAW,CAACnZ,CAAD,CAAlB;QACH;MACJ;IACJ;EACJ,CAVD;EAWA;AACJ;AACA;;;EACIpE,YAAY,CAACkB,SAAb,CAAuByc,oBAAvB,GAA8C,UAAUhF,WAAV,EAAuB;IACjE,KAAK,IAAIvU,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKnD,aAAL,CAAmB2G,mBAAnB,CAAuC1D,MAA3D,EAAmEE,CAAC,EAApE,EAAwE;MACpE,IAAIuU,WAAW,KAAK,KAAK1X,aAAL,CAAmB2G,mBAAnB,CAAuCxD,CAAvC,EAA0C4D,SAA1C,CAAoDrG,EAAxE,EAA4E;QACxE,KAAKV,aAAL,CAAmB2G,mBAAnB,CAAuCxD,CAAvC,EAA0C4D,SAA1C,CAAoDhD,KAApD,GAA4D,EAA5D;QACA,KAAKhE,SAAL,CAAesM,SAAf,CAAyB,KAAKrM,aAAL,CAAmB2G,mBAAnB,CAAuCxD,CAAvC,EAA0C4D,SAA1C,CAAoDrG,EAApD,CAAuDyH,KAAvD,CAA6D,GAA7D,EAAkE,CAAlE,CAAzB,EAA+FpE,KAA/F,GAAuG,EAAvG;QACA,KAAKhE,SAAL,CAAesM,SAAf,CAAyB,KAAKrM,aAAL,CAAmB2G,mBAAnB,CAAuCxD,CAAvC,EAA0C4D,SAA1C,CAAoDrG,EAA7E,EAAiFqD,KAAjF,GAAyF,EAAzF;QACA,KAAK/D,aAAL,CAAmB2G,mBAAnB,CAAuCxD,CAAvC,EAA0C4D,SAA1C,CAAoDpB,aAApD,GAAoE,EAApE;QACA,KAAK5F,SAAL,CAAesM,SAAf,CAAyB,KAAKrM,aAAL,CAAmB2G,mBAAnB,CAAuCxD,CAAvC,EAA0C4D,SAA1C,CAAoDrG,EAApD,CAAuDyH,KAAvD,CAA6D,GAA7D,EAAkE,CAAlE,CAAzB,EAA+FxC,aAA/F,GAA+G,EAA/G;QACA,KAAK5F,SAAL,CAAesM,SAAf,CAAyB,KAAKrM,aAAL,CAAmB2G,mBAAnB,CAAuCxD,CAAvC,EAA0C4D,SAA1C,CAAoDrG,EAA7E,EAAiFiF,aAAjF,GAAiG,EAAjG;MACH;IACJ;EACJ,CAXD;EAYA;AACJ;AACA;;;EACI5G,YAAY,CAACkB,SAAb,CAAuB0c,qCAAvB,GAA+D,UAAUF,YAAV,EAAwB;IACnF,IAAIrV,IAAI,GAAG,KAAKpH,aAAL,CAAmBqH,yBAAnB,CAA6C,eAA7C,CAAX;IACA,IAAIC,cAAc,GAAGC,IAAI,CAACC,KAAL,CAAWJ,IAAX,CAArB;;IACA,KAAK,IAAIjE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGmE,cAAc,CAACrE,MAAnC,EAA2CE,CAAC,EAA5C,EAAgD;MAC5C,IAAImE,cAAc,CAACnE,CAAD,CAAd,CAAkB2D,GAAlB,CAAsBqB,KAAtB,CAA4B,GAA5B,EAAiC,CAAjC,MAAwCsU,YAA5C,EAA0D;QACtDnV,cAAc,CAACT,MAAf,CAAsB1D,CAAtB,EAAyB,CAAzB;QACA,KAAKnD,aAAL,CAAmB2G,mBAAnB,CAAuCE,MAAvC,CAA8C1D,CAA9C,EAAiD,CAAjD;QACA;MACH;IACJ;;IACD,KAAKnD,aAAL,CAAmBgH,uBAAnB,CAA2C,KAAKhH,aAAL,CAAmB2G,mBAA9D,EAAmF,eAAnF;IACA,IAAIiW,WAAW,GAAGC,MAAM,CAACC,cAAP,CAAsBC,OAAtB,CAA8B,KAAK/c,aAAL,CAAmBgd,UAAnB,GAAgC,oBAA9D,CAAlB;;IACA,IAAIJ,WAAJ,EAAiB;MACb,IAAIK,WAAW,GAAG1V,IAAI,CAACC,KAAL,CAAWoV,WAAX,CAAlB;MACA,IAAIlI,KAAK,GAAG,KAAK3U,SAAL,CAAemd,gBAAf,CAAgCC,iBAAhC,CAAkDF,WAAlD,EAA+D,KAAKjd,aAAL,CAAmBkW,iBAAnB,GAAuC,CAAtG,CAAZ;;MACA,IAAI+G,WAAW,CAACvI,KAAD,CAAf,EAAwB;QACpB,KAAK,IAAIhN,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGuV,WAAW,CAACvI,KAAD,CAAX,CAAmB0I,WAAnB,CAA+Bna,MAAnD,EAA2DyE,CAAC,EAA5D,EAAgE;UAC5D,IAAI+U,YAAY,KAAKQ,WAAW,CAACvI,KAAD,CAAX,CAAmB0I,WAAnB,CAA+B1V,CAA/B,EAAkChH,EAAvD,EAA2D;YACvDuc,WAAW,CAACvI,KAAD,CAAX,CAAmB0I,WAAnB,CAA+BvW,MAA/B,CAAsCa,CAAtC,EAAyC,CAAzC;YACA;UACH;QACJ;;QACD,IAAI2V,qBAAqB,GAAG9V,IAAI,CAAC+V,SAAL,CAAeL,WAAf,CAA5B;QACAJ,MAAM,CAACC,cAAP,CAAsBS,OAAtB,CAA8B,KAAKvd,aAAL,CAAmBgd,UAAnB,GAAgC,oBAA9D,EAAoFK,qBAApF;MACH;IACJ,CAzBkF,CA0BnF;;;IACA,IAAIf,WAAW,GAAG,KAAKvc,SAAL,CAAe4G,mBAAjC;;IACA,IAAI2V,WAAW,IAAIG,YAAnB,EAAiC;MAC7B,KAAK,IAAItZ,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGmZ,WAAW,CAACrZ,MAAhC,EAAwCE,CAAC,EAAzC,EAA6C;QACzC,IAAImZ,WAAW,CAACnZ,CAAD,CAAX,CAAeuU,WAAf,KAA+B+E,YAAnC,EAAiD;UAC7C,KAAK1c,SAAL,CAAe4G,mBAAf,CAAmCE,MAAnC,CAA0C1D,CAA1C,EAA6C,CAA7C;QACH;MACJ;IACJ;EACJ,CAnCD;EAoCA;AACJ;AACA;;;EACIpE,YAAY,CAACkB,SAAb,CAAuBkW,iBAAvB,GAA2C,YAAY;IACnD,KAAK1W,cAAL,GAAsB,KAAKA,cAAL,GAAsB,CAA5C;IACA,OAAO,KAAKA,cAAZ;EACH,CAHD;;EAIAV,YAAY,CAACkB,SAAb,CAAuBuP,mBAAvB,GAA6C,YAAY;IACrD,KAAK9P,gBAAL,GAAwB,KAAKA,gBAAL,GAAwB,CAAhD;IACA,OAAO,KAAKA,gBAAZ;EACH,CAHD;;EAIAX,YAAY,CAACkB,SAAb,CAAuB8W,sBAAvB,GAAgD,UAAU5R,aAAV,EAAyB;IACrE,KAAKpF,SAAL,CAAemC,aAAf,GAA+B;MAC3B/B,uBAAuB,EAAEgF,aADE;MAE3BrC,IAAI,EAAE,YAAY,KAAKqT,iBAAL,EAFS;MAEiBpS,KAAK,EAAE,EAFxB;MAE4BC,UAAU,EAAE,WAFxC;MAEqDtB,QAAQ,EAAE,KAAK,KAAK1C,aAAL,CAAmBe,aAAnB,EAFpE;MAEwGkD,SAAS,EAAE,MAFnH;MAE2HC,KAAK,EAAE,OAFlI;MAG3BC,eAAe,EAAE,WAHU;MAGGU,SAAS,EAAE,CAHd;MAGiBD,WAAW,EAAE,SAH9B;MAGyCR,SAAS,EAAE,MAHpD;MAG4DC,UAAU,EAAE,KAHxE;MAG+EC,UAAU,EAAE,SAH3F;MAGsGE,UAAU,EAAE,KAHlH;MAGyHC,OAAO,EAAE,IAHlI;MAGwIhB,WAAW,EAAE,CAHrJ;MAGwJkB,OAAO,EAAE,EAHjK;MAGqKqB,IAAI,EAAE;QAAEE,QAAQ,EAAE,KAAZ;QAAmBD,MAAM,EAAE,KAA3B;QAAkCE,WAAW,EAAE,KAA/C;QAAsDC,WAAW,EAAE;MAAnE;IAH3K,CAA/B;IAKA,KAAKrG,SAAL,CAAeyd,IAAf,GAAsB,UAAtB;EACH,CAPD;;EAQAze,YAAY,CAACkB,SAAb,CAAuBgX,qBAAvB,GAA+C,UAAU9R,aAAV,EAAyB;IACpE,KAAKpF,SAAL,CAAemC,aAAf,GAA+B;MAC3B/B,uBAAuB,EAAEgF,aADE;MAE3BrC,IAAI,EAAE,aAAa,KAAKqT,iBAAL,EAFQ;MAEkBpS,KAAK,EAAE,EAFzB;MAE6BC,UAAU,EAAE,WAFzC;MAEsDtB,QAAQ,EAAE,KAAK,KAAK1C,aAAL,CAAmBe,aAAnB,EAFrE;MAEyGkD,SAAS,EAAE,MAFpH;MAE4HC,KAAK,EAAE,OAFnI;MAG3BE,SAAS,EAAE,MAHgB;MAGRD,eAAe,EAAE,WAHT;MAGsBU,SAAS,EAAE,CAHjC;MAGoCD,WAAW,EAAE,SAHjD;MAG4DP,UAAU,EAAE,KAHxE;MAG+EC,UAAU,EAAE,SAH3F;MAGsGE,UAAU,EAAE,KAHlH;MAGyHC,OAAO,EAAE,IAHlI;MAGwIhB,WAAW,EAAE,CAHrJ;MAGwJkB,OAAO,EAAE,EAHjK;MAGqKqB,IAAI,EAAE;QAAEE,QAAQ,EAAE,KAAZ;QAAmBD,MAAM,EAAE,KAA3B;QAAkCE,WAAW,EAAE,KAA/C;QAAsDC,WAAW,EAAE;MAAnE;IAH3K,CAA/B;IAKA,KAAKrG,SAAL,CAAeyd,IAAf,GAAsB,UAAtB;EACH,CAPD;;EAQAze,YAAY,CAACkB,SAAb,CAAuBkX,uBAAvB,GAAiD,UAAUhS,aAAV,EAAyB;IACtE,KAAKpF,SAAL,CAAemC,aAAf,GAA+B;MAC3B/B,uBAAuB,EAAEgF,aADE;MAE3BrC,IAAI,EAAE,cAAc,KAAKqT,iBAAL,EAFO;MAEmBnR,SAAS,EAAE,KAF9B;MAEqCtC,QAAQ,EAAE,KAAK,KAAK1C,aAAL,CAAmBe,aAAnB,EAFpD;MAEwFoD,eAAe,EAAE,WAFzG;MAEsHD,KAAK,EAAE,OAF7H;MAEsIW,SAAS,EAAE,CAFjJ;MAEoJD,WAAW,EAAE,SAFjK;MAE4KP,UAAU,EAAE,KAFxL;MAE+LC,UAAU,EAAE,SAF3M;MAEsNG,OAAO,EAAE,IAF/N;MAEqOhB,WAAW,EAAE,CAFlP;MAEqPkB,OAAO,EAAE;IAF9P,CAA/B;IAIA,KAAK5E,SAAL,CAAeyd,IAAf,GAAsB,UAAtB;EACH,CAND;;EAOAze,YAAY,CAACkB,SAAb,CAAuBmX,0BAAvB,GAAoD,UAAUjS,aAAV,EAAyB;IACzE,KAAKpF,SAAL,CAAemC,aAAf,GAA+B;MAC3B/B,uBAAuB,EAAEgF,aADE;MAE3BrC,IAAI,EAAE,iBAAiB,KAAKqT,iBAAL,EAFI;MAEsBlR,UAAU,EAAE,KAFlC;MAEyCvC,QAAQ,EAAE,KAAK,KAAK1C,aAAL,CAAmBe,aAAnB,EAFxD;MAE4FoD,eAAe,EAAE,WAF7G;MAE0HD,KAAK,EAAE,OAFjI;MAE0IW,SAAS,EAAE,CAFrJ;MAEwJD,WAAW,EAAE,SAFrK;MAEgLP,UAAU,EAAE,KAF5L;MAEmMC,UAAU,EAAE,SAF/M;MAE0NG,OAAO,EAAE,IAFnO;MAEyOhB,WAAW,EAAE,CAFtP;MAEyPkB,OAAO,EAAE;IAFlQ,CAA/B;IAIA,KAAK5E,SAAL,CAAeyd,IAAf,GAAsB,UAAtB;EACH,CAND;;EAOAze,YAAY,CAACkB,SAAb,CAAuBqX,2BAAvB,GAAqD,UAAUnS,aAAV,EAAyBsY,eAAzB,EAA0C;IAC3F,KAAK1d,SAAL,CAAemC,aAAf,GAA+B;MAC3B/B,uBAAuB,EAAEgF,aADE;MAE3BrC,IAAI,EAAE,aAAa,KAAKqT,iBAAL,EAFQ;MAEkBnS,UAAU,EAAE,WAF9B;MAE2CtB,QAAQ,EAAE,KAAK,KAAK1C,aAAL,CAAmBe,aAAnB,EAF1D;MAE8FkD,SAAS,EAAE,MAFzG;MAEiHC,KAAK,EAAE,OAFxH;MAEiIC,eAAe,EAAE,WAFlJ;MAE+JU,SAAS,EAAE,CAF1K;MAE6KD,WAAW,EAAE,SAF1L;MAG3BR,SAAS,EAAE,MAHgB;MAGRC,UAAU,EAAE,KAHJ;MAGWC,UAAU,EAAE,SAHvB;MAGkCE,UAAU,EAAE,KAH9C;MAGqDC,OAAO,EAAE,IAH9D;MAGoEhB,WAAW,EAAE,CAHjF;MAGoFkB,OAAO,EAAE,EAH7F;MAI3BG,OAAO,EAAE2Y,eAJkB;MAIDC,aAAa,EAAE,KAJd;MAIqB1X,IAAI,EAAE;QAAEE,QAAQ,EAAE,KAAZ;QAAmBD,MAAM,EAAE,KAA3B;QAAkCE,WAAW,EAAE,KAA/C;QAAsDC,WAAW,EAAE;MAAnE;IAJ3B,CAA/B;IAMA,KAAKrG,SAAL,CAAeyd,IAAf,GAAsB,UAAtB;EACH,CARD;;EASAze,YAAY,CAACkB,SAAb,CAAuBsX,sBAAvB,GAAgD,UAAUpS,aAAV,EAAyBwY,cAAzB,EAAyC;IACrF,KAAK5d,SAAL,CAAemC,aAAf,GAA+B;MAC3B/B,uBAAuB,EAAEgF,aADE;MAE3BrC,IAAI,EAAE,aAAa,KAAKqT,iBAAL,EAFQ;MAEkBnS,UAAU,EAAE,WAF9B;MAE2CtB,QAAQ,EAAE,KAAK,KAAK1C,aAAL,CAAmBe,aAAnB,EAF1D;MAE8FkD,SAAS,EAAE,MAFzG;MAEiHC,KAAK,EAAE,OAFxH;MAEiIC,eAAe,EAAE,WAFlJ;MAE+JU,SAAS,EAAE,CAF1K;MAE6KD,WAAW,EAAE,SAF1L;MAG3BR,SAAS,EAAE,MAHgB;MAGRC,UAAU,EAAE,KAHJ;MAGWC,UAAU,EAAE,SAHvB;MAGkCE,UAAU,EAAE,KAH9C;MAGqDC,OAAO,EAAE,IAH9D;MAGoEhB,WAAW,EAAE,CAHjF;MAGoFkB,OAAO,EAAE,EAH7F;MAI3BG,OAAO,EAAE6Y,cAJkB;MAIFD,aAAa,EAAE,IAJb;MAImB1X,IAAI,EAAE;QAAEE,QAAQ,EAAE,KAAZ;QAAmBD,MAAM,EAAE,KAA3B;QAAkCE,WAAW,EAAE,KAA/C;QAAsDC,WAAW,EAAE;MAAnE;IAJzB,CAA/B;IAMA,KAAKrG,SAAL,CAAeyd,IAAf,GAAsB,UAAtB;EACH,CARD;;EASAze,YAAY,CAACkB,SAAb,CAAuBuX,2BAAvB,GAAqD,UAAUrS,aAAV,EAAyB;IAC1E,KAAKpF,SAAL,CAAemC,aAAf,GAA+B;MAC3B/B,uBAAuB,EAAEgF,aADE;MAE3BrC,IAAI,EAAEqC,aAAa,KAAK,cAAlB,IAAoC,KAAKpF,SAAL,CAAe6d,8BAAnD,GAAoF,YAAY,KAAKzH,iBAAL,EAAhG,GAA2H,cAAc,KAAKA,iBAAL,EAFpH;MAE8InS,UAAU,EAAE,WAF1J;MAEuKtB,QAAQ,EAAE,KAAK,KAAK1C,aAAL,CAAmBe,aAAnB,EAFtL;MAE0NkD,SAAS,EAAE,MAFrO;MAE6OC,KAAK,EAAE,OAFpP;MAE6PC,eAAe,EAAE,WAF9Q;MAE2RC,SAAS,EAAE,MAFtS;MAG3BC,UAAU,EAAE,KAHe;MAGRC,UAAU,EAAE,SAHJ;MAGeE,UAAU,EAAE,KAH3B;MAGkCC,OAAO,EAAE,IAH3C;MAGiDhB,WAAW,EAAE,CAH9D;MAGiEkB,OAAO,EAAE,EAH1E;MAG8EqB,IAAI,EAAE;QAAEE,QAAQ,EAAE,KAAZ;QAAmBD,MAAM,EAAE,KAA3B;QAAkCE,WAAW,EAAE,KAA/C;QAAsDC,WAAW,EAAE;MAAnE,CAHpF;MAI3B9G,cAAc,EAAE6F,aAAa,KAAK,cAAlB,IAAoC,KAAKpF,SAAL,CAAe6d,8BAAnD,GAAoF,IAApF,GAA2F;IAJhF,CAA/B;IAMA,KAAK7d,SAAL,CAAeyd,IAAf,GAAsB,UAAtB;EACH,CARD;EASA;AACJ;AACA;;;EACIze,YAAY,CAACkB,SAAb,CAAuB+S,uBAAvB,GAAiD,UAAU5S,GAAV,EAAewS,YAAf,EAA6B;IAC1EA,YAAY,CAAC9P,IAAb,GAAoB1C,GAAG,CAAC0C,IAAJ,GAAW1C,GAAG,CAAC0C,IAAf,GAAsB,YAAY,KAAKqT,iBAAL,EAAtD;IACAvD,YAAY,CAAC7O,KAAb,GAAqB3D,GAAG,CAAC2D,KAAJ,GAAY3D,GAAG,CAAC2D,KAAhB,GAAwB,EAA7C;IACA6O,YAAY,CAACnQ,KAAb,CAAmBuB,UAAnB,GAAgC5D,GAAG,CAAC4D,UAAJ,IAAkB,KAAK6Z,aAAL,CAAmBzd,GAAG,CAAC4D,UAAvB,CAAlB,GAAuD5D,GAAG,CAAC4D,UAA3D,GAAwE,WAAxG;IACA,IAAIlD,SAAS,GAAG,KAAKd,aAAL,CAAmBe,aAAnB,EAAhB;IACA6R,YAAY,CAACnQ,KAAb,CAAmBC,QAAnB,GAA8BtC,GAAG,CAACsC,QAAJ,GAAgBtC,GAAG,CAACsC,QAAJ,GAAe5B,SAAhB,GAA6B,IAA5C,GAAoD,KAAKA,SAAN,GAAmB,IAApG;;IACA,IAAIV,GAAG,CAAC4F,IAAJ,CAASC,MAAb,EAAqB;MACjB2M,YAAY,CAACnQ,KAAb,CAAmBuY,UAAnB,GAAgC,MAAhC;IACH;;IACD,IAAI5a,GAAG,CAAC4F,IAAJ,CAASE,QAAb,EAAuB;MACnB0M,YAAY,CAACnQ,KAAb,CAAmBwB,SAAnB,GAA+B,QAA/B;IACH;;IACD,IAAI7D,GAAG,CAAC4F,IAAJ,CAASG,WAAb,EAA0B;MACtByM,YAAY,CAACnQ,KAAb,CAAmB0Y,cAAnB,GAAoC,cAApC;IACH;;IACD,IAAI/a,GAAG,CAAC4F,IAAJ,CAASI,WAAb,EAA0B;MACtBwM,YAAY,CAACnQ,KAAb,CAAmB0Y,cAAnB,GAAoC,WAApC;IACH;;IACDvI,YAAY,CAACnQ,KAAb,CAAmByB,KAAnB,GAA2B9D,GAAG,CAAC8D,KAAJ,GAAY9D,GAAG,CAAC8D,KAAhB,GAAwB,OAAnD;IACA0O,YAAY,CAACnQ,KAAb,CAAmB0B,eAAnB,GAAqC/D,GAAG,CAAC+D,eAAJ,GAAsB/D,GAAG,CAAC+D,eAA1B,GAA4C,WAAjF;IACAyO,YAAY,CAACnQ,KAAb,CAAmB2K,WAAnB,GAAiC,CAACpP,iBAAiB,CAACoC,GAAG,CAACyE,SAAL,CAAlB,GAAoCzE,GAAG,CAACyE,SAAJ,GAAgB,IAApD,GAA2D,KAA5F;IACA+N,YAAY,CAACnQ,KAAb,CAAmBmC,WAAnB,GAAiCxE,GAAG,CAACwE,WAAJ,GAAkBxE,GAAG,CAACwE,WAAtB,GAAoC,SAArE;IACAgO,YAAY,CAACnQ,KAAb,CAAmBsD,SAAnB,GAA+B3F,GAAG,CAACgE,SAAJ,GAAgBhE,GAAG,CAACgE,SAAJ,CAAcyE,WAAd,EAAhB,GAA8C,MAA7E;IACA+J,YAAY,CAACnQ,KAAb,CAAmB6B,UAAnB,GAAgClE,GAAG,CAACkE,UAAJ,GAAiBlE,GAAG,CAACkE,UAArB,GAAkC,SAAlE;IACAsO,YAAY,CAACnQ,KAAb,CAAmB0L,aAAnB,GAAmC/N,GAAG,CAACiE,UAAJ,GAAiB,MAAjB,GAA0B,SAA7D;;IACA,IAAIjE,GAAG,CAACiE,UAAR,EAAoB;MAChBuO,YAAY,CAACxE,QAAb,GAAwB,IAAxB;MACAwE,YAAY,CAACnQ,KAAb,CAAmB2Q,MAAnB,GAA4B,SAA5B;MACAR,YAAY,CAACnQ,KAAb,CAAmB0B,eAAnB,GAAqC,aAArC;IACH;;IACD,IAAI/D,GAAG,CAACoE,UAAR,EAAoB;MAChBoO,YAAY,CAACkL,QAAb,GAAwB,IAAxB;MACAlL,YAAY,CAACnQ,KAAb,CAAmByL,MAAnB,GAA4B,eAA5B;MACA0E,YAAY,CAACnQ,KAAb,CAAmB2K,WAAnB,GAAiC,CAACpP,iBAAiB,CAACoC,GAAG,CAACyE,SAAL,CAAlB,GAAoCzE,GAAG,CAACyE,SAAJ,GAAgB,IAApD,GAA2D,KAA5F;IACH;;IACD,IAAIzE,GAAG,CAACmE,SAAJ,IAAiBmH,SAArB,EAAgC;MAC5BkH,YAAY,CAACrO,SAAb,GAAyBnE,GAAG,CAACmE,SAAJ,KAAkB,CAAlB,GAAsB,MAAtB,GAA+BnE,GAAG,CAACmE,SAA5D;IACH;;IACDqO,YAAY,CAACmL,QAAb,GAAwB,KAAKte,cAA7B;EACH,CAvCD;EAwCA;AACJ;AACA;;;EACIV,YAAY,CAACkB,SAAb,CAAuB6T,6BAAvB,GAAuD,UAAU1T,GAAV,EAAewS,YAAf,EAA6B;IAChFA,YAAY,CAAC9P,IAAb,GAAoB1C,GAAG,CAAC0C,IAAJ,GAAW1C,GAAG,CAAC0C,IAAf,GAAsB,aAAa,KAAKqT,iBAAL,EAAvD;IACAvD,YAAY,CAAC7O,KAAb,GAAqB3D,GAAG,CAAC2D,KAAJ,GAAY3D,GAAG,CAAC2D,KAAhB,GAAwB,EAA7C;IACA6O,YAAY,CAACnQ,KAAb,CAAmBuB,UAAnB,GAAgC5D,GAAG,CAAC4D,UAAJ,GAAiB5D,GAAG,CAAC4D,UAArB,GAAkC,WAAlE;IACA,IAAIlD,SAAS,GAAG,KAAKd,aAAL,CAAmBe,aAAnB,EAAhB;IACA6R,YAAY,CAACnQ,KAAb,CAAmBC,QAAnB,GAA8BtC,GAAG,CAACsC,QAAJ,GAAgBtC,GAAG,CAACsC,QAAJ,GAAe5B,SAAhB,GAA6B,IAA5C,GAAoD,KAAKA,SAAN,GAAmB,IAApG;;IACA,IAAIV,GAAG,CAAC4F,IAAJ,CAASC,MAAb,EAAqB;MACjB2M,YAAY,CAACnQ,KAAb,CAAmBuY,UAAnB,GAAgC,MAAhC;IACH;;IACD,IAAI5a,GAAG,CAAC4F,IAAJ,CAASE,QAAb,EAAuB;MACnB0M,YAAY,CAACnQ,KAAb,CAAmBwB,SAAnB,GAA+B,QAA/B;IACH;;IACD,IAAI7D,GAAG,CAAC4F,IAAJ,CAASG,WAAb,EAA0B;MACtByM,YAAY,CAACnQ,KAAb,CAAmB0Y,cAAnB,GAAoC,cAApC;IACH;;IACD,IAAI/a,GAAG,CAAC4F,IAAJ,CAASI,WAAb,EAA0B;MACtBwM,YAAY,CAACnQ,KAAb,CAAmB0Y,cAAnB,GAAoC,WAApC;IACH;;IACDvI,YAAY,CAACnQ,KAAb,CAAmB2K,WAAnB,GAAiC,CAACpP,iBAAiB,CAACoC,GAAG,CAACyE,SAAL,CAAlB,GAAoCzE,GAAG,CAACyE,SAAJ,GAAgB,IAApD,GAA2D,KAA5F;IACA+N,YAAY,CAACnQ,KAAb,CAAmByB,KAAnB,GAA2B9D,GAAG,CAAC8D,KAAJ,GAAY9D,GAAG,CAAC8D,KAAhB,GAAwB,OAAnD;IACA0O,YAAY,CAACnQ,KAAb,CAAmB0B,eAAnB,GAAqC/D,GAAG,CAAC+D,eAAJ,GAAsB/D,GAAG,CAAC+D,eAA1B,GAA4C,WAAjF;IACAyO,YAAY,CAACnQ,KAAb,CAAmBmC,WAAnB,GAAiCxE,GAAG,CAACwE,WAAJ,GAAkBxE,GAAG,CAACwE,WAAtB,GAAoC,SAArE;IACAgO,YAAY,CAACnQ,KAAb,CAAmBsD,SAAnB,GAA+B3F,GAAG,CAACgE,SAAJ,GAAgBhE,GAAG,CAACgE,SAAJ,CAAcyE,WAAd,EAAhB,GAA8C,MAA7E;IACA+J,YAAY,CAACnQ,KAAb,CAAmB6B,UAAnB,GAAgClE,GAAG,CAACkE,UAAJ,GAAiBlE,GAAG,CAACkE,UAArB,GAAkC,SAAlE;IACAsO,YAAY,CAACnQ,KAAb,CAAmB0L,aAAnB,GAAmC/N,GAAG,CAACiE,UAAJ,GAAiB,MAAjB,GAA0B,SAA7D;;IACA,IAAIjE,GAAG,CAACiE,UAAR,EAAoB;MAChBuO,YAAY,CAACxE,QAAb,GAAwB,IAAxB;MACAwE,YAAY,CAACnQ,KAAb,CAAmB2Q,MAAnB,GAA4B,SAA5B;MACAR,YAAY,CAACnQ,KAAb,CAAmB0B,eAAnB,GAAqC,aAArC;IACH;;IACD,IAAI/D,GAAG,CAACoE,UAAR,EAAoB;MAChBoO,YAAY,CAACkL,QAAb,GAAwB,IAAxB;MACAlL,YAAY,CAACnQ,KAAb,CAAmByL,MAAnB,GAA4B,eAA5B;MACA0E,YAAY,CAACnQ,KAAb,CAAmB2K,WAAnB,GAAiC,CAACpP,iBAAiB,CAACoC,GAAG,CAACyE,SAAL,CAAlB,GAAoCzE,GAAG,CAACyE,SAAJ,GAAgB,IAApD,GAA2D,KAA5F;IACH;;IACD,IAAIzE,GAAG,CAACmE,SAAJ,IAAiBmH,SAArB,EAAgC;MAC5BkH,YAAY,CAACrO,SAAb,GAAyBnE,GAAG,CAACmE,SAAJ,KAAkB,CAAlB,GAAsB,MAAtB,GAA+BnE,GAAG,CAACmE,SAA5D;IACH;;IACDqO,YAAY,CAACmL,QAAb,GAAwB,KAAKte,cAA7B;EACH,CAvCD;EAwCA;AACJ;AACA;;;EACIV,YAAY,CAACkB,SAAb,CAAuBqT,wBAAvB,GAAkD,UAAUlT,GAAV,EAAewS,YAAf,EAA6B;IAC3EA,YAAY,CAAC9P,IAAb,GAAoB1C,GAAG,CAAC0C,IAAJ,GAAW1C,GAAG,CAAC0C,IAAf,GAAsB,cAAc,KAAKqT,iBAAL,EAAxD;IACAvD,YAAY,CAAC+H,OAAb,GAAuBva,GAAG,CAAC4E,SAAJ,GAAgB,IAAhB,GAAuB,KAA9C;IACA4N,YAAY,CAACnQ,KAAb,CAAmB0B,eAAnB,GAAqC/D,GAAG,CAAC+D,eAAJ,GAAsB/D,GAAG,CAAC+D,eAA1B,GAA4C,WAAjF;IACAyO,YAAY,CAACnQ,KAAb,CAAmBmC,WAAnB,GAAiCxE,GAAG,CAACwE,WAAJ,GAAkBxE,GAAG,CAACwE,WAAtB,GAAoC,SAArE;IACAgO,YAAY,CAACnQ,KAAb,CAAmB6B,UAAnB,GAAgClE,GAAG,CAACkE,UAAJ,GAAiBlE,GAAG,CAACkE,UAArB,GAAkC,SAAlE;IACAsO,YAAY,CAACnQ,KAAb,CAAmB0L,aAAnB,GAAmC/N,GAAG,CAACiE,UAAJ,GAAiB,MAAjB,GAA0B,SAA7D;IACAuO,YAAY,CAACnQ,KAAb,CAAmB2K,WAAnB,GAAiC,CAACpP,iBAAiB,CAACoC,GAAG,CAACyE,SAAL,CAAlB,GAAoCzE,GAAG,CAACyE,SAAJ,GAAgB,IAApD,GAA2D,KAA5F;;IACA,IAAIzE,GAAG,CAACiE,UAAR,EAAoB;MAChBuO,YAAY,CAACxE,QAAb,GAAwB,IAAxB;MACAwE,YAAY,CAACnQ,KAAb,CAAmB2Q,MAAnB,GAA4B,SAA5B;MACAR,YAAY,CAACnQ,KAAb,CAAmB0B,eAAnB,GAAqC,aAArC;IACH;;IACD,IAAI/D,GAAG,CAACoE,UAAR,EAAoB;MAChBoO,YAAY,CAACkL,QAAb,GAAwB,IAAxB;MACAlL,YAAY,CAACnQ,KAAb,CAAmByL,MAAnB,GAA4B,eAA5B;MACA0E,YAAY,CAACnQ,KAAb,CAAmB2K,WAAnB,GAAiC,CAACpP,iBAAiB,CAACoC,GAAG,CAACyE,SAAL,CAAlB,GAAoCzE,GAAG,CAACyE,SAAJ,GAAgB,IAApD,GAA2D,KAA5F;IACH;;IACD+N,YAAY,CAACmL,QAAb,GAAwB,KAAKte,cAA7B;EACH,CAnBD;EAoBA;AACJ;AACA;;;EACIV,YAAY,CAACkB,SAAb,CAAuBoU,2BAAvB,GAAqD,UAAUjU,GAAV,EAAewS,YAAf,EAA6B;IAC9EA,YAAY,CAAC9P,IAAb,GAAoB1C,GAAG,CAAC0C,IAAJ,GAAW1C,GAAG,CAAC0C,IAAf,GAAsB,iBAAiB,KAAKqT,iBAAL,EAA3D;IACAvD,YAAY,CAAC+H,OAAb,GAAuBva,GAAG,CAAC6E,UAAJ,GAAiB,IAAjB,GAAwB,KAA/C;IACA2N,YAAY,CAACnQ,KAAb,CAAmB0B,eAAnB,GAAqC/D,GAAG,CAAC+D,eAAJ,GAAsB/D,GAAG,CAAC+D,eAA1B,GAA4C,WAAjF;IACAyO,YAAY,CAACnQ,KAAb,CAAmBmC,WAAnB,GAAiCxE,GAAG,CAACwE,WAAJ,GAAkBxE,GAAG,CAACwE,WAAtB,GAAoC,SAArE;IACAgO,YAAY,CAACnQ,KAAb,CAAmB6B,UAAnB,GAAgClE,GAAG,CAACkE,UAAJ,GAAiBlE,GAAG,CAACkE,UAArB,GAAkC,SAAlE;IACAsO,YAAY,CAACnQ,KAAb,CAAmB0L,aAAnB,GAAmC/N,GAAG,CAACiE,UAAJ,GAAiB,MAAjB,GAA0B,SAA7D;IACAuO,YAAY,CAACnQ,KAAb,CAAmB2K,WAAnB,GAAiC,CAACpP,iBAAiB,CAACoC,GAAG,CAACyE,SAAL,CAAlB,GAAoCzE,GAAG,CAACyE,SAAJ,GAAgB,IAApD,GAA2D,KAA5F;;IACA,IAAIzE,GAAG,CAACiE,UAAR,EAAoB;MAChBuO,YAAY,CAACxE,QAAb,GAAwB,IAAxB;MACAwE,YAAY,CAACnQ,KAAb,CAAmB2Q,MAAnB,GAA4B,SAA5B;MACAR,YAAY,CAACnQ,KAAb,CAAmB0B,eAAnB,GAAqC,aAArC;IACH;;IACD,IAAI/D,GAAG,CAACoE,UAAR,EAAoB;MAChBoO,YAAY,CAACkL,QAAb,GAAwB,IAAxB;MACAlL,YAAY,CAACnQ,KAAb,CAAmByL,MAAnB,GAA4B,eAA5B;MACA0E,YAAY,CAACnQ,KAAb,CAAmB2K,WAAnB,GAAiC,CAACpP,iBAAiB,CAACoC,GAAG,CAACyE,SAAL,CAAlB,GAAoCzE,GAAG,CAACyE,SAAJ,GAAgB,IAApD,GAA2D,KAA5F;IACH;;IACD+N,YAAY,CAACmL,QAAb,GAAwB,KAAKte,cAA7B;EACH,CAnBD;EAoBA;AACJ;AACA;;;EACIV,YAAY,CAACkB,SAAb,CAAuB6R,4BAAvB,GAAsD,UAAU1R,GAAV,EAAewS,YAAf,EAA6B;IAC/EA,YAAY,CAAC9P,IAAb,GAAoB1C,GAAG,CAAC0C,IAAJ,GAAW1C,GAAG,CAAC0C,IAAf,GAAsB,aAAa,KAAKqT,iBAAL,EAAvD;IACAvD,YAAY,CAAC7O,KAAb,GAAqB3D,GAAG,CAAC2D,KAAJ,GAAY3D,GAAG,CAAC2D,KAAhB,GAAwB,EAA7C;IACA6O,YAAY,CAACnQ,KAAb,CAAmBuB,UAAnB,GAAgC5D,GAAG,CAAC4D,UAAJ,GAAiB5D,GAAG,CAAC4D,UAArB,GAAkC,WAAlE;IACA,IAAIlD,SAAS,GAAG,KAAKd,aAAL,CAAmBe,aAAnB,EAAhB;IACA6R,YAAY,CAACnQ,KAAb,CAAmBC,QAAnB,GAA8BtC,GAAG,CAACsC,QAAJ,GAAgBtC,GAAG,CAACsC,QAAJ,GAAe5B,SAAhB,GAA6B,IAA5C,GAAoD,KAAKA,SAAN,GAAmB,IAApG;;IACA,IAAIV,GAAG,CAAC4F,IAAJ,CAASC,MAAb,EAAqB;MACjB2M,YAAY,CAACnQ,KAAb,CAAmBuY,UAAnB,GAAgC,MAAhC;IACH;;IACD,IAAI5a,GAAG,CAAC4F,IAAJ,CAASE,QAAb,EAAuB;MACnB0M,YAAY,CAACnQ,KAAb,CAAmBwB,SAAnB,GAA+B,QAA/B;IACH;;IACD,IAAI7D,GAAG,CAAC4F,IAAJ,CAASG,WAAb,EAA0B;MACtByM,YAAY,CAACnQ,KAAb,CAAmB0Y,cAAnB,GAAoC,cAApC;IACH;;IACD,IAAI/a,GAAG,CAAC4F,IAAJ,CAASI,WAAb,EAA0B;MACtBwM,YAAY,CAACnQ,KAAb,CAAmB0Y,cAAnB,GAAoC,WAApC;IACH;;IACDvI,YAAY,CAACnQ,KAAb,CAAmB2K,WAAnB,GAAiC,CAACpP,iBAAiB,CAACoC,GAAG,CAACyE,SAAL,CAAlB,GAAoCzE,GAAG,CAACyE,SAAJ,GAAgB,IAApD,GAA2D,KAA5F;IACA+N,YAAY,CAACnQ,KAAb,CAAmByB,KAAnB,GAA2B9D,GAAG,CAAC8D,KAAJ,GAAY9D,GAAG,CAAC8D,KAAhB,GAAwB,OAAnD;IACA0O,YAAY,CAACnQ,KAAb,CAAmB0B,eAAnB,GAAqC/D,GAAG,CAAC+D,eAAJ,GAAsB/D,GAAG,CAAC+D,eAA1B,GAA4C,WAAjF;IACAyO,YAAY,CAACnQ,KAAb,CAAmBmC,WAAnB,GAAiCxE,GAAG,CAACwE,WAAJ,GAAkBxE,GAAG,CAACwE,WAAtB,GAAoC,SAArE;IACAgO,YAAY,CAACnQ,KAAb,CAAmBsD,SAAnB,GAA+B3F,GAAG,CAACgE,SAAJ,GAAgBhE,GAAG,CAACgE,SAAJ,CAAcyE,WAAd,EAAhB,GAA8C,MAA7E;IACA+J,YAAY,CAACnQ,KAAb,CAAmB6B,UAAnB,GAAgClE,GAAG,CAACkE,UAAJ,GAAiBlE,GAAG,CAACkE,UAArB,GAAkC,SAAlE;IACAsO,YAAY,CAACnQ,KAAb,CAAmB0L,aAAnB,GAAmC/N,GAAG,CAACiE,UAAJ,GAAiB,MAAjB,GAA0B,SAA7D;;IACA,IAAIjE,GAAG,CAACiE,UAAR,EAAoB;MAChBuO,YAAY,CAACxE,QAAb,GAAwB,IAAxB;MACAwE,YAAY,CAACnQ,KAAb,CAAmB2Q,MAAnB,GAA4B,SAA5B;MACAR,YAAY,CAACnQ,KAAb,CAAmB0B,eAAnB,GAAqC,aAArC;IACH;;IACD,IAAI/D,GAAG,CAACoE,UAAR,EAAoB;MAChBoO,YAAY,CAACkL,QAAb,GAAwB,IAAxB;MACAlL,YAAY,CAACnQ,KAAb,CAAmByL,MAAnB,GAA4B,eAA5B;MACA0E,YAAY,CAACnQ,KAAb,CAAmB2K,WAAnB,GAAiC,CAACpP,iBAAiB,CAACoC,GAAG,CAACyE,SAAL,CAAlB,GAAoCzE,GAAG,CAACyE,SAAJ,GAAgB,IAApD,GAA2D,KAA5F;IACH;;IACD+N,YAAY,CAACmL,QAAb,GAAwB,KAAKte,cAA7B;EACH,CApCD;EAqCA;AACJ;AACA;;;EACIV,YAAY,CAACkB,SAAb,CAAuBoS,uBAAvB,GAAiD,UAAUjS,GAAV,EAAewS,YAAf,EAA6B;IAC1EA,YAAY,CAAC9P,IAAb,GAAoB1C,GAAG,CAAC0C,IAAJ,GAAW1C,GAAG,CAAC0C,IAAf,GAAsB,aAAa,KAAKqT,iBAAL,EAAvD;IACAvD,YAAY,CAAC7O,KAAb,GAAqB3D,GAAG,CAAC2D,KAAJ,GAAY3D,GAAG,CAAC2D,KAAhB,GAAwB,EAA7C;IACA6O,YAAY,CAACnQ,KAAb,CAAmBuB,UAAnB,GAAgC5D,GAAG,CAAC4D,UAAJ,GAAiB5D,GAAG,CAAC4D,UAArB,GAAkC,WAAlE;IACA,IAAIlD,SAAS,GAAG,KAAKd,aAAL,CAAmBe,aAAnB,EAAhB;IACA6R,YAAY,CAACnQ,KAAb,CAAmBC,QAAnB,GAA8BtC,GAAG,CAACsC,QAAJ,GAAgBtC,GAAG,CAACsC,QAAJ,GAAe5B,SAAhB,GAA6B,IAA5C,GAAoD,KAAKA,SAAN,GAAmB,IAApG;;IACA,IAAIV,GAAG,CAAC4F,IAAJ,CAASC,MAAb,EAAqB;MACjB2M,YAAY,CAACnQ,KAAb,CAAmBuY,UAAnB,GAAgC,MAAhC;IACH;;IACD,IAAI5a,GAAG,CAAC4F,IAAJ,CAASE,QAAb,EAAuB;MACnB0M,YAAY,CAACnQ,KAAb,CAAmBwB,SAAnB,GAA+B,QAA/B;IACH;;IACD,IAAI7D,GAAG,CAAC4F,IAAJ,CAASG,WAAb,EAA0B;MACtByM,YAAY,CAACnQ,KAAb,CAAmB0Y,cAAnB,GAAoC,cAApC;IACH;;IACD,IAAI/a,GAAG,CAAC4F,IAAJ,CAASI,WAAb,EAA0B;MACtBwM,YAAY,CAACnQ,KAAb,CAAmB0Y,cAAnB,GAAoC,WAApC;IACH;;IACDvI,YAAY,CAACnQ,KAAb,CAAmByB,KAAnB,GAA2B9D,GAAG,CAAC8D,KAAJ,GAAY9D,GAAG,CAAC8D,KAAhB,GAAwB,OAAnD;IACA0O,YAAY,CAACnQ,KAAb,CAAmB0B,eAAnB,GAAqC/D,GAAG,CAAC+D,eAAJ,GAAsB/D,GAAG,CAAC+D,eAA1B,GAA4C,WAAjF;IACAyO,YAAY,CAACnQ,KAAb,CAAmBmC,WAAnB,GAAiCxE,GAAG,CAACwE,WAAJ,GAAkBxE,GAAG,CAACwE,WAAtB,GAAoC,SAArE;IACAgO,YAAY,CAACnQ,KAAb,CAAmBsD,SAAnB,GAA+B3F,GAAG,CAACgE,SAAJ,GAAgBhE,GAAG,CAACgE,SAAJ,CAAcyE,WAAd,EAAhB,GAA8C,MAA7E;IACA+J,YAAY,CAACnQ,KAAb,CAAmB6B,UAAnB,GAAgClE,GAAG,CAACkE,UAAJ,GAAiBlE,GAAG,CAACkE,UAArB,GAAkC,SAAlE;IACAsO,YAAY,CAACnQ,KAAb,CAAmB0L,aAAnB,GAAmC/N,GAAG,CAACiE,UAAJ,GAAiB,MAAjB,GAA0B,SAA7D;IACAuO,YAAY,CAACnQ,KAAb,CAAmB2K,WAAnB,GAAiC,CAACpP,iBAAiB,CAACoC,GAAG,CAACyE,SAAL,CAAlB,GAAoCzE,GAAG,CAACyE,SAAJ,GAAgB,IAApD,GAA2D,KAA5F;;IACA,IAAIzE,GAAG,CAACiE,UAAR,EAAoB;MAChBuO,YAAY,CAACxE,QAAb,GAAwB,IAAxB;MACAwE,YAAY,CAACnQ,KAAb,CAAmB2Q,MAAnB,GAA4B,SAA5B;MACAR,YAAY,CAACnQ,KAAb,CAAmB0B,eAAnB,GAAqC,aAArC;IACH;;IACD,IAAI/D,GAAG,CAACoE,UAAR,EAAoB;MAChBoO,YAAY,CAACkL,QAAb,GAAwB,IAAxB;MACAlL,YAAY,CAACnQ,KAAb,CAAmByL,MAAnB,GAA4B,eAA5B;MACA0E,YAAY,CAACnQ,KAAb,CAAmB2K,WAAnB,GAAiC,CAACpP,iBAAiB,CAACoC,GAAG,CAACyE,SAAL,CAAlB,GAAoCzE,GAAG,CAACyE,SAAJ,GAAgB,IAApD,GAA2D,KAA5F;IACH;;IACD+N,YAAY,CAACmL,QAAb,GAAwB,KAAKte,cAA7B;EACH,CApCD;EAqCA;AACJ;AACA;;;EACIV,YAAY,CAACkB,SAAb,CAAuBqQ,8BAAvB,GAAwD,UAAUlQ,GAAV,EAAewS,YAAf,EAA6BnO,OAA7B,EAAsC;IAC1FmO,YAAY,CAAC9P,IAAb,GAAoB1C,GAAG,CAAC0C,IAAJ,GAAW1C,GAAG,CAAC0C,IAAf,GAAsB,cAAc,KAAKqT,iBAAL,EAAxD;IACAvD,YAAY,CAAC7O,KAAb,GAAqB3D,GAAG,CAAC2D,KAAJ,GAAY3D,GAAG,CAAC2D,KAAhB,GAAwB,EAA7C;IACA6O,YAAY,CAACnQ,KAAb,CAAmBuB,UAAnB,GAAgC5D,GAAG,CAAC4D,UAAJ,GAAiB5D,GAAG,CAAC4D,UAArB,GAAkC,WAAlE;IACA4O,YAAY,CAACnQ,KAAb,CAAmB6B,UAAnB,GAAgClE,GAAG,CAACkE,UAAJ,GAAiBlE,GAAG,CAACkE,UAArB,GAAkC,SAAlE;IACA,IAAIxD,SAAS,GAAG,KAAKd,aAAL,CAAmBe,aAAnB,EAAhB;IACA6R,YAAY,CAACnQ,KAAb,CAAmBC,QAAnB,GAA8BtC,GAAG,CAACsC,QAAJ,GAAgBtC,GAAG,CAACsC,QAAJ,GAAe5B,SAAhB,GAA6B,IAA5C,GAAoD,KAAKA,SAAN,GAAmB,IAApG;;IACA,IAAIV,GAAG,CAAC4F,IAAJ,CAASC,MAAb,EAAqB;MACjB2M,YAAY,CAACnQ,KAAb,CAAmBuY,UAAnB,GAAgC,MAAhC;IACH;;IACD,IAAI5a,GAAG,CAAC4F,IAAJ,CAASE,QAAb,EAAuB;MACnB0M,YAAY,CAACnQ,KAAb,CAAmBwB,SAAnB,GAA+B,QAA/B;IACH;;IACD,IAAI7D,GAAG,CAAC4F,IAAJ,CAASG,WAAb,EAA0B;MACtByM,YAAY,CAACnQ,KAAb,CAAmB0Y,cAAnB,GAAoC,cAApC;IACH;;IACD,IAAI/a,GAAG,CAAC4F,IAAJ,CAASI,WAAb,EAA0B;MACtBwM,YAAY,CAACnQ,KAAb,CAAmB0Y,cAAnB,GAAoC,WAApC;IACH;;IACDvI,YAAY,CAACnQ,KAAb,CAAmByB,KAAnB,GAA2B9D,GAAG,CAAC8D,KAAJ,GAAY9D,GAAG,CAAC8D,KAAhB,GAAwB,OAAnD;IACA0O,YAAY,CAACnQ,KAAb,CAAmB2K,WAAnB,GAAiC,CAACpP,iBAAiB,CAACoC,GAAG,CAACyE,SAAL,CAAlB,GAAoCzE,GAAG,CAACyE,SAAJ,GAAgB,IAApD,GAA2D,KAA5F;IACA,IAAIkL,UAAU,GAAG3P,GAAG,CAAC+D,eAAJ,GAAsB/D,GAAG,CAAC+D,eAA1B,GAA4C,WAA7D;IACA4L,UAAU,GAAG,KAAK6I,sBAAL,CAA4B7I,UAA5B,CAAb;IACA6C,YAAY,CAACnQ,KAAb,CAAmB0B,eAAnB,GAAqCM,OAAO,GAAG,aAAH,GAAmBsL,UAA/D;;IACA,IAAI3P,GAAG,CAACiE,UAAR,EAAoB;MAChBuO,YAAY,CAACxE,QAAb,GAAwB,IAAxB;MACAwE,YAAY,CAACnQ,KAAb,CAAmB2Q,MAAnB,GAA4B,SAA5B;MACAR,YAAY,CAACnQ,KAAb,CAAmB0B,eAAnB,GAAqC,aAArC;IACH;;IACD,IAAI/D,GAAG,CAACoE,UAAR,EAAoB;MAChBoO,YAAY,CAACkL,QAAb,GAAwB,IAAxB;MACAlL,YAAY,CAAC/F,iBAAb,CAA+BpK,KAA/B,CAAqCyL,MAArC,GAA8C,eAA9C;MACA0E,YAAY,CAACnQ,KAAb,CAAmB2K,WAAnB,GAAiChN,GAAG,CAACyE,SAAJ,GAAgBzE,GAAG,CAACyE,SAAJ,GAAgB,IAAhC,GAAuC,KAAxE;IACH;;IACD+N,YAAY,CAACmL,QAAb,GAAwB,KAAKte,cAA7B;EACH,CAnCD;EAoCA;AACJ;AACA;;;EACIV,YAAY,CAACkB,SAAb,CAAuBmB,iBAAvB,GAA2C,UAAU4c,WAAV,EAAuBC,SAAvB,EAAkC;IACzE,IAAIxd,OAAO,GAAG/C,aAAa,CAACsgB,WAAD,CAA3B;IACA,KAAKE,gBAAL,CAAsBzd,OAAtB,EAA+Bwd,SAA/B;IACA,OAAOxd,OAAP;EACH,CAJD;;EAKA1B,YAAY,CAACkB,SAAb,CAAuBie,gBAAvB,GAA0C,UAAUzd,OAAV,EAAmB0d,UAAnB,EAA+B;IACrE,IAAIC,IAAI,GAAGC,MAAM,CAACD,IAAP,CAAYD,UAAZ,CAAX;;IACA,KAAK,IAAIhb,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGib,IAAI,CAACnb,MAAzB,EAAiCE,CAAC,EAAlC,EAAsC;MAClC,IAAIib,IAAI,CAACjb,CAAD,CAAJ,KAAY,OAAhB,EAAyB;QACrB1C,OAAO,CAACmB,YAAR,CAAqBwc,IAAI,CAACjb,CAAD,CAAzB,EAA8Bgb,UAAU,CAACC,IAAI,CAACjb,CAAD,CAAL,CAAxC;MACH,CAFD,MAGK;QACD,KAAKmb,oBAAL,CAA0B7d,OAA1B,EAAmC0d,UAAU,CAACC,IAAI,CAACjb,CAAD,CAAL,CAA7C;MACH;IACJ;EACJ,CAVD;;EAWApE,YAAY,CAACkB,SAAb,CAAuBqe,oBAAvB,GAA8C,UAAUC,GAAV,EAAeJ,UAAf,EAA2B;IACrE,IAAIC,IAAI,GAAGD,UAAU,CAAChW,KAAX,CAAiB,GAAjB,CAAX;;IACA,KAAK,IAAIhF,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGib,IAAI,CAACnb,MAAzB,EAAiCE,CAAC,EAAlC,EAAsC;MAClC,IAAI8a,SAAS,GAAGG,IAAI,CAACjb,CAAD,CAAJ,CAAQgF,KAAR,CAAc,GAAd,CAAhB;;MACA,IAAI8V,SAAS,CAAChb,MAAV,KAAqB,CAAzB,EAA4B;QACxBsb,GAAG,CAAC9b,KAAJ,CAAUwb,SAAS,CAAC,CAAD,CAAT,CAAa3T,IAAb,EAAV,IAAiC2T,SAAS,CAAC,CAAD,CAAT,CAAa3T,IAAb,EAAjC;MACH;IACJ;EACJ,CARD,CArkG0C,CA8kG1C;;;EACAvL,YAAY,CAACkB,SAAb,CAAuBue,cAAvB,GAAwC,UAAUC,KAAV,EAAiBtc,SAAjB,EAA4B;IAChE;IACA,IAAIuc,WAAW,GAAG,KAAK1e,aAAL,CAAmB+L,QAAnB,CAA4B5J,SAA5B,CAAlB,CAFgE,CAGhE;;IACAsc,KAAK,GAAG;MAAEnZ,CAAC,EAAEmZ,KAAK,CAACnZ,CAAN,GAAUmZ,KAAK,CAACnZ,CAAhB,GAAoBmZ,KAAK,CAAC1c,CAA/B;MAAkCwD,CAAC,EAAEkZ,KAAK,CAAClZ,CAAN,GAAUkZ,KAAK,CAAClZ,CAAhB,GAAoBkZ,KAAK,CAACzc,CAA/D;MAAkEwD,KAAK,EAAEiZ,KAAK,CAACjZ,KAAN,GAAciZ,KAAK,CAACjZ,KAApB,GAA4BiZ,KAAK,CAAC3c,KAA3G;MAAkH2D,MAAM,EAAEgZ,KAAK,CAAChZ,MAAN,GAAegZ,KAAK,CAAChZ,MAArB,GAA8BgZ,KAAK,CAAC5c;IAA9J,CAAR,CAJgE,CAKhE;;IACA,IAAIX,MAAJ;;IACA,IAAIwd,WAAJ,EAAiB;MACb,QAAQA,WAAW,CAACha,QAApB;QACI,KAAK,CAAL;UACIxD,MAAM,GAAGud,KAAT;UACA;;QACJ,KAAK,CAAL;UACIvd,MAAM,GAAG;YAAEoE,CAAC,EAAEmZ,KAAK,CAAClZ,CAAN,IAAWkZ,KAAK,CAACjZ,KAAN,GAAc,CAAd,GAAkBiZ,KAAK,CAAChZ,MAAN,GAAe,CAA5C,CAAL;YAAqDF,CAAC,EAAEmZ,WAAW,CAAC5c,KAAZ,GAAoB2c,KAAK,CAACnZ,CAA1B,GAA8BmZ,KAAK,CAAChZ,MAApC,IAA8CgZ,KAAK,CAACjZ,KAAN,GAAc,CAAd,GAAkBiZ,KAAK,CAAChZ,MAAN,GAAe,CAA/E,CAAxD;YAA2ID,KAAK,EAAEiZ,KAAK,CAACjZ,KAAxJ;YAA+JC,MAAM,EAAEgZ,KAAK,CAAChZ;UAA7K,CAAT;UACA;;QACJ,KAAK,CAAL;UACIvE,MAAM,GAAG;YAAEoE,CAAC,EAAEoZ,WAAW,CAAC5c,KAAZ,GAAoB2c,KAAK,CAACnZ,CAA1B,GAA8BmZ,KAAK,CAACjZ,KAAzC;YAAgDD,CAAC,EAAEmZ,WAAW,CAAC7c,MAAZ,GAAqB4c,KAAK,CAAClZ,CAA3B,GAA+BkZ,KAAK,CAAChZ,MAAxF;YAAgGD,KAAK,EAAEiZ,KAAK,CAACjZ,KAA7G;YAAoHC,MAAM,EAAEgZ,KAAK,CAAChZ;UAAlI,CAAT;UACA;;QACJ,KAAK,CAAL;UACIvE,MAAM,GAAG;YAAEoE,CAAC,EAAGoZ,WAAW,CAAC7c,MAAZ,GAAqB4c,KAAK,CAAClZ,CAA3B,GAA+BkZ,KAAK,CAACjZ,KAArC,IAA8CiZ,KAAK,CAACjZ,KAAN,GAAc,CAAd,GAAkBiZ,KAAK,CAAChZ,MAAN,GAAe,CAA/E,CAAN;YAA0FF,CAAC,EAAEkZ,KAAK,CAACnZ,CAAN,IAAWmZ,KAAK,CAACjZ,KAAN,GAAc,CAAd,GAAkBiZ,KAAK,CAAChZ,MAAN,GAAe,CAA5C,CAA7F;YAA6ID,KAAK,EAAEiZ,KAAK,CAAChZ,MAA1J;YAAkKA,MAAM,EAAEgZ,KAAK,CAACjZ;UAAhL,CAAT;UACA;MAZR;IAcH;;IACD,IAAI,CAACtE,MAAL,EAAa;MACTA,MAAM,GAAGud,KAAT;IACH;;IACD,OAAOvd,MAAP;EACH,CA3BD;EA4BA;AACJ;AACA;EACI;;;EACAnC,YAAY,CAACkB,SAAb,CAAuB0e,oBAAvB,GAA8C,YAAY;IACtD,IAAIvX,IAAI,GAAG,KAAKpH,aAAL,CAAmBqH,yBAAnB,CAA6C,eAA7C,CAAX;;IACA,IAAID,IAAJ,EAAU;MACN,IAAIE,cAAc,GAAGC,IAAI,CAACC,KAAL,CAAWJ,IAAX,CAArB;;MACA,KAAK,IAAIjE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGmE,cAAc,CAACrE,MAAnC,EAA2CE,CAAC,EAA5C,EAAgD;QAC5C,IAAIsE,WAAW,GAAGH,cAAc,CAACnE,CAAD,CAAd,CAAkB4D,SAApC;QACAU,WAAW,CAACmX,SAAZ,GAAwBnX,WAAW,CAAC/B,WAApC;;QACA,IAAI+B,WAAW,CAACjD,UAAhB,EAA4B;UACxB,IAAIiD,WAAW,CAACtH,uBAAZ,KAAwC,SAAxC,IAAqDsH,WAAW,CAACtH,uBAAZ,KAAwC,eAA7F,IAAgHsH,WAAW,CAACmX,SAAhI,EAA2I;YACvI,IAAInX,WAAW,CAAC1D,KAAZ,KAAsB,IAAtB,IAA8B0D,WAAW,CAAC1D,KAAZ,KAAsB,EAAxD,EAA4D;cACxD,KAAK/D,aAAL,CAAmB6e,YAAnB,GAAkC,IAAlC;cACA,KAAK7e,aAAL,CAAmB8e,iBAAnB,CAAqCrX,WAAW,CAAC3E,IAAjD,IAAyD2E,WAAW,CAAC1D,KAArE;YACH,CAHD,MAIK;cACD,OAAQ,KAAK/D,aAAL,CAAmB8e,iBAAnB,CAAqCrX,WAAW,CAAC3E,IAAjD,CAAR;YACH;UACJ,CARD,MASK,IAAI2E,WAAW,CAACtH,uBAAZ,KAAwC,aAA5C,EAA2D;YAC5D,IAAIsH,WAAW,CAACnB,eAAhB,EAAiC;cAC7B,IAAIrB,UAAU,GAAG,KAAjB;;cACA,KAAK,IAAIuH,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG/E,WAAW,CAACnB,eAAZ,CAA4BrD,MAAhD,EAAwDuJ,CAAC,EAAzD,EAA6D;gBACzD,IAAI/E,WAAW,CAACnB,eAAZ,CAA4BkG,CAA5B,EAA+BvH,UAAnC,EAA+C;kBAC3CA,UAAU,GAAG,IAAb;kBACA;gBACH;cACJ;;cACD,IAAI,CAACA,UAAL,EAAiB;gBACb,KAAKjF,aAAL,CAAmB6e,YAAnB,GAAkC,IAAlC;gBACA,KAAK7e,aAAL,CAAmB8e,iBAAnB,CAAqCrX,WAAW,CAAC3E,IAAjD,IAAyDmC,UAAzD;cACH,CAHD,MAIK;gBACD,OAAQ,KAAKjF,aAAL,CAAmB8e,iBAAnB,CAAqCrX,WAAW,CAAC3E,IAAjD,CAAR;cACH;YACJ;UACJ,CAjBI,MAkBA,IAAI2E,WAAW,CAACtH,uBAAZ,KAAwC,UAA5C,EAAwD;YACzD,IAAIsH,WAAW,CAACzC,SAAZ,KAA0B,KAA9B,EAAqC;cACjC,KAAKhF,aAAL,CAAmB6e,YAAnB,GAAkC,IAAlC;cACA,KAAK7e,aAAL,CAAmB8e,iBAAnB,CAAqCrX,WAAW,CAAC3E,IAAjD,IAAyD2E,WAAW,CAACzC,SAArE;YACH,CAHD,MAIK;cACD,OAAQ,KAAKhF,aAAL,CAAmB8e,iBAAnB,CAAqCrX,WAAW,CAAC3E,IAAjD,CAAR;YACH;UACJ,CARI,MASA,IAAI2E,WAAW,CAACtH,uBAAZ,KAAwC,cAAxC,IAA0DsH,WAAW,CAACtH,uBAAZ,KAAwC,SAAtG,EAAiH;YAClH,IAAInC,iBAAiB,CAACyJ,WAAW,CAACpB,aAAb,CAAjB,IAAgDoB,WAAW,CAACpB,aAAZ,CAA0BpD,MAA1B,KAAqC,CAAzF,EAA4F;cACxF,KAAKjD,aAAL,CAAmB6e,YAAnB,GAAkC,IAAlC;cACA,KAAK7e,aAAL,CAAmB8e,iBAAnB,CAAqCrX,WAAW,CAAC3E,IAAjD,IAAyD2E,WAAW,CAACpB,aAArE;YACH,CAHD,MAIK;cACD,OAAQ,KAAKrG,aAAL,CAAmB8e,iBAAnB,CAAqCrX,WAAW,CAAC3E,IAAjD,CAAR;YACH;UACJ,CARI,MASA,IAAI2E,WAAW,CAACtH,uBAAZ,KAAwC,gBAAxC,IAA4DsH,WAAW,CAACtH,uBAAZ,KAAwC,cAAxG,EAAwH;YACzH,IAAIsH,WAAW,CAAC1D,KAAZ,KAAsB,IAAtB,IAA8B0D,WAAW,CAAC1D,KAAZ,KAAsB,EAAxD,EAA4D;cACxD,KAAK/D,aAAL,CAAmB6e,YAAnB,GAAkC,IAAlC;cACA,KAAK7e,aAAL,CAAmB8e,iBAAnB,CAAqCrX,WAAW,CAAC3E,IAAjD,IAAyD2E,WAAW,CAAC1D,KAArE;YACH,CAHD,MAIK;cACD,OAAQ,KAAK/D,aAAL,CAAmB8e,iBAAnB,CAAqCrX,WAAW,CAAC3E,IAAjD,CAAR;YACH;UACJ;QACJ;MACJ;;MACD,OAAQyE,IAAI,CAAC+V,SAAL,CAAehW,cAAf,CAAR;IACH,CA/DD,MAgEK;MACD,OAAO,IAAP;IACH;EACJ,CArED;EAsEA;AACJ;AACA;EACI;;;EACAvI,YAAY,CAACkB,SAAb,CAAuB8e,qBAAvB,GAA+C,UAAUC,OAAV,EAAmBC,SAAnB,EAA8BC,UAA9B,EAA0Cna,UAA1C,EAAsDwJ,WAAtD,EAAmE;IAC9G,IAAI9C,MAAM,GAAG,KAAKzL,aAAL,CAAmB2L,UAAnB,CAA8B,uBAAuB5G,UAArD,CAAb;;IACA,IAAI0G,MAAJ,EAAY;MACR,KAAK0T,sBAAL,CAA4B1T,MAA5B,EAAoCwT,SAApC,EAA+CC,UAA/C,EAA2Dna,UAA3D;MACA,OAAO0G,MAAP;IACH,CAHD,MAIK;MACD;MACA,IAAI2T,gBAAgB,GAAG1hB,aAAa,CAAC,QAAD,EAAW;QAAEgD,EAAE,EAAE,KAAKX,SAAL,CAAeU,OAAf,CAAuBC,EAAvB,GAA4B,oBAA5B,GAAmDqE,UAAzD;QAAqEpC,SAAS,EAAE;MAAhF,CAAX,CAApC;MACA,KAAKwc,sBAAL,CAA4BC,gBAA5B,EAA8CH,SAA9C,EAAyDC,UAAzD,EAAqEna,UAArE;MACAia,OAAO,CAAC3d,WAAR,CAAoB+d,gBAApB;MACA,OAAOA,gBAAP;IACH;EACJ,CAbD;EAcA;AACJ;AACA;;;EACIrgB,YAAY,CAACkB,SAAb,CAAuBof,iBAAvB,GAA2C,UAAUvd,KAAV,EAAiBD,MAAjB,EAAyBkD,UAAzB,EAAqC;IAC5E,IAAI0G,MAAM,GAAG,KAAKzL,aAAL,CAAmB2L,UAAnB,CAA8B,uBAAuB5G,UAArD,CAAb;;IACA,IAAI0G,MAAJ,EAAY;MACRA,MAAM,CAAChJ,KAAP,CAAaX,KAAb,GAAqBA,KAAK,GAAG,IAA7B;MACA2J,MAAM,CAAChJ,KAAP,CAAaZ,MAAb,GAAsBA,MAAM,GAAG,IAA/B;MACA,KAAK7B,aAAL,CAAmBsf,kBAAnB,CAAsC7T,MAAtC,EAA8C1G,UAA9C;IACH;EACJ,CAPD;EAQA;AACJ;AACA;;;EACIhG,YAAY,CAACkB,SAAb,CAAuBsf,kBAAvB,GAA4C,UAAUlf,KAAV,EAAiB;IACzD,IAAImf,WAAW,GAAGnf,KAAK,CAAC8U,MAAxB;;IACA,IAAIqK,WAAW,CAACpK,SAAZ,CAAsBK,QAAtB,CAA+B,gBAA/B,CAAJ,EAAsD;MAClD+J,WAAW,GAAGA,WAAW,CAACjK,aAA1B;IACH,CAFD,MAGK,IAAIiK,WAAW,CAACjK,aAAZ,CAA0BH,SAA1B,CAAoCK,QAApC,CAA6C,gBAA7C,CAAJ,EAAoE;MACrE+J,WAAW,GAAGA,WAAW,CAACjK,aAAZ,CAA0BA,aAA1B,CAAwCA,aAAxC,CAAsDA,aAApE;IACH,CAPwD,CAQzD;;;IACA,IAAIkK,UAAU,GAAGD,WAAW,CAAC9e,EAAZ,CAAeyH,KAAf,CAAqB,QAArB,EAA+B,CAA/B,KAAqCqX,WAAW,CAAC9e,EAAZ,CAAeyH,KAAf,CAAqB,aAArB,EAAoC,CAApC,CAArC,IAA+EqX,WAAW,CAAC9e,EAAZ,CAAeyH,KAAf,CAAqB,oBAArB,EAA2C,CAA3C,CAA/E,IAAgIqX,WAAW,CAAC9e,EAAZ,CAAeyH,KAAf,CAAqB,WAArB,EAAkC,CAAlC,CAAjJ;;IACA,IAAIO,KAAK,CAAC+W,UAAD,CAAT,EAAuB;MACnBpf,KAAK,GAAG,KAAKL,aAAL,CAAmB0f,eAA3B;;MACA,IAAIrf,KAAJ,EAAW;QACPmf,WAAW,GAAGnf,KAAK,CAAC8U,MAApB,CADO,CAEP;;QACAsK,UAAU,GAAGD,WAAW,CAAC9e,EAAZ,CAAeyH,KAAf,CAAqB,QAArB,EAA+B,CAA/B,KAAqCqX,WAAW,CAAC9e,EAAZ,CAAeyH,KAAf,CAAqB,aAArB,EAAoC,CAApC,CAArC,IAA+EqX,WAAW,CAAC9e,EAAZ,CAAeyH,KAAf,CAAqB,oBAArB,EAA2C,CAA3C,CAA/E,IAAgIqX,WAAW,CAAC9e,EAAZ,CAAeyH,KAAf,CAAqB,WAArB,EAAkC,CAAlC,CAA7I;MACH;IACJ,CAjBwD,CAkBzD;;;IACA,OAAO9E,QAAQ,CAACoc,UAAD,CAAf;EACH,CApBD;;EAqBA1gB,YAAY,CAACkB,SAAb,CAAuB0f,6BAAvB,GAAuD,UAAUxa,aAAV,EAAyB;IAC5E,QAAQA,aAAR;MACI,KAAK,SAAL;QACI,OAAO,KAAKpF,SAAL,CAAe6f,SAAf,CAAyBC,WAAzB,CAAqC,SAArC,CAAP;;MACJ,KAAK,eAAL;QACI,OAAO,KAAK9f,SAAL,CAAe6f,SAAf,CAAyBC,WAAzB,CAAqC,UAArC,CAAP;;MACJ,KAAK,UAAL;QACI,OAAO,KAAK9f,SAAL,CAAe6f,SAAf,CAAyBC,WAAzB,CAAqC,WAArC,CAAP;;MACJ,KAAK,aAAL;QACI,OAAO,KAAK9f,SAAL,CAAe6f,SAAf,CAAyBC,WAAzB,CAAqC,cAArC,CAAP;;MACJ,KAAK,cAAL;QACI,OAAO,KAAK9f,SAAL,CAAe6f,SAAf,CAAyBC,WAAzB,CAAqC,UAArC,CAAP;;MACJ,KAAK,SAAL;QACI,OAAO,KAAK9f,SAAL,CAAe6f,SAAf,CAAyBC,WAAzB,CAAqC,UAArC,CAAP;;MACJ,KAAK,cAAL;QACI,OAAO,KAAK9f,SAAL,CAAe6f,SAAf,CAAyBC,WAAzB,CAAqC,SAArC,CAAP;;MACJ,KAAK,gBAAL;QACI,OAAO,KAAK9f,SAAL,CAAe6f,SAAf,CAAyBC,WAAzB,CAAqC,WAArC,CAAP;IAhBR;EAkBH,CAnBD;EAoBA;AACJ;AACA;;;EACI9gB,YAAY,CAACkB,SAAb,CAAuB6f,sBAAvB,GAAgD,YAAY;IACxD,IAAIC,KAAK,GAAG,IAAZ;;IACA,IAAIC,SAAS,GAAG,KAAKjgB,SAAL,CAAeU,OAAf,CAAuBC,EAAvC;IACA,IAAIuf,oBAAJ,CAHwD,CAIxD;;IACA,IAAIC,SAAS,GAAGxiB,aAAa,CAAC,KAAD,EAAQ;MAAEgD,EAAE,EAAEsf,SAAS,GAAG,oBAAlB;MAAwCrd,SAAS,EAAE;IAAnD,CAAR,CAA7B;IACA,IAAIwd,aAAa,GAAG,KAAKC,mBAAL,EAApB;IACA,KAAKpgB,aAAL,CAAmBqgB,aAAnB,CAAiChf,WAAjC,CAA6C6e,SAA7C;IACA,IAAI,KAAKngB,SAAL,CAAe8b,aAAf,CAA6BE,UAA7B,CAAwC,CAAxC,EAA2C5b,uBAA3C,KAAuE,cAAvE,IAAyF,KAAKJ,SAAL,CAAe8b,aAAf,CAA6BE,UAA7B,CAAwC,CAAxC,EAA2C5b,uBAA3C,KAAuE,SAApK,EACI8f,oBAAoB,GAAG,OAAvB,CADJ,KAGIA,oBAAoB,GAAG,OAAvB;IACJ,KAAKK,gBAAL,GAAwB,IAAIriB,MAAJ,CAAW;MAC/BsiB,aAAa,EAAE,IADgB;MACVC,aAAa,EAAE,KADL;MACYC,OAAO,EAAE,IADrB;MAC2BC,MAAM,EAAE,mDAAmD,KAAKf,6BAAL,CAAmC,KAAK5f,SAAL,CAAe8b,aAAf,CAA6BE,UAA7B,CAAwC,CAAxC,EAA2C5b,uBAA9E,CAAnD,GAA4J,GAA5J,GAAkK,KAAKJ,SAAL,CAAe6f,SAAf,CAAyBC,WAAzB,CAAqC,YAArC,CAAlK,GAAuN,QAD1P;MAE/Bc,SAAS,EAAEV,oBAFoB;MAEE9K,MAAM,EAAE,KAAKpV,SAAL,CAAeU,OAFzB;MAEkCmgB,OAAO,EAAET,aAF3C;MAE0DU,aAAa,EAAE,IAFzE;MAE+EC,KAAK,EAAE,YAAY;QAC7Hf,KAAK,CAACgB,uBAAN;MACH;IAJ8B,CAAX,CAAxB;;IAMA,IAAI,CAACtjB,OAAO,CAACujB,QAAT,IAAqB,KAAKjhB,SAAL,CAAekhB,iBAAxC,EAA2D;MACvD,KAAKX,gBAAL,CAAsBY,OAAtB,GAAgC,CAC5B;MACA;QAAEC,WAAW,EAAE;UAAEP,OAAO,EAAE,KAAK7gB,SAAL,CAAe6f,SAAf,CAAyBC,WAAzB,CAAqC,QAArC;QAAX,CAAf;QAA4EuB,KAAK,EAAE,KAAKC,eAAL,CAAqB1P,IAArB,CAA0B,IAA1B;MAAnF,CAF4B,EAG5B;QAAEwP,WAAW,EAAE;UAAEP,OAAO,EAAE,KAAK7gB,SAAL,CAAe6f,SAAf,CAAyBC,WAAzB,CAAqC,IAArC,CAAX;UAAuDyB,SAAS,EAAE;QAAlE,CAAf;QAAyFF,KAAK,EAAE,KAAKG,WAAL,CAAiB5P,IAAjB,CAAsB,IAAtB;MAAhG,CAH4B,CAAhC;IAKH,CAND,MAOK;MACD,KAAK2O,gBAAL,CAAsBY,OAAtB,GAAgC,CAC5B;QAAEC,WAAW,EAAE;UAAEP,OAAO,EAAE,KAAK7gB,SAAL,CAAe6f,SAAf,CAAyBC,WAAzB,CAAqC,QAArC;QAAX,CAAf;QAA4EuB,KAAK,EAAE,KAAKC,eAAL,CAAqB1P,IAArB,CAA0B,IAA1B;MAAnF,CAD4B,EAE5B;MACA;QAAEwP,WAAW,EAAE;UAAEP,OAAO,EAAE,KAAK7gB,SAAL,CAAe6f,SAAf,CAAyBC,WAAzB,CAAqC,IAArC,CAAX;UAAuDyB,SAAS,EAAE;QAAlE,CAAf;QAAyFF,KAAK,EAAE,KAAKG,WAAL,CAAiB5P,IAAjB,CAAsB,IAAtB;MAAhG,CAH4B,CAAhC;IAKH;;IACD,IAAI,KAAK5R,SAAL,CAAeyhB,SAAnB,EAA8B;MAC1B,KAAKlB,gBAAL,CAAsBkB,SAAtB,GAAkC,IAAlC;IACH;;IACD,IAAIC,qBAAqB,GAAG/jB,aAAa,CAAC,KAAD,CAAzC;IACA+jB,qBAAqB,CAAC9e,SAAtB,GAAkC,gCAAlC;IACAud,SAAS,CAAC7e,WAAV,CAAsBogB,qBAAtB;IACA,KAAKnB,gBAAL,CAAsBoB,QAAtB,CAA+BxB,SAA/B;EACH,CAvCD;;EAwCAnhB,YAAY,CAACkB,SAAb,CAAuBshB,WAAvB,GAAqC,UAAUI,IAAV,EAAgB;IACjD,IAAIC,YAAY,GAAG,KAAK7hB,SAAL,CAAe8b,aAAf,CAA6BE,UAA7B,CAAwC,CAAxC,CAAnB;IACA,IAAI8F,UAAU,GAAG/iB,WAAW,CAAC8iB,YAAD,CAA5B;;IACA,IAAIA,YAAJ,EAAkB;MACd,QAAQA,YAAY,CAACzhB,uBAArB;QACI,KAAK,SAAL;QACA,KAAK,eAAL;UACI,IAAI,KAAK2hB,kBAAL,IAA2B,KAAKA,kBAAL,CAAwBnH,OAAnD,IAA8DiH,YAAY,CAACzhB,uBAAb,KAAyC,SAAvG,IAAoH,KAAKhB,6BAA7H,EAA4J;YACxJ,KAAK4iB,mBAAL,CAAyBH,YAAzB;UACH,CAFD,MAGK,IAAIA,YAAY,CAACzhB,uBAAb,KAAyC,SAAzC,IAAsD,KAAKhB,6BAA/D,EAA8F;YAC/F,KAAK6iB,aAAL,CAAmBJ,YAAnB;UACH;;UACD,IAAIA,YAAY,CAACzhB,uBAAb,KAAyC,eAA7C,EAA8D;YAC1D,KAAK8hB,mCAAL,CAAyCL,YAAzC;UACH;;UACD,IAAIA,YAAY,CAACzhB,uBAAb,KAAyC,SAA7C,EAAwD;YACpD,IAAI+hB,iBAAiB,GAAG,KAAKC,gBAAL,CAAsBP,YAAtB,CAAxB;;YACA,IAAIM,iBAAiB,IAAIA,iBAAiB,CAACjf,MAAlB,GAA2B,CAApD,EAAuD;cACnD,KAAK,IAAIE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG+e,iBAAiB,CAACjf,MAAtC,EAA8CE,CAAC,EAA/C,EAAmD;gBAC/C,IAAIif,IAAI,GAAGF,iBAAiB,CAAC/e,CAAD,CAA5B;;gBACA,IAAIye,YAAY,CAAClc,WAAjB,EAA8B;kBAC1B,KAAKqc,mBAAL,CAAyBK,IAAzB;gBACH,CAFD,MAGK;kBACD,KAAKJ,aAAL,CAAmBI,IAAnB;gBACH;;gBACD7hB,QAAQ,CAACC,cAAT,CAAwB4hB,IAAI,CAAC1hB,EAAL,GAAU,uBAAlC,IAA6D,KAAKuhB,mCAAL,CAAyCG,IAAzC,CAA7D,GAA8G,KAAKC,sCAAL,CAA4CD,IAA5C,CAA9G;cACH;YACJ;UACJ;;UACD,KAAKjjB,6BAAL,GAAqC,KAArC;UACA,IAAIuC,KAAK,GAAG/D,2BAA2B,CAACikB,YAAY,CAACtV,OAAb,CAAqBC,QAArB,CAA8B,CAA9B,CAAD,CAA3B,CAA8DhJ,OAA1E;UACA,KAAKM,uCAAL,CAA6CnC,KAA7C,EAAoDkgB,YAAY,CAACtV,OAAb,CAAqBC,QAArB,CAA8B,CAA9B,CAApD,EAAsFqV,YAAY,CAACzhB,uBAAnG,EAA4HyhB,YAA5H;UACA;;QACJ,KAAK,UAAL;UACI,KAAKpF,oCAAL,CAA0CoF,YAA1C;UACA,IAAIU,MAAM,GAAG3kB,2BAA2B,CAACikB,YAAY,CAACtV,OAAb,CAAqBC,QAArB,CAA8B,CAA9B,CAAD,CAA3B,CAA8DhJ,OAA3E;UACA,KAAKM,uCAAL,CAA6Cye,MAA7C,EAAqDV,YAAY,CAACtV,OAAb,CAAqBC,QAArB,CAA8B,CAA9B,CAArD,EAAuFqV,YAAY,CAACzhB,uBAApG,EAA6HyhB,YAA7H;UACA;;QACJ,KAAK,aAAL;UACI,KAAKrF,mCAAL,CAAyCqF,YAAzC;UACA,IAAIW,MAAM,GAAG5kB,2BAA2B,CAACikB,YAAY,CAACtV,OAAb,CAAqBC,QAArB,CAA8B,CAA9B,CAAD,CAA3B,CAA8DhJ,OAA3E;UACA,KAAKM,uCAAL,CAA6C0e,MAA7C,EAAqDX,YAAY,CAACtV,OAAb,CAAqBC,QAArB,CAA8B,CAA9B,CAArD,EAAuFqV,YAAY,CAACzhB,uBAApG,EAA6HyhB,YAA7H;UACA;;QACJ,KAAK,gBAAL;QACA,KAAK,cAAL;UACI,KAAKY,gCAAL,CAAsCZ,YAAtC;UACA,IAAIa,MAAM,GAAG9kB,2BAA2B,CAACikB,YAAY,CAACtV,OAAb,CAAqBC,QAArB,CAA8B,CAA9B,CAAD,CAA3B,CAA8DhJ,OAA3E;UACA,KAAKM,uCAAL,CAA6C4e,MAA7C,EAAqDb,YAAY,CAACtV,OAAb,CAAqBC,QAArB,CAA8B,CAA9B,CAArD,EAAuFqV,YAAY,CAACzhB,uBAApG,EAA6HyhB,YAA7H;UACA;;QACJ,KAAK,cAAL;UACI,KAAKc,oCAAL,CAA0Cd,YAA1C;UACA,IAAIe,MAAM,GAAGhlB,2BAA2B,CAACikB,YAAY,CAACtV,OAAb,CAAqBC,QAArB,CAA8B,CAA9B,CAAD,CAA3B,CAA8DhJ,OAA3E;UACA,KAAKM,uCAAL,CAA6C8e,MAA7C,EAAqDf,YAAY,CAACtV,OAAb,CAAqBC,QAArB,CAA8B,CAA9B,CAArD,EAAuFqV,YAAY,CAACzhB,uBAApG,EAA6HyhB,YAA7H;UACA;;QACJ,KAAK,SAAL;UACI,KAAKgB,mCAAL,CAAyChB,YAAzC;UACA,IAAIiB,MAAM,GAAGllB,2BAA2B,CAACikB,YAAY,CAACtV,OAAb,CAAqBC,QAArB,CAA8B,CAA9B,CAAD,CAA3B,CAA8DhJ,OAA3E;UACA,KAAKM,uCAAL,CAA6Cgf,MAA7C,EAAqDjB,YAAY,CAACtV,OAAb,CAAqBC,QAArB,CAA8B,CAA9B,CAArD,EAAuFqV,YAAY,CAACzhB,uBAApG,EAA6HyhB,YAA7H;UACA;MAxDR;;MA0DA,KAAK7M,0BAAL,CAAgC6M,YAAhC;MACA,IAAIkB,gBAAgB,GAAGhkB,WAAW,CAAC8iB,YAAD,CAAlC;;MACA,IAAI,KAAK7hB,SAAL,CAAekV,UAAnB,EAA+B;QAC3B,KAAKlV,SAAL,CAAekV,UAAf,CAA0BC,SAA1B,CAAoC,KAAKlV,aAAL,CAAmBkW,iBAAvD,EAA0E,IAA1E,EAAgF0L,YAAhF,EAA8F,gCAA9F,EAAgI,EAAhI,EAAoIC,UAApI,EAAgJiB,gBAAhJ;MACH;IACJ;;IACD,KAAKxC,gBAAL,CAAsByC,IAAtB;EACH,CArED;EAsEA;AACJ;AACA;;;EACIhkB,YAAY,CAACkB,SAAb,CAAuBoiB,sCAAvB,GAAgE,UAAUD,IAAV,EAAgB;IAC5E,IAAIzb,mBAAmB,GAAG,KAAK5G,SAAL,CAAe2W,oBAAzC;;IACA,KAAK,IAAIvT,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGwD,mBAAmB,CAAC1D,MAAxC,EAAgDE,CAAC,EAAjD,EAAqD;MACjD,IAAIsE,WAAW,GAAGd,mBAAmB,CAACxD,CAAD,CAArC;;MACA,IAAIsE,WAAW,CAAC/G,EAAZ,KAAmB0hB,IAAI,CAAC1hB,EAAxB,IAA8B+G,WAAW,CAAC3E,IAAZ,KAAqBsf,IAAI,CAACtf,IAA5D,EAAkE;QAC9D,KAAKkgB,aAAL,IAAsB,KAAKA,aAAL,CAAmBjf,KAAzC,GAAiD0D,WAAW,CAAC3E,IAAZ,GAAmB,KAAKkgB,aAAL,CAAmBjf,KAAvF,GAA+F,IAA/F;QACA,KAAKkf,cAAL,IAAwBb,IAAI,CAACre,KAAL,KAAe,KAAKkf,cAAL,CAAoBlf,KAA3D,GAAoE0D,WAAW,CAAC1D,KAAZ,GAAoB,KAAKkf,cAAL,CAAoBlf,KAA5G,GAAoH,IAApH;QACA,KAAKmf,cAAL,IAAwBd,IAAI,CAAChe,SAAL,KAAmB,KAAK8e,cAAhD,GAAkEzb,WAAW,CAACrD,SAAZ,GAAwB,KAAK8e,cAA/F,GAAgH,IAAhH;QACA,KAAKC,iBAAL,IAA2Bf,IAAI,CAAC3d,OAAL,KAAiB,KAAK0e,iBAAL,CAAuBxI,OAAnE,GAA8ElT,WAAW,CAAChD,OAAZ,GAAsB,KAAK0e,iBAAL,CAAuBxI,OAA3H,GAAqI,IAArI;QACA,KAAKyI,gBAAL,IAA0BhB,IAAI,CAACzd,OAAL,KAAiB,KAAKye,gBAAL,CAAsBrf,KAAjE,GAA0E0D,WAAW,CAAC9C,OAAZ,GAAsB,KAAKye,gBAAL,CAAsBrf,KAAtH,GAA8H,IAA9H;QACA,KAAKsf,mBAAL,IAA6BjB,IAAI,CAAC9d,UAAL,KAAoB,KAAK+e,mBAAL,CAAyBtf,KAA1E,GAAmF0D,WAAW,CAACnD,UAAZ,GAAyB,KAAK+e,mBAAjH,GAAuI,IAAvI;QACA,KAAKC,mBAAL,IAA4B,KAAKA,mBAAL,CAAyBvf,KAArD,GAA6D0D,WAAW,CAACzD,UAAZ,GAAyB,KAAKsf,mBAAL,CAAyBvf,KAA/G,GAAuH,IAAvH;QACA,KAAKwf,iBAAL,IAA0B,KAAKA,iBAAL,CAAuBxf,KAAjD,GAAyD0D,WAAW,CAAC/E,QAAZ,GAAuBW,QAAQ,CAAC,KAAKkgB,iBAAL,CAAuBxf,KAAvB,CAA6B6F,QAA7B,EAAD,CAAxF,GAAoI,IAApI;QACA,KAAK4Z,cAAL,IAAwBpB,IAAI,CAACle,KAAL,KAAe,KAAKsf,cAA5C,GAA8D/b,WAAW,CAACvD,KAAZ,GAAoB,KAAKsf,cAAvF,GAAwG,IAAxG;QACA,KAAKC,oBAAL,IAA8BrB,IAAI,CAACje,eAAL,KAAyB,KAAKsf,oBAA5D,GAAoFhc,WAAW,CAACtD,eAAZ,GAA8B,KAAKsf,oBAAvH,GAA8I,IAA9I;QACA,KAAKC,gBAAL,IAA0BtB,IAAI,CAACxd,WAAL,KAAqB,KAAK8e,gBAApD,GAAwEjc,WAAW,CAAC7C,WAAZ,GAA0B,KAAK8e,gBAAvG,GAA0H,IAA1H;QACA,KAAKC,oBAAL,IAA6BvB,IAAI,CAACvd,SAAL,KAAmBxB,QAAQ,CAAC,KAAKsgB,oBAAN,CAAxD,GAAsFlc,WAAW,CAAC5C,SAAZ,GAAwBxB,QAAQ,CAAC,KAAKsgB,oBAAN,CAAtH,GAAoJ,IAApJ;QACA,KAAKC,iBAAL,IAA2BxB,IAAI,CAAC/d,UAAL,KAAoB,KAAKuf,iBAAL,CAAuBjJ,OAAtE,GAAiFlT,WAAW,CAACwO,UAAZ,GAAyB,KAAK2N,iBAAL,CAAuBjJ,OAAjI,GAA2I,IAA3I;QACA,KAAKkJ,iBAAL,IAA2BzB,IAAI,CAAC5d,UAAL,KAAoB,KAAKqf,iBAAL,CAAuBlJ,OAAtE,GAAiFlT,WAAW,CAACjD,UAAZ,GAAyB,KAAKqf,iBAAL,CAAuBlJ,OAAjI,GAA2I,IAA3I;QACAxX,CAAC,KAAK,CAAN,IAAWA,CAAC,GAAG,KAAKpD,SAAL,CAAe4G,mBAAf,CAAmC1D,MAAlD,GAA2DwE,WAAW,CAACxD,SAAZ,GAAwB,KAAKlE,SAAL,CAAe4G,mBAAf,CAAmCxD,CAAC,GAAG,CAAvC,EAA0Cc,SAA7H,GAAyIwD,WAAW,CAACxD,SAAZ,GAAwB,KAAKlE,SAAL,CAAe4G,mBAAf,CAAmCxD,CAAC,GAAG,CAAvC,EAA0Cc,SAA3M;QACA,IAAIxE,cAAc,GAAG,KAAKM,SAAL,CAAe2W,oBAAf,CAAoCC,SAApC,CAA8C,UAAUC,EAAV,EAAc;UAAE,OAAOA,EAAE,CAAClW,EAAH,KAAU0hB,IAAI,CAAC1hB,EAAtB;QAA2B,CAAzF,CAArB;QACA,KAAKX,SAAL,CAAe2W,oBAAf,CAAoCjX,cAApC,IAAsDgI,WAAtD;MACH;IACJ;EACJ,CAxBD;;EAyBA1I,YAAY,CAACkB,SAAb,CAAuBkiB,gBAAvB,GAA0C,UAAUP,YAAV,EAAwB;IAC9D,IAAIkC,uBAAuB,GAAG,EAA9B;;IACA,KAAK,IAAI3gB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKpD,SAAL,CAAe4G,mBAAf,CAAmC1D,MAAvD,EAA+DE,CAAC,EAAhE,EAAoE;MAChE,IAAIif,IAAI,GAAG,KAAKriB,SAAL,CAAe4G,mBAAf,CAAmCxD,CAAnC,CAAX;;MACA,IAAIif,IAAI,CAACtf,IAAL,KAAc8e,YAAY,CAAC9e,IAA3B,IAAmCsf,IAAI,CAACjiB,uBAAL,KAAiC,SAAxE,EAAmF;QAC/E2jB,uBAAuB,CAACtd,IAAxB,CAA6B4b,IAA7B;MACH;IACJ;;IACD,OAAO0B,uBAAP;EACH,CATD;;EAUA/kB,YAAY,CAACkB,SAAb,CAAuB8hB,mBAAvB,GAA6C,UAAUH,YAAV,EAAwBmC,UAAxB,EAAoC;IAC7E,IAAIA,UAAJ,EAAgB;MACZ,KAAKC,wBAAL,CAA8BpC,YAA9B,EAA4C,sBAA5C;IACH,CAFD,MAGK;MACD,KAAKqC,mBAAL,CAAyBrC,YAAzB,EAAuC,sBAAvC,EAA+D,IAA/D;IACH;EACJ,CAPD;;EAQA7iB,YAAY,CAACkB,SAAb,CAAuB+hB,aAAvB,GAAuC,UAAUJ,YAAV,EAAwBmC,UAAxB,EAAoC;IACvE,IAAIA,UAAJ,EAAgB;MACZ,KAAKC,wBAAL,CAA8BpC,YAA9B,EAA4C,yBAA5C;IACH,CAFD,MAGK;MACD,KAAKqC,mBAAL,CAAyBrC,YAAzB,EAAuC,yBAAvC,EAAkE,KAAlE;IACH;EACJ,CAPD;;EAQA7iB,YAAY,CAACkB,SAAb,CAAuBgkB,mBAAvB,GAA6C,UAAUrC,YAAV,EAAwBjf,SAAxB,EAAmC+C,WAAnC,EAAgD;IACzF,IAAIwe,cAAc,GAAGtC,YAAY,CAACtV,OAAb,CAAqBC,QAArB,CAA8B,CAA9B,CAArB;IACAqV,YAAY,CAAClc,WAAb,GAA2BA,WAA3B;;IACA,IAAInF,QAAQ,CAACC,cAAT,CAAwB0jB,cAAc,CAACxjB,EAAf,GAAoB,eAA5C,CAAJ,EAAkE;MAC9D,IAAIM,WAAW,GAAGT,QAAQ,CAACC,cAAT,CAAwB0jB,cAAc,CAACxjB,EAAf,GAAoB,eAA5C,EAA6D6L,QAA7D,CAAsE,CAAtE,CAAlB;MACA,IAAI4X,UAAU,GAAGnjB,WAAW,CAACuL,QAAZ,CAAqB,CAArB,EAAwB7L,EAAzC;MACAH,QAAQ,CAACC,cAAT,CAAwBQ,WAAW,CAACuL,QAAZ,CAAqB,CAArB,EAAwB7L,EAAhD,EAAoD2U,MAApD;;MACA,IAAI1S,SAAS,CAACkH,OAAV,CAAkB,yBAAlB,MAAiD,CAAC,CAAtD,EAAyD;QACrD,IAAI+I,YAAY,GAAG,KAAKK,oBAAL,CAA0BkR,UAA1B,CAAnB;QACAD,cAAc,CAAC3hB,QAAf,GAA0BvB,WAAW,CAACK,WAAZ,CAAwBuR,YAAxB,CAA1B;MACH,CAHD,MAIK;QACD,IAAIC,QAAQ,GAAG,KAAKC,qBAAL,CAA2BqR,UAA3B,CAAf;QACAD,cAAc,CAAC3hB,QAAf,GAA0BvB,WAAW,CAACK,WAAZ,CAAwBwR,QAAxB,CAA1B;MACH;;MACD,IAAI6B,KAAK,GAAG,KAAK6F,iBAAL,CAAuBqH,YAAY,CAAClhB,EAAb,CAAgByH,KAAhB,CAAsB,GAAtB,EAA2B,CAA3B,CAAvB,CAAZ;MACA,KAAKnI,aAAL,CAAmB2G,mBAAnB,CAAuC+N,KAAvC,EAA8C3N,SAA9C,CAAwDrB,WAAxD,GAAsEkc,YAAY,CAAClc,WAAnF;MACA,KAAK3F,SAAL,CAAesM,SAAf,CAAyBuV,YAAY,CAAClhB,EAAb,CAAgByH,KAAhB,CAAsB,GAAtB,EAA2B,CAA3B,CAAzB,EAAwDzC,WAAxD,GAAsEkc,YAAY,CAAClc,WAAnF;IACH;EACJ,CAnBD;;EAoBA3G,YAAY,CAACkB,SAAb,CAAuB+jB,wBAAvB,GAAkD,UAAUpC,YAAV,EAAwBjf,SAAxB,EAAmC;IACjF,IAAIuhB,cAAc,GAAG3jB,QAAQ,CAACC,cAAT,CAAwBohB,YAAY,CAAClhB,EAAb,GAAkB,uBAA1C,CAArB;;IACA,IAAIwjB,cAAJ,EAAoB;MAChB,IAAIE,eAAe,GAAGF,cAAc,CAACrX,iBAAf,CAAiCA,iBAAvD;MACA,IAAIwX,UAAU,GAAGD,eAAe,CAAC1jB,EAAjC;MACA0jB,eAAe,CAAC/O,MAAhB;;MACA,IAAI1S,SAAS,CAACkH,OAAV,CAAkB,yBAAlB,MAAiD,CAAC,CAAtD,EAAyD;QACrD,IAAIya,cAAc,GAAG,KAAKrR,oBAAL,CAA0BoR,UAA1B,CAArB;QACAH,cAAc,CAACrX,iBAAf,CAAiCxL,WAAjC,CAA6CijB,cAA7C;MACH,CAHD,MAIK;QACD,IAAIA,cAAc,GAAG,KAAKxR,qBAAL,CAA2BuR,UAA3B,CAArB;QACAH,cAAc,CAACrX,iBAAf,CAAiCxL,WAAjC,CAA6CijB,cAA7C;MACH;IACJ;EACJ,CAfD;;EAgBAvlB,YAAY,CAACkB,SAAb,CAAuB6S,qBAAvB,GAA+C,UAAUpS,EAAV,EAAc;IACzD,IAAImS,QAAQ,GAAGnV,aAAa,CAAC,UAAD,CAA5B;IACAmV,QAAQ,CAACnS,EAAT,GAAcA,EAAd;IACAmS,QAAQ,CAAClQ,SAAT,GAAqB,yBAArB;IACAkQ,QAAQ,CAACpQ,KAAT,CAAeX,KAAf,GAAuB,MAAvB;IACA+Q,QAAQ,CAACpQ,KAAT,CAAeZ,MAAf,GAAwB,MAAxB;IACAgR,QAAQ,CAACpB,gBAAT,CAA0B,OAA1B,EAAmC,KAAKkC,iBAAL,CAAuBhC,IAAvB,CAA4B,IAA5B,CAAnC;IACAkB,QAAQ,CAACpB,gBAAT,CAA0B,QAA1B,EAAoC,KAAKmC,eAAL,CAAqBjC,IAArB,CAA0B,IAA1B,CAApC;IACA,OAAOkB,QAAP;EACH,CATD;;EAUA9T,YAAY,CAACkB,SAAb,CAAuBgT,oBAAvB,GAA8C,UAAUvS,EAAV,EAAc;IACxD,IAAIkS,YAAY,GAAGlV,aAAa,CAAC,OAAD,CAAhC;IACAkV,YAAY,CAAClS,EAAb,GAAkBA,EAAlB;IACAkS,YAAY,CAAC9J,IAAb,GAAoB,MAApB;IACA8J,YAAY,CAACjQ,SAAb,GAAyB,sBAAzB;IACAiQ,YAAY,CAAC2R,YAAb,GAA4B,KAA5B;IACA3R,YAAY,CAACnQ,KAAb,CAAmBX,KAAnB,GAA2B,MAA3B;IACA8Q,YAAY,CAACnQ,KAAb,CAAmBZ,MAAnB,GAA4B,MAA5B;IACA+Q,YAAY,CAACnQ,KAAb,CAAmBM,QAAnB,GAA8B,UAA9B;IACA6P,YAAY,CAACnB,gBAAb,CAA8B,OAA9B,EAAuC,KAAKkC,iBAAL,CAAuBhC,IAAvB,CAA4B,IAA5B,CAAvC;IACAiB,YAAY,CAACnB,gBAAb,CAA8B,QAA9B,EAAwC,KAAKmC,eAAL,CAAqBjC,IAArB,CAA0B,IAA1B,CAAxC;IACA,OAAOiB,YAAP;EACH,CAZD;EAaA;AACJ;AACA;;;EACI7T,YAAY,CAACkB,SAAb,CAAuB8U,0BAAvB,GAAoD,UAAUhE,eAAV,EAA2B;IAC3E,IAAIqF,SAAS,GAAG;MACZ1V,EAAE,EAAEqQ,eAAe,CAACrQ,EAAhB,CAAmByH,KAAnB,CAAyB,GAAzB,EAA8B,CAA9B,CADQ;MAC0BrF,IAAI,EAAEiO,eAAe,CAACjO,IADhD;MACsDiB,KAAK,EAAEgN,eAAe,CAAChN,KAD7E;MAEZ+E,IAAI,EAAEiI,eAAe,CAACjI,IAAhB,GAAuBiI,eAAe,CAACjI,IAAvC,GAA8CiI,eAAe,CAAC5Q,uBAFxD;MAEiF8V,UAAU,EAAElF,eAAe,CAAC1M,UAF7G;MAEyHL,UAAU,EAAE+M,eAAe,CAAC/M,UAFrJ;MAEiK0B,WAAW,EAAEqL,eAAe,CAACrL,WAF9L;MAGZhD,QAAQ,EAAEqO,eAAe,CAACrO,QAHd;MAGwBuB,SAAS,EAAE8M,eAAe,CAAC9M,SAHnD;MAG8DC,KAAK,EAAE6M,eAAe,CAAC7M,KAAhB,GAAwB6M,eAAe,CAAC7M,KAAxC,GAAgD,KAAKsgB,WAAL,CAAiBzT,eAAe,CAAClL,SAAjC,CAHrH;MAGkK1B,eAAe,EAAE,OAAO4M,eAAe,CAAC5M,eAAvB,KAA2C,QAA3C,GAAsD4M,eAAe,CAAC5M,eAAtE,GAAwF,KAAKqgB,WAAL,CAAiBzT,eAAe,CAAC5M,eAAjC,CAH3Q;MAIZC,SAAS,EAAE2M,eAAe,CAAC3M,SAAhB,GAA4B2M,eAAe,CAAC3M,SAA5C,GAAwD2M,eAAe,CAAChL,SAJvE;MAIkFzB,UAAU,EAAEyM,eAAe,CAACzM,UAJ9G;MAI0HC,SAAS,EAAEwM,eAAe,CAACxM,SAJrJ;MAIgKC,UAAU,EAAEuM,eAAe,CAACvM,UAJ5L;MAKZC,OAAO,EAAEsM,eAAe,CAACtM,OALb;MAKsBQ,UAAU,EAAE8L,eAAe,CAAC9L,UALlD;MAK8DD,SAAS,EAAE+L,eAAe,CAAC/L,SALzF;MAKoGL,OAAO,EAAEoM,eAAe,CAACpM,OAL7H;MAKsIzD,MAAM,EAAE6P,eAAe,CAAC7P,MAAhB,GAAyB6P,eAAe,CAAC7P,MAAzC,GAAkD6P,eAAe,CAAC1L,SALhN;MAK2NR,SAAS,EAAEkM,eAAe,CAAClM,SALtP;MAKiQD,WAAW,EAAE,OAAOmM,eAAe,CAACnM,WAAvB,KAAuC,QAAvC,GAAkDmM,eAAe,CAACnM,WAAlE,GAAgF,KAAK4f,WAAL,CAAiBzT,eAAe,CAACnM,WAAjC,CAL9V;MAK6YzC,SAAS,EAAE,CAACnE,iBAAiB,CAAC+S,eAAe,CAAChM,UAAjB,CAAlB,GAAiDgM,eAAe,CAAChM,UAAjE,GAA8EgM,eAAe,CAAC5O;IALtf,CAAhB;IAOA,KAAKpC,SAAL,CAAe2W,oBAAf,CAAoC,KAAK3W,SAAL,CAAe2W,oBAAf,CAAoCC,SAApC,CAA8C,UAAUC,EAAV,EAAc;MAAE,OAAOA,EAAE,CAAClW,EAAH,KAAU0V,SAAS,CAAC1V,EAA3B;IAAgC,CAA9F,CAApC,IAAuI0V,SAAvI;EACH,CATD;EAUA;AACJ;AACA;;;EACIrX,YAAY,CAACkB,SAAb,CAAuBukB,WAAvB,GAAqC,UAAUtgB,KAAV,EAAiB;IAClD,OAAQ,MAAM,KAAK+E,GAAL,CAAS/E,KAAK,CAACmE,CAAf,CAAN,GAA0B,KAAKY,GAAL,CAAS/E,KAAK,CAACoE,CAAf,CAA1B,GAA8C,KAAKW,GAAL,CAAS/E,KAAK,CAACqE,CAAf,CAAtD;EACH,CAFD;EAGA;AACJ;AACA;;;EACIxJ,YAAY,CAACkB,SAAb,CAAuByiB,oCAAvB,GAA8D,UAAUd,YAAV,EAAwBmC,UAAxB,EAAoC;IAC9F,IAAIxS,eAAe,GAAGhR,QAAQ,CAACC,cAAT,CAAwBohB,YAAY,CAAClhB,EAAb,GAAkB,uBAA1C,EAAmEmM,iBAAnE,CAAqFA,iBAA3G;;IACA,IAAI,KAAK9M,SAAL,CAAe6C,YAAf,IAA+BmhB,UAAnC,EAA+C;MAC3C,IAAI3c,IAAI,GAAG,KAAKpH,aAAL,CAAmBqH,yBAAnB,CAA6C,eAA7C,CAAX;MACA,IAAIC,cAAc,GAAGC,IAAI,CAACC,KAAL,CAAWJ,IAAX,CAArB;MACA,IAAIqd,OAAO,GAAG,KAAKlK,iBAAL,CAAuBqH,YAAY,CAAClhB,EAAb,CAAgByH,KAAhB,CAAsB,GAAtB,EAA2B,CAA3B,CAAvB,CAAd;MACAyZ,YAAY,CAAC9c,OAAb,GAAuB,KAAK4f,wBAAL,CAA8B9C,YAA9B,CAAvB;MACA,KAAKhH,4BAAL,CAAkCgH,YAAlC,EAAgDrQ,eAAhD;MACAqQ,YAAY,CAACvb,aAAb,GAA6B,EAA7B;;MACA,IAAIoe,OAAO,GAAG,CAAC,CAAf,EAAkB;QACdnd,cAAc,CAACmd,OAAD,CAAd,CAAwB1d,SAAxB,CAAkCR,MAAlC,GAA2Cqb,YAAY,CAAC9c,OAAxD;QACA,KAAK9E,aAAL,CAAmB2G,mBAAnB,CAAuC8d,OAAvC,EAAgD1d,SAAhD,CAA0DR,MAA1D,GAAmEqb,YAAY,CAAC9c,OAAhF;;QACA,IAAI,CAAC9G,iBAAiB,CAAC4jB,YAAY,CAAC9c,OAAd,CAAlB,IAA4C8c,YAAY,CAAC9c,OAAb,CAAqB7B,MAArB,GAA8B,CAA9E,EAAiF;UAC7EqE,cAAc,CAACmd,OAAD,CAAd,IAA2Bnd,cAAc,CAACmd,OAAD,CAAd,CAAwB1d,SAAxB,CAAkChD,KAA7D,GAAqE6d,YAAY,CAACvb,aAAb,CAA2BG,IAA3B,CAAgCob,YAAY,CAAC9c,OAAb,CAAqB6R,SAArB,CAA+B,UAAU5U,CAAV,EAAa;YAAE,OAAOA,CAAC,CAACgQ,SAAF,KAAgBzK,cAAc,CAACmd,OAAD,CAAd,CAAwB1d,SAAxB,CAAkChD,KAAzD;UAAiE,CAA/G,CAAhC,CAArE,GAAyN6d,YAAY,CAACvb,aAAb,CAA2BG,IAA3B,CAAgC,CAAhC,CAAzN;QACH;MACJ;;MACD,KAAKzG,SAAL,CAAesM,SAAf,CAAyBuV,YAAY,CAAClhB,EAAb,CAAgByH,KAAhB,CAAsB,GAAtB,EAA2B,CAA3B,CAAzB,EAAwDrD,OAAxD,GAAkE8c,YAAY,CAAC9c,OAA/E;;MACA,IAAK,KAAKke,aAAL,IAAsB,KAAKA,aAAL,CAAmBjf,KAA1C,IAAoDggB,UAAxD,EAAoE;QAChE,KAAKY,wBAAL,CAA8B/C,YAA9B,EAA4CrQ,eAA5C,EAA6DwS,UAA7D,EAAyEU,OAAzE,EAAkFnd,cAAlF;MACH;;MACD,IAAI,KAAK2b,cAAL,IAAuB3b,cAAc,CAACmd,OAAD,CAArC,IAAkDnd,cAAc,CAACmd,OAAD,CAAd,CAAwB1d,SAAxB,CAAkChD,KAApF,IAA6FggB,UAAjG,EAA6G;QACzG,KAAKa,yBAAL,CAA+BhD,YAA/B,EAA6CrQ,eAA7C,EAA8DwS,UAA9D,EAA0EU,OAA1E,EAAmFnd,cAAnF;MACH;;MACD,IAAI,KAAK6b,iBAAL,IAA0BY,UAA9B,EAA0C;QACtC,KAAKc,2BAAL,CAAiCjD,YAAjC,EAA+CmC,UAA/C,EAA2DU,OAA3D,EAAoEnd,cAApE;MACH;;MACD,IAAK,KAAK8b,gBAAN,IAA2BW,UAA/B,EAA2C;QACvC,KAAKe,2BAAL,CAAiClD,YAAjC,EAA+CrQ,eAA/C,EAAgEwS,UAAhE,EAA4EU,OAA5E,EAAqFnd,cAArF;MACH;;MACD,IAAI,KAAK+b,mBAAL,IAA4BU,UAAhC,EAA4C;QACxC,KAAKgB,8BAAL,CAAoCnD,YAApC,EAAkDrQ,eAAlD,EAAmEwS,UAAnE,EAA+EU,OAA/E,EAAwFnd,cAAxF;MACH;;MACD,IAAK,KAAKgc,mBAAL,IAA4B,KAAKA,mBAAL,CAAyBvf,KAAtD,IAAgEggB,UAApE,EAAgF;QAC5E,KAAKiB,8BAAL,CAAoCpD,YAApC,EAAkDrQ,eAAlD,EAAmEwS,UAAnE,EAA+EU,OAA/E,EAAwFnd,cAAxF;MACH;;MACD,IAAK,KAAKic,iBAAL,IAA0B,KAAKA,iBAAL,CAAuBxf,KAAlD,IAA4DggB,UAAhE,EAA4E;QACxE,KAAKkB,4BAAL,CAAkCrD,YAAlC,EAAgDrQ,eAAhD,EAAiEwS,UAAjE,EAA6EU,OAA7E,EAAsFnd,cAAtF;MACH;;MACD,KAAK4d,6BAAL,CAAmCtD,YAAnC,EAAiDrQ,eAAjD,EAAkEwS,UAAlE,EAA8EU,OAA9E,EAAuFnd,cAAvF;;MACA,IAAI,KAAK4b,cAAL,IAAuBa,UAA3B,EAAuC;QACnC,KAAKoB,6BAAL,CAAmCvD,YAAnC,EAAiDrQ,eAAjD,EAAkEwS,UAAlE,EAA8EU,OAA9E,EAAuFnd,cAAvF;MACH;;MACD,IAAI,KAAKkc,cAAL,IAAuBO,UAA3B,EAAuC;QACnC,KAAKqB,yBAAL,CAA+BxD,YAA/B,EAA6CrQ,eAA7C,EAA8DwS,UAA9D,EAA0EU,OAA1E,EAAmFnd,cAAnF;MACH;;MACD,IAAI,KAAKmc,oBAAL,IAA6BM,UAAjC,EAA6C;QACzC,KAAKsB,mCAAL,CAAyCzD,YAAzC,EAAuDrQ,eAAvD,EAAwEwS,UAAxE,EAAoFU,OAApF,EAA6Fnd,cAA7F;MACH;;MACD,IAAI,KAAKoc,gBAAL,IAAyBK,UAA7B,EAAyC;QACrC,KAAKuB,+BAAL,CAAqC1D,YAArC,EAAmDrQ,eAAnD,EAAoEwS,UAApE,EAAgFU,OAAhF,EAAyFnd,cAAzF;MACH;;MACD,IAAI,KAAKqc,oBAAL,IAA6BI,UAAjC,EAA6C;QACzC,KAAKwB,mCAAL,CAAyC3D,YAAzC,EAAuDrQ,eAAvD,EAAwEwS,UAAxE,EAAoFU,OAApF,EAA6Fnd,cAA7F;MACH;;MACD,IAAI,KAAKsc,iBAAL,IAA0BG,UAA9B,EAA0C;QACtC,KAAKyB,8BAAL,CAAoC5D,YAApC,EAAkDrQ,eAAlD,EAAmEwS,UAAnE,EAA+EU,OAA/E,EAAwFnd,cAAxF;MACH;;MACD,IAAI,KAAKuc,iBAAL,IAA0BE,UAA9B,EAA0C;QACtC,KAAK0B,8BAAL,CAAoC7D,YAApC,EAAkDrQ,eAAlD,EAAmEwS,UAAnE,EAA+EU,OAA/E,EAAwFnd,cAAxF;MACH;IACJ;;IACD,IAAIyc,UAAJ,EACI,KAAK/jB,aAAL,CAAmBgH,uBAAnB,CAA2C,KAAKhH,aAAL,CAAmB2G,mBAA9D,EAAmF,eAAnF;EACP,CA/DD;EAgEA;AACJ;AACA;;;EACI5H,YAAY,CAACkB,SAAb,CAAuB2iB,mCAAvB,GAA6D,UAAUhB,YAAV,EAAwBmC,UAAxB,EAAoC;IAC7F,IAAIxS,eAAe,GAAGhR,QAAQ,CAACC,cAAT,CAAwBohB,YAAY,CAAClhB,EAAb,GAAkB,uBAA1C,EAAmEmM,iBAAnE,CAAqFA,iBAA3G;;IACA,IAAI,KAAK9M,SAAL,CAAe6C,YAAf,IAA+BmhB,UAAnC,EAA+C;MAC3C,IAAI3c,IAAI,GAAG,KAAKpH,aAAL,CAAmBqH,yBAAnB,CAA6C,eAA7C,CAAX;MACA,IAAIC,cAAc,GAAGC,IAAI,CAACC,KAAL,CAAWJ,IAAX,CAArB;MACA,IAAIse,OAAO,GAAG,KAAKnL,iBAAL,CAAuBqH,YAAY,CAAClhB,EAAb,CAAgByH,KAAhB,CAAsB,GAAtB,EAA2B,CAA3B,CAAvB,CAAd;MACAyZ,YAAY,CAAC9c,OAAb,GAAuB,KAAK4f,wBAAL,CAA8B9C,YAA9B,CAAvB;MACA,KAAKhH,4BAAL,CAAkCgH,YAAlC,EAAgDrQ,eAAhD;MACAqQ,YAAY,CAACvb,aAAb,GAA6B,EAA7B;;MACA,IAAIqf,OAAO,GAAG,CAAC,CAAf,EAAkB;QACdpe,cAAc,CAACoe,OAAD,CAAd,CAAwB3e,SAAxB,CAAkCR,MAAlC,GAA2Cqb,YAAY,CAAC9c,OAAxD;QACA,KAAK9E,aAAL,CAAmB2G,mBAAnB,CAAuC+e,OAAvC,EAAgD3e,SAAhD,CAA0DR,MAA1D,GAAmEqb,YAAY,CAAC9c,OAAhF;;QACA,IAAI,CAAC9G,iBAAiB,CAAC4jB,YAAY,CAAC9c,OAAd,CAAlB,IAA4C8c,YAAY,CAAC9c,OAAb,CAAqB7B,MAArB,GAA8B,CAA9E,EAAiF;UAC7EqE,cAAc,CAACoe,OAAD,CAAd,IAA2Bpe,cAAc,CAACoe,OAAD,CAAd,CAAwB3e,SAAxB,CAAkChD,KAA7D,GAAqE6d,YAAY,CAACvb,aAAb,CAA2BG,IAA3B,CAAgCob,YAAY,CAAC9c,OAAb,CAAqB6R,SAArB,CAA+B,UAAU5U,CAAV,EAAa;YAAE,OAAOA,CAAC,CAACgQ,SAAF,KAAgBzK,cAAc,CAACoe,OAAD,CAAd,CAAwB3e,SAAxB,CAAkChD,KAAzD;UAAiE,CAA/G,CAAhC,CAArE,GAAyN6d,YAAY,CAACvb,aAAb,CAA2BG,IAA3B,CAAgC,CAAhC,CAAzN;QACH;MACJ;;MACD,KAAKzG,SAAL,CAAesM,SAAf,CAAyBuV,YAAY,CAAClhB,EAAb,CAAgByH,KAAhB,CAAsB,GAAtB,EAA2B,CAA3B,CAAzB,EAAwDrD,OAAxD,GAAkE8c,YAAY,CAAC9c,OAA/E;;MACA,IAAK,KAAKke,aAAL,IAAsB,KAAKA,aAAL,CAAmBjf,KAA1C,IAAoDggB,UAAxD,EAAoE;QAChE,KAAKY,wBAAL,CAA8B/C,YAA9B,EAA4CrQ,eAA5C,EAA6DwS,UAA7D,EAAyE2B,OAAzE,EAAkFpe,cAAlF;MACH;;MACD,IAAI,KAAK6b,iBAAL,IAA0BY,UAA9B,EAA0C;QACtC,KAAKc,2BAAL,CAAiCjD,YAAjC,EAA+CmC,UAA/C,EAA2D2B,OAA3D,EAAoEpe,cAApE;MACH;;MACD,IAAK,KAAK8b,gBAAN,IAA2BW,UAA/B,EAA2C;QACvC,KAAKe,2BAAL,CAAiClD,YAAjC,EAA+CrQ,eAA/C,EAAgEwS,UAAhE,EAA4E2B,OAA5E,EAAqFpe,cAArF;MACH;;MACD,IAAI,KAAK+b,mBAAL,IAA4BU,UAAhC,EAA4C;QACxC,KAAKgB,8BAAL,CAAoCnD,YAApC,EAAkDrQ,eAAlD,EAAmEwS,UAAnE,EAA+E2B,OAA/E,EAAwFpe,cAAxF;MACH;;MACD,IAAK,KAAKgc,mBAAL,IAA4B,KAAKA,mBAAL,CAAyBvf,KAAtD,IAAgEggB,UAApE,EAAgF;QAC5E,KAAKiB,8BAAL,CAAoCpD,YAApC,EAAkDrQ,eAAlD,EAAmEwS,UAAnE,EAA+E2B,OAA/E,EAAwFpe,cAAxF;MACH;;MACD,IAAK,KAAKic,iBAAL,IAA0B,KAAKA,iBAAL,CAAuBxf,KAAlD,IAA4DggB,UAAhE,EAA4E;QACxE,KAAKkB,4BAAL,CAAkCrD,YAAlC,EAAgDrQ,eAAhD,EAAiEwS,UAAjE,EAA6E2B,OAA7E,EAAsFpe,cAAtF;MACH;;MACD,KAAK4d,6BAAL,CAAmCtD,YAAnC,EAAiDrQ,eAAjD,EAAkEwS,UAAlE,EAA8E2B,OAA9E,EAAuFpe,cAAvF;;MACA,IAAI,KAAK4b,cAAL,IAAuBa,UAA3B,EAAuC;QACnC,KAAKoB,6BAAL,CAAmCvD,YAAnC,EAAiDrQ,eAAjD,EAAkEwS,UAAlE,EAA8E2B,OAA9E,EAAuFpe,cAAvF;MACH;;MACD,IAAI,KAAKkc,cAAL,IAAuBO,UAA3B,EAAuC;QACnC,KAAKqB,yBAAL,CAA+BxD,YAA/B,EAA6CrQ,eAA7C,EAA8DwS,UAA9D,EAA0E2B,OAA1E,EAAmFpe,cAAnF;MACH;;MACD,IAAI,KAAKmc,oBAAL,IAA6BM,UAAjC,EAA6C;QACzC,KAAKsB,mCAAL,CAAyCzD,YAAzC,EAAuDrQ,eAAvD,EAAwEwS,UAAxE,EAAoF2B,OAApF,EAA6Fpe,cAA7F;MACH;;MACD,IAAI,KAAKoc,gBAAL,IAAyBK,UAA7B,EAAyC;QACrC,KAAKuB,+BAAL,CAAqC1D,YAArC,EAAmDrQ,eAAnD,EAAoEwS,UAApE,EAAgF2B,OAAhF,EAAyFpe,cAAzF;MACH;;MACD,IAAI,KAAKqc,oBAAL,IAA6BI,UAAjC,EAA6C;QACzC,KAAKwB,mCAAL,CAAyC3D,YAAzC,EAAuDrQ,eAAvD,EAAwEwS,UAAxE,EAAoF2B,OAApF,EAA6Fpe,cAA7F;MACH;;MACD,IAAI,KAAKsc,iBAAL,IAA0BG,UAA9B,EAA0C;QACtC,KAAKyB,8BAAL,CAAoC5D,YAApC,EAAkDrQ,eAAlD,EAAmEwS,UAAnE,EAA+E2B,OAA/E,EAAwFpe,cAAxF;MACH;;MACD,IAAI,KAAKuc,iBAAL,IAA0BE,UAA9B,EAA0C;QACtC,KAAK0B,8BAAL,CAAoC7D,YAApC,EAAkDrQ,eAAlD,EAAmEwS,UAAnE,EAA+E2B,OAA/E,EAAwFpe,cAAxF;MACH;IACJ;;IACD,IAAIyc,UAAJ,EACI,KAAK/jB,aAAL,CAAmBgH,uBAAnB,CAA2C,KAAKhH,aAAL,CAAmB2G,mBAA9D,EAAmF,eAAnF;EACP,CA5DD;;EA6DA5H,YAAY,CAACkB,SAAb,CAAuB2a,4BAAvB,GAAsD,UAAUgH,YAAV,EAAwBrQ,eAAxB,EAAyC;IAC3F,OAAOA,eAAe,CAACoU,UAAvB,EAAmC;MAC/BpU,eAAe,CAACoU,UAAhB,CAA2BtQ,MAA3B;IACH;;IACD,KAAK,IAAI7I,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGoV,YAAY,CAAC9c,OAAb,CAAqB7B,MAAzC,EAAiDuJ,CAAC,EAAlD,EAAsD;MAClD,IAAIjG,MAAM,GAAGhG,QAAQ,CAAC7C,aAAT,CAAuB,QAAvB,CAAb;MACA6I,MAAM,CAAC5D,SAAP,GAAmB,yBAAnB;MACA4D,MAAM,CAACxC,KAAP,GAAe6d,YAAY,CAAC9c,OAAb,CAAqB0H,CAArB,EAAwBuF,SAAvC;MACAxL,MAAM,CAACmH,IAAP,GAAckU,YAAY,CAAC9c,OAAb,CAAqB0H,CAArB,EAAwBwF,QAAtC;MACAT,eAAe,CAAClQ,WAAhB,CAA4BkF,MAA5B;IACH;EACJ,CAXD;;EAYAxH,YAAY,CAACkB,SAAb,CAAuBykB,wBAAvB,GAAkD,UAAU9C,YAAV,EAAwB;IACtE,IAAIgE,MAAM,GAAGrlB,QAAQ,CAACC,cAAT,CAAwB,KAAKT,SAAL,CAAeU,OAAf,CAAuBC,EAAvB,GAA4B,eAApD,CAAb;IACA,KAAKrB,2BAAL,GAAmC,EAAnC;;IACA,IAAIumB,MAAM,IAAIA,MAAM,CAACrZ,QAAjB,IAA6BqZ,MAAM,CAACrZ,QAAP,CAAgBtJ,MAAhB,GAAyB,CAA1D,EAA6D;MACzD,KAAK,IAAIE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGyiB,MAAM,CAACrZ,QAAP,CAAgBtJ,MAApC,EAA4CE,CAAC,EAA7C,EAAiD;QAC7C,IAAI0iB,MAAM,GAAGD,MAAM,CAACrZ,QAAP,CAAgBpJ,CAAhB,CAAb;QACA,KAAK9D,2BAAL,CAAiCmH,IAAjC,CAAsC;UAAEwL,QAAQ,EAAE6T,MAAM,CAAChjB,SAAnB;UAA8BkP,SAAS,EAAE8T,MAAM,CAAChjB;QAAhD,CAAtC;MACH;IACJ,CALD,MAMK,IAAI+e,YAAY,IAAIA,YAAY,CAAC9c,OAAb,CAAqB7B,MAArB,GAA8B,CAAlD,EAAqD;MACtD,KAAK5D,2BAAL,GAAmCuiB,YAAY,CAAC9c,OAAhD;IACH;;IACD,OAAO,KAAKzF,2BAAZ;EACH,CAbD;EAcA;AACJ;AACA;;;EACIN,YAAY,CAACkB,SAAb,CAAuBuiB,gCAAvB,GAA0D,UAAUZ,YAAV,EAAwBmC,UAAxB,EAAoC;IAC1F,IAAInR,YAAY,GAAGrS,QAAQ,CAACC,cAAT,CAAwBohB,YAAY,CAAClhB,EAAb,GAAkB,uBAA1C,EAAmEmM,iBAAnE,CAAqFA,iBAAxG;IACA,IAAIzF,IAAI,GAAG,KAAKpH,aAAL,CAAmBqH,yBAAnB,CAA6C,eAA7C,CAAX;IACA,IAAIC,cAAc,GAAGC,IAAI,CAACC,KAAL,CAAWJ,IAAX,CAArB;IACA,IAAIsN,KAAK,GAAG,KAAK6F,iBAAL,CAAuBqH,YAAY,CAAClhB,EAAb,CAAgByH,KAAhB,CAAsB,GAAtB,EAA2B,CAA3B,CAAvB,CAAZ;;IACA,IAAI,KAAKpI,SAAL,CAAe6C,YAAf,IAA+BmhB,UAAnC,EAA+C;MAC3C,IAAK,KAAKf,aAAL,IAAsB,KAAKA,aAAL,CAAmBjf,KAA1C,IAAoDggB,UAAxD,EAAoE;QAChE,KAAKY,wBAAL,CAA8B/C,YAA9B,EAA4ChP,YAA5C,EAA0DmR,UAA1D,EAAsErP,KAAtE,EAA6EpN,cAA7E;MACH;;MACD,IAAI,KAAK6b,iBAAL,IAA0BY,UAA9B,EAA0C;QACtC,KAAKc,2BAAL,CAAiCjD,YAAjC,EAA+CmC,UAA/C,EAA2DrP,KAA3D,EAAkEpN,cAAlE;MACH;;MACD,IAAK,KAAK8b,gBAAN,IAA2BW,UAA/B,EAA2C;QACvC,KAAKe,2BAAL,CAAiClD,YAAjC,EAA+ChP,YAA/C,EAA6DmR,UAA7D,EAAyErP,KAAzE,EAAgFpN,cAAhF;MACH;;MACD,IAAI,KAAK+b,mBAAL,IAA4BU,UAAhC,EAA4C;QACxC,KAAKgB,8BAAL,CAAoCnD,YAApC,EAAkDhP,YAAlD,EAAgEmR,UAAhE,EAA4ErP,KAA5E,EAAmFpN,cAAnF;MACH;;MACD,IAAI,KAAKsc,iBAAL,IAA0BG,UAA9B,EAA0C;QACtC,KAAKyB,8BAAL,CAAoC5D,YAApC,EAAkDhP,YAAlD,EAAgEmR,UAAhE,EAA4ErP,KAA5E,EAAmFpN,cAAnF;MACH;;MACD,IAAI,KAAKuc,iBAAL,IAA0BE,UAA9B,EAA0C;QACtC,KAAK0B,8BAAL,CAAoC7D,YAApC,EAAkDhP,YAAlD,EAAgEmR,UAAhE,EAA4ErP,KAA5E,EAAmFpN,cAAnF;MACH;IACJ;;IACD,IAAIyc,UAAJ,EACI,KAAK/jB,aAAL,CAAmBgH,uBAAnB,CAA2C,KAAKhH,aAAL,CAAmB2G,mBAA9D,EAAmF,eAAnF;EACP,CA3BD;EA4BA;AACJ;AACA;;;EACI5H,YAAY,CAACkB,SAAb,CAAuBuc,oCAAvB,GAA8D,UAAUoF,YAAV,EAAwBmC,UAAxB,EAAoC;IAC9F,IAAI+B,eAAe,GAAGvlB,QAAQ,CAACC,cAAT,CAAwBohB,YAAY,CAAClhB,EAAb,GAAkB,uBAA1C,EAAmEmM,iBAAnE,CAAqFA,iBAArF,CAAuGC,gBAA7H;IACA,IAAI1F,IAAI,GAAG,KAAKpH,aAAL,CAAmBqH,yBAAnB,CAA6C,eAA7C,CAAX;IACA,IAAIC,cAAc,GAAGC,IAAI,CAACC,KAAL,CAAWJ,IAAX,CAArB;IACA,IAAIsN,KAAK,GAAG,KAAK6F,iBAAL,CAAuBqH,YAAY,CAAClhB,EAAb,CAAgByH,KAAhB,CAAsB,GAAtB,EAA2B,CAA3B,CAAvB,CAAZ;;IACA,IAAK,KAAK6a,aAAL,IAAsB,KAAKA,aAAL,CAAmBjf,KAA1C,IAAoDggB,UAAxD,EAAoE;MAChE,KAAKY,wBAAL,CAA8B/C,YAA9B,EAA4CkE,eAA5C,EAA6D/B,UAA7D,EAAyErP,KAAzE,EAAgFpN,cAAhF;IACH;;IACD,IAAI,KAAKmc,oBAAL,IAA6BM,UAAjC,EAA6C;MACzC,KAAKsB,mCAAL,CAAyCzD,YAAzC,EAAuDkE,eAAvD,EAAwE/B,UAAxE,EAAoFrP,KAApF,EAA2FpN,cAA3F;IACH;;IACD,IAAI,KAAKoc,gBAAL,IAAyBK,UAA7B,EAAyC;MACrC,KAAKuB,+BAAL,CAAqC1D,YAArC,EAAmDkE,eAAnD,EAAoE/B,UAApE,EAAgFrP,KAAhF,EAAuFpN,cAAvF;IACH;;IACD,IAAI,KAAKqc,oBAAL,IAA6BI,UAAjC,EAA6C;MACzC,KAAKwB,mCAAL,CAAyC3D,YAAzC,EAAuDkE,eAAvD,EAAwE/B,UAAxE,EAAoFrP,KAApF,EAA2FpN,cAA3F;IACH;;IACD,IAAI,KAAKye,gBAAT,EAA2B;MACvB,KAAKrL,oBAAL,GAA4B,KAAKqL,gBAAL,CAAsBpL,OAAlD;IACH;;IACD,IAAI,KAAKwI,iBAAL,IAA0BY,UAA9B,EAA0C;MACtC,KAAKc,2BAAL,CAAiCjD,YAAjC,EAA+CmC,UAA/C,EAA2DrP,KAA3D,EAAkEpN,cAAlE;IACH;;IACD,IAAK,KAAK8b,gBAAN,IAA2BW,UAA/B,EAA2C;MACvC,KAAKe,2BAAL,CAAiClD,YAAjC,EAA+CkE,eAA/C,EAAgE/B,UAAhE,EAA4ErP,KAA5E,EAAmFpN,cAAnF;IACH;;IACD,IAAI,KAAK+b,mBAAL,IAA4BU,UAAhC,EAA4C;MACxC,KAAKgB,8BAAL,CAAoCnD,YAApC,EAAkDkE,eAAlD,EAAmE/B,UAAnE,EAA+ErP,KAA/E,EAAsFpN,cAAtF;IACH;;IACD,IAAI,KAAKoT,oBAAL,IAA6BhP,SAA7B,IAA0CqY,UAA9C,EAA0D;MACtD,KAAKiC,6BAAL,CAAmCpE,YAAnC,EAAiDkE,eAAjD,EAAkE/B,UAAlE,EAA8ErP,KAA9E,EAAqFpN,cAArF;IACH;;IACD,IAAK,KAAKvH,SAAL,CAAe6C,YAAf,IAA+B,KAAK8gB,gBAArC,IAA0DK,UAA9D,EAA0E;MACtE,KAAKuB,+BAAL,CAAqC1D,YAArC,EAAmDkE,eAAnD,EAAoE/B,UAApE,EAAgFrP,KAAhF,EAAuFpN,cAAvF;IACH;;IACD,IAAK,KAAKvH,SAAL,CAAe6C,YAAf,IAA+B,KAAK+gB,oBAArC,IAA8DI,UAAlE,EAA8E;MAC1E,KAAKwB,mCAAL,CAAyC3D,YAAzC,EAAuDkE,eAAvD,EAAwE/B,UAAxE,EAAoFrP,KAApF,EAA2FpN,cAA3F;IACH;;IACD,IAAI,KAAKsc,iBAAL,IAA0BG,UAA9B,EAA0C;MACtC,KAAKyB,8BAAL,CAAoC5D,YAApC,EAAkDkE,eAAlD,EAAmE/B,UAAnE,EAA+ErP,KAA/E,EAAsFpN,cAAtF;IACH;;IACD,IAAI,KAAKuc,iBAAL,IAA0BE,UAA9B,EAA0C;MACtC,KAAK0B,8BAAL,CAAoC7D,YAApC,EAAkDkE,eAAlD,EAAmE/B,UAAnE,EAA+ErP,KAA/E,EAAsFpN,cAAtF;IACH;;IACD,IAAIyc,UAAJ,EACI,KAAK/jB,aAAL,CAAmBgH,uBAAnB,CAA2C,KAAKhH,aAAL,CAAmB2G,mBAA9D,EAAmF,eAAnF;EACP,CA9CD;EA+CA;AACJ;AACA;;;EACI5H,YAAY,CAACkB,SAAb,CAAuBsc,mCAAvB,GAA6D,UAAUqF,YAAV,EAAwBmC,UAAxB,EAAoC;IAC7F,IAAIkC,WAAW,GAAG1lB,QAAQ,CAACC,cAAT,CAAwBohB,YAAY,CAAClhB,EAAb,GAAkB,uBAA1C,EAAmEmM,iBAAnE,CAAqFA,iBAArF,CAAuGA,iBAAzH;IACA,IAAIzF,IAAI,GAAG,KAAKpH,aAAL,CAAmBqH,yBAAnB,CAA6C,eAA7C,CAAX;IACA,IAAIC,cAAc,GAAGC,IAAI,CAACC,KAAL,CAAWJ,IAAX,CAArB;IACA,IAAIsN,KAAK,GAAG,KAAK6F,iBAAL,CAAuBqH,YAAY,CAAClhB,EAAb,CAAgByH,KAAhB,CAAsB,GAAtB,EAA2B,CAA3B,CAAvB,CAAZ;;IACA,IAAK,KAAK6a,aAAL,IAAsB,KAAKA,aAAL,CAAmBjf,KAA1C,IAAoDggB,UAAxD,EAAoE;MAChE,KAAKY,wBAAL,CAA8B/C,YAA9B,EAA4CqE,WAA5C,EAAyDlC,UAAzD,EAAqErP,KAArE,EAA4EpN,cAA5E;IACH;;IACD,IAAI,KAAKye,gBAAT,EAA2B;MACvB,KAAKrL,oBAAL,GAA4B,KAAKqL,gBAAL,CAAsBpL,OAAlD;IACH;;IACD,IAAI,KAAKwI,iBAAL,IAA0BY,UAA9B,EAA0C;MACtC,KAAKc,2BAAL,CAAiCjD,YAAjC,EAA+CmC,UAA/C,EAA2DrP,KAA3D,EAAkEpN,cAAlE;IACH;;IACD,IAAK,KAAK8b,gBAAN,IAA2BW,UAA/B,EAA2C;MACvC,KAAKe,2BAAL,CAAiClD,YAAjC,EAA+CqE,WAA/C,EAA4DlC,UAA5D,EAAwErP,KAAxE,EAA+EpN,cAA/E;IACH;;IACD,IAAI,KAAK+b,mBAAL,IAA4BU,UAAhC,EAA4C;MACxC,KAAKgB,8BAAL,CAAoCnD,YAApC,EAAkDqE,WAAlD,EAA+DlC,UAA/D,EAA2ErP,KAA3E,EAAkFpN,cAAlF;IACH;;IACD,IAAK,KAAKvH,SAAL,CAAe6C,YAAf,IAA+B,KAAK+gB,oBAArC,IAA8DI,UAAlE,EAA8E;MAC1E,KAAKwB,mCAAL,CAAyC3D,YAAzC,EAAuDqE,WAAvD,EAAoElC,UAApE,EAAgFrP,KAAhF,EAAuFpN,cAAvF;IACH;;IACD,IAAI,KAAKmc,oBAAL,IAA6BM,UAAjC,EAA6C;MACzC,KAAKsB,mCAAL,CAAyCzD,YAAzC,EAAuDqE,WAAvD,EAAoElC,UAApE,EAAgFrP,KAAhF,EAAuFpN,cAAvF;IACH;;IACD,IAAI,KAAKoc,gBAAL,IAAyBK,UAA7B,EAAyC;MACrC,KAAKuB,+BAAL,CAAqC1D,YAArC,EAAmDqE,WAAnD,EAAgElC,UAAhE,EAA4ErP,KAA5E,EAAmFpN,cAAnF;IACH;;IACD,IAAI,KAAKoT,oBAAL,IAA6BhP,SAA7B,IAA0CqY,UAA9C,EAA0D;MACtD,KAAKmC,8BAAL,CAAoCtE,YAApC,EAAkDqE,WAAlD,EAA+DlC,UAA/D,EAA2ErP,KAA3E,EAAkFpN,cAAlF;IACH;;IACD,IAAI,KAAKsc,iBAAL,IAA0BG,UAA9B,EAA0C;MACtC,KAAKyB,8BAAL,CAAoC5D,YAApC,EAAkDqE,WAAlD,EAA+DlC,UAA/D,EAA2ErP,KAA3E,EAAkFpN,cAAlF;IACH;;IACD,IAAI,KAAKuc,iBAAL,IAA0BE,UAA9B,EAA0C;MACtC,KAAK0B,8BAAL,CAAoC7D,YAApC,EAAkDqE,WAAlD,EAA+DlC,UAA/D,EAA2ErP,KAA3E,EAAkFpN,cAAlF;IACH;;IACD,IAAIyc,UAAJ,EAAgB;MACZ,IAAI3N,SAAS,GAAG,KAAKrW,SAAL,CAAesM,SAAf,CAAyBuV,YAAY,CAAClhB,EAAb,CAAgByH,KAAhB,CAAsB,GAAtB,EAA2B,CAA3B,CAAzB,CAAhB;MACA,IAAIoa,MAAM,GAAG5kB,2BAA2B,CAACyY,SAAS,CAAC9J,OAAV,CAAkBC,QAAlB,CAA2B,CAA3B,CAAD,CAA3B,CAA2DhJ,OAAxE;MACA,KAAKM,uCAAL,CAA6C0e,MAA7C,EAAqDnM,SAAS,CAAC9J,OAAV,CAAkBC,QAAlB,CAA2B,CAA3B,CAArD,EAAoF6J,SAAS,CAACjW,uBAA9F,EAAuHiW,SAAvH;IACH;EACJ,CA3CD;EA4CA;AACJ;AACA;;;EACIrX,YAAY,CAACkB,SAAb,CAAuBgiB,mCAAvB,GAA6D,UAAUL,YAAV,EAAwBmC,UAAxB,EAAoC;IAC7F,IAAInR,YAAY,GAAGrS,QAAQ,CAACC,cAAT,CAAwBohB,YAAY,CAAClhB,EAAb,GAAkB,uBAA1C,EAAmEmM,iBAAnE,CAAqFA,iBAAxG;IACA,IAAI4M,kBAAkB,GAAG,KAAzB;IACA,IAAI5E,QAAJ,EAAcC,QAAd;IACA,IAAI1N,IAAI,GAAG,KAAKpH,aAAL,CAAmBqH,yBAAnB,CAA6C,eAA7C,CAAX;IACA,IAAIC,cAAc,GAAGC,IAAI,CAACC,KAAL,CAAWJ,IAAX,CAArB;IACA,IAAIsN,KAAK,GAAG,KAAK6F,iBAAL,CAAuBqH,YAAY,CAAClhB,EAAb,CAAgByH,KAAhB,CAAsB,GAAtB,EAA2B,CAA3B,CAAvB,CAAZ;;IACA,IAAI,KAAKpI,SAAL,CAAe6C,YAAf,IAA+BmhB,UAAnC,EAA+C;MAC3C,IAAK,KAAKf,aAAL,IAAsB,KAAKA,aAAL,CAAmBjf,KAA1C,IAAoDggB,UAAxD,EAAoE;QAChE,KAAKY,wBAAL,CAA8B/C,YAA9B,EAA4ChP,YAA5C,EAA0DmR,UAA1D,EAAsErP,KAAtE,EAA6EpN,cAA7E;MACH;;MACD,IAAI,KAAK2b,cAAL,IAAuBc,UAA3B,EAAuC;QACnC,KAAKa,yBAAL,CAA+BhD,YAA/B,EAA6ChP,YAA7C,EAA2DmR,UAA3D,EAAuErP,KAAvE,EAA8EpN,cAA9E;MACH;;MACD,IAAI,KAAK6b,iBAAL,IAA0BY,UAA9B,EAA0C;QACtC,KAAKc,2BAAL,CAAiCjD,YAAjC,EAA+CmC,UAA/C,EAA2DrP,KAA3D,EAAkEpN,cAAlE;MACH;;MACD,IAAK,KAAK8b,gBAAN,IAA2BW,UAA/B,EAA2C;QACvC,KAAKe,2BAAL,CAAiClD,YAAjC,EAA+ChP,YAA/C,EAA6DmR,UAA7D,EAAyErP,KAAzE,EAAgFpN,cAAhF;MACH;;MACD,IAAI,KAAK+b,mBAAL,IAA4BU,UAAhC,EAA4C;QACxC,KAAKgB,8BAAL,CAAoCnD,YAApC,EAAkDhP,YAAlD,EAAgEmR,UAAhE,EAA4ErP,KAA5E,EAAmFpN,cAAnF;MACH;;MACD,IAAK,KAAKgc,mBAAL,IAA4B,KAAKA,mBAAL,CAAyBvf,KAAtD,IAAgEggB,UAApE,EAAgF;QAC5E,KAAKiB,8BAAL,CAAoCpD,YAApC,EAAkDhP,YAAlD,EAAgEmR,UAAhE,EAA4ErP,KAA5E,EAAmFpN,cAAnF;MACH;;MACD,IAAK,KAAKic,iBAAL,IAA0B,KAAKA,iBAAL,CAAuBxf,KAAlD,IAA4DggB,UAAhE,EAA4E;QACxE,KAAKkB,4BAAL,CAAkCrD,YAAlC,EAAgDhP,YAAhD,EAA8DmR,UAA9D,EAA0ErP,KAA1E,EAAiFpN,cAAjF;MACH;;MACD,KAAK4d,6BAAL,CAAmCtD,YAAnC,EAAiDhP,YAAjD,EAA+DmR,UAA/D,EAA2ErP,KAA3E,EAAkFpN,cAAlF;;MACA,IAAI,KAAK4b,cAAL,IAAuBa,UAAvB,IAAqC,KAAK5kB,6BAA9C,EAA6E;QACzE,KAAKgmB,6BAAL,CAAmCvD,YAAnC,EAAiDhP,YAAjD,EAA+DmR,UAA/D,EAA2ErP,KAA3E,EAAkFpN,cAAlF;MACH;;MACD,IAAI,KAAK6e,aAAL,IAAsBpC,UAA1B,EAAsC;QAClC,IAAI,KAAKoC,aAAL,IAAuBvE,YAAY,CAACrd,SAAb,KAA2B,KAAK4hB,aAAL,CAAmBpiB,KAAzE,EAAiF;UAC7E0V,kBAAkB,GAAG,IAArB;UACA5E,QAAQ,GAAG+M,YAAY,CAACrd,SAAxB;UACAuQ,QAAQ,GAAG,KAAKqR,aAAL,CAAmBpiB,KAA9B;QACH;;QACD,IAAIQ,SAAS,GAAG,KAAK4hB,aAAL,CAAmBpiB,KAAnB,KAA6B,CAA7B,GAAiC,MAAjC,GAA0C,KAAKoiB,aAAL,CAAmBpiB,KAA7E;;QACA,IAAIggB,UAAU,IAAInC,YAAY,CAACrd,SAAb,KAA2B,CAA7C,EAAgD;UAC5CqO,YAAY,CAACrO,SAAb,GAAyBqd,YAAY,CAACrd,SAAtC;QACH,CAFD,MAGK;UACDqO,YAAY,CAACrO,SAAb,GAAyBA,SAAzB;UACAqd,YAAY,CAACrd,SAAb,GAAyB,KAAK4hB,aAAL,CAAmBpiB,KAA5C;QACH;;QACD,IAAI2Q,KAAK,GAAG,CAAC,CAAb,EAAgB;UACZpN,cAAc,CAACoN,KAAD,CAAd,CAAsB3N,SAAtB,CAAgCxC,SAAhC,GAA4Cqd,YAAY,CAACrd,SAAzD;UACA,KAAKvE,aAAL,CAAmB2G,mBAAnB,CAAuC+N,KAAvC,EAA8C3N,SAA9C,CAAwDxC,SAAxD,GAAoEqd,YAAY,CAACrd,SAAjF;QACH;;QACD,KAAKxE,SAAL,CAAesM,SAAf,CAAyBuV,YAAY,CAAClhB,EAAb,CAAgByH,KAAhB,CAAsB,GAAtB,EAA2B,CAA3B,CAAzB,EAAwD5D,SAAxD,GAAoEqd,YAAY,CAACrd,SAAjF;;QACA,IAAIkV,kBAAJ,EAAwB;UACpB,KAAKM,gCAAL,CAAsC,2BAAtC,EAAmE6H,YAAnE,EAAiF,KAAjF,EAAwF,KAAxF,EAA+F,KAA/F,EAAsG,KAAtG,EAA6G,KAA7G,EAAoH,KAApH,EAA2H,KAA3H,EAAkI,KAAlI,EAAyI,KAAzI,EAAgJ,KAAhJ,EAAuJ,KAAvJ,EAA8JnI,kBAA9J,EAAkL,KAAlL,EAAyL,KAAzL,EAAgM,KAAhM,EAAuM5E,QAAvM,EAAiNC,QAAjN;QACH;MACJ;;MACD,IAAI,KAAK0O,cAAL,IAAuBO,UAAvB,IAAqC,KAAK5kB,6BAA9C,EAA6E;QACzE,KAAKimB,yBAAL,CAA+BxD,YAA/B,EAA6ChP,YAA7C,EAA2DmR,UAA3D,EAAuErP,KAAvE,EAA8EpN,cAA9E;MACH;;MACD,IAAI,KAAKmc,oBAAL,IAA6BM,UAA7B,IAA2C,KAAK5kB,6BAApD,EAAmF;QAC/E,KAAKkmB,mCAAL,CAAyCzD,YAAzC,EAAuDhP,YAAvD,EAAqEmR,UAArE,EAAiFrP,KAAjF,EAAwFpN,cAAxF;MACH;;MACD,IAAI,KAAKoc,gBAAL,IAAyBK,UAAzB,IAAuC,KAAK5kB,6BAAhD,EAA+E;QAC3E,KAAKmmB,+BAAL,CAAqC1D,YAArC,EAAmDhP,YAAnD,EAAiEmR,UAAjE,EAA6ErP,KAA7E,EAAoFpN,cAApF;MACH;;MACD,IAAI,KAAKqc,oBAAL,IAA6BI,UAAjC,EAA6C;QACzC,KAAKwB,mCAAL,CAAyC3D,YAAzC,EAAuDhP,YAAvD,EAAqEmR,UAArE,EAAiFrP,KAAjF,EAAwFpN,cAAxF;MACH;;MACD,IAAI,KAAKsc,iBAAL,IAA0BG,UAA9B,EAA0C;QACtC,KAAKyB,8BAAL,CAAoC5D,YAApC,EAAkDhP,YAAlD,EAAgEmR,UAAhE,EAA4ErP,KAA5E,EAAmFpN,cAAnF;MACH;;MACD,IAAI,KAAKuc,iBAAL,IAA0BE,UAA9B,EAA0C;QACtC,KAAK0B,8BAAL,CAAoC7D,YAApC,EAAkDhP,YAAlD,EAAgEmR,UAAhE,EAA4ErP,KAA5E,EAAmFpN,cAAnF;MACH;IACJ;;IACD,IAAI,CAAC,KAAKvH,SAAL,CAAe6C,YAApB,EAAkC;MAC9B,IAAI,KAAKygB,mBAAL,IAA4B,KAAKA,mBAAL,CAAyBtf,KAAzD,EAAgE;QAC5D6d,YAAY,CAACtd,UAAb,GAA0B,KAAK+e,mBAAL,CAAyBtf,KAAnD;QACA,IAAIqiB,WAAW,GAAG7lB,QAAQ,CAACC,cAAT,CAAwBohB,YAAY,CAAClhB,EAAb,GAAkB,uBAA1C,EAAmEmM,iBAAnE,CAAqFA,iBAAvG;QACAuZ,WAAW,CAAC3jB,KAAZ,CAAkB6B,UAAlB,GAA+Bsd,YAAY,CAACtd,UAA5C;MACH;IACJ;;IACD,KAAKyQ,0BAAL,CAAgC6M,YAAhC;IACA,IAAImC,UAAJ,EACI,KAAK/jB,aAAL,CAAmBgH,uBAAnB,CAA2C,KAAKhH,aAAL,CAAmB2G,mBAA9D,EAAmF,eAAnF;EACP,CArFD;EAsFA;AACJ;AACA;;;EACI5H,YAAY,CAACkB,SAAb,CAAuB+lB,6BAAvB,GAAuD,UAAUpE,YAAV,EAAwBnhB,OAAxB,EAAiCsjB,UAAjC,EAA6CrP,KAA7C,EAAoDpN,cAApD,EAAoE;IACvH,IAAI,KAAKvH,SAAL,CAAe6C,YAAf,IAA+BmhB,UAAnC,EAA+C;MAC3C,IAAIjL,cAAc,GAAG,KAArB;MACA,IAAIjE,QAAQ,GAAG,KAAK,CAApB;MAAA,IAAuBC,QAAQ,GAAG,KAAK,CAAvC;;MACA,IAAI8M,YAAY,CAAC5c,SAAb,KAA2B,KAAK0V,oBAApC,EAA0D;QACtD5B,cAAc,GAAG,IAAjB;QACAjE,QAAQ,GAAG+M,YAAY,CAAC5c,SAAxB;QACA8P,QAAQ,GAAG,KAAK4F,oBAAhB;MACH;;MACD,IAAI,CAACqJ,UAAL,EAAiB;QACbnC,YAAY,CAAC5c,SAAb,GAAyB,KAAK0V,oBAA9B;MACH;;MACD,IAAIhG,KAAK,GAAG,CAAC,CAAb,EAAgB;QACZpN,cAAc,CAACoN,KAAD,CAAd,CAAsB3N,SAAtB,CAAgC/B,SAAhC,GAA4C4c,YAAY,CAAC5c,SAAzD;QACA,KAAKhF,aAAL,CAAmB2G,mBAAnB,CAAuC+N,KAAvC,EAA8C3N,SAA9C,CAAwD/B,SAAxD,GAAoE4c,YAAY,CAAC5c,SAAjF;MACH;;MACD,KAAKjF,SAAL,CAAesM,SAAf,CAAyBuV,YAAY,CAAClhB,EAAb,CAAgByH,KAAhB,CAAsB,GAAtB,EAA2B,CAA3B,CAAzB,EAAwDnD,SAAxD,GAAoE4c,YAAY,CAAC5c,SAAjF;;MACA,IAAI8T,cAAJ,EAAoB;QAChB,KAAKiB,gCAAL,CAAsC,2BAAtC,EAAmE6H,YAAnE,EAAiF9I,cAAjF,EAAiG,KAAjG,EAAwG,KAAxG,EAA+G,KAA/G,EAAsH,KAAtH,EAA6H,KAA7H,EAAoI,KAApI,EAA2I,KAA3I,EAAkJ,KAAlJ,EAAyJ,KAAzJ,EAAgK,KAAhK,EAAuK,KAAvK,EAA8K,KAA9K,EAAqL,KAArL,EAA4L,KAA5L,EAAmMjE,QAAnM,EAA6MC,QAA7M;MACH;IACJ;;IACD,IAAI,CAAC,KAAK/U,SAAL,CAAe6C,YAAhB,IAAgCmhB,UAApC,EAAgD;MAC5C,IAAIvO,eAAe,GAAGjV,QAAQ,CAACC,cAAT,CAAwBohB,YAAY,CAAClhB,EAAb,GAAkB,QAA1C,EAAoDmM,iBAA1E;;MACA,IAAI+U,YAAY,CAAC5c,SAAjB,EAA4B;QACxB,IAAIwQ,eAAe,CAACJ,SAAhB,CAA0BK,QAA1B,CAAmC,mBAAnC,CAAJ,EACID,eAAe,CAACJ,SAAhB,CAA0BC,MAA1B,CAAiC,mBAAjC;QACJG,eAAe,CAACJ,SAAhB,CAA0BE,GAA1B,CAA8B,iBAA9B;MACH,CAJD,MAKK;QACD,IAAIE,eAAe,CAACJ,SAAhB,CAA0BK,QAA1B,CAAmC,iBAAnC,CAAJ,EACID,eAAe,CAACJ,SAAhB,CAA0BC,MAA1B,CAAiC,iBAAjC;QACJG,eAAe,CAACJ,SAAhB,CAA0BE,GAA1B,CAA8B,mBAA9B;MACH;IACJ;EACJ,CAlCD;EAmCA;AACJ;AACA;;;EACIvW,YAAY,CAACkB,SAAb,CAAuBimB,8BAAvB,GAAwD,UAAUtE,YAAV,EAAwBnhB,OAAxB,EAAiCsjB,UAAjC,EAA6CrP,KAA7C,EAAoDpN,cAApD,EAAoE;IACxH,IAAI,KAAKvH,SAAL,CAAe6C,YAAf,IAA+BmhB,UAAnC,EAA+C;MAC3C,IAAIjL,cAAc,GAAG,KAArB;MACA,IAAIjE,QAAQ,GAAG,KAAK,CAApB;MAAA,IAAuBC,QAAQ,GAAG,KAAK,CAAvC;;MACA,IAAI8M,YAAY,CAAC3c,UAAb,KAA4B,KAAKyV,oBAArC,EAA2D;QACvD5B,cAAc,GAAG,IAAjB;QACAjE,QAAQ,GAAG+M,YAAY,CAAC3c,UAAxB;QACA6P,QAAQ,GAAG,KAAK4F,oBAAhB;MACH;;MACD,IAAI,CAACqJ,UAAL,EAAiB;QACbnC,YAAY,CAAC3c,UAAb,GAA0B,KAAKyV,oBAA/B;MACH;;MACD,IAAIhG,KAAK,GAAG,CAAC,CAAb,EAAgB;QACZpN,cAAc,CAACoN,KAAD,CAAd,CAAsB3N,SAAtB,CAAgC9B,UAAhC,GAA6C2c,YAAY,CAAC3c,UAA1D;QACA,KAAKjF,aAAL,CAAmB2G,mBAAnB,CAAuC+N,KAAvC,EAA8C3N,SAA9C,CAAwD9B,UAAxD,GAAqE2c,YAAY,CAAC3c,UAAlF;;QACA,KAAK,IAAI9B,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGmE,cAAc,CAACoN,KAAD,CAAd,CAAsB3N,SAAtB,CAAgCT,eAAhC,CAAgDrD,MAApE,EAA4EE,CAAC,EAA7E,EAAiF;UAC7E,IAAImE,cAAc,CAACoN,KAAD,CAAd,CAAsB3N,SAAtB,CAAgCT,eAAhC,CAAgDnD,CAAhD,EAAmDzC,EAAnD,CAAsDyH,KAAtD,CAA4D,GAA5D,EAAiE,CAAjE,MAAwEyZ,YAAY,CAAClhB,EAAb,CAAgByH,KAAhB,CAAsB,GAAtB,EAA2B,CAA3B,CAA5E,EAA2G;YACvGb,cAAc,CAACoN,KAAD,CAAd,CAAsB3N,SAAtB,CAAgCT,eAAhC,CAAgDnD,CAAhD,EAAmD8B,UAAnD,GAAgE2c,YAAY,CAAC3c,UAA7E;YACA,KAAKjF,aAAL,CAAmB2G,mBAAnB,CAAuC+N,KAAvC,EAA8C3N,SAA9C,CAAwDT,eAAxD,CAAwEnD,CAAxE,EAA2E8B,UAA3E,GAAwF2c,YAAY,CAAC3c,UAArG;UACH;QACJ;MACJ;;MACD,KAAKlF,SAAL,CAAesM,SAAf,CAAyBuV,YAAY,CAAClhB,EAAb,CAAgByH,KAAhB,CAAsB,GAAtB,EAA2B,CAA3B,CAAzB,EAAwDlD,UAAxD,GAAqE2c,YAAY,CAAC3c,UAAlF;;MACA,IAAI6T,cAAJ,EAAoB;QAChB,KAAKiB,gCAAL,CAAsC,2BAAtC,EAAmE6H,YAAnE,EAAiF9I,cAAjF,EAAiG,KAAjG,EAAwG,KAAxG,EAA+G,KAA/G,EAAsH,KAAtH,EAA6H,KAA7H,EAAoI,KAApI,EAA2I,KAA3I,EAAkJ,KAAlJ,EAAyJ,KAAzJ,EAAgK,KAAhK,EAAuK,KAAvK,EAA8K,KAA9K,EAAqL,KAArL,EAA4L,KAA5L,EAAmMjE,QAAnM,EAA6MC,QAA7M;MACH;IACJ;;IACD,IAAI,CAAC,KAAK/U,SAAL,CAAe6C,YAAhB,IAAgCmhB,UAApC,EAAgD;MAC5CtjB,OAAO,CAACka,OAAR,GAAkBiH,YAAY,CAAC3c,UAA/B;;MACA,IAAIyP,KAAK,GAAG,CAAC,CAAb,EAAgB;QACZpN,cAAc,CAACoN,KAAD,CAAd,CAAsB3N,SAAtB,CAAgC9B,UAAhC,GAA6C2c,YAAY,CAAC3c,UAA1D;QACA,KAAKjF,aAAL,CAAmB2G,mBAAnB,CAAuC+N,KAAvC,EAA8C3N,SAA9C,CAAwD9B,UAAxD,GAAqE2c,YAAY,CAAC3c,UAAlF;;QACA,KAAK,IAAI9B,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGmE,cAAc,CAACoN,KAAD,CAAd,CAAsB3N,SAAtB,CAAgCT,eAAhC,CAAgDrD,MAApE,EAA4EE,CAAC,EAA7E,EAAiF;UAC7E,IAAImE,cAAc,CAACoN,KAAD,CAAd,CAAsB3N,SAAtB,CAAgCT,eAAhC,CAAgDnD,CAAhD,EAAmDzC,EAAnD,CAAsDyH,KAAtD,CAA4D,GAA5D,EAAiE,CAAjE,MAAwEyZ,YAAY,CAAClhB,EAAb,CAAgByH,KAAhB,CAAsB,GAAtB,EAA2B,CAA3B,CAA5E,EAA2G;YACvGb,cAAc,CAACoN,KAAD,CAAd,CAAsB3N,SAAtB,CAAgCT,eAAhC,CAAgDnD,CAAhD,EAAmD8B,UAAnD,GAAgE2c,YAAY,CAAC3c,UAA7E;YACA,KAAKjF,aAAL,CAAmB2G,mBAAnB,CAAuC+N,KAAvC,EAA8C3N,SAA9C,CAAwDT,eAAxD,CAAwEnD,CAAxE,EAA2E8B,UAA3E,GAAwF2c,YAAY,CAAC3c,UAArG;UACH;QACJ;MACJ;;MACD,KAAKjF,aAAL,CAAmBgH,uBAAnB,CAA2C,KAAKhH,aAAL,CAAmB2G,mBAA9D,EAAmF,eAAnF;MACA,KAAK5G,SAAL,CAAesM,SAAf,CAAyBuV,YAAY,CAAClhB,EAAb,CAAgByH,KAAhB,CAAsB,GAAtB,EAA2B,CAA3B,CAAzB,EAAwDlD,UAAxD,GAAqE2c,YAAY,CAAC3c,UAAlF;IACH;EACJ,CA1CD;EA2CA;AACJ;AACA;;;EACIlG,YAAY,CAACkB,SAAb,CAAuB2kB,yBAAvB,GAAmD,UAAUhD,YAAV,EAAwBnhB,OAAxB,EAAiCsjB,UAAjC,EAA6CrP,KAA7C,EAAoDpN,cAApD,EAAoE;IACnH,IAAIwR,cAAc,GAAG,KAArB;IACA,IAAIjE,QAAJ,EAAcC,QAAd;;IACA,IAAI8M,YAAY,CAACzhB,uBAAb,KAAyC,cAAzC,IAA2D,KAAK8iB,cAAhE,IAAmFrB,YAAY,CAAC7d,KAAb,KAAuB,KAAKkf,cAAL,CAAoBlf,KAAlI,EAA0I;MACtI+U,cAAc,GAAG,IAAjB;MACAjE,QAAQ,GAAG+M,YAAY,CAAC7d,KAAxB;MACA+Q,QAAQ,GAAG,KAAKmO,cAAL,CAAoBlf,KAA/B;IACH,CAJD,MAKK,IAAI6d,YAAY,CAACzhB,uBAAb,KAAyC,cAAzC,IAA2D,KAAK8iB,cAAhE,IAAmFrB,YAAY,CAAC7d,KAAb,KAAuBuD,cAAc,CAACoN,KAAD,CAAd,CAAsB3N,SAAtB,CAAgChD,KAA9I,EAAsJ;MACvJ+U,cAAc,GAAG,IAAjB;MACAjE,QAAQ,GAAG+M,YAAY,CAAC7d,KAAxB;MACA+Q,QAAQ,GAAGxN,cAAc,CAACoN,KAAD,CAAd,CAAsB3N,SAAtB,CAAgChD,KAA3C;IACH;;IACD,IAAIggB,UAAJ,EAAgB;MACZtjB,OAAO,CAACsD,KAAR,GAAgB6d,YAAY,CAAC7d,KAA7B;IACH,CAFD,MAGK;MACD6d,YAAY,CAACzhB,uBAAb,KAAyC,cAAzC,GAA0DyhB,YAAY,CAAC7d,KAAb,GAAqBuD,cAAc,CAACoN,KAAD,CAAd,CAAsB3N,SAAtB,CAAgChD,KAA/G,GAAuH6d,YAAY,CAAC7d,KAAb,GAAqB,KAAKkf,cAAL,CAAoBlf,KAAhK;MACA6d,YAAY,CAACzhB,uBAAb,KAAyC,cAAzC,GAA0DM,OAAO,CAACsD,KAAR,GAAgBuD,cAAc,CAACoN,KAAD,CAAd,CAAsB3N,SAAtB,CAAgChD,KAA1G,GAAkHtD,OAAO,CAACsD,KAAR,GAAgB,KAAKkf,cAAL,CAAoBlf,KAAtJ;IACH;;IACD,IAAI2Q,KAAK,GAAG,CAAC,CAAb,EAAgB;MACZpN,cAAc,CAACoN,KAAD,CAAd,CAAsB3N,SAAtB,CAAgChD,KAAhC,GAAwC6d,YAAY,CAAC7d,KAArD;MACA,KAAK/D,aAAL,CAAmB2G,mBAAnB,CAAuC+N,KAAvC,EAA8C3N,SAA9C,CAAwDhD,KAAxD,GAAgE6d,YAAY,CAAC7d,KAA7E;IACH;;IACD,KAAKhE,SAAL,CAAesM,SAAf,CAAyBuV,YAAY,CAAClhB,EAAb,CAAgByH,KAAhB,CAAsB,GAAtB,EAA2B,CAA3B,CAAzB,EAAwDpE,KAAxD,GAAgE6d,YAAY,CAAC7d,KAA7E;;IACA,IAAI+U,cAAJ,EAAoB;MAChB,KAAKiB,gCAAL,CAAsC,2BAAtC,EAAmE6H,YAAnE,EAAiF9I,cAAjF,EAAiG,KAAjG,EAAwG,KAAxG,EAA+G,KAA/G,EAAsH,KAAtH,EAA6H,KAA7H,EAAoI,KAApI,EAA2I,KAA3I,EAAkJ,KAAlJ,EAAyJ,KAAzJ,EAAgK,KAAhK,EAAuK,KAAvK,EAA8K,KAA9K,EAAqL,KAArL,EAA4L,KAA5L,EAAmMjE,QAAnM,EAA6MC,QAA7M;IACH;EACJ,CA5BD;;EA6BA/V,YAAY,CAACkB,SAAb,CAAuBilB,6BAAvB,GAAuD,UAAUtD,YAAV,EAAwBnhB,OAAxB,EAAiCsjB,UAAjC,EAA6CrP,KAA7C,EAAoDpN,cAApD,EAAoE;IACvH,IAAI2R,kBAAkB,GAAG,KAAzB;IACA,IAAIpE,QAAQ,GAAG,EAAf;IACA,IAAIC,QAAQ,GAAG,EAAf;IACA,IAAIuR,MAAM,GAAG,KAAKC,eAAL,CAAqB7lB,OAArB,EAA8BmhB,YAA9B,EAA4CmC,UAA5C,EAAwDrP,KAAxD,EAA+DpN,cAA/D,CAAb;IACA2R,kBAAkB,GAAGoN,MAAM,CAAC,CAAD,CAA3B;IACAxR,QAAQ,GAAGwR,MAAM,CAAC,CAAD,CAAjB;IACAvR,QAAQ,GAAGuR,MAAM,CAAC,CAAD,CAAjB;;IACA,IAAI3R,KAAK,GAAG,CAAC,CAAb,EAAgB;MACZpN,cAAc,CAACoN,KAAD,CAAd,CAAsB3N,SAAtB,CAAgC9C,SAAhC,GAA4C2d,YAAY,CAAC3d,SAAzD;MACA,KAAKjE,aAAL,CAAmB2G,mBAAnB,CAAuC+N,KAAvC,EAA8C3N,SAA9C,CAAwD9C,SAAxD,GAAoE2d,YAAY,CAAC3d,SAAjF;IACH;;IACD,KAAKlE,SAAL,CAAesM,SAAf,CAAyBuV,YAAY,CAAClhB,EAAb,CAAgByH,KAAhB,CAAsB,GAAtB,EAA2B,CAA3B,CAAzB,EAAwDlE,SAAxD,GAAoE2d,YAAY,CAAC3d,SAAjF;;IACA,IAAIgV,kBAAJ,EAAwB;MACpB,KAAKc,gCAAL,CAAsC,2BAAtC,EAAmE6H,YAAnE,EAAiF,KAAjF,EAAwF,KAAxF,EAA+F,KAA/F,EAAsG3I,kBAAtG,EAA0H,KAA1H,EAAiI,KAAjI,EAAwI,KAAxI,EAA+I,KAA/I,EAAsJ,KAAtJ,EAA6J,KAA7J,EAAoK,KAApK,EAA2K,KAA3K,EAAkL,KAAlL,EAAyL,KAAzL,EAAgM,KAAhM,EAAuMpE,QAAvM,EAAiNC,QAAjN;IACH;EACJ,CAhBD;;EAiBA/V,YAAY,CAACkB,SAAb,CAAuBslB,mCAAvB,GAA6D,UAAU3D,YAAV,EAAwBnhB,OAAxB,EAAiCsjB,UAAjC,EAA6CrP,KAA7C,EAAoDpN,cAApD,EAAoE;IAC7H,IAAI+R,oBAAoB,GAAG,KAA3B;IACA,IAAIxE,QAAJ,EAAcC,QAAd;IACA,IAAI1H,WAAW,GAAG/J,QAAQ,CAAC,KAAKsgB,oBAAN,CAA1B;;IACA,IAAI/B,YAAY,CAAC/c,SAAb,KAA2BuI,WAA/B,EAA4C;MACxCiM,oBAAoB,GAAG,IAAvB;MACAxE,QAAQ,GAAG+M,YAAY,CAAC/c,SAAxB;MACAiQ,QAAQ,GAAG1H,WAAW,GAAGA,WAAH,GAAiBwU,YAAY,CAAC/c,SAApD;IACH;;IACD,IAAIkf,UAAJ,EAAgB;MACZtjB,OAAO,CAACgC,KAAR,CAAc2K,WAAd,GAA4BwU,YAAY,CAAC/c,SAAb,CAAuB+E,QAAvB,EAA5B;IACH,CAFD,MAGK;MACDnJ,OAAO,CAACgC,KAAR,CAAc2K,WAAd,GAA4B,KAAKuW,oBAAL,GAA4B,KAAKA,oBAAjC,GAAwD/B,YAAY,CAAC/c,SAAjG;MACA+c,YAAY,CAAC/c,SAAb,GAAyBuI,WAAzB;IACH;;IACD,IAAIsH,KAAK,GAAG,CAAC,CAAb,EAAgB;MACZpN,cAAc,CAACoN,KAAD,CAAd,CAAsB3N,SAAtB,CAAgClC,SAAhC,GAA4C+c,YAAY,CAAC/c,SAAzD;MACA,KAAK7E,aAAL,CAAmB2G,mBAAnB,CAAuC+N,KAAvC,EAA8C3N,SAA9C,CAAwDlC,SAAxD,GAAoE+c,YAAY,CAAC/c,SAAjF;IACH;;IACD,KAAK9E,SAAL,CAAesM,SAAf,CAAyBuV,YAAY,CAAClhB,EAAb,CAAgByH,KAAhB,CAAsB,GAAtB,EAA2B,CAA3B,CAAzB,EAAwDtD,SAAxD,GAAoE+c,YAAY,CAAC/c,SAAjF;;IACA,IAAIwU,oBAAJ,EAA0B;MACtB,KAAKU,gCAAL,CAAsC,2BAAtC,EAAmE6H,YAAnE,EAAiF,KAAjF,EAAwF,KAAxF,EAA+F,KAA/F,EAAsG,KAAtG,EAA6G,KAA7G,EAAoH,KAApH,EAA2H,KAA3H,EAAkIvI,oBAAlI,EAAwJ,KAAxJ,EAA+J,KAA/J,EAAsK,KAAtK,EAA6K,KAA7K,EAAoL,KAApL,EAA2L,KAA3L,EAAkM,KAAlM,EAAyMxE,QAAzM,EAAmNC,QAAnN;IACH;EACJ,CAxBD;;EAyBA/V,YAAY,CAACkB,SAAb,CAAuBqlB,+BAAvB,GAAyD,UAAU1D,YAAV,EAAwBnhB,OAAxB,EAAiCsjB,UAAjC,EAA6CrP,KAA7C,EAAoDpN,cAApD,EAAoE;IACzH,IAAI8R,oBAAoB,GAAG,KAA3B;IACA,IAAIvE,QAAJ,EAAcC,QAAd;;IACA,IAAI8M,YAAY,CAAChd,WAAb,KAA6B,KAAK8e,gBAAtC,EAAwD;MACpDtK,oBAAoB,GAAG,IAAvB;MACAvE,QAAQ,GAAG+M,YAAY,CAAChd,WAAxB;MACAkQ,QAAQ,GAAG,KAAK4O,gBAAL,GAAwB,KAAKA,gBAA7B,GAAgD9B,YAAY,CAAChd,WAAxE;IACH;;IACD,IAAImf,UAAJ,EAAgB;MACZtjB,OAAO,CAACgC,KAAR,CAAcmC,WAAd,GAA4Bgd,YAAY,CAAChd,WAAzC;IACH,CAFD,MAGK;MACDnE,OAAO,CAACgC,KAAR,CAAcmC,WAAd,GAA4B,KAAK8e,gBAAL,GAAwB,KAAKA,gBAA7B,GAAgD9B,YAAY,CAAChd,WAAzF;MACAgd,YAAY,CAAChd,WAAb,GAA2B,KAAK8e,gBAAL,GAAwB,KAAKA,gBAA7B,GAAgD9B,YAAY,CAAChd,WAAxF;IACH;;IACD,IAAIgd,YAAY,CAACzhB,uBAAb,IAAwC,aAA5C,EACIM,OAAO,CAAC8U,aAAR,CAAsB9S,KAAtB,CAA4BuR,SAA5B,GAAwC,KAAK0P,gBAAL,GAAwB,eAAxB,GAA0C9B,YAAY,CAAC/c,SAAvD,GAAmE,IAA3G;;IACJ,IAAI6P,KAAK,GAAG,CAAC,CAAb,EAAgB;MACZpN,cAAc,CAACoN,KAAD,CAAd,CAAsB3N,SAAtB,CAAgCnC,WAAhC,GAA8C,KAAKkB,UAAL,CAAgB8b,YAAY,CAAChd,WAA7B,CAA9C;MACA,KAAK5E,aAAL,CAAmB2G,mBAAnB,CAAuC+N,KAAvC,EAA8C3N,SAA9C,CAAwDnC,WAAxD,GAAsE,KAAKkB,UAAL,CAAgB8b,YAAY,CAAChd,WAA7B,CAAtE;IACH;;IACD,KAAK7E,SAAL,CAAesM,SAAf,CAAyBuV,YAAY,CAAClhB,EAAb,CAAgByH,KAAhB,CAAsB,GAAtB,EAA2B,CAA3B,CAAzB,EAAwDvD,WAAxD,GAAsEgd,YAAY,CAAChd,WAAnF;;IACA,IAAIwU,oBAAJ,EAA0B;MACtB,KAAKW,gCAAL,CAAsC,2BAAtC,EAAmE6H,YAAnE,EAAiF,KAAjF,EAAwF,KAAxF,EAA+F,KAA/F,EAAsG,KAAtG,EAA6G,KAA7G,EAAoH,KAApH,EAA2HxI,oBAA3H,EAAiJ,KAAjJ,EAAwJ,KAAxJ,EAA+J,KAA/J,EAAsK,KAAtK,EAA6K,KAA7K,EAAoL,KAApL,EAA2L,KAA3L,EAAkM,KAAlM,EAAyMvE,QAAzM,EAAmNC,QAAnN;IACH;EACJ,CAzBD;;EA0BA/V,YAAY,CAACkB,SAAb,CAAuBolB,mCAAvB,GAA6D,UAAUzD,YAAV,EAAwBnhB,OAAxB,EAAiCsjB,UAAjC,EAA6CrP,KAA7C,EAAoDpN,cAApD,EAAoE;IAC7H,IAAI6R,wBAAwB,GAAG,KAA/B;IACA,IAAItE,QAAJ,EAAcC,QAAd;;IACA,IAAI8M,YAAY,CAACzd,eAAb,KAAiC,KAAKsf,oBAA1C,EAAgE;MAC5DtK,wBAAwB,GAAG,IAA3B;MACAtE,QAAQ,GAAG+M,YAAY,CAACzd,eAAxB;MACA2Q,QAAQ,GAAG,KAAK2O,oBAAL,GAA4B,KAAKA,oBAAjC,GAAwD7B,YAAY,CAACzd,eAAhF;IACH;;IACD,IAAI4f,UAAJ,EAAgB;MACZ,IAAInC,YAAY,CAACzhB,uBAAb,IAAwC,aAA5C,EACIM,OAAO,CAAC8U,aAAR,CAAsB9S,KAAtB,CAA4BsN,UAA5B,GAAyC6R,YAAY,CAACzd,eAAtD,CADJ,KAGI1D,OAAO,CAACgC,KAAR,CAAcsN,UAAd,GAA2B6R,YAAY,CAACzd,eAAxC;IACP,CALD,MAMK;MACD,IAAIyd,YAAY,CAACzhB,uBAAb,IAAwC,aAA5C,EACIM,OAAO,CAAC8U,aAAR,CAAsB9S,KAAtB,CAA4BsN,UAA5B,GAAyC,KAAK0T,oBAAL,GAA4B,KAAKA,oBAAjC,GAAwD7B,YAAY,CAACzd,eAA9G,CADJ,KAGI1D,OAAO,CAACgC,KAAR,CAAcsN,UAAd,GAA2B,KAAK0T,oBAAL,GAA4B,KAAKA,oBAAjC,GAAwD7B,YAAY,CAACzd,eAAhG;MACJyd,YAAY,CAACzd,eAAb,GAA+B,KAAKsf,oBAAL,GAA4B,KAAKA,oBAAjC,GAAwD7B,YAAY,CAACzd,eAApG;IACH;;IACD,IAAIuQ,KAAK,GAAG,CAAC,CAAb,EAAgB;MACZpN,cAAc,CAACoN,KAAD,CAAd,CAAsB3N,SAAtB,CAAgC5C,eAAhC,GAAkD,KAAK2B,UAAL,CAAgB8b,YAAY,CAACzd,eAA7B,CAAlD;MACA,KAAKnE,aAAL,CAAmB2G,mBAAnB,CAAuC+N,KAAvC,EAA8C3N,SAA9C,CAAwD5C,eAAxD,GAA0E,KAAK2B,UAAL,CAAgB8b,YAAY,CAACzd,eAA7B,CAA1E;IACH;;IACD,KAAKpE,SAAL,CAAesM,SAAf,CAAyBuV,YAAY,CAAClhB,EAAb,CAAgByH,KAAhB,CAAsB,GAAtB,EAA2B,CAA3B,CAAzB,EAAwDhE,eAAxD,GAA0Eyd,YAAY,CAACzd,eAAvF;;IACA,IAAIgV,wBAAJ,EAA8B;MAC1B,KAAKY,gCAAL,CAAsC,2BAAtC,EAAmE6H,YAAnE,EAAiF,KAAjF,EAAwF,KAAxF,EAA+F,KAA/F,EAAsG,KAAtG,EAA6G,KAA7G,EAAoHzI,wBAApH,EAA8I,KAA9I,EAAqJ,KAArJ,EAA4J,KAA5J,EAAmK,KAAnK,EAA0K,KAA1K,EAAiL,KAAjL,EAAwL,KAAxL,EAA+L,KAA/L,EAAsM,KAAtM,EAA6MtE,QAA7M,EAAuNC,QAAvN;IACH;EACJ,CA7BD;;EA8BA/V,YAAY,CAACkB,SAAb,CAAuBmlB,yBAAvB,GAAmD,UAAUxD,YAAV,EAAwBnhB,OAAxB,EAAiCsjB,UAAjC,EAA6CrP,KAA7C,EAAoDpN,cAApD,EAAoE;IACnH,IAAI4R,cAAc,GAAG,KAArB;IACA,IAAIrE,QAAJ,EAAcC,QAAd;;IACA,IAAI8M,YAAY,CAAC1d,KAAb,KAAuB,KAAKsf,cAAhC,EAAgD;MAC5CtK,cAAc,GAAG,IAAjB;MACArE,QAAQ,GAAG+M,YAAY,CAAC1d,KAAxB;MACA4Q,QAAQ,GAAG,KAAK0O,cAAL,GAAsB,KAAKA,cAA3B,GAA4C5B,YAAY,CAAC1d,KAApE;IACH;;IACD,IAAI6f,UAAJ,EAAgB;MACZtjB,OAAO,CAACgC,KAAR,CAAcyB,KAAd,GAAsB0d,YAAY,CAAC1d,KAAnC;IACH,CAFD,MAGK;MACDzD,OAAO,CAACgC,KAAR,CAAcyB,KAAd,GAAsB,KAAKsf,cAAL,GAAsB,KAAKA,cAA3B,GAA4C5B,YAAY,CAAC1d,KAA/E;MACA0d,YAAY,CAAC1d,KAAb,GAAqB,KAAKsf,cAAL,GAAsB,KAAKA,cAA3B,GAA4C5B,YAAY,CAAC1d,KAA9E;IACH;;IACD,IAAIwQ,KAAK,GAAG,CAAC,CAAb,EAAgB;MACZpN,cAAc,CAACoN,KAAD,CAAd,CAAsB3N,SAAtB,CAAgC7C,KAAhC,GAAwC,KAAK4B,UAAL,CAAgB8b,YAAY,CAAC1d,KAA7B,CAAxC;MACA,KAAKlE,aAAL,CAAmB2G,mBAAnB,CAAuC+N,KAAvC,EAA8C3N,SAA9C,CAAwD7C,KAAxD,GAAgE,KAAK4B,UAAL,CAAgB8b,YAAY,CAAC1d,KAA7B,CAAhE;IACH;;IACD,KAAKnE,SAAL,CAAesM,SAAf,CAAyBuV,YAAY,CAAClhB,EAAb,CAAgByH,KAAhB,CAAsB,GAAtB,EAA2B,CAA3B,CAAzB,EAAwDjE,KAAxD,GAAgE0d,YAAY,CAAC1d,KAA7E;;IACA,IAAIgV,cAAJ,EAAoB;MAChB,KAAKa,gCAAL,CAAsC,2BAAtC,EAAmE6H,YAAnE,EAAiF,KAAjF,EAAwF,KAAxF,EAA+F,KAA/F,EAAsG,KAAtG,EAA6G1I,cAA7G,EAA6H,KAA7H,EAAoI,KAApI,EAA2I,KAA3I,EAAkJ,KAAlJ,EAAyJ,KAAzJ,EAAgK,KAAhK,EAAuK,KAAvK,EAA8K,KAA9K,EAAqL,KAArL,EAA4L,KAA5L,EAAmMrE,QAAnM,EAA6MC,QAA7M;IACH;EACJ,CAvBD;;EAwBA/V,YAAY,CAACkB,SAAb,CAAuBklB,6BAAvB,GAAuD,UAAUvD,YAAV,EAAwBnhB,OAAxB,EAAiCsjB,UAAjC,EAA6CrP,KAA7C,EAAoDpN,cAApD,EAAoE;IACvH,IAAIgS,kBAAkB,GAAG,KAAzB;IACA,IAAIzE,QAAJ,EAAcC,QAAd;;IACA,IAAI8M,YAAY,CAACxd,SAAb,KAA2B,KAAK8e,cAApC,EAAoD;MAChD5J,kBAAkB,GAAG,IAArB;MACAzE,QAAQ,GAAG+M,YAAY,CAACxd,SAAxB;MACA0Q,QAAQ,GAAG,KAAKoO,cAAL,GAAsB,KAAKA,cAA3B,GAA4CtB,YAAY,CAACxd,SAApE;IACH;;IACD,IAAI2f,UAAJ,EAAgB;MACZtjB,OAAO,CAACgC,KAAR,CAAcsD,SAAd,GAA0B6b,YAAY,CAACxd,SAAvC;;MACA,IAAI,CAACwd,YAAY,CAACzhB,uBAAb,IAAwC,SAAxC,IAAqDyhB,YAAY,CAACzhB,uBAAb,IAAwC,cAA9F,KAAiHM,OAAO,CAAC8L,QAAR,CAAiBtJ,MAAjB,GAA0B,CAA/I,EAAkJ;QAC9IxC,OAAO,CAACgC,KAAR,CAAc8jB,aAAd,GAA8B3E,YAAY,CAACxd,SAA3C;;QACA,KAAK,IAAIjB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG1C,OAAO,CAAC8L,QAAR,CAAiBtJ,MAArC,EAA6CE,CAAC,EAA9C,EAAkD;UAC9C,IAAIqjB,aAAa,GAAG/lB,OAAO,CAAC8L,QAAR,CAAiBpJ,CAAjB,CAApB;UACAqjB,aAAa,CAAC/jB,KAAd,CAAoB8jB,aAApB,GAAoC3E,YAAY,CAACxd,SAAjD;UACAoiB,aAAa,CAAC/jB,KAAd,CAAoBsD,SAApB,GAAgC6b,YAAY,CAACxd,SAA7C;QACH;MACJ;IACJ,CAVD,MAWK;MACD3D,OAAO,CAACgC,KAAR,CAAcsD,SAAd,GAA0B,KAAKmd,cAAL,GAAsB,KAAKA,cAA3B,GAA4CtB,YAAY,CAACxd,SAAnF;MACAwd,YAAY,CAACxd,SAAb,GAAyB,KAAK8e,cAAL,GAAsB,KAAKA,cAA3B,GAA4CtB,YAAY,CAACxd,SAAlF;;MACA,IAAI,CAACwd,YAAY,CAACzhB,uBAAb,IAAwC,SAAxC,IAAqDyhB,YAAY,CAACzhB,uBAAb,IAAwC,cAA9F,KAAiHM,OAAO,CAAC8L,QAAR,CAAiBtJ,MAAjB,GAA0B,CAA/I,EAAkJ;QAC9IxC,OAAO,CAACgC,KAAR,CAAc8jB,aAAd,GAA8B,KAAKrD,cAAL,GAAsB,KAAKA,cAA3B,GAA4CtB,YAAY,CAACxd,SAAvF;;QACA,KAAK,IAAIjB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG1C,OAAO,CAAC8L,QAAR,CAAiBtJ,MAArC,EAA6CE,CAAC,EAA9C,EAAkD;UAC9C,IAAIqjB,aAAa,GAAG/lB,OAAO,CAAC8L,QAAR,CAAiBpJ,CAAjB,CAApB;UACAqjB,aAAa,CAAC/jB,KAAd,CAAoB8jB,aAApB,GAAoC,KAAKrD,cAAL,GAAsB,KAAKA,cAA3B,GAA4CtB,YAAY,CAACxd,SAA7F;UACAoiB,aAAa,CAAC/jB,KAAd,CAAoBsD,SAApB,GAAgC,KAAKmd,cAAL,GAAsB,KAAKA,cAA3B,GAA4CtB,YAAY,CAACxd,SAAzF;QACH;MACJ;IACJ;;IACD,IAAIsQ,KAAK,GAAG,CAAC,CAAb,EAAgB;MACZpN,cAAc,CAACoN,KAAD,CAAd,CAAsB3N,SAAtB,CAAgC3C,SAAhC,GAA4Cwd,YAAY,CAACxd,SAAzD;MACA,KAAKpE,aAAL,CAAmB2G,mBAAnB,CAAuC+N,KAAvC,EAA8C3N,SAA9C,CAAwD3C,SAAxD,GAAoEwd,YAAY,CAACxd,SAAjF;IACH;;IACD,KAAKrE,SAAL,CAAesM,SAAf,CAAyBuV,YAAY,CAAClhB,EAAb,CAAgByH,KAAhB,CAAsB,GAAtB,EAA2B,CAA3B,CAAzB,EAAwD/D,SAAxD,GAAoEwd,YAAY,CAACxd,SAAjF;;IACA,IAAIkV,kBAAJ,EAAwB;MACpB,KAAKS,gCAAL,CAAsC,2BAAtC,EAAmE6H,YAAnE,EAAiF,KAAjF,EAAwF,KAAxF,EAA+F,KAA/F,EAAsG,KAAtG,EAA6G,KAA7G,EAAoH,KAApH,EAA2H,KAA3H,EAAkI,KAAlI,EAAyItI,kBAAzI,EAA6J,KAA7J,EAAoK,KAApK,EAA2K,KAA3K,EAAkL,KAAlL,EAAyL,KAAzL,EAAgM,KAAhM,EAAuMzE,QAAvM,EAAiNC,QAAjN;IACH;EACJ,CAvCD;;EAwCA/V,YAAY,CAACkB,SAAb,CAAuBglB,4BAAvB,GAAsD,UAAUrD,YAAV,EAAwBnhB,OAAxB,EAAiCsjB,UAAjC,EAA6CrP,KAA7C,EAAoDpN,cAApD,EAAoE;IACtH,IAAI0R,iBAAiB,GAAG,KAAxB;IACA,IAAInE,QAAJ,EAAcC,QAAd;IACA,IAAIhU,SAAS,GAAG,KAAKd,aAAL,CAAmBe,aAAnB,EAAhB;IACA,IAAI2B,QAAQ,GAAG,KAAK6gB,iBAAL,GAAyBlgB,QAAQ,CAAC,KAAKkgB,iBAAL,CAAuBxf,KAAvB,CAA6B6F,QAA7B,EAAD,CAAjC,GAA6E,IAA5F;IACA,IAAI6c,gBAAgB,GAAGpjB,QAAQ,CAACue,YAAY,CAAClf,QAAd,CAA/B;;IACA,IAAI+jB,gBAAgB,KAAK/jB,QAAzB,EAAmC;MAC/BsW,iBAAiB,GAAG,IAApB;MACAnE,QAAQ,GAAG+M,YAAY,CAAClf,QAAxB;MACAoS,QAAQ,GAAGpS,QAAX;IACH;;IACD,IAAIqhB,UAAJ,EAAgB;MACZtjB,OAAO,CAACgC,KAAR,CAAcC,QAAd,GAA0Bkf,YAAY,CAAClf,QAAb,GAAwB5B,SAAzB,GAAsC,KAAK8I,QAAL,EAA/D;IACH,CAFD,MAGK;MACDgY,YAAY,CAAClf,QAAb,GAAwBA,QAAxB;MACAjC,OAAO,CAACgC,KAAR,CAAcC,QAAd,GAAyBW,QAAQ,CAAC,KAAKkgB,iBAAL,CAAuBxf,KAAvB,CAA6B6F,QAA7B,EAAD,CAAR,GAAoD9I,SAApD,GAAgE,IAAzF;IACH;;IACD,IAAI4T,KAAK,GAAG,CAAC,CAAb,EAAgB;MACZpN,cAAc,CAACoN,KAAD,CAAd,CAAsB3N,SAAtB,CAAgCrE,QAAhC,GAA2Ckf,YAAY,CAAClf,QAAxD;MACA,KAAK1C,aAAL,CAAmB2G,mBAAnB,CAAuC+N,KAAvC,EAA8C3N,SAA9C,CAAwDrE,QAAxD,GAAmEkf,YAAY,CAAClf,QAAhF;IACH;;IACD,KAAK3C,SAAL,CAAesM,SAAf,CAAyBuV,YAAY,CAAClhB,EAAb,CAAgByH,KAAhB,CAAsB,GAAtB,EAA2B,CAA3B,CAAzB,EAAwDzF,QAAxD,GAAmEkf,YAAY,CAAClf,QAAhF;;IACA,IAAIsW,iBAAJ,EAAuB;MACnB,KAAKe,gCAAL,CAAsC,2BAAtC,EAAmE6H,YAAnE,EAAiF,KAAjF,EAAwF,KAAxF,EAA+F5I,iBAA/F,EAAkH,KAAlH,EAAyH,KAAzH,EAAgI,KAAhI,EAAuI,KAAvI,EAA8I,KAA9I,EAAqJ,KAArJ,EAA4J,KAA5J,EAAmK,KAAnK,EAA0K,KAA1K,EAAiL,KAAjL,EAAwL,KAAxL,EAA+L,KAA/L,EAAsMnE,QAAtM,EAAgNC,QAAhN;IACH;EACJ,CA1BD;;EA2BA/V,YAAY,CAACkB,SAAb,CAAuB+kB,8BAAvB,GAAwD,UAAUpD,YAAV,EAAwBnhB,OAAxB,EAAiCsjB,UAAjC,EAA6CrP,KAA7C,EAAoDpN,cAApD,EAAoE;IACxH,IAAIyR,mBAAmB,GAAG,KAA1B;IACA,IAAIlE,QAAJ,EAAcC,QAAd;IACA,IAAI9Q,UAAU,GAAG,KAAKsf,mBAAL,GAA2B,KAAKA,mBAAL,CAAyBvf,KAAzB,CAA+B6F,QAA/B,EAA3B,GAAuE,EAAxF;;IACA,IAAIgY,YAAY,CAAC5d,UAAb,KAA4BA,UAAhC,EAA4C;MACxC+U,mBAAmB,GAAG,IAAtB;MACAlE,QAAQ,GAAG+M,YAAY,CAAC5d,UAAxB;MACA8Q,QAAQ,GAAG9Q,UAAX;IACH;;IACD,IAAI+f,UAAJ,EAAgB;MACZtjB,OAAO,CAACgC,KAAR,CAAcuB,UAAd,GAA2B4d,YAAY,CAAC5d,UAAxC;IACH,CAFD,MAGK;MACD4d,YAAY,CAAC5d,UAAb,GAA0BA,UAA1B;MACAvD,OAAO,CAACgC,KAAR,CAAcuB,UAAd,GAA2BA,UAA3B;IACH;;IACD,IAAI0Q,KAAK,GAAG,CAAC,CAAb,EAAgB;MACZpN,cAAc,CAACoN,KAAD,CAAd,CAAsB3N,SAAtB,CAAgC/C,UAAhC,GAA6C4d,YAAY,CAAC5d,UAA1D;MACA,KAAKhE,aAAL,CAAmB2G,mBAAnB,CAAuC+N,KAAvC,EAA8C3N,SAA9C,CAAwD/C,UAAxD,GAAqE4d,YAAY,CAAC5d,UAAlF;IACH;;IACD,KAAKjE,SAAL,CAAesM,SAAf,CAAyBuV,YAAY,CAAClhB,EAAb,CAAgByH,KAAhB,CAAsB,GAAtB,EAA2B,CAA3B,CAAzB,EAAwDnE,UAAxD,GAAqE4d,YAAY,CAAC5d,UAAlF;;IACA,IAAI+U,mBAAJ,EAAyB;MACrB,KAAKgB,gCAAL,CAAsC,2BAAtC,EAAmE6H,YAAnE,EAAiF,KAAjF,EAAwF7I,mBAAxF,EAA6G,KAA7G,EAAoH,KAApH,EAA2H,KAA3H,EAAkI,KAAlI,EAAyI,KAAzI,EAAgJ,KAAhJ,EAAuJ,KAAvJ,EAA8J,KAA9J,EAAqK,KAArK,EAA4K,KAA5K,EAAmL,KAAnL,EAA0L,KAA1L,EAAiM,KAAjM,EAAwMlE,QAAxM,EAAkNC,QAAlN;IACH;EACJ,CAxBD;;EAyBA/V,YAAY,CAACkB,SAAb,CAAuB8kB,8BAAvB,GAAwD,UAAUnD,YAAV,EAAwBnhB,OAAxB,EAAiCsjB,UAAjC,EAA6CrP,KAA7C,EAAoDpN,cAApD,EAAoE;IACxH,IAAIkS,mBAAmB,GAAG,KAA1B;IACA,IAAI3E,QAAJ,EAAcC,QAAd;;IACA,IAAI,KAAKuO,mBAAL,IAA6BzB,YAAY,CAACtd,UAAb,KAA4B,KAAK+e,mBAAL,CAAyBtf,KAAtF,EAA8F;MAC1FyV,mBAAmB,GAAG,IAAtB;MACA3E,QAAQ,GAAG+M,YAAY,CAACtd,UAAxB;MACAwQ,QAAQ,GAAG,KAAKuO,mBAAL,CAAyBtf,KAApC;IACH;;IACD,IAAI,CAACggB,UAAL,EAAiB;MACbnC,YAAY,CAACtd,UAAb,GAA0B,KAAK+e,mBAAL,CAAyBtf,KAAnD;IACH;;IACDtD,OAAO,CAACgC,KAAR,CAAc6B,UAAd,GAA2Bsd,YAAY,CAACtd,UAAxC;;IACA,IAAIsd,YAAY,CAACzhB,uBAAb,KAAyC,aAA7C,EAA4D;MACxDM,OAAO,CAAC8U,aAAR,CAAsB9S,KAAtB,CAA4B6B,UAA5B,GAAyCsd,YAAY,CAACtd,UAAtD;IACH;;IACD,IAAIsd,YAAY,CAACzhB,uBAAb,KAAyC,gBAAzC,IAA6DyhB,YAAY,CAACzhB,uBAAb,KAAyC,cAA1G,EAA0H;MACtH,IAAIumB,WAAW,GAAGnmB,QAAQ,CAACC,cAAT,CAAwBohB,YAAY,CAAClhB,EAAb,GAAkB,uBAA1C,EAAmEmM,iBAAnE,CAAqFN,QAArF,CAA8F,CAA9F,CAAlB;MACAma,WAAW,CAACjkB,KAAZ,CAAkB6B,UAAlB,GAA+Bsd,YAAY,CAACtd,UAA5C;MACAoiB,WAAW,CAACnR,aAAZ,CAA0B9S,KAA1B,CAAgC6B,UAAhC,GAA6Csd,YAAY,CAACtd,UAA1D;MACA,IAAI2Q,UAAU,GAAG,KAAKlV,SAAL,CAAesM,SAAf,CAAyBuV,YAAY,CAAClhB,EAAb,CAAgByH,KAAhB,CAAsB,GAAtB,EAA2B,CAA3B,IAAgC,UAAzD,CAAjB;;MACA,IAAIyZ,YAAY,CAACtd,UAAb,KAA4B,QAAhC,EAA0C;QACtC,IAAI2Q,UAAJ,EAAgB;UACZ,KAAKuF,kBAAL,CAAwBoH,YAAxB,EAAsC3M,UAAtC,EAAkDP,KAAlD,EAAyDpN,cAAzD;QACH;MACJ,CAJD,MAKK;QACD,IAAI2N,UAAJ,EAAgB;UACZ,KAAKwF,kBAAL,CAAwBmH,YAAxB,EAAsC/M,QAAtC,EAAgDI,UAAhD,EAA4DP,KAA5D,EAAmEpN,cAAnE;QACH;MACJ;IACJ;;IACD,IAAIoN,KAAK,GAAG,CAAC,CAAb,EAAgB;MACZpN,cAAc,CAACoN,KAAD,CAAd,CAAsB3N,SAAtB,CAAgCzC,UAAhC,GAA6Csd,YAAY,CAACtd,UAA1D;MACA,KAAKtE,aAAL,CAAmB2G,mBAAnB,CAAuC+N,KAAvC,EAA8C3N,SAA9C,CAAwDzC,UAAxD,GAAqEsd,YAAY,CAACtd,UAAlF;IACH,CAlCuH,CAmCxH;;;IACA,KAAKvE,SAAL,CAAesM,SAAf,CAAyBuV,YAAY,CAAClhB,EAAb,CAAgByH,KAAhB,CAAsB,GAAtB,EAA2B,CAA3B,CAAzB,EAAwD7D,UAAxD,GAAqEsd,YAAY,CAACtd,UAAlF;;IACA,IAAIkV,mBAAJ,EAAyB;MACrB,KAAKxZ,aAAL,CAAmBgH,uBAAnB,CAA2C,KAAKhH,aAAL,CAAmB2G,mBAA9D,EAAmF,eAAnF;MACA,KAAKoT,gCAAL,CAAsC,2BAAtC,EAAmE6H,YAAnE,EAAiF,KAAjF,EAAwF,KAAxF,EAA+F,KAA/F,EAAsG,KAAtG,EAA6G,KAA7G,EAAoH,KAApH,EAA2H,KAA3H,EAAkI,KAAlI,EAAyI,KAAzI,EAAgJ,KAAhJ,EAAuJpI,mBAAvJ,EAA4K,KAA5K,EAAmL,KAAnL,EAA0L,KAA1L,EAAiM,KAAjM,EAAwM3E,QAAxM,EAAkNC,QAAlN;IACH;EACJ,CAzCD;;EA0CA/V,YAAY,CAACkB,SAAb,CAAuBua,kBAAvB,GAA4C,UAAUoH,YAAV,EAAwB3M,UAAxB,EAAoCP,KAApC,EAA2CpN,cAA3C,EAA2D;IACnGsa,YAAY,CAACtV,OAAb,CAAqBC,QAArB,CAA8B1F,MAA9B,CAAqC+a,YAAY,CAACtV,OAAb,CAAqBC,QAArB,CAA8B1C,OAA9B,CAAsCoL,UAAU,CAAC3I,OAAX,CAAmBC,QAAnB,CAA4B,CAA5B,CAAtC,CAArC,EAA4G,CAA5G;IACAqV,YAAY,CAAC7d,KAAb,GAAqB,EAArB;IACA6d,YAAY,CAACjc,aAAb,GAA6B,EAA7B;IACA2B,cAAc,CAACoN,KAAD,CAAd,CAAsB3N,SAAtB,CAAgChD,KAAhC,GAAwC,EAAxC;IACAuD,cAAc,CAACoN,KAAD,CAAd,CAAsB3N,SAAtB,CAAgCpB,aAAhC,GAAgD,EAAhD;IACA,KAAK3F,aAAL,CAAmB2G,mBAAnB,CAAuC+N,KAAvC,EAA8C3N,SAA9C,CAAwDhD,KAAxD,GAAgE,EAAhE;IACA,KAAK/D,aAAL,CAAmB2G,mBAAnB,CAAuC+N,KAAvC,EAA8C3N,SAA9C,CAAwDpB,aAAxD,GAAwE,EAAxE;IACA,KAAK5F,SAAL,CAAesV,MAAf,CAAsBJ,UAAtB;IACA,KAAKlV,SAAL,CAAe0b,aAAf;EACH,CAVD;;EAWA1c,YAAY,CAACkB,SAAb,CAAuBwa,kBAAvB,GAA4C,UAAUmH,YAAV,EAAwB/M,QAAxB,EAAkCI,UAAlC,EAA8CP,KAA9C,EAAqDpN,cAArD,EAAqE;IAC7G,IAAI2N,UAAU,CAAC0R,mBAAX,KAAmC,eAAvC,EAAwD;MACpD/E,YAAY,CAAC7d,KAAb,GAAqBkR,UAAU,CAAC7N,IAAhC;MACAwa,YAAY,CAACjc,aAAb,GAA6B,MAA7B;MACA2B,cAAc,CAACoN,KAAD,CAAd,CAAsB3N,SAAtB,CAAgCpB,aAAhC,GAAgD,MAAhD;MACA2B,cAAc,CAACoN,KAAD,CAAd,CAAsB3N,SAAtB,CAAgChD,KAAhC,GAAwCkR,UAAU,CAAC7N,IAAnD;MACA,KAAKpH,aAAL,CAAmB2G,mBAAnB,CAAuC+N,KAAvC,EAA8C3N,SAA9C,CAAwDhD,KAAxD,GAAgEkR,UAAU,CAAC7N,IAA3E;MACA,KAAKpH,aAAL,CAAmB2G,mBAAnB,CAAuC+N,KAAvC,EAA8C3N,SAA9C,CAAwDpB,aAAxD,GAAwE,MAAxE;IACH,CAPD,MAQK,IAAIsP,UAAU,CAAC0R,mBAAX,KAAmC,gBAAvC,EAAyD;MAC1D/E,YAAY,CAAC7d,KAAb,GAAqBkR,UAAU,CAAC7N,IAAhC;MACAwa,YAAY,CAACjc,aAAb,GAA6B,OAA7B;MACA2B,cAAc,CAACoN,KAAD,CAAd,CAAsB3N,SAAtB,CAAgCpB,aAAhC,GAAgD,OAAhD;MACA2B,cAAc,CAACoN,KAAD,CAAd,CAAsB3N,SAAtB,CAAgChD,KAAhC,GAAwCkR,UAAU,CAAC7N,IAAnD;MACA,KAAKpH,aAAL,CAAmB2G,mBAAnB,CAAuC+N,KAAvC,EAA8C3N,SAA9C,CAAwDhD,KAAxD,GAAgEkR,UAAU,CAAC7N,IAA3E;MACA,KAAKpH,aAAL,CAAmB2G,mBAAnB,CAAuC+N,KAAvC,EAA8C3N,SAA9C,CAAwDpB,aAAxD,GAAwE,OAAxE;IACH,CAPI,MAQA;MACD2B,cAAc,CAACoN,KAAD,CAAd,CAAsB3N,SAAtB,CAAgCpB,aAAhC,GAAgD,MAAhD;MACAic,YAAY,CAACjc,aAAb,GAA6B,MAA7B;MACA,KAAK3F,aAAL,CAAmB2G,mBAAnB,CAAuC+N,KAAvC,EAA8C3N,SAA9C,CAAwDpB,aAAxD,GAAwE,MAAxE;MACA,IAAIihB,cAAc,GAAG9oB,eAAe,CAACmX,UAAU,CAAC7N,IAAZ,CAApC;MACA,IAAIyf,MAAM,GAAGhpB,oBAAoB,CAAC+oB,cAAD,CAAjC;MACAhF,YAAY,CAAC7d,KAAb,GAAqBwD,IAAI,CAAC+V,SAAL,CAAeuJ,MAAf,CAArB;MACAvf,cAAc,CAACoN,KAAD,CAAd,CAAsB3N,SAAtB,CAAgChD,KAAhC,GAAwCwD,IAAI,CAAC+V,SAAL,CAAeuJ,MAAf,CAAxC;MACA,KAAK7mB,aAAL,CAAmB2G,mBAAnB,CAAuC+N,KAAvC,EAA8C3N,SAA9C,CAAwDhD,KAAxD,GAAgEwD,IAAI,CAAC+V,SAAL,CAAeuJ,MAAf,CAAhE;IACH;;IACDjF,YAAY,CAAChc,cAAb,GAA8BqP,UAAU,CAACrP,cAAzC;;IACA,IAAIiP,QAAQ,KAAK,QAAjB,EAA2B;MACvB,KAAK9U,SAAL,CAAeuV,GAAf,CAAmBL,UAAnB;MACA2M,YAAY,CAACtV,OAAb,CAAqBC,QAArB,CAA8B/F,IAA9B,CAAmCyO,UAAU,CAAC3I,OAA9C;MACA,IAAIwa,OAAO,GAAGvmB,QAAQ,CAACC,cAAT,CAAwB,KAAKT,SAAL,CAAeU,OAAf,CAAuBC,EAAvB,GAA4B,oBAA5B,GAAmDkhB,YAAY,CAACzf,SAAxF,CAAd;MACA,KAAKpC,SAAL,CAAe0b,aAAf,CAA6BqL,OAA7B,EAAsClF,YAAY,CAACzf,SAAnD;IACH;;IACD;IACA,KAAKpC,SAAL,CAAe0b,aAAf;EACH,CApCD;;EAqCA1c,YAAY,CAACkB,SAAb,CAAuB6kB,2BAAvB,GAAqD,UAAUlD,YAAV,EAAwBnhB,OAAxB,EAAiCsjB,UAAjC,EAA6CrP,KAA7C,EAAoDpN,cAApD,EAAoE;IACrH,IAAIsS,gBAAgB,GAAG,KAAvB;IACA,IAAI/E,QAAJ,EAAcC,QAAd;;IACA,IAAI,KAAKsO,gBAAL,IAA0BxB,YAAY,CAACjd,OAAb,KAAyB,KAAKye,gBAAL,CAAsBrf,KAA7E,EAAqF;MACjF6V,gBAAgB,GAAG,IAAnB;MACA/E,QAAQ,GAAG+M,YAAY,CAACjd,OAAxB;MACAmQ,QAAQ,GAAG,KAAKsO,gBAAL,CAAsBrf,KAAjC;IACH;;IACD,IAAIggB,UAAJ,EAAgB;MACZ,KAAKX,gBAAL,GAAwB,IAAI7kB,OAAJ,EAAxB;MACA,KAAK6kB,gBAAL,CAAsBrf,KAAtB,GAA8B6d,YAAY,CAACjd,OAA3C;IACH,CAHD,MAIK;MACDid,YAAY,CAACjd,OAAb,GAAuB,KAAKye,gBAAL,GAAwB,KAAKA,gBAAL,CAAsBrf,KAA9C,GAAsD6d,YAAY,CAACjd,OAA1F;IACH;;IACD,IAAI+P,KAAK,GAAG,CAAC,CAAb,EAAgB;MACZpN,cAAc,CAACoN,KAAD,CAAd,CAAsB3N,SAAtB,CAAgCpC,OAAhC,GAA0Cid,YAAY,CAACjd,OAAvD;MACA,KAAK3E,aAAL,CAAmB2G,mBAAnB,CAAuC+N,KAAvC,EAA8C3N,SAA9C,CAAwDpC,OAAxD,GAAkEid,YAAY,CAACjd,OAA/E;IACH;;IACD,KAAK5E,SAAL,CAAesM,SAAf,CAAyBuV,YAAY,CAAClhB,EAAb,CAAgByH,KAAhB,CAAsB,GAAtB,EAA2B,CAA3B,CAAzB,EAAwDxD,OAAxD,GAAkE,KAAKye,gBAAL,CAAsBrf,KAAxF;;IACA,IAAI,CAAC/F,iBAAiB,CAAC,KAAKolB,gBAAL,CAAsBrf,KAAvB,CAAlB,IAAmD,KAAKqf,gBAAL,CAAsBrf,KAAtB,KAAgC,EAAvF,EAA2F;MACvF,KAAKsM,UAAL,CAAgB,KAAK+S,gBAAL,CAAsBrf,KAAtC,EAA6C6d,YAAY,CAACzhB,uBAAb,IAAwC,aAAxC,IAAyDyhB,YAAY,CAACzhB,uBAAb,IAAwC,cAAjG,GAAkHM,OAAO,CAAC8U,aAA1H,GAA0I9U,OAAvL;IACH;;IACD,IAAImZ,gBAAJ,EAAsB;MAClB,KAAK5Z,aAAL,CAAmBgH,uBAAnB,CAA2C,KAAKhH,aAAL,CAAmB2G,mBAA9D,EAAmF,eAAnF;MACA,KAAKoT,gCAAL,CAAsC,2BAAtC,EAAmE6H,YAAnE,EAAiF,KAAjF,EAAwF,KAAxF,EAA+F,KAA/F,EAAsG,KAAtG,EAA6G,KAA7G,EAAoH,KAApH,EAA2H,KAA3H,EAAkI,KAAlI,EAAyI,KAAzI,EAAgJ,KAAhJ,EAAuJ,KAAvJ,EAA8J,KAA9J,EAAqK,KAArK,EAA4K,KAA5K,EAAmLhI,gBAAnL,EAAqM/E,QAArM,EAA+MC,QAA/M;IACH;EACJ,CA3BD;;EA4BA/V,YAAY,CAACkB,SAAb,CAAuB0kB,wBAAvB,GAAkD,UAAU/C,YAAV,EAAwBnhB,OAAxB,EAAiCsjB,UAAjC,EAA6CrP,KAA7C,EAAoDpN,cAApD,EAAoE;IAClH,IAAIwS,YAAY,GAAGvZ,QAAQ,CAACC,cAAT,CAAwBohB,YAAY,CAAClhB,EAAb,GAAkB,gBAA1C,CAAnB;IACA,IAAII,SAAS,GAAG,KAAKd,aAAL,CAAmBe,aAAnB,EAAhB;IACA+Y,YAAY,CAACrX,KAAb,CAAmBC,QAAnB,GAA8Bkf,YAAY,CAAClf,QAAb,GAAyBkf,YAAY,CAAClf,QAAb,GAAwB5B,SAAzB,GAAsC,IAA9D,GAAsE,KAAKA,SAAN,GAAmB,IAAtH;;IACA,IAAIijB,UAAJ,EAAgB;MACZjK,YAAY,CAACjX,SAAb,GAAyB+e,YAAY,CAAC9e,IAAtC;IACH,CAFD,MAGK;MACD8e,YAAY,CAAC9e,IAAb,GAAoB,KAAKkgB,aAAL,GAAqB,KAAKA,aAAL,CAAmBjf,KAAxC,GAAgD6d,YAAY,CAAC9e,IAAjF;MACAgX,YAAY,CAACjX,SAAb,GAAyB+e,YAAY,CAAC9e,IAAtC;IACH;;IACD,IAAI4R,KAAK,GAAG,CAAC,CAAb,EAAgB;MACZ,IAAIpN,cAAc,CAACoN,KAAD,CAAd,CAAsB3N,SAAtB,CAAgCjE,IAAhC,KAAyC8e,YAAY,CAAC9e,IAA1D,EAAgE;QAC5D,KAAKiX,gCAAL,CAAsC,2BAAtC,EAAmE6H,YAAnE,EAAiF,KAAjF,EAAwF,KAAxF,EAA+F,KAA/F,EAAsG,KAAtG,EAA6G,KAA7G,EAAoH,KAApH,EAA2H,KAA3H,EAAkI,KAAlI,EAAyI,KAAzI,EAAgJ,KAAhJ,EAAuJ,KAAvJ,EAA8J,KAA9J,EAAqK,KAArK,EAA4K,KAA5K,EAAmL,KAAnL,EAA0L,IAA1L,EAAgM,IAAhM,EAAsM,IAAtM,EAA4Mta,cAAc,CAACoN,KAAD,CAAd,CAAsB3N,SAAtB,CAAgCjE,IAA5O;MACH;;MACDwE,cAAc,CAACoN,KAAD,CAAd,CAAsB3N,SAAtB,CAAgCjE,IAAhC,GAAuC8e,YAAY,CAAC9e,IAApD;MACA,KAAK9C,aAAL,CAAmB2G,mBAAnB,CAAuC+N,KAAvC,EAA8C3N,SAA9C,CAAwDjE,IAAxD,GAA+D8e,YAAY,CAAC9e,IAA5E;IACH;;IACDrC,OAAO,CAACqC,IAAR,GAAe8e,YAAY,CAAC9e,IAA5B;IACA,KAAK/C,SAAL,CAAesM,SAAf,CAAyBuV,YAAY,CAAClhB,EAAb,CAAgByH,KAAhB,CAAsB,GAAtB,EAA2B,CAA3B,CAAzB,EAAwDrF,IAAxD,GAA+D8e,YAAY,CAAC9e,IAA5E;;IACA,IAAI8e,YAAY,CAACzhB,uBAAb,IAAwC,cAAxC,IAA0DyhB,YAAY,CAACzhB,uBAAb,IAAwC,SAAtG,EAAiH;MAC7G,KAAK,IAAIgD,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKpD,SAAL,CAAe4G,mBAAf,CAAmC1D,MAAvD,EAA+DE,CAAC,EAAhE,EAAoE;QAChE,IAAIiT,SAAS,GAAG,KAAKrW,SAAL,CAAe4G,mBAAf,CAAmCxD,CAAnC,CAAhB;;QACA,IAAI,CAACiT,SAAS,CAACjW,uBAAV,KAAsC,cAAtC,IAAwDiW,SAAS,CAACjW,uBAAV,KAAsC,SAA/F,KAA6GiW,SAAS,CAACtT,IAAV,KAAmB8e,YAAY,CAAC9e,IAA7I,IAAqJsT,SAAS,CAAC1V,EAAV,KAAiBkhB,YAAY,CAAClhB,EAAvL,EAA2L;UACvLkhB,YAAY,CAAC9c,OAAb,GAAuBsR,SAAS,CAACtR,OAAjC;UACA,KAAK8V,4BAAL,CAAkCgH,YAAlC,EAAgDnhB,OAAhD;UACA;QACH;MACJ;IACJ;EACJ,CA9BD;;EA+BA1B,YAAY,CAACkB,SAAb,CAAuBulB,8BAAvB,GAAwD,UAAU5D,YAAV,EAAwBnhB,OAAxB,EAAiCsjB,UAAjC,EAA6CrP,KAA7C,EAAoDpN,cAApD,EAAoE;IACxH,IAAIiS,iBAAiB,GAAG,KAAxB;IACA,IAAI1E,QAAJ,EAAcC,QAAd;;IACA,IAAI,KAAK8O,iBAAL,IAA2BhC,YAAY,CAACvd,UAAb,KAA4B,KAAKuf,iBAAL,CAAuBjJ,OAAlF,EAA4F;MACxFpB,iBAAiB,GAAG,IAApB;MACA1E,QAAQ,GAAG+M,YAAY,CAACvd,UAAxB;MACAyQ,QAAQ,GAAG,KAAK8O,iBAAL,CAAuBjJ,OAAlC;IACH;;IACD,IAAIoJ,UAAJ,EAAgB;MACZ,KAAKH,iBAAL,GAAyB,IAAIjlB,QAAJ,EAAzB;MACA,KAAKilB,iBAAL,CAAuBjJ,OAAvB,GAAiCiH,YAAY,CAACvd,UAA9C;IACH,CAHD,MAIK;MACDud,YAAY,CAACvd,UAAb,GAA0B,KAAKuf,iBAAL,CAAuBjJ,OAAjD;IACH;;IACD,IAAIjG,KAAK,GAAG,CAAC,CAAb,EAAgB;MACZpN,cAAc,CAACoN,KAAD,CAAd,CAAsB3N,SAAtB,CAAgC1C,UAAhC,GAA6Cud,YAAY,CAACvd,UAA1D;MACA,KAAKrE,aAAL,CAAmB2G,mBAAnB,CAAuC+N,KAAvC,EAA8C3N,SAA9C,CAAwD1C,UAAxD,GAAqEud,YAAY,CAACvd,UAAlF;IACH;;IACD,KAAKtE,SAAL,CAAesM,SAAf,CAAyBuV,YAAY,CAAClhB,EAAb,CAAgByH,KAAhB,CAAsB,GAAtB,EAA2B,CAA3B,CAAzB,EAAwD9D,UAAxD,GAAqEud,YAAY,CAACvd,UAAlF;IACA,KAAK8V,oBAAL,CAA0ByH,YAA1B,EAAwCnhB,OAAxC,EAAiDmhB,YAAY,CAACvd,UAA9D;IACA,KAAK+V,sBAAL,CAA4BwH,YAA5B,EAA0CA,YAAY,CAACvd,UAAvD;;IACA,IAAIkV,iBAAJ,EAAuB;MACnB,KAAKvZ,aAAL,CAAmBgH,uBAAnB,CAA2C,KAAKhH,aAAL,CAAmB2G,mBAA9D,EAAmF,eAAnF;MACA,KAAKoT,gCAAL,CAAsC,2BAAtC,EAAmE6H,YAAnE,EAAiF,KAAjF,EAAwF,KAAxF,EAA+F,KAA/F,EAAsG,KAAtG,EAA6G,KAA7G,EAAoH,KAApH,EAA2H,KAA3H,EAAkI,KAAlI,EAAyI,KAAzI,EAAgJrI,iBAAhJ,EAAmK,KAAnK,EAA0K,KAA1K,EAAiL,KAAjL,EAAwL,KAAxL,EAA+L,KAA/L,EAAsM1E,QAAtM,EAAgNC,QAAhN;IACH;EACJ,CA1BD;;EA2BA/V,YAAY,CAACkB,SAAb,CAAuBwlB,8BAAvB,GAAwD,UAAU7D,YAAV,EAAwBnhB,OAAxB,EAAiCsjB,UAAjC,EAA6CrP,KAA7C,EAAoDpN,cAApD,EAAoE;IACxH,IAAIoS,iBAAiB,GAAG,KAAxB;IACA,IAAI7E,QAAJ,EAAcC,QAAd;;IACA,IAAI,KAAK+O,iBAAL,IAA2BjC,YAAY,CAACpd,UAAb,KAA4B,KAAKqf,iBAAL,CAAuBlJ,OAAlF,EAA4F;MACxFjB,iBAAiB,GAAG,IAApB;MACA7E,QAAQ,GAAG+M,YAAY,CAACpd,UAAxB;MACAsQ,QAAQ,GAAG,KAAK+O,iBAAL,CAAuBlJ,OAAlC;IACH;;IACD,IAAIoJ,UAAJ,EAAgB;MACZ,KAAKF,iBAAL,GAAyB,IAAIllB,QAAJ,EAAzB;MACA,KAAKklB,iBAAL,CAAuBlJ,OAAvB,GAAiCiH,YAAY,CAACpd,UAA9C;IACH,CAHD,MAIK;MACDod,YAAY,CAACpd,UAAb,GAA0B,KAAKqf,iBAAL,CAAuBlJ,OAAjD;IACH;;IACD,IAAIjG,KAAK,GAAG,CAAC,CAAb,EAAgB;MACZpN,cAAc,CAACoN,KAAD,CAAd,CAAsB3N,SAAtB,CAAgCvC,UAAhC,GAA6Cod,YAAY,CAACpd,UAA1D;MACA,KAAKxE,aAAL,CAAmB2G,mBAAnB,CAAuC+N,KAAvC,EAA8C3N,SAA9C,CAAwDvC,UAAxD,GAAqEod,YAAY,CAACpd,UAAlF;;MACA,IAAI,KAAKxE,aAAL,CAAmB2G,mBAAnB,CAAuC+N,KAAvC,EAA8C3N,SAA9C,CAAwDT,eAA5D,EAA6E;QACzE,KAAK,IAAInD,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKnD,aAAL,CAAmB2G,mBAAnB,CAAuC+N,KAAvC,EAA8C3N,SAA9C,CAAwDT,eAAxD,CAAwErD,MAA5F,EAAoGE,CAAC,EAArG,EAAyG;UACrG,KAAKnD,aAAL,CAAmB2G,mBAAnB,CAAuC+N,KAAvC,EAA8C3N,SAA9C,CAAwDT,eAAxD,CAAwEnD,CAAxE,EAA2EqB,UAA3E,GAAwFod,YAAY,CAACpd,UAArG;UACA,KAAKzE,SAAL,CAAesM,SAAf,CAAyB,KAAKrM,aAAL,CAAmB2G,mBAAnB,CAAuC+N,KAAvC,EAA8C3N,SAA9C,CAAwDT,eAAxD,CAAwEnD,CAAxE,EAA2EzC,EAA3E,CAA8EyH,KAA9E,CAAoF,GAApF,EAAyF,CAAzF,CAAzB,EAAsH3D,UAAtH,GAAmIod,YAAY,CAACpd,UAAhJ;QACH;;QACD,KAAKxE,aAAL,CAAmBgH,uBAAnB,CAA2C,KAAKhH,aAAL,CAAmB2G,mBAA9D,EAAmF,eAAnF;MACH;IACJ;;IACD,KAAK5G,SAAL,CAAesM,SAAf,CAAyBuV,YAAY,CAAClhB,EAAb,CAAgByH,KAAhB,CAAsB,GAAtB,EAA2B,CAA3B,CAAzB,EAAwD3D,UAAxD,GAAqEod,YAAY,CAACpd,UAAlF;IACA,KAAK6V,oBAAL,CAA0BuH,YAA1B,EAAwCnhB,OAAxC,EAAiDmhB,YAAY,CAACpd,UAA9D;IACA,KAAK8V,sBAAL,CAA4BsH,YAA5B,EAA0CA,YAAY,CAACpd,UAAvD;;IACA,IAAIkV,iBAAJ,EAAuB;MACnB,KAAK1Z,aAAL,CAAmBgH,uBAAnB,CAA2C,KAAKhH,aAAL,CAAmB2G,mBAA9D,EAAmF,eAAnF;MACA,KAAKoT,gCAAL,CAAsC,2BAAtC,EAAmE6H,YAAnE,EAAiF,KAAjF,EAAwF,KAAxF,EAA+F,KAA/F,EAAsG,KAAtG,EAA6G,KAA7G,EAAoH,KAApH,EAA2H,KAA3H,EAAkI,KAAlI,EAAyI,KAAzI,EAAgJ,KAAhJ,EAAuJ,KAAvJ,EAA8J,KAA9J,EAAqKlI,iBAArK,EAAwL,KAAxL,EAA+L,KAA/L,EAAsM7E,QAAtM,EAAgNC,QAAhN;IACH;EACJ,CAjCD;;EAkCA/V,YAAY,CAACkB,SAAb,CAAuB4kB,2BAAvB,GAAqD,UAAUjD,YAAV,EAAwBmC,UAAxB,EAAoCrP,KAApC,EAA2CpN,cAA3C,EAA2D;IAC5G,IAAIqS,cAAc,GAAG,KAArB;IACA,IAAI9E,QAAJ,EAAcC,QAAd;;IACA,IAAI,KAAKqO,iBAAL,IAA2BvB,YAAY,CAACnd,OAAb,KAAyB,KAAK0e,iBAAL,CAAuBxI,OAA/E,EAAyF;MACrFhB,cAAc,GAAG,IAAjB;MACA9E,QAAQ,GAAG+M,YAAY,CAACnd,OAAxB;MACAqQ,QAAQ,GAAG,KAAKqO,iBAAL,CAAuBxI,OAAlC;IACH;;IACD,IAAIoJ,UAAJ,EAAgB;MACZ,KAAKZ,iBAAL,GAAyB,IAAIxkB,QAAJ,EAAzB;MACA,KAAKwkB,iBAAL,CAAuBxI,OAAvB,GAAiCiH,YAAY,CAACnd,OAA9C;IACH,CAHD,MAIK;MACDmd,YAAY,CAACnd,OAAb,GAAuB,KAAK0e,iBAAL,CAAuBxI,OAA9C;IACH;;IACD,IAAIjG,KAAK,GAAG,CAAC,CAAb,EAAgB;MACZpN,cAAc,CAACoN,KAAD,CAAd,CAAsB3N,SAAtB,CAAgCtC,OAAhC,GAA0Cmd,YAAY,CAACnd,OAAvD;MACA,KAAKzE,aAAL,CAAmB2G,mBAAnB,CAAuC+N,KAAvC,EAA8C3N,SAA9C,CAAwDtC,OAAxD,GAAkEmd,YAAY,CAACnd,OAA/E;IACH;;IACD,KAAK1E,SAAL,CAAesM,SAAf,CAAyBuV,YAAY,CAAClhB,EAAb,CAAgByH,KAAhB,CAAsB,GAAtB,EAA2B,CAA3B,CAAzB,EAAwD1D,OAAxD,GAAkEmd,YAAY,CAACnd,OAA/E;;IACA,IAAIkV,cAAJ,EAAoB;MAChB,KAAKI,gCAAL,CAAsC,2BAAtC,EAAmE6H,YAAnE,EAAiF,KAAjF,EAAwF,KAAxF,EAA+F,KAA/F,EAAsG,KAAtG,EAA6G,KAA7G,EAAoH,KAApH,EAA2H,KAA3H,EAAkI,KAAlI,EAAyI,KAAzI,EAAgJ,KAAhJ,EAAuJ,KAAvJ,EAA8J,KAA9J,EAAqK,KAArK,EAA4KjI,cAA5K,EAA4L,KAA5L,EAAmM9E,QAAnM,EAA6MC,QAA7M;IACH;EACJ,CAvBD;EAwBA;AACJ;AACA;;;EACI/V,YAAY,CAACkB,SAAb,CAAuBsa,iBAAvB,GAA2C,UAAU7Z,EAAV,EAAc;IACrD,IAAI,KAAKV,aAAL,CAAmB2G,mBAAnB,IAA0C,IAA1C,IAAkD,KAAK3G,aAAL,CAAmB2G,mBAAnB,CAAuC1D,MAAvC,IAAiD,CAAvG,EACI,OAAO,CAAC,CAAR;IACJ,IAAIyR,KAAK,GAAG,KAAK1U,aAAL,CAAmB2G,mBAAnB,CAAuCgQ,SAAvC,CAAiD,UAAUC,EAAV,EAAc;MAAE,OAAOA,EAAE,CAAC9P,GAAH,CAAOqB,KAAP,CAAa,GAAb,EAAkB,CAAlB,MAAyBzH,EAAhC;IAAqC,CAAtG,CAAZ;;IACA,IAAIgU,KAAK,GAAG,CAAC,CAAb,EAAgB;MACZ,OAAOA,KAAP;IACH,CAFD,MAGK;MACD,KAAK,IAAIvR,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKnD,aAAL,CAAmB2G,mBAAnB,CAAuC1D,MAA3D,EAAmEE,CAAC,EAApE,EAAwE;QACpE,IAAI,KAAKnD,aAAL,CAAmB2G,mBAAnB,CAAuCxD,CAAvC,EAA0C4D,SAA1C,CAAoD5G,uBAApD,KAAgF,aAAhF,IAAiG,KAAKH,aAAL,CAAmB2G,mBAAnB,CAAuCxD,CAAvC,EAA0C4D,SAA1C,CAAoDT,eAAzJ,EAA0K;UACtK,KAAK,IAAIgM,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKtS,aAAL,CAAmB2G,mBAAnB,CAAuCxD,CAAvC,EAA0C4D,SAA1C,CAAoDT,eAApD,CAAoErD,MAAxF,EAAgGqP,CAAC,EAAjG,EAAqG;YACjG,IAAI,KAAKtS,aAAL,CAAmB2G,mBAAnB,CAAuCxD,CAAvC,EAA0C4D,SAA1C,CAAoDT,eAApD,CAAoEgM,CAApE,EAAuE5R,EAAvE,CAA0EyH,KAA1E,CAAgF,GAAhF,EAAqF,CAArF,MAA4FzH,EAAhG,EAAoG;cAChG,OAAOyC,CAAP;YACH;UACJ;QACJ;MACJ;IACJ;;IACD,OAAO,CAAC,CAAR;EACH,CAnBD;;EAoBApE,YAAY,CAACkB,SAAb,CAAuBqmB,eAAvB,GAAyC,UAAU1T,YAAV,EAAwBgP,YAAxB,EAAsCmC,UAAtC,EAAkDrP,KAAlD,EAAyDpN,cAAzD,EAAyE;IAC9G,IAAI2R,kBAAkB,GAAG,KAAzB;IACA,IAAIpE,QAAQ,GAAG,EAAf;IACA,IAAIC,QAAQ,GAAG,EAAf;;IACA,IAAI,KAAKiS,aAAT,EAAwB;MACpB,IAAInF,YAAY,CAAC3d,SAAb,KAA2B,MAA/B,EAAuC;QACnCgV,kBAAkB,GAAG,IAArB;QACApE,QAAQ,IAAI+M,YAAY,CAAC5b,IAAb,CAAkBC,MAAlB,GAA2B,SAAS,IAApC,GAA2C,EAAvD;MACH;;MACD,IAAI8d,UAAJ,EAAgB;QACZ,IAAInC,YAAY,CAAC5b,IAAb,CAAkBC,MAAtB,EAA8B;UAC1B,KAAK+gB,kBAAL,CAAwBpF,YAAxB,EAAsC,MAAtC,EAA8C,KAAKmF,aAAnD,EAAkEnU,YAAlE,EAAgF,IAAhF,EAAsF,MAAtF,EAA8F8B,KAA9F,EAAqGpN,cAArG;QACH,CAFD,MAGK;UACD,KAAK0f,kBAAL,CAAwBpF,YAAxB,EAAsC,MAAtC,EAA8C,KAAKmF,aAAnD,EAAkEnU,YAAlE,EAAgF,KAAhF,EAAuF,EAAvF,EAA2F8B,KAA3F,EAAkGpN,cAAlG;QACH;MACJ,CAPD,MAQK,IAAI,KAAKyf,aAAL,KAAuB,MAA3B,EAAmC;QACpC,KAAKC,kBAAL,CAAwBpF,YAAxB,EAAsC,MAAtC,EAA8C,KAAKmF,aAAnD,EAAkEnU,YAAlE,EAAgF,IAAhF,EAAsF,MAAtF,EAA8F8B,KAA9F,EAAqGpN,cAArG;MACH,CAFI,MAGA;QACD,KAAK0f,kBAAL,CAAwBpF,YAAxB,EAAsC,MAAtC,EAA8C,MAA9C,EAAsDhP,YAAtD,EAAoE,KAApE,EAA2E,EAA3E,EAA+E8B,KAA/E,EAAsFpN,cAAtF;MACH;IACJ,CAnBD,MAoBK,IAAIsa,YAAY,CAAC5b,IAAb,CAAkBC,MAAtB,EAA8B;MAC/B,KAAK+gB,kBAAL,CAAwBpF,YAAxB,EAAsC,MAAtC,EAA8C,MAA9C,EAAsDhP,YAAtD,EAAoE,KAApE,EAA2E,EAA3E,EAA+E8B,KAA/E,EAAsFpN,cAAtF;IACH;;IACDwN,QAAQ,IAAI8M,YAAY,CAAC5b,IAAb,CAAkBC,MAAlB,GAA2B,SAAS,IAApC,GAA2C,EAAvD;;IACA,IAAI,KAAKghB,eAAT,EAA0B;MACtB,IAAIrF,YAAY,CAAC3d,SAAb,KAA2B,QAA/B,EAAyC;QACrCgV,kBAAkB,GAAG,IAArB;QACApE,QAAQ,IAAI+M,YAAY,CAAC5b,IAAb,CAAkBE,QAAlB,GAA6B,WAAW,IAAxC,GAA+C,EAA3D;MACH;;MACD,IAAI6d,UAAJ,EAAgB;QACZ,IAAInC,YAAY,CAAC5b,IAAb,CAAkBE,QAAtB,EAAgC;UAC5B,KAAK8gB,kBAAL,CAAwBpF,YAAxB,EAAsC,QAAtC,EAAgD,KAAKqF,eAArD,EAAsErU,YAAtE,EAAoF,IAApF,EAA0F,QAA1F,EAAoG8B,KAApG,EAA2GpN,cAA3G;QACH,CAFD,MAGK;UACD,KAAK0f,kBAAL,CAAwBpF,YAAxB,EAAsC,MAAtC,EAA8C,KAAKqF,eAAnD,EAAoErU,YAApE,EAAkF,KAAlF,EAAyF,EAAzF,EAA6F8B,KAA7F,EAAoGpN,cAApG;QACH;MACJ,CAPD,MAQK,IAAI,KAAK2f,eAAL,KAAyB,QAA7B,EAAuC;QACxC,KAAKD,kBAAL,CAAwBpF,YAAxB,EAAsC,QAAtC,EAAgD,KAAKqF,eAArD,EAAsErU,YAAtE,EAAoF,IAApF,EAA0F,QAA1F,EAAoG8B,KAApG,EAA2GpN,cAA3G;MACH,CAFI,MAGA;QACD,KAAK0f,kBAAL,CAAwBpF,YAAxB,EAAsC,MAAtC,EAA8C,QAA9C,EAAwDhP,YAAxD,EAAsE,KAAtE,EAA6E,EAA7E,EAAiF8B,KAAjF,EAAwFpN,cAAxF;MACH;IACJ,CAnBD,MAoBK,IAAIsa,YAAY,CAAC5b,IAAb,CAAkBE,QAAtB,EAAgC;MACjC,KAAK8gB,kBAAL,CAAwBpF,YAAxB,EAAsC,MAAtC,EAA8C,QAA9C,EAAwDhP,YAAxD,EAAsE,KAAtE,EAA6E,EAA7E,EAAiF8B,KAAjF,EAAwFpN,cAAxF;IACH;;IACDwN,QAAQ,IAAI8M,YAAY,CAAC5b,IAAb,CAAkBE,QAAlB,GAA6B,WAAW,IAAxC,GAA+C,EAA3D;;IACA,IAAI,KAAKghB,kBAAT,EAA6B;MACzB,IAAItF,YAAY,CAAC3d,SAAb,KAA2B,WAA/B,EAA4C;QACxCgV,kBAAkB,GAAG,IAArB;QACApE,QAAQ,IAAI+M,YAAY,CAAC5b,IAAb,CAAkBI,WAAlB,GAAgC,cAAc,IAA9C,GAAqD,EAAjE;MACH;;MACD,IAAI2d,UAAJ,EAAgB;QACZ,IAAInC,YAAY,CAAC5b,IAAb,CAAkBI,WAAtB,EAAmC;UAC/B,KAAK4gB,kBAAL,CAAwBpF,YAAxB,EAAsC,WAAtC,EAAmD,KAAKsF,kBAAxD,EAA4EtU,YAA5E,EAA0F,IAA1F,EAAgG,WAAhG,EAA6G8B,KAA7G,EAAoHpN,cAApH;QACH,CAFD,MAGK;UACD,KAAK0f,kBAAL,CAAwBpF,YAAxB,EAAsC,MAAtC,EAA8C,KAAKsF,kBAAnD,EAAuEtU,YAAvE,EAAqF,KAArF,EAA4F,EAA5F,EAAgG8B,KAAhG,EAAuGpN,cAAvG;QACH;MACJ,CAPD,MAQK,IAAI,KAAK4f,kBAAL,KAA4B,WAAhC,EAA6C;QAC9C,KAAKF,kBAAL,CAAwBpF,YAAxB,EAAsC,WAAtC,EAAmD,KAAKsF,kBAAxD,EAA4EtU,YAA5E,EAA0F,IAA1F,EAAgG,WAAhG,EAA6G8B,KAA7G,EAAoHpN,cAApH;MACH,CAFI,MAGA;QACD,KAAK0f,kBAAL,CAAwBpF,YAAxB,EAAsC,MAAtC,EAA8C,WAA9C,EAA2DhP,YAA3D,EAAyE,KAAzE,EAAgF,EAAhF,EAAoF8B,KAApF,EAA2FpN,cAA3F;MACH;IACJ,CAnBD,MAoBK,IAAIsa,YAAY,CAAC5b,IAAb,CAAkBI,WAAtB,EAAmC;MACpC,KAAK4gB,kBAAL,CAAwBpF,YAAxB,EAAsC,MAAtC,EAA8C,WAA9C,EAA2DhP,YAA3D,EAAyE,KAAzE,EAAgF,EAAhF,EAAoF8B,KAApF,EAA2FpN,cAA3F;IACH;;IACDwN,QAAQ,IAAI8M,YAAY,CAAC5b,IAAb,CAAkBI,WAAlB,GAAgC,cAAc,IAA9C,GAAqD,EAAjE;;IACA,IAAI,KAAK+gB,kBAAT,EAA6B;MACzB,IAAIvF,YAAY,CAAC3d,SAAb,KAA2B,eAA/B,EAAgD;QAC5CgV,kBAAkB,GAAG,IAArB;QACApE,QAAQ,IAAI+M,YAAY,CAAC5b,IAAb,CAAkBG,WAAlB,GAAgC,kBAAkB,IAAlD,GAAyD,EAArE;MACH;;MACD,IAAI4d,UAAJ,EAAgB;QACZ,IAAInC,YAAY,CAAC5b,IAAb,CAAkBG,WAAtB,EAAmC;UAC/B,KAAK6gB,kBAAL,CAAwBpF,YAAxB,EAAsC,eAAtC,EAAuD,KAAKuF,kBAA5D,EAAgFvU,YAAhF,EAA8F,IAA9F,EAAoG,cAApG,EAAoH8B,KAApH,EAA2HpN,cAA3H;QACH,CAFD,MAGK;UACD,KAAK0f,kBAAL,CAAwBpF,YAAxB,EAAsC,MAAtC,EAA8C,KAAKuF,kBAAnD,EAAuEvU,YAAvE,EAAqF,KAArF,EAA4F,EAA5F,EAAgG8B,KAAhG,EAAuGpN,cAAvG;QACH;MACJ,CAPD,MAQK,IAAI,KAAK6f,kBAAL,KAA4B,cAAhC,EAAgD;QACjD,KAAKH,kBAAL,CAAwBpF,YAAxB,EAAsC,eAAtC,EAAuD,KAAKuF,kBAA5D,EAAgFvU,YAAhF,EAA8F,IAA9F,EAAoG,cAApG,EAAoH8B,KAApH,EAA2HpN,cAA3H;MACH,CAFI,MAGA;QACD,KAAK0f,kBAAL,CAAwBpF,YAAxB,EAAsC,MAAtC,EAA8C,cAA9C,EAA8DhP,YAA9D,EAA4E,KAA5E,EAAmF,EAAnF,EAAuF8B,KAAvF,EAA8FpN,cAA9F;MACH;IACJ,CAnBD,MAoBK,IAAIsa,YAAY,CAAC5b,IAAb,CAAkBG,WAAtB,EAAmC;MACpC,KAAK6gB,kBAAL,CAAwBpF,YAAxB,EAAsC,MAAtC,EAA8C,cAA9C,EAA8DhP,YAA9D,EAA4E,KAA5E,EAAmF,EAAnF,EAAuF8B,KAAvF,EAA8FpN,cAA9F;IACH;;IACDwN,QAAQ,IAAI8M,YAAY,CAAC5b,IAAb,CAAkBG,WAAlB,GAAgC,kBAAkB,IAAlD,GAAyD,EAArE;IACA,OAAO,CAAC8S,kBAAD,EAAqBpE,QAArB,EAA+BC,QAA/B,CAAP;EACH,CArGD;;EAsGA/V,YAAY,CAACkB,SAAb,CAAuB+mB,kBAAvB,GAA4C,UAAUpF,YAAV,EAAwBwF,qBAAxB,EAA+CC,aAA/C,EAA8DzU,YAA9D,EAA4E0U,kBAA5E,EAAgGC,cAAhG,EAAgH7S,KAAhH,EAAuHpN,cAAvH,EAAuI;IAC/K,IAAI+f,aAAa,KAAK,MAAtB,EAA8B;MAC1BzF,YAAY,CAAC3d,SAAb,GAAyBmjB,qBAAzB;MACAxF,YAAY,CAAC5b,IAAb,CAAkBC,MAAlB,GAA2BqhB,kBAA3B;MACA1U,YAAY,CAACnQ,KAAb,CAAmBuY,UAAnB,GAAgCuM,cAAhC;MACA,KAAKC,yBAAL,CAA+B5U,YAA/B,EAA6CyU,aAA7C,EAA4DE,cAA5D;;MACA,IAAI7S,KAAK,GAAG,CAAC,CAAb,EAAgB;QACZpN,cAAc,CAACoN,KAAD,CAAd,CAAsB3N,SAAtB,CAAgCf,IAAhC,CAAqCC,MAArC,GAA8CqhB,kBAA9C;QACA,KAAKtnB,aAAL,CAAmB2G,mBAAnB,CAAuC+N,KAAvC,EAA8C3N,SAA9C,CAAwDf,IAAxD,CAA6DC,MAA7D,GAAsEqhB,kBAAtE;MACH;;MACD,KAAKvnB,SAAL,CAAesM,SAAf,CAAyBuV,YAAY,CAAClhB,EAAb,CAAgByH,KAAhB,CAAsB,GAAtB,EAA2B,CAA3B,CAAzB,EAAwDnC,IAAxD,CAA6DC,MAA7D,GAAsEqhB,kBAAtE;IACH,CAVD,MAWK,IAAID,aAAa,KAAK,QAAtB,EAAgC;MACjCzU,YAAY,CAACnQ,KAAb,CAAmBwB,SAAnB,GAA+BsjB,cAA/B;MACA,KAAKC,yBAAL,CAA+B5U,YAA/B,EAA6CyU,aAA7C,EAA4DE,cAA5D;MACA3F,YAAY,CAAC3d,SAAb,GAAyBmjB,qBAAzB;MACAxF,YAAY,CAAC5b,IAAb,CAAkBE,QAAlB,GAA6BohB,kBAA7B;;MACA,IAAI5S,KAAK,GAAG,CAAC,CAAb,EAAgB;QACZpN,cAAc,CAACoN,KAAD,CAAd,CAAsB3N,SAAtB,CAAgCf,IAAhC,CAAqCE,QAArC,GAAgDohB,kBAAhD;QACA,KAAKtnB,aAAL,CAAmB2G,mBAAnB,CAAuC+N,KAAvC,EAA8C3N,SAA9C,CAAwDf,IAAxD,CAA6DE,QAA7D,GAAwEohB,kBAAxE;MACH;;MACD,KAAKvnB,SAAL,CAAesM,SAAf,CAAyBuV,YAAY,CAAClhB,EAAb,CAAgByH,KAAhB,CAAsB,GAAtB,EAA2B,CAA3B,CAAzB,EAAwDnC,IAAxD,CAA6DE,QAA7D,GAAwEohB,kBAAxE;IACH,CAVI,MAWA,IAAID,aAAa,KAAK,WAAtB,EAAmC;MACpC,KAAKG,yBAAL,CAA+B5U,YAA/B,EAA6CyU,aAA7C,EAA4DE,cAA5D;MACA3U,YAAY,CAACnQ,KAAb,CAAmB0Y,cAAnB,GAAoCoM,cAApC;MACA3F,YAAY,CAAC3d,SAAb,GAAyBmjB,qBAAzB;MACAxF,YAAY,CAAC5b,IAAb,CAAkBI,WAAlB,GAAgCkhB,kBAAhC;;MACA,IAAI5S,KAAK,GAAG,CAAC,CAAb,EAAgB;QACZpN,cAAc,CAACoN,KAAD,CAAd,CAAsB3N,SAAtB,CAAgCf,IAAhC,CAAqCI,WAArC,GAAmDkhB,kBAAnD;QACA,KAAKtnB,aAAL,CAAmB2G,mBAAnB,CAAuC+N,KAAvC,EAA8C3N,SAA9C,CAAwDf,IAAxD,CAA6DI,WAA7D,GAA2EkhB,kBAA3E;MACH;;MACD,KAAKvnB,SAAL,CAAesM,SAAf,CAAyBuV,YAAY,CAAClhB,EAAb,CAAgByH,KAAhB,CAAsB,GAAtB,EAA2B,CAA3B,CAAzB,EAAwDnC,IAAxD,CAA6DI,WAA7D,GAA2EkhB,kBAA3E;IACH,CAVI,MAWA,IAAID,aAAa,KAAK,cAAtB,EAAsC;MACvC,KAAKG,yBAAL,CAA+B5U,YAA/B,EAA6CyU,aAA7C,EAA4DE,cAA5D;MACA3U,YAAY,CAACnQ,KAAb,CAAmB0Y,cAAnB,GAAoCoM,cAApC;MACA3F,YAAY,CAAC3d,SAAb,GAAyBmjB,qBAAzB;MACAxF,YAAY,CAAC5b,IAAb,CAAkBG,WAAlB,GAAgCmhB,kBAAhC;;MACA,IAAI5S,KAAK,GAAG,CAAC,CAAb,EAAgB;QACZpN,cAAc,CAACoN,KAAD,CAAd,CAAsB3N,SAAtB,CAAgCf,IAAhC,CAAqCG,WAArC,GAAmDmhB,kBAAnD;QACA,KAAKtnB,aAAL,CAAmB2G,mBAAnB,CAAuC+N,KAAvC,EAA8C3N,SAA9C,CAAwDf,IAAxD,CAA6DG,WAA7D,GAA2EmhB,kBAA3E;MACH;;MACD,KAAKvnB,SAAL,CAAesM,SAAf,CAAyBuV,YAAY,CAAClhB,EAAb,CAAgByH,KAAhB,CAAsB,GAAtB,EAA2B,CAA3B,CAAzB,EAAwDnC,IAAxD,CAA6DG,WAA7D,GAA2EmhB,kBAA3E;IACH;EACJ,CA7CD;;EA8CAvoB,YAAY,CAACkB,SAAb,CAAuBunB,yBAAvB,GAAmD,UAAUjW,eAAV,EAA2B8V,aAA3B,EAA0CtjB,KAA1C,EAAiD;IAChG,IAAIwN,eAAe,CAACtO,MAAhB,GAAyB,CAA7B,EAAgC;MAC5B,KAAK,IAAIE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGoO,eAAe,CAACtO,MAApC,EAA4CE,CAAC,EAA7C,EAAiD;QAC7C,IAAIkkB,aAAa,KAAK,MAAtB,EAA8B;UAC1B9V,eAAe,CAACpO,CAAD,CAAf,CAAmBV,KAAnB,CAAyBuY,UAAzB,GAAsCjX,KAAtC;QACH,CAFD,MAGK,IAAIsjB,aAAa,KAAK,QAAtB,EAAgC;UACjC9V,eAAe,CAACpO,CAAD,CAAf,CAAmBV,KAAnB,CAAyBwB,SAAzB,GAAqCF,KAArC;QACH,CAFI,MAGA,IAAIsjB,aAAa,KAAK,WAAtB,EAAmC;UACpC9V,eAAe,CAACpO,CAAD,CAAf,CAAmBV,KAAnB,CAAyB0Y,cAAzB,GAA0CpX,KAA1C;QACH,CAFI,MAGA,IAAIsjB,aAAa,KAAK,cAAtB,EAAsC;UACvC9V,eAAe,CAACpO,CAAD,CAAf,CAAmBV,KAAnB,CAAyB0Y,cAAzB,GAA0CpX,KAA1C;QACH;MACJ;IACJ;EACJ,CAjBD;EAkBA;AACJ;AACA;;;EACIhF,YAAY,CAACkB,SAAb,CAAuB8Z,gCAAvB,GAA0D,UAAUjX,IAAV,EAAgB8e,YAAhB,EAA8B9I,cAA9B,EAA8CC,mBAA9C,EAAmEC,iBAAnE,EAAsFC,kBAAtF,EAA0GC,cAA1G,EAA0HC,wBAA1H,EAAoJC,oBAApJ,EAA0KC,oBAA1K,EAAgMC,kBAAhM,EAAoNC,iBAApN,EAAuOC,mBAAvO,EAA4PC,kBAA5P,EAAgRC,iBAAhR,EAAmSC,cAAnS,EAAmTC,gBAAnT,EAAqU/E,QAArU,EAA+UC,QAA/U,EAAyV2S,aAAzV,EAAwWC,YAAxW,EAAsX;IAC5a,IAAI5jB,KAAK,GAAG;MACRhB,IAAI,EAAE8e,YAAY,CAAC9e,IADX;MACiBpC,EAAE,EAAEkhB,YAAY,CAAClhB,EADlC;MACsCqD,KAAK,EAAE6d,YAAY,CAAC7d,KAD1D;MACiEC,UAAU,EAAE4d,YAAY,CAAC5d,UAD1F;MACsGtB,QAAQ,EAAEkf,YAAY,CAAClf,QAD7H;MACuIuB,SAAS,EAAE2d,YAAY,CAAC3d,SAD/J;MAERC,KAAK,EAAE0d,YAAY,CAAC1d,KAFZ;MAEmBC,eAAe,EAAEyd,YAAY,CAACzd,eAFjD;MAEkEC,SAAS,EAAEwd,YAAY,CAACxd,SAF1F;MAEqGC,UAAU,EAAEud,YAAY,CAACvd,UAF9H;MAE0IC,UAAU,EAAEsd,YAAY,CAACtd,UAFnK;MAGRC,SAAS,EAAEqd,YAAY,CAACrd,SAHhB;MAG2BC,UAAU,EAAEod,YAAY,CAACpd,UAHpD;MAGgEC,OAAO,EAAEmd,YAAY,CAACnd,OAHtF;MAG+FC,QAAQ,EAAEkd,YAAY,CAACne,WAHtH;MAGmIkB,OAAO,EAAEid,YAAY,CAACjd,OAHzJ;MAGkKG,OAAO,EAAE8c,YAAY,CAAC9c,OAHxL;MAIRE,SAAS,EAAE4c,YAAY,CAAC5c,SAJhB;MAI2BC,UAAU,EAAE2c,YAAY,CAAC3c,UAJpD;MAIgEyiB,YAAY,EAAEA,YAJ9E;MAI4FC,WAAW,EAAE/F,YAAY,CAAC9e;IAJtH,CAAZ;IAMA,KAAK/C,SAAL,CAAeiV,kCAAf,CAAkD,2BAAlD,EAA+ElR,KAA/E,EAAsF8d,YAAY,CAACzf,SAAnG,EAA8G2W,cAA9G,EAA8HC,mBAA9H,EAAmJC,iBAAnJ,EAAsKC,kBAAtK,EAA0LC,cAA1L,EAA0MC,wBAA1M,EAAoOC,oBAApO,EAA0PC,oBAA1P,EAAgRC,kBAAhR,EAAoSC,iBAApS,EAAuTC,mBAAvT,EAA4UC,kBAA5U,EAAgWC,iBAAhW,EAAmXC,cAAnX,EAAmYC,gBAAnY,EAAqZ/E,QAArZ,EAA+ZC,QAA/Z,EAAya2S,aAAza;EACH,CARD;;EASA1oB,YAAY,CAACkB,SAAb,CAAuBohB,eAAvB,GAAyC,UAAUM,IAAV,EAAgB;IACrD,KAAKrB,gBAAL,CAAsByC,IAAtB;EACH,CAFD;;EAGAhkB,YAAY,CAACkB,SAAb,CAAuBmgB,mBAAvB,GAA6C,YAAY;IACrD,IAAIJ,SAAS,GAAG,KAAKjgB,SAAL,CAAeU,OAAf,CAAuBC,EAAvC,CADqD,CAErD;;IACA,IAAIknB,aAAa,GAAGlqB,aAAa,CAAC,KAAD,EAAQ;MAAEgD,EAAE,EAAEsf,SAAS,GAAG;IAAlB,CAAR,CAAjC;;IACA,IAAI,KAAKjgB,SAAL,CAAe8b,aAAf,CAA6BE,UAA7B,CAAwC,CAAxC,EAA2C5b,uBAA3C,KAAuE,cAAvE,IAAyF,KAAKJ,SAAL,CAAe8b,aAAf,CAA6BE,UAA7B,CAAwC,CAAxC,EAA2C5b,uBAA3C,KAAuE,SAApK,EAA+K;MAC3KynB,aAAa,CAACnlB,KAAd,CAAoBZ,MAApB,GAA6B,OAA7B;IACH,CAFD,MAGK;MACD+lB,aAAa,CAACnlB,KAAd,CAAoBZ,MAApB,GAA6B,OAA7B;IACH;;IACD,IAAIgmB,eAAe,GAAGnqB,aAAa,CAAC,KAAD,CAAnC;IACAmqB,eAAe,CAACllB,SAAhB,GAA4B,gCAA5B;IACAilB,aAAa,CAACvmB,WAAd,CAA0BwmB,eAA1B;IACA,IAAIC,YAAY,GAAGpqB,aAAa,CAAC,KAAD,EAAQ;MAAEiF,SAAS,EAAE;IAAb,CAAR,CAAhC;IACAilB,aAAa,CAACvmB,WAAd,CAA0BymB,YAA1B,EAdqD,CAerD;;IACA,IAAI,KAAK/nB,SAAL,CAAe8b,aAAf,KAAiC,KAAK9b,SAAL,CAAe8b,aAAf,CAA6BE,UAA7B,CAAwC,CAAxC,EAA2C5b,uBAA3C,KAAuE,SAAvE,IAAoF,KAAKJ,SAAL,CAAe8b,aAAf,CAA6BE,UAA7B,CAAwC,CAAxC,EAA2C5b,uBAA3C,KAAuE,cAA5L,CAAJ,EAAiN;MAC7M;MACA,KAAK4nB,UAAL,GAAkB,IAAI5pB,GAAJ,CAAQ;QACtB6pB,KAAK,EAAE,CACH;UACItH,MAAM,EAAE;YAAE,QAAQ,2DAA2D,KAAK3gB,SAAL,CAAe6f,SAAf,CAAyBC,WAAzB,CAAqC,SAArC,CAA3D,GAA6G;UAAvH,CADZ;UAC+Ie,OAAO,EAAE,KAAKqH,uBAAL;QADxJ,CADG,EAIH;UACIvH,MAAM,EAAE;YAAE,QAAQ,2DAA2D,KAAK3gB,SAAL,CAAe6f,SAAf,CAAyBC,WAAzB,CAAqC,YAArC,CAA3D,GAAgH;UAA1H,CADZ;UACkJe,OAAO,EAAE,KAAKsH,0BAAL;QAD3J,CAJG,EAOH;UACIxH,MAAM,EAAE;YAAE,QAAQ,2DAA2D,KAAK3gB,SAAL,CAAe6f,SAAf,CAAyBC,WAAzB,CAAqC,SAArC,CAA3D,GAA6G;UAAvH,CADZ;UAC+Ie,OAAO,EAAE,KAAKuH,sBAAL;QADxJ,CAPG;MADe,CAAR,EAYfL,YAZe,CAAlB;IAaH,CAfD,MAgBK,IAAI,KAAK/nB,SAAL,CAAe8b,aAAf,KAAiC,KAAK9b,SAAL,CAAe8b,aAAf,CAA6BE,UAA7B,CAAwC,CAAxC,EAA2C5b,uBAA3C,KAAuE,gBAAvE,IAA2F,KAAKJ,SAAL,CAAe8b,aAAf,CAA6BE,UAA7B,CAAwC,CAAxC,EAA2C5b,uBAA3C,KAAuE,cAAnM,CAAJ,EAAwN;MACzN;MACA,KAAK4nB,UAAL,GAAkB,IAAI5pB,GAAJ,CAAQ;QACtB6pB,KAAK,EAAE,CACH;UACItH,MAAM,EAAE;YAAE,QAAQ,2DAA2D,KAAK3gB,SAAL,CAAe6f,SAAf,CAAyBC,WAAzB,CAAqC,SAArC,CAA3D,GAA6G;UAAvH,CADZ;UAC+Ie,OAAO,EAAE,KAAKqH,uBAAL;QADxJ,CADG;MADe,CAAR,EAMfH,YANe,CAAlB;IAOH,CATI,MAUA;MACD;MACA,KAAKC,UAAL,GAAkB,IAAI5pB,GAAJ,CAAQ;QACtB6pB,KAAK,EAAE,CACH;UACItH,MAAM,EAAE;YAAE,QAAQ,2DAA2D,KAAK3gB,SAAL,CAAe6f,SAAf,CAAyBC,WAAzB,CAAqC,SAArC,CAA3D,GAA6G;UAAvH,CADZ;UAC+Ie,OAAO,EAAE,KAAKqH,uBAAL;QADxJ,CADG,EAIH;UACIvH,MAAM,EAAE;YAAE,QAAQ,2DAA2D,KAAK3gB,SAAL,CAAe6f,SAAf,CAAyBC,WAAzB,CAAqC,YAArC,CAA3D,GAAgH;UAA1H,CADZ;UACkJe,OAAO,EAAE,KAAKsH,0BAAL;QAD3J,CAJG;MADe,CAAR,EASfJ,YATe,CAAlB;IAUH;;IACDA,YAAY,CAACvb,QAAb,CAAsB,CAAtB,EAAyB9J,KAAzB,CAA+BZ,MAA/B,GAAwC,MAAxC;IACA,OAAO+lB,aAAP;EACH,CAzDD;;EA0DA7oB,YAAY,CAACkB,SAAb,CAAuBgoB,uBAAvB,GAAiD,YAAY;IACzD,IAAIrG,YAAY,GAAG,KAAK7hB,SAAL,CAAe8b,aAAf,CAA6BE,UAA7B,GAA0C,KAAKhc,SAAL,CAAe8b,aAAf,CAA6BE,UAA7B,CAAwC,CAAxC,CAA1C,GAAuF,IAA1G;IACA,IAAIqM,eAAe,GAAG,CAAC,SAAD,EAAY,QAAZ,CAAtB,CAFyD,CAGzD;;IACA,IAAIpI,SAAS,GAAG,KAAKjgB,SAAL,CAAeU,OAAf,CAAuBC,EAAvC;IACA,IAAI2nB,oBAAoB,GAAG3qB,aAAa,CAAC,KAAD,EAAQ;MAAEgD,EAAE,EAAEsf,SAAS,GAAG;IAAlB,CAAR,CAAxC;IACA,IAAIsI,kBAAkB,GAAG5qB,aAAa,CAAC,KAAD,EAAQ;MAAEiF,SAAS,EAAE;IAAb,CAAR,CAAtC;IACA0lB,oBAAoB,CAAChnB,WAArB,CAAiCinB,kBAAjC;IACA,IAAIC,oBAAoB,GAAG7qB,aAAa,CAAC,KAAD,EAAQ;MAAEiF,SAAS,EAAE;IAAb,CAAR,CAAxC,CARyD,CASzD;;IACA,IAAI6lB,gBAAgB,GAAG9qB,aAAa,CAAC,KAAD,EAAQ;MAAEiF,SAAS,EAAE;IAAb,CAAR,CAApC;IACA,IAAI8lB,sBAAsB,GAAG/qB,aAAa,CAAC,OAAD,EAAU;MAAEiF,SAAS,EAAE;IAAb,CAAV,CAA1C;IACA6lB,gBAAgB,CAACnnB,WAAjB,CAA6BonB,sBAA7B;IACAF,oBAAoB,CAAClnB,WAArB,CAAiCmnB,gBAAjC,EAbyD,CAczD;;IACA,KAAKxF,aAAL,GAAqB,IAAIzkB,OAAJ,CAAY;MAAEuK,IAAI,EAAE,MAAR;MAAgB4f,cAAc,EAAE,QAAhC;MAA0CC,WAAW,EAAE,KAAK5oB,SAAL,CAAe6f,SAAf,CAAyBC,WAAzB,CAAqC,MAArC,CAAvD;MAAqG9b,KAAK,EAAE6d,YAAY,CAAC9e,IAAzH;MAA+H8lB,QAAQ,EAAE;IAAzI,CAAZ,EAAyLH,sBAAzL,CAArB;IACAH,kBAAkB,CAACjnB,WAAnB,CAA+BknB,oBAA/B;IACA,IAAIM,uBAAuB,GAAGnrB,aAAa,CAAC,KAAD,EAAQ;MAAEiF,SAAS,EAAE;IAAb,CAAR,CAA3C;IACA,IAAImmB,mBAAmB,GAAGprB,aAAa,CAAC,KAAD,EAAQ;MAAEiF,SAAS,EAAE;IAAb,CAAR,CAAvC;IACA,IAAIomB,yBAAyB,GAAGrrB,aAAa,CAAC,OAAD,EAAU;MAAEiF,SAAS,EAAE;IAAb,CAAV,CAA7C;IACAmmB,mBAAmB,CAACznB,WAApB,CAAgC0nB,yBAAhC;IACAF,uBAAuB,CAACxnB,WAAxB,CAAoCynB,mBAApC,EArByD,CAsBzD;;IACA,KAAK1F,gBAAL,GAAwB,IAAI7kB,OAAJ,CAAY;MAAEuK,IAAI,EAAE,MAAR;MAAgB4f,cAAc,EAAE,QAAhC;MAA0CC,WAAW,EAAE,KAAK5oB,SAAL,CAAe6f,SAAf,CAAyBC,WAAzB,CAAqC,SAArC,CAAvD;MAAwG9b,KAAK,EAAE6d,YAAY,CAACjd,OAA5H;MAAqIikB,QAAQ,EAAE;IAA/I,CAAZ,EAAkMG,yBAAlM,CAAxB;IACAT,kBAAkB,CAACjnB,WAAnB,CAA+BwnB,uBAA/B;IACA,IAAIG,mBAAmB,GAAGtrB,aAAa,CAAC,KAAD,EAAQ;MAAEiF,SAAS,EAAE;IAAb,CAAR,CAAvC;IACA0lB,oBAAoB,CAAChnB,WAArB,CAAiC2nB,mBAAjC;IACA,IAAIC,qBAAqB,GAAGvrB,aAAa,CAAC,KAAD,EAAQ;MAAEiF,SAAS,EAAE;IAAb,CAAR,CAAzC;IACA,IAAIumB,iBAAiB,GAAGxrB,aAAa,CAAC,KAAD,EAAQ;MAAEiF,SAAS,EAAE;IAAb,CAAR,CAArC;IACA,IAAIwmB,uBAAuB,GAAGzrB,aAAa,CAAC,OAAD,EAAU;MAAEiF,SAAS,EAAE;IAAb,CAAV,CAA3C;IACAumB,iBAAiB,CAAC7nB,WAAlB,CAA8B8nB,uBAA9B;IACAF,qBAAqB,CAAC5nB,WAAtB,CAAkC6nB,iBAAlC,EA/ByD,CAgCzD;;IACA,KAAKjG,cAAL,GAAsB,IAAI1kB,OAAJ,CAAY;MAAEuK,IAAI,EAAE,MAAR;MAAgB4f,cAAc,EAAE,QAAhC;MAA0CC,WAAW,EAAE,KAAK5oB,SAAL,CAAe6f,SAAf,CAAyBC,WAAzB,CAAqC,OAArC,CAAvD;MAAsG9b,KAAK,EAAE6d,YAAY,CAAC7d,KAA1H;MAAiI6kB,QAAQ,EAAE;IAA3I,CAAZ,EAA4LO,uBAA5L,CAAtB;;IACA,IAAI,KAAKppB,SAAL,CAAe8b,aAAf,CAA6BE,UAA7B,CAAwC,CAAxC,EAA2C5b,uBAA3C,KAAuE,SAA3E,EAAsF;MAClF,KAAK8iB,cAAL,CAAoBmG,OAApB,GAA8B,KAA9B;MACA,KAAKnG,cAAL,CAAoBlf,KAApB,GAA4B,EAA5B;IACH;;IACDilB,mBAAmB,CAAC3nB,WAApB,CAAgC4nB,qBAAhC;IACA,IAAII,0BAA0B,GAAG3rB,aAAa,CAAC,KAAD,EAAQ;MAAEiF,SAAS,EAAE;IAAb,CAAR,CAA9C;IACA,IAAI2mB,sBAAsB,GAAG5rB,aAAa,CAAC,KAAD,EAAQ;MAAEiF,SAAS,EAAE;IAAb,CAAR,CAA1C;IACA,IAAI4mB,4BAA4B,GAAG7rB,aAAa,CAAC,KAAD,EAAQ;MAAEiF,SAAS,EAAE;IAAb,CAAR,CAAhD;IACA2mB,sBAAsB,CAACjoB,WAAvB,CAAmCkoB,4BAAnC;IACAF,0BAA0B,CAAChoB,WAA3B,CAAuCioB,sBAAvC;IACA,IAAIjjB,aAAa,GAAGub,YAAY,CAACtd,UAAb,KAA4B,SAA5B,GAAwC,CAAxC,GAA4C,CAAhE;IACA,KAAK+e,mBAAL,GAA2B,IAAI5kB,YAAJ,CAAiB;MAAE+qB,UAAU,EAAEpB,eAAd;MAA+BM,cAAc,EAAE,QAA/C;MAAyDhU,KAAK,EAAErO,aAAhE;MAA+EtC,KAAK,EAAE6d,YAAY,CAACtd,UAAnG;MAA+GqkB,WAAW,EAAE,KAAK5oB,SAAL,CAAe6f,SAAf,CAAyBC,WAAzB,CAAqC,uBAArC,CAA5H;MAA2L+I,QAAQ,EAAE;IAArM,CAAjB,EAAgQW,4BAAhQ,CAA3B;IACAP,mBAAmB,CAAC3nB,WAApB,CAAgCgoB,0BAAhC;IACA,IAAII,eAAe,GAAG/rB,aAAa,CAAC,KAAD,EAAQ;MAAEiF,SAAS,EAAE;IAAb,CAAR,CAAnC;IACA,IAAI+mB,QAAQ,GAAGhsB,aAAa,CAAC,OAAD,EAAU;MAAEiF,SAAS,EAAE;IAAb,CAAV,CAA5B;IACA8mB,eAAe,CAACpoB,WAAhB,CAA4BqoB,QAA5B;IACA,KAAK9F,iBAAL,GAAyB,IAAIjlB,QAAJ,CAAa;MAAEgrB,KAAK,EAAE,KAAK5pB,SAAL,CAAe6f,SAAf,CAAyBC,WAAzB,CAAqC,WAArC,CAAT;MAA4DlF,OAAO,EAAEiH,YAAY,CAACvd,UAAlF;MAA8FukB,QAAQ,EAAE;IAAxG,CAAb,EAA8Jc,QAA9J,CAAzB;;IACA,IAAI,KAAK3pB,SAAL,CAAe8b,aAAf,CAA6BE,UAA7B,CAAwC,CAAxC,EAA2C5b,uBAA3C,KAAuE,UAAvE,IAAqF,KAAKJ,SAAL,CAAe8b,aAAf,CAA6BE,UAA7B,CAAwC,CAAxC,EAA2C5b,uBAA3C,KAAuE,aAAhK,EAA+K;MAC3K,IAAIypB,YAAY,GAAGlsB,aAAa,CAAC,OAAD,EAAU;QAAEiF,SAAS,EAAE;MAAb,CAAV,CAAhC;MACA8mB,eAAe,CAACpoB,WAAhB,CAA4BuoB,YAA5B;MACA,KAAK7D,gBAAL,GAAwB,IAAIpnB,QAAJ,CAAa;QAAEgrB,KAAK,EAAE,KAAK5pB,SAAL,CAAe6f,SAAf,CAAyBC,WAAzB,CAAqC,SAArC,CAAT;QAA0D+I,QAAQ,EAAE,qCAApE;QAA2GjO,OAAO,EAAEiH,YAAY,CAAC5c,SAAb,IAA0B4c,YAAY,CAAC3c,UAA3J;QAAuK4kB,MAAM,EAAE,KAAKC,cAAL,CAAoBnY,IAApB,CAAyB,IAAzB;MAA/K,CAAb,EAA8NiY,YAA9N,CAAxB;IACH;;IACD,IAAI9L,QAAQ,GAAGpgB,aAAa,CAAC,OAAD,EAAU;MAAEiF,SAAS,EAAE;IAAb,CAAV,CAA5B;IACA8mB,eAAe,CAACpoB,WAAhB,CAA4Byc,QAA5B;IACA,KAAK+F,iBAAL,GAAyB,IAAIllB,QAAJ,CAAa;MAAEgrB,KAAK,EAAE,KAAK5pB,SAAL,CAAe6f,SAAf,CAAyBC,WAAzB,CAAqC,UAArC,CAAT;MAA2DlF,OAAO,EAAEiH,YAAY,CAACpd,UAAjF;MAA6FokB,QAAQ,EAAE;IAAvG,CAAb,EAA6J9K,QAA7J,CAAzB;IACA,IAAIiM,YAAY,GAAGrsB,aAAa,CAAC,OAAD,EAAU;MAAEiF,SAAS,EAAE;IAAb,CAAV,CAAhC;IACA8mB,eAAe,CAACpoB,WAAhB,CAA4B0oB,YAA5B;IACA,KAAK5G,iBAAL,GAAyB,IAAIxkB,QAAJ,CAAa;MAAEgrB,KAAK,EAAE,KAAK5pB,SAAL,CAAe6f,SAAf,CAAyBC,WAAzB,CAAqC,eAArC,CAAT;MAAgElF,OAAO,EAAEiH,YAAY,CAACnd,OAAtF;MAA+FmkB,QAAQ,EAAE;IAAzG,CAAb,EAA+JmB,YAA/J,CAAzB;;IACA,IAAInI,YAAY,CAACzhB,uBAAb,KAAyC,SAA7C,EAAwD;MACpD,IAAI6pB,gBAAgB,GAAGtsB,aAAa,CAAC,OAAD,EAAU;QAAEiF,SAAS,EAAE;MAAb,CAAV,CAApC;MACA8mB,eAAe,CAACpoB,WAAhB,CAA4B2oB,gBAA5B;MACA,KAAKlI,kBAAL,GAA0B,IAAInjB,QAAJ,CAAa;QAAEgrB,KAAK,EAAE,KAAK5pB,SAAL,CAAe6f,SAAf,CAAyBC,WAAzB,CAAqC,WAArC,CAAT;QAA4DlF,OAAO,EAAEiH,YAAY,CAAClc,WAAlF;QAA+FkjB,QAAQ,EAAE,qCAAzG;QAAgJiB,MAAM,EAAE,KAAKI,uBAAL,CAA6BtY,IAA7B,CAAkC,IAAlC;MAAxJ,CAAb,EAAgNqY,gBAAhN,CAA1B;IACH;;IACD3B,oBAAoB,CAAChnB,WAArB,CAAiCooB,eAAjC;IACA,OAAOpB,oBAAP;EACH,CArED;;EAsEAtpB,YAAY,CAACkB,SAAb,CAAuB6pB,cAAvB,GAAwC,UAAUnI,IAAV,EAAgB;IACpD,KAAKjH,oBAAL,GAA4BiH,IAAI,CAAChH,OAAjC;EACH,CAFD;;EAGA5b,YAAY,CAACkB,SAAb,CAAuBgqB,uBAAvB,GAAiD,UAAUtI,IAAV,EAAgB;IAC7D,KAAKxiB,6BAAL,GAAqC,IAArC;EACH,CAFD;;EAGAJ,YAAY,CAACkB,SAAb,CAAuBoQ,UAAvB,GAAoC,UAAU6Z,cAAV,EAA0BC,aAA1B,EAAyC;IACzE;IACA,IAAIxlB,OAAO,GAAG,IAAIzG,OAAJ,CAAY;MACtB0iB,OAAO,EAAEsJ;IADa,CAAZ,CAAd,CAFyE,CAKzE;;IACAvlB,OAAO,CAAC+c,QAAR,CAAiByI,aAAjB;IACAxlB,OAAO,CAACylB,UAAR,GAAqB,KAAKC,iBAAL,CAAuB1Y,IAAvB,CAA4B,IAA5B,CAArB;EACH,CARD;;EASA5S,YAAY,CAACkB,SAAb,CAAuBoqB,iBAAvB,GAA2C,UAAU1I,IAAV,EAAgB;IACvD,IAAI2I,gBAAgB,GAAG,KAAKvqB,SAAL,CAAesM,SAAf,CAAyBsV,IAAI,CAACxM,MAAL,CAAYzU,EAAZ,CAAeyH,KAAf,CAAqB,GAArB,EAA0B,CAA1B,CAAzB,CAAvB;;IACA,IAAI,CAACnK,iBAAiB,CAACssB,gBAAD,CAAtB,EAA0C;MACtC3I,IAAI,CAAClhB,OAAL,CAAa8L,QAAb,CAAsB,CAAtB,EAAyB1J,SAAzB,GAAqCynB,gBAAgB,CAAC3lB,OAAtD;IACH;EACJ,CALD;;EAMA5F,YAAY,CAACkB,SAAb,CAAuBioB,0BAAvB,GAAoD,YAAY;IAC5D,IAAItG,YAAY,GAAG,KAAK7hB,SAAL,CAAe8b,aAAf,CAA6BE,UAA7B,GAA0C,KAAKhc,SAAL,CAAe8b,aAAf,CAA6BE,UAA7B,CAAwC,CAAxC,CAA1C,GAAuF,IAA1G;IACA,IAAIwO,eAAe,GAAG,CAAC,WAAD,EAAc,SAAd,EAAyB,iBAAzB,EAA4C,QAA5C,EAAsD,cAAtD,CAAtB;IACA,IAAIC,aAAa,GAAG,CAAC,KAAD,EAAQ,KAAR,EAAe,MAAf,EAAuB,MAAvB,EAA+B,MAA/B,EAAuC,MAAvC,EAA+C,MAA/C,EAAuD,MAAvD,EAA+D,MAA/D,EAAuE,MAAvE,EAA+E,MAA/E,EAAuF,MAAvF,EAA+F,MAA/F,CAApB;IACA,IAAIxK,SAAS,GAAG,KAAKjgB,SAAL,CAAeU,OAAf,CAAuBC,EAAvC;IACA,IAAI+pB,uBAAuB,GAAG/sB,aAAa,CAAC,KAAD,EAAQ;MAAEgD,EAAE,EAAEsf,SAAS,GAAG;IAAlB,CAAR,CAA3C;IACA,IAAI0K,wBAAwB,GAAGhtB,aAAa,CAAC,KAAD,EAAQ;MAAEiF,SAAS,EAAE;IAAb,CAAR,CAA5C;IACA8nB,uBAAuB,CAACppB,WAAxB,CAAoCqpB,wBAApC;IACA,KAAKC,kBAAL,CAAwB,KAAK5qB,SAAL,CAAe6f,SAAf,CAAyBC,WAAzB,CAAqC,YAArC,CAAxB,EAA4E6K,wBAA5E,EAAsG,IAAtG,EAA4G,iCAA5G,EAA+I1K,SAAS,GAAG,kCAA3J;IACA,IAAI4K,kBAAkB,GAAGltB,aAAa,CAAC,KAAD,EAAQ;MAAEiF,SAAS,EAAE;IAAb,CAAR,CAAtC;IACA,IAAIkoB,2BAA2B,GAAGntB,aAAa,CAAC,KAAD,EAAQ;MAAEiF,SAAS,EAAE;IAAb,CAAR,CAA/C;IACA,IAAImoB,uBAAuB,GAAGptB,aAAa,CAAC,KAAD,EAAQ;MAAEiF,SAAS,EAAE;IAAb,CAAR,CAA3C;IACAkoB,2BAA2B,CAACxpB,WAA5B,CAAwCypB,uBAAxC;IACAF,kBAAkB,CAACvpB,WAAnB,CAA+BwpB,2BAA/B;IACA,KAAKvH,mBAAL,GAA2B,IAAI7kB,YAAJ,CAAiB;MAAE+qB,UAAU,EAAEe,eAAd;MAA+BxmB,KAAK,EAAE,KAAK8Z,aAAL,CAAmB+D,YAAY,CAAC5d,UAAhC,IAA8C4d,YAAY,CAAC5d,UAA3D,GAAwE,WAA9G;MAA2H4kB,QAAQ,EAAE;IAArI,CAAjB,EAAgMkC,uBAAhM,CAA3B;IACA,KAAKza,UAAL,CAAgB,KAAKtQ,SAAL,CAAe6f,SAAf,CAAyBC,WAAzB,CAAqC,aAArC,CAAhB,EAAqEgL,2BAArE;IACA,IAAIE,iBAAiB,GAAGrtB,aAAa,CAAC,KAAD,EAAQ;MAAEiF,SAAS,EAAE;IAAb,CAAR,CAArC;IACA,IAAIqoB,yBAAyB,GAAGttB,aAAa,CAAC,KAAD,EAAQ;MAAEiF,SAAS,EAAE;IAAb,CAAR,CAA7C;IACAooB,iBAAiB,CAAC1pB,WAAlB,CAA8B2pB,yBAA9B;IACAJ,kBAAkB,CAACvpB,WAAnB,CAA+B0pB,iBAA/B;IACA,KAAKxH,iBAAL,GAAyB,IAAI9kB,YAAJ,CAAiB;MAAE+qB,UAAU,EAAEgB,aAAd;MAA6BzmB,KAAK,EAAE6d,YAAY,CAAClf,QAAb,GAAwB,IAA5D;MAAkEkmB,QAAQ,EAAE;IAA5E,CAAjB,EAAqIoC,yBAArI,CAAzB;IACA,KAAK3a,UAAL,CAAgB,KAAKtQ,SAAL,CAAe6f,SAAf,CAAyBC,WAAzB,CAAqC,WAArC,CAAhB,EAAmEkL,iBAAnE;IACA,IAAIE,kBAAkB,GAAGvtB,aAAa,CAAC,KAAD,EAAQ;MAAEiF,SAAS,EAAE;IAAb,CAAR,CAAtC;IACAsoB,kBAAkB,CAACC,OAAnB,GAA6B,KAAKC,gBAAL,CAAsBxZ,IAAtB,CAA2B,IAA3B,CAA7B;IACAsZ,kBAAkB,CAAC5pB,WAAnB,CAA+B,KAAK+pB,gBAAL,CAAsB,iBAAtB,EAAyC,gBAAzC,EAA2DxJ,YAAY,CAAC5b,IAAb,CAAkBC,MAA7E,CAA/B;IACAglB,kBAAkB,CAAC5pB,WAAnB,CAA+B,KAAK+pB,gBAAL,CAAsB,mBAAtB,EAA2C,kBAA3C,EAA+DxJ,YAAY,CAAC5b,IAAb,CAAkBE,QAAjF,CAA/B;IACA+kB,kBAAkB,CAAC5pB,WAAnB,CAA+B,KAAK+pB,gBAAL,CAAsB,gCAAtB,EAAwD,yBAAxD,EAAmFxJ,YAAY,CAAC5b,IAAb,CAAkBI,WAArG,CAA/B,EA1B4D,CA2B5D;;IACA6kB,kBAAkB,CAAC5pB,WAAnB,CAA+B,KAAK+pB,gBAAL,CAAsB,sBAAtB,EAA8C,qBAA9C,EAAqExJ,YAAY,CAAC5b,IAAb,CAAkBG,WAAvF,CAA/B;IACAykB,kBAAkB,CAACvpB,WAAnB,CAA+B4pB,kBAA/B;IACA,KAAKI,YAAL,CAAkBzJ,YAAY,CAAC5b,IAA/B;IACAykB,uBAAuB,CAACppB,WAAxB,CAAoCupB,kBAApC;IACA,IAAIU,kBAAkB,GAAG5tB,aAAa,CAAC,KAAD,EAAQ;MAAEiF,SAAS,EAAE;IAAb,CAAR,CAAtC;IACA,IAAI4oB,kBAAkB,GAAG7tB,aAAa,CAAC,KAAD,EAAQ;MAAEiF,SAAS,EAAE;IAAb,CAAR,CAAtC;IACA4oB,kBAAkB,CAACL,OAAnB,GAA6B,KAAKM,gBAAL,CAAsB7Z,IAAtB,CAA2B,IAA3B,CAA7B;IACA,IAAIvN,SAAS,GAAGwd,YAAY,CAACxd,SAAb,CAAuByE,WAAvB,EAAhB;IACA0iB,kBAAkB,CAAClqB,WAAnB,CAA+B,KAAK+pB,gBAAL,CAAsB,uBAAtB,EAA+C,sBAA/C,EAAuEhnB,SAAS,KAAK,MAAd,GAAuB,IAAvB,GAA8B,KAArG,CAA/B;IACAmnB,kBAAkB,CAAClqB,WAAnB,CAA+B,KAAK+pB,gBAAL,CAAsB,yBAAtB,EAAiD,wBAAjD,EAA2EhnB,SAAS,KAAK,QAAd,GAAyB,IAAzB,GAAgC,KAA3G,CAA/B;IACAmnB,kBAAkB,CAAClqB,WAAnB,CAA+B,KAAK+pB,gBAAL,CAAsB,wBAAtB,EAAgD,uBAAhD,EAAyEhnB,SAAS,KAAK,OAAd,GAAwB,IAAxB,GAA+B,KAAxG,CAA/B;IACA,KAAKqnB,YAAL,CAAkBrnB,SAAlB;IACAknB,kBAAkB,CAACjqB,WAAnB,CAA+BkqB,kBAA/B;IACA,KAAKG,gBAAL,GAAwBhuB,aAAa,CAAC,KAAD,EAAQ;MAAEiF,SAAS,EAAE,+BAAb;MAA8CjC,EAAE,EAAE,KAAKX,SAAL,CAAeU,OAAf,CAAuBC,EAAvB,GAA4B;IAA9E,CAAR,CAArC;IACA,KAAKirB,gBAAL,GAAwB,KAAKC,iBAAL,CAAuB,KAAKF,gBAAL,CAAsBhrB,EAA7C,EAAiDkhB,YAAY,CAAC1d,KAA9D,CAAxB;IACA0d,YAAY,CAAC1d,KAAb,KAAuB,OAAvB,GAAiC,KAAKsf,cAAL,GAAsB5B,YAAY,CAAC1d,KAApE,GAA4E,IAA5E;IACA,KAAKynB,gBAAL,CAAsB9B,MAAtB,GAA+B,KAAKgC,iBAAL,CAAuBla,IAAvB,CAA4B,IAA5B,CAA/B;IACA,KAAKma,iBAAL,GAAyB,KAAKC,oBAAL,CAA0B,KAAKL,gBAA/B,EAAiD,gCAAjD,EAAmF,KAAKC,gBAAL,CAAsBlrB,OAAtB,CAA8B8U,aAAjH,CAAzB;IACA+V,kBAAkB,CAACjqB,WAAnB,CAA+B,KAAKqqB,gBAApC;IACA,KAAKrb,UAAL,CAAgB,KAAKtQ,SAAL,CAAe6f,SAAf,CAAyBC,WAAzB,CAAqC,YAArC,CAAhB,EAAoE,KAAKiM,iBAAL,CAAuBrrB,OAA3F;IACA,KAAKurB,iBAAL,CAAuB,KAAKN,gBAA5B,EAA8C,KAAK3rB,SAAL,CAAe8b,aAAf,CAA6BE,UAA7B,CAAwC,CAAxC,EAA2C7X,KAAzF;;IACA,IAAI0d,YAAY,CAACzhB,uBAAb,KAAyC,UAAzC,IAAuDyhB,YAAY,CAACzhB,uBAAb,KAAyC,aAApG,EAAmH;MAC/G,KAAKwrB,gBAAL,CAAsBvd,QAAtB,GAAiC,IAAjC;MACA,KAAK0d,iBAAL,CAAuB1d,QAAvB,GAAkC,IAAlC;MACA,KAAKsd,gBAAL,CAAsBjpB,KAAtB,CAA4B0L,aAA5B,GAA4C,MAA5C;MACA,KAAKud,gBAAL,CAAsBjpB,KAAtB,CAA4BmB,OAA5B,GAAsC,KAAtC;MACA2nB,kBAAkB,CAAC9oB,KAAnB,CAAyB0L,aAAzB,GAAyC,MAAzC;MACAod,kBAAkB,CAAC9oB,KAAnB,CAAyBmB,OAAzB,GAAmC,KAAnC;MACA,KAAK2f,iBAAL,CAAuB6F,OAAvB,GAAiC,KAAjC;MACA,KAAK9F,mBAAL,CAAyB8F,OAAzB,GAAmC,KAAnC;MACAyB,2BAA2B,CAACpoB,KAA5B,CAAkC0L,aAAlC,GAAkD,MAAlD;MACA4c,iBAAiB,CAACtoB,KAAlB,CAAwB0L,aAAxB,GAAwC,MAAxC;MACA8c,kBAAkB,CAACxoB,KAAnB,CAAyB0L,aAAzB,GAAyC,MAAzC;MACA8c,kBAAkB,CAACxoB,KAAnB,CAAyBmB,OAAzB,GAAmC,KAAnC;IACH;;IACD,IAAIqoB,cAAc,GAAGvuB,aAAa,CAAC,KAAD,EAAQ;MAAEiF,SAAS,EAAE,gCAAb;MAA+CjC,EAAE,EAAE,KAAKX,SAAL,CAAeU,OAAf,CAAuBC,EAAvB,GAA4B;IAA/E,CAAR,CAAlC;IACA,IAAIwrB,kBAAkB,GAAGxuB,aAAa,CAAC,KAAD,EAAQ;MAAEiF,SAAS,EAAE,+BAAb;MAA8CjC,EAAE,EAAE,KAAKX,SAAL,CAAeU,OAAf,CAAuBC,EAAvB,GAA4B;IAA9E,CAAR,CAAtC;IACAurB,cAAc,CAAC5qB,WAAf,CAA2B6qB,kBAA3B;IACA,KAAKvB,kBAAL,CAAwB,KAAK5qB,SAAL,CAAe6f,SAAf,CAAyBC,WAAzB,CAAqC,YAArC,CAAxB,EAA4EqM,kBAA5E,EAAgG,IAAhG,EAAsG,iCAAtG,EAAyIlM,SAAS,GAAG,iCAArJ;IACA,IAAImM,0BAA0B,GAAGzuB,aAAa,CAAC,KAAD,EAAQ;MAAEiF,SAAS,EAAE,0BAAb;MAAyCjC,EAAE,EAAE,KAAKX,SAAL,CAAeU,OAAf,CAAuBC,EAAvB,GAA4B;IAAzE,CAAR,CAA9C;IACA,IAAI0rB,qBAAqB,GAAG1uB,aAAa,CAAC,OAAD,EAAU;MAAEiF,SAAS,EAAE;IAAb,CAAV,CAAzC;IACAwpB,0BAA0B,CAAC9qB,WAA3B,CAAuC+qB,qBAAvC;IACAH,cAAc,CAAC5qB,WAAf,CAA2B8qB,0BAA3B,EAtE4D,CAuE5D;;IACA,KAAKhG,aAAL,GAAqB,IAAI3nB,cAAJ,CAAmB;MAAE6tB,MAAM,EAAE,GAAV;MAAetoB,KAAK,EAAE6d,YAAY,CAACrd,SAAb,KAA2B,CAA3B,GAA+Bqd,YAAY,CAACrd,SAA5C,GAAwD,CAA9E;MAAiFsG,GAAG,EAAE;IAAtF,CAAnB,EAA8GuhB,qBAA9G,CAArB;IACAd,kBAAkB,CAACjqB,WAAnB,CAA+B4qB,cAA/B;IACA,KAAK5b,UAAL,CAAgB,KAAKtQ,SAAL,CAAe6f,SAAf,CAAyBC,WAAzB,CAAqC,YAArC,CAAhB,EAAoE,KAAKsG,aAAL,CAAmB1lB,OAAvF;;IACA,IAAImhB,YAAY,CAACzhB,uBAAb,KAAyC,SAAzC,IAAsDyhB,YAAY,CAACzhB,uBAAb,KAAyC,eAAnG,EAAoH;MAChH,KAAKgmB,aAAL,CAAmBiD,OAAnB,GAA6B,KAA7B;MACA8C,kBAAkB,CAACzpB,KAAnB,CAAyB0L,aAAzB,GAAyC,MAAzC;IACH;;IACDsc,uBAAuB,CAACppB,WAAxB,CAAoCiqB,kBAApC;IACA,IAAIgB,cAAc,GAAG5uB,aAAa,CAAC,KAAD,EAAQ;MAAEiF,SAAS,EAAE;IAAb,CAAR,CAAlC;IACA,IAAI4pB,wBAAwB,GAAG7uB,aAAa,CAAC,KAAD,EAAQ;MAAEiF,SAAS,EAAE;IAAb,CAAR,CAA5C;IACA8nB,uBAAuB,CAACppB,WAAxB,CAAoCkrB,wBAApC;IACA,KAAK5B,kBAAL,CAAwB,KAAK5qB,SAAL,CAAe6f,SAAf,CAAyBC,WAAzB,CAAqC,MAArC,CAAxB,EAAsE0M,wBAAtE,EAAgG,IAAhG,EAAsG,iCAAtG,EAAyIvM,SAAS,GAAG,iCAArJ;IACA,KAAKwM,oBAAL,GAA4B9uB,aAAa,CAAC,KAAD,EAAQ;MAAEiF,SAAS,EAAE,+BAAb;MAA8CjC,EAAE,EAAE,KAAKX,SAAL,CAAeU,OAAf,CAAuBC,EAAvB,GAA4B;IAA9E,CAAR,CAAzC;IACA,KAAK+rB,YAAL,GAAoB,KAAKb,iBAAL,CAAuB,KAAKY,oBAAL,CAA0B9rB,EAAjD,EAAqDkhB,YAAY,CAACzd,eAAlE,CAApB;IACA,KAAKsoB,YAAL,CAAkB5C,MAAlB,GAA2B,KAAK6C,mBAAL,CAAyB/a,IAAzB,CAA8B,IAA9B,CAA3B,CAtF4D,CAuF5D;;IACA,KAAKgb,aAAL,GAAqB,KAAKZ,oBAAL,CAA0B,KAAKS,oBAA/B,EAAqD,4BAArD,EAAmF,KAAKC,YAAL,CAAkBhsB,OAAlB,CAA0B8U,aAA7G,CAArB;IACA,KAAKlF,UAAL,CAAgB,KAAKtQ,SAAL,CAAe6f,SAAf,CAAyBC,WAAzB,CAAqC,YAArC,CAAhB,EAAoE,KAAK8M,aAAL,CAAmBlsB,OAAvF;IACA8rB,wBAAwB,CAAClrB,WAAzB,CAAqC,KAAKmrB,oBAA1C;IACAF,cAAc,CAACjrB,WAAf,CAA2BkrB,wBAA3B;IACA,KAAKP,iBAAL,CAAuB,KAAKQ,oBAA5B,EAAkD,KAAKzsB,SAAL,CAAe8b,aAAf,CAA6BE,UAA7B,CAAwC,CAAxC,EAA2C5X,eAA7F;IACA,IAAIyoB,oBAAoB,GAAGlvB,aAAa,CAAC,KAAD,EAAQ;MAAEiF,SAAS,EAAE;IAAb,CAAR,CAAxC;IACA,KAAKgoB,kBAAL,CAAwB,KAAK5qB,SAAL,CAAe6f,SAAf,CAAyBC,WAAzB,CAAqC,QAArC,CAAxB,EAAwE+M,oBAAxE,EAA8F,IAA9F,EAAoG,iCAApG,EAAuI5M,SAAS,GAAG,mCAAnJ;IACA,KAAK6M,qBAAL,GAA6BnvB,aAAa,CAAC,KAAD,EAAQ;MAAEiF,SAAS,EAAE,iCAAb;MAAgDjC,EAAE,EAAE,KAAKX,SAAL,CAAeU,OAAf,CAAuBC,EAAvB,GAA4B;IAAhF,CAAR,CAA1C;IACA,KAAKosB,iBAAL,GAAyB,KAAKlB,iBAAL,CAAuB,KAAKiB,qBAAL,CAA2BnsB,EAAlD,EAAsDkhB,YAAY,CAAChd,WAAnE,CAAzB;IACA,KAAKkoB,iBAAL,CAAuBjD,MAAvB,GAAgC,KAAKkD,oBAAL,CAA0Bpb,IAA1B,CAA+B,IAA/B,CAAhC,CAjG4D,CAkG5D;;IACA,KAAKqb,cAAL,GAAsB,KAAKjB,oBAAL,CAA0B,KAAKc,qBAA/B,EAAsD,6BAAtD,EAAqF,KAAKC,iBAAL,CAAuBrsB,OAAvB,CAA+B8U,aAApH,CAAtB;IACA,KAAKlF,UAAL,CAAgB,KAAKtQ,SAAL,CAAe6f,SAAf,CAAyBC,WAAzB,CAAqC,cAArC,CAAhB,EAAsE,KAAKmN,cAAL,CAAoBvsB,OAA1F;IACAmsB,oBAAoB,CAACvrB,WAArB,CAAiC,KAAKwrB,qBAAtC;IACAP,cAAc,CAACjrB,WAAf,CAA2BurB,oBAA3B;IACA,KAAKZ,iBAAL,CAAuB,KAAKa,qBAA5B,EAAmD,KAAK9sB,SAAL,CAAe8b,aAAf,CAA6BE,UAA7B,CAAwC,CAAxC,EAA2CnX,WAA9F;IACA,IAAIqoB,wBAAwB,GAAGvvB,aAAa,CAAC,KAAD,EAAQ;MAAEiF,SAAS,EAAE;IAAb,CAAR,CAA5C;IACA,KAAKgoB,kBAAL,CAAwB,KAAK5qB,SAAL,CAAe6f,SAAf,CAAyBC,WAAzB,CAAqC,WAArC,CAAxB,EAA2EoN,wBAA3E,EAAqG,IAArG,EAA2G,iCAA3G,EAA8IjN,SAAS,GAAG,uCAA1J;IACA,KAAKkN,gBAAL,GAAwBxvB,aAAa,CAAC,KAAD,EAAQ;MAAEiF,SAAS,EAAE,qCAAb;MAAoDjC,EAAE,EAAE,KAAKX,SAAL,CAAeU,OAAf,CAAuBC,EAAvB,GAA4B;IAApF,CAAR,CAArC;IACA;IACA,IAAIysB,kBAAkB,GAAG,KAAKC,qBAAL,CAA2B,KAAKF,gBAAL,CAAsBxsB,EAAjD,CAAzB,CA5G4D,CA6G5D;;IACA,KAAK2sB,iBAAL,GAAyB,KAAKtB,oBAAL,CAA0B,KAAKmB,gBAA/B,EAAiD,gCAAjD,EAAmFC,kBAAnF,CAAzB;IACA,KAAKE,iBAAL,CAAuBjD,UAAvB,GAAoC,KAAKkD,2BAAL,CAAiC3b,IAAjC,CAAsC,IAAtC,CAApC;IACA,KAAKtB,UAAL,CAAgB,KAAKtQ,SAAL,CAAe6f,SAAf,CAAyBC,WAAzB,CAAqC,WAArC,CAAhB,EAAmE,KAAKwN,iBAAL,CAAuB5sB,OAA1F;IACA,KAAK8sB,eAAL,CAAqB1D,MAArB,GAA8B,KAAK2D,eAAL,CAAqB7b,IAArB,CAA0B,IAA1B,CAA9B;IACA,KAAK4b,eAAL,CAAqBE,OAArB,GAA+B,KAAKD,eAAL,CAAqB7b,IAArB,CAA0B,IAA1B,CAA/B;IACAsb,wBAAwB,CAAC5rB,WAAzB,CAAqC,KAAK6rB,gBAA1C;IACAZ,cAAc,CAACjrB,WAAf,CAA2B4rB,wBAA3B;IACAxC,uBAAuB,CAACppB,WAAxB,CAAoCirB,cAApC;IACA,OAAO7B,uBAAP;EACH,CAvHD;;EAwHA1rB,YAAY,CAACkB,SAAb,CAAuButB,eAAvB,GAAyC,UAAU7L,IAAV,EAAgB;IACrD,IAAI,KAAK5hB,SAAL,CAAe8b,aAAf,CAA6BE,UAA7B,CAAwC9Y,MAAxC,KAAmD,CAAvD,EAA0D;MACtD,KAAK0gB,oBAAL,GAA4BhC,IAAI,CAAC5d,KAAjC;MACA,KAAK2pB,wBAAL;IACH;EACJ,CALD;;EAMA3uB,YAAY,CAACkB,SAAb,CAAuBqtB,2BAAvB,GAAqD,YAAY;IAC7D,IAAI,KAAKvtB,SAAL,CAAe8b,aAAf,CAA6BE,UAA7B,CAAwC9Y,MAAxC,KAAmD,CAAvD,EAA0D;MACtD,KAAK0gB,oBAAL,GAA4B,KAAK5jB,SAAL,CAAe8b,aAAf,CAA6BE,UAA7B,CAAwC,CAAxC,EAA2ClX,SAA3C,CAAqD+E,QAArD,EAA5B;MACA,KAAK2jB,eAAL,CAAqBxpB,KAArB,GAA6B,KAAKhE,SAAL,CAAe8b,aAAf,CAA6BE,UAA7B,CAAwC,CAAxC,EAA2ClX,SAAxE;IACH;;IACD,KAAK6oB,wBAAL;EACH,CAND;;EAOA3uB,YAAY,CAACkB,SAAb,CAAuBytB,wBAAvB,GAAkD,YAAY;IAC1D,KAAKC,kBAAL,CAAwBhgB,WAAxB,GAAsC,KAAK4f,eAAL,CAAqBxpB,KAArB,GAA6B,KAAnE;EACH,CAFD;;EAGAhF,YAAY,CAACkB,SAAb,CAAuBkoB,sBAAvB,GAAgD,YAAY;IACxD,IAAIpI,KAAK,GAAG,IAAZ;;IACA,IAAIC,SAAS,GAAG,KAAKjgB,SAAL,CAAeU,OAAf,CAAuBC,EAAvC;IACA,IAAIktB,mBAAmB,GAAGlwB,aAAa,CAAC,KAAD,EAAQ;MAAEgD,EAAE,EAAEsf,SAAS,GAAG;IAAlB,CAAR,CAAvC;IACA,IAAI6N,oBAAoB,GAAGnwB,aAAa,CAAC,KAAD,EAAQ;MAAEiF,SAAS,EAAE;IAAb,CAAR,CAAxC;IACA,IAAImrB,wBAAwB,GAAGpwB,aAAa,CAAC,KAAD,EAAQ;MAAEiF,SAAS,EAAE;IAAb,CAAR,CAA5C,CALwD,CAMxD;;IACA,KAAKgoB,kBAAL,CAAwB,KAAK5qB,SAAL,CAAe6f,SAAf,CAAyBC,WAAzB,CAAqC,WAArC,CAAxB,EAA2EiO,wBAA3E,EAAqG,IAArG,EAA2G,iCAA3G,EAA8I9N,SAAS,GAAG,gCAA1J;IACA,IAAI+N,oBAAoB,GAAGrwB,aAAa,CAAC,KAAD,EAAQ;MAAEiF,SAAS,EAAE;IAAb,CAAR,CAAxC;IACA,IAAIqrB,0BAA0B,GAAGtwB,aAAa,CAAC,OAAD,EAAU;MAAEiF,SAAS,EAAE;IAAb,CAAV,CAA9C;IACAqrB,0BAA0B,CAACvc,gBAA3B,CAA4C,OAA5C,EAAqD,UAAUkQ,IAAV,EAAgB;MACjE5B,KAAK,CAACkO,kBAAN,CAAyB7f,QAAzB,GAAoC,IAApC;MACA2R,KAAK,CAACmO,iBAAN,CAAwBnqB,KAAxB,GAAgC4d,IAAI,CAACxM,MAAL,CAAYpR,KAA5C;;MACA,IAAI4d,IAAI,CAACxM,MAAL,IAAewM,IAAI,CAACxM,MAAL,CAAYpR,KAA/B,EAAsC;QAClC,IAAIgc,KAAK,CAAC3gB,2BAAN,CAAkC6D,MAAlC,GAA2C,CAA/C,EAAkD;UAC9C,KAAK,IAAIE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG4c,KAAK,CAAC3gB,2BAAN,CAAkC6D,MAAtD,EAA8DE,CAAC,EAA/D,EAAmE;YAC/D,IAAI6O,QAAQ,GAAG+N,KAAK,CAAC3gB,2BAAN,CAAkC+D,CAAlC,CAAf;;YACA,IAAI6O,QAAQ,KAAK2P,IAAI,CAACxM,MAAL,CAAYpR,KAA7B,EAAoC;cAChCgc,KAAK,CAACkO,kBAAN,CAAyB7f,QAAzB,GAAoC,IAApC;cACA;YACH,CAHD,MAIK;cACD2R,KAAK,CAACkO,kBAAN,CAAyB7f,QAAzB,GAAoC,KAApC;YACH;UACJ;QACJ,CAXD,MAYK;UACD2R,KAAK,CAACkO,kBAAN,CAAyB7f,QAAzB,GAAoC,KAApC;QACH;MACJ;IACJ,CApBD;IAqBA2f,oBAAoB,CAAC1sB,WAArB,CAAiC2sB,0BAAjC;IACAF,wBAAwB,CAACzsB,WAAzB,CAAqC0sB,oBAArC,EAhCwD,CAiCxD;;IACA,KAAKG,iBAAL,GAAyB,IAAI3vB,OAAJ,CAAY;MAAEuK,IAAI,EAAE,MAAR;MAAgB8f,QAAQ,EAAE;IAA1B,CAAZ,EAA8EoF,0BAA9E,CAAzB;IACAH,oBAAoB,CAACxsB,WAArB,CAAiCysB,wBAAjC;IACAF,mBAAmB,CAACvsB,WAApB,CAAgCwsB,oBAAhC;IACA,IAAIM,SAAS,GAAGzwB,aAAa,CAAC,KAAD,EAAQ;MAAEiF,SAAS,EAAE;IAAb,CAAR,CAA7B;IACA,IAAIyrB,cAAc,GAAG1wB,aAAa,CAAC,QAAD,EAAW;MAAEiF,SAAS,EAAE;IAAb,CAAX,CAAlC;IACAyrB,cAAc,CAAC3c,gBAAf,CAAgC,OAAhC,EAAyC,KAAK4c,kBAAL,CAAwB1c,IAAxB,CAA6B,IAA7B,CAAzC;IACAwc,SAAS,CAAC9sB,WAAV,CAAsB+sB,cAAtB;IACA,KAAKH,kBAAL,GAA0B,IAAIvvB,MAAJ,CAAW;MAAEkiB,OAAO,EAAE,KAAK7gB,SAAL,CAAe6f,SAAf,CAAyBC,WAAzB,CAAqC,KAArC,CAAX;MAAwDzR,QAAQ,EAAE,IAAlE;MAAwEwa,QAAQ,EAAE;IAAlF,CAAX,EAA+HwF,cAA/H,CAA1B;IACAP,oBAAoB,CAACxsB,WAArB,CAAiC8sB,SAAjC;IACA,IAAIG,oBAAoB,GAAG5wB,aAAa,CAAC,KAAD,EAAQ;MAAEiF,SAAS,EAAE;IAAb,CAAR,CAAxC;IACA,IAAI4rB,2BAA2B,GAAG7wB,aAAa,CAAC,KAAD,EAAQ;MAAEiF,SAAS,EAAE;IAAb,CAAR,CAA/C;IACA,KAAKgoB,kBAAL,CAAwB,KAAK5qB,SAAL,CAAe6f,SAAf,CAAyBC,WAAzB,CAAqC,cAArC,CAAxB,EAA8E0O,2BAA9E,EAA2G,IAA3G,EAAiH,iCAAjH,EAAoJvO,SAAS,GAAG,mCAAhK;IACA,IAAIwO,sBAAsB,GAAG9wB,aAAa,CAAC,KAAD,EAAQ;MAAEiF,SAAS,EAAE;IAAb,CAAR,CAA1C;IACA,IAAI8rB,4BAA4B,GAAG/wB,aAAa,CAAC,OAAD,EAAU;MAAEiF,SAAS,EAAE;IAAb,CAAV,CAAhD;IACA6rB,sBAAsB,CAACntB,WAAvB,CAAmCotB,4BAAnC;IACAF,2BAA2B,CAACltB,WAA5B,CAAwCmtB,sBAAxC,EAjDwD,CAkDxD;;IACA,KAAKN,iBAAL,GAAyB,IAAI3vB,OAAJ,CAAY;MAAEuK,IAAI,EAAE,MAAR;MAAgB8f,QAAQ,EAAE;IAA1B,CAAZ,EAAiF6F,4BAAjF,CAAzB;IACAH,oBAAoB,CAACjtB,WAArB,CAAiCktB,2BAAjC;IACAX,mBAAmB,CAACvsB,WAApB,CAAgCitB,oBAAhC;IACA,IAAII,yBAAyB,GAAGhxB,aAAa,CAAC,KAAD,EAAQ;MAAEiF,SAAS,EAAE;IAAb,CAAR,CAA7C;IACA,IAAIgsB,4BAA4B,GAAGjxB,aAAa,CAAC,KAAD,EAAQ;MAAEiF,SAAS,EAAE;IAAb,CAAR,CAAhD;IACA,IAAIisB,eAAe,GAAG,KAAK7uB,SAAL,CAAe8b,aAAf,CAA6BE,UAA7B,CAAwC,CAAxC,CAAtB;;IACA,IAAI6S,eAAe,CAACzuB,uBAAhB,KAA4C,cAAhD,EAAgE;MAC5D;MACA,KAAKwqB,kBAAL,CAAwB,KAAK5qB,SAAL,CAAe6f,SAAf,CAAyBC,WAAzB,CAAqC,oBAArC,CAAxB,EAAoF8O,4BAApF,EAAkH,IAAlH,EAAwH,iCAAxH,EAA2J3O,SAAS,GAAG,yCAAvK;IACH,CAHD,MAIK;MACD;MACA,KAAK2K,kBAAL,CAAwB,KAAK5qB,SAAL,CAAe6f,SAAf,CAAyBC,WAAzB,CAAqC,oBAArC,CAAxB,EAAoF8O,4BAApF,EAAkH,IAAlH,EAAwH,iCAAxH,EAA2J3O,SAAS,GAAG,yCAAvK;IACH;;IACD0O,yBAAyB,CAACrtB,WAA1B,CAAsCstB,4BAAtC;IACA,IAAIE,oBAAoB,GAAGnxB,aAAa,CAAC,KAAD,EAAQ;MAAEiF,SAAS,EAAE;IAAb,CAAR,CAAxC;IACA,IAAImsB,iBAAiB,GAAGpxB,aAAa,CAAC,KAAD,EAAQ;MAAEiF,SAAS,EAAE,oCAAb;MAAmDosB,MAAM,EAAE;IAA3D,CAAR,CAArC;IACA,IAAIC,WAAW,GAAGtxB,aAAa,CAAC,IAAD,EAAO;MAAEgD,EAAE,EAAE,KAAKX,SAAL,CAAeU,OAAf,CAAuBC,EAAvB,GAA4B,eAAlC;MAAmDiC,SAAS,EAAE;IAA9D,CAAP,CAA/B;IACA,IAAIssB,SAAS,GAAG,KAAKC,iBAAL,CAAuBF,WAAvB,CAAhB;IACAF,iBAAiB,CAACztB,WAAlB,CAA8B2tB,WAA9B;IACAH,oBAAoB,CAACxtB,WAArB,CAAiCytB,iBAAjC;IACA,IAAIK,WAAW,GAAGzxB,aAAa,CAAC,KAAD,EAAQ;MAAEiF,SAAS,EAAE;IAAb,CAAR,CAA/B;IACA,IAAIysB,eAAe,GAAG1xB,aAAa,CAAC,KAAD,EAAQ;MAAEiF,SAAS,EAAE;IAAb,CAAR,CAAnC;IACA,IAAI0sB,iBAAiB,GAAG3xB,aAAa,CAAC,QAAD,EAAW;MAAEiF,SAAS,EAAE;IAAb,CAAX,CAArC;IACA0sB,iBAAiB,CAAC5d,gBAAlB,CAAmC,OAAnC,EAA4C,KAAK6d,cAAL,CAAoB3d,IAApB,CAAyB,IAAzB,CAA5C;IACAyd,eAAe,CAAC/tB,WAAhB,CAA4BguB,iBAA5B;IACA,KAAKE,qBAAL,GAA6B,IAAI7wB,MAAJ,CAAW;MAAEkiB,OAAO,EAAE,KAAK7gB,SAAL,CAAe6f,SAAf,CAAyBC,WAAzB,CAAqC,aAArC,CAAX;MAAgEzR,QAAQ,EAAE6gB,SAAS,GAAG,CAAZ,GAAgB,KAAhB,GAAwB,IAAlG;MAAwGrG,QAAQ,EAAE;IAAlH,CAAX,EAA+JyG,iBAA/J,CAA7B;IACAF,WAAW,CAAC9tB,WAAZ,CAAwB+tB,eAAxB;IACA,IAAII,WAAW,GAAG9xB,aAAa,CAAC,KAAD,EAAQ;MAAEiF,SAAS,EAAE;IAAb,CAAR,CAA/B;IACA,IAAI8sB,aAAa,GAAG/xB,aAAa,CAAC,QAAD,EAAW;MAAEiF,SAAS,EAAE;IAAb,CAAX,CAAjC;IACA8sB,aAAa,CAAChe,gBAAd,CAA+B,OAA/B,EAAwC,KAAKie,cAAL,CAAoB/d,IAApB,CAAyB,IAAzB,CAAxC;IACA6d,WAAW,CAACnuB,WAAZ,CAAwBouB,aAAxB;IACA,KAAKE,iBAAL,GAAyB,IAAIjxB,MAAJ,CAAW;MAAEkiB,OAAO,EAAE,KAAK7gB,SAAL,CAAe6f,SAAf,CAAyBC,WAAzB,CAAqC,IAArC,CAAX;MAAuDzR,QAAQ,EAAE6gB,SAAS,GAAG,CAAZ,GAAgB,KAAhB,GAAwB,IAAzF;MAA+FrG,QAAQ,EAAE;IAAzG,CAAX,EAAsJ6G,aAAtJ,CAAzB;IACAN,WAAW,CAAC9tB,WAAZ,CAAwBmuB,WAAxB;IACA,IAAII,aAAa,GAAGlyB,aAAa,CAAC,KAAD,EAAQ;MAAEiF,SAAS,EAAE;IAAb,CAAR,CAAjC;IACA,IAAIktB,eAAe,GAAGnyB,aAAa,CAAC,QAAD,EAAW;MAAEiF,SAAS,EAAE;IAAb,CAAX,CAAnC;IACAktB,eAAe,CAACpe,gBAAhB,CAAiC,OAAjC,EAA0C,KAAKqe,gBAAL,CAAsBne,IAAtB,CAA2B,IAA3B,CAA1C;IACAie,aAAa,CAACvuB,WAAd,CAA0BwuB,eAA1B;IACA,KAAKE,mBAAL,GAA2B,IAAIrxB,MAAJ,CAAW;MAAEkiB,OAAO,EAAE,KAAK7gB,SAAL,CAAe6f,SAAf,CAAyBC,WAAzB,CAAqC,MAArC,CAAX;MAAyDzR,QAAQ,EAAE,IAAnE;MAAyEwa,QAAQ,EAAE;IAAnF,CAAX,EAAgIiH,eAAhI,CAA3B;IACAV,WAAW,CAAC9tB,WAAZ,CAAwBuuB,aAAxB;IACAf,oBAAoB,CAACxtB,WAArB,CAAiC8tB,WAAjC;IACAT,yBAAyB,CAACrtB,WAA1B,CAAsCwtB,oBAAtC;IACAjB,mBAAmB,CAACvsB,WAApB,CAAgCqtB,yBAAhC;IACA,OAAOd,mBAAP;EACH,CA/FD;;EAgGA7uB,YAAY,CAACkB,SAAb,CAAuBouB,kBAAvB,GAA4C,YAAY;IACpD,IAAI2B,aAAa,GAAG,KAAK9B,iBAAL,CAAuBnqB,KAA3C;IACA,KAAK3E,2BAAL,CAAiCoH,IAAjC,CAAsCwpB,aAAtC;IACA,IAAIC,SAAS,GAAG1vB,QAAQ,CAACC,cAAT,CAAwB,KAAKT,SAAL,CAAeU,OAAf,CAAuBC,EAAvB,GAA4B,eAApD,CAAhB;;IACA,IAAIuvB,SAAS,CAAC1jB,QAAV,IAAsB0jB,SAAS,CAAC1jB,QAAV,CAAmBtJ,MAAnB,GAA4B,CAAtD,EAAyD;MACrD,KAAK,IAAIE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG8sB,SAAS,CAAC1jB,QAAV,CAAmBtJ,MAAvC,EAA+CE,CAAC,EAAhD,EAAoD;QAChD,IAAI1C,OAAO,GAAGwvB,SAAS,CAAC1jB,QAAV,CAAmBpJ,CAAnB,CAAd;;QACA,IAAI1C,OAAO,CAAC2U,SAAR,CAAkBK,QAAlB,CAA2B,gBAA3B,CAAJ,EAAkD;UAC9ChV,OAAO,CAAC2U,SAAR,CAAkBC,MAAlB,CAAyB,gBAAzB;QACH;MACJ;IACJ;;IACD,IAAI6a,eAAe,GAAGxyB,aAAa,CAAC,IAAD,EAAO;MAAEiF,SAAS,EAAE;IAAb,CAAP,CAAnC;IACAutB,eAAe,CAACze,gBAAhB,CAAiC,OAAjC,EAA0C,KAAK0e,eAAL,CAAqBxe,IAArB,CAA0B,IAA1B,CAA1C;IACAue,eAAe,CAACrtB,SAAhB,GAA4BmtB,aAA5B;IACAE,eAAe,CAAC9a,SAAhB,CAA0BE,GAA1B,CAA8B,gBAA9B;IACA2a,SAAS,CAAC5uB,WAAV,CAAsB6uB,eAAtB;IACA,KAAKX,qBAAL,CAA2BnhB,QAA3B,GAAsC,KAAtC;IACA,KAAK6f,kBAAL,CAAwB7f,QAAxB,GAAmC,IAAnC;;IACA,IAAI8hB,eAAe,CAACE,sBAApB,EAA4C;MACxC,KAAKT,iBAAL,CAAuBvhB,QAAvB,GAAkC,KAAlC;IACH;;IACD,IAAI,CAAC8hB,eAAe,CAAC3iB,kBAArB,EAAyC;MACrC,KAAKwiB,mBAAL,CAAyB3hB,QAAzB,GAAoC,IAApC;IACH;EACJ,CAzBD;;EA0BArP,YAAY,CAACkB,SAAb,CAAuBkwB,eAAvB,GAAyC,UAAUxO,IAAV,EAAgB;IACrD,IAAIsO,SAAS,GAAG1vB,QAAQ,CAACC,cAAT,CAAwB,KAAKT,SAAL,CAAeU,OAAf,CAAuBC,EAAvB,GAA4B,eAApD,CAAhB;;IACA,IAAIuvB,SAAS,CAAC1jB,QAAV,IAAsB0jB,SAAS,CAAC1jB,QAAV,CAAmBtJ,MAAnB,GAA4B,CAAtD,EAAyD;MACrD,KAAK,IAAIE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG8sB,SAAS,CAAC1jB,QAAV,CAAmBtJ,MAAvC,EAA+CE,CAAC,EAAhD,EAAoD;QAChD,IAAI1C,OAAO,GAAGwvB,SAAS,CAAC1jB,QAAV,CAAmBpJ,CAAnB,CAAd;;QACA,IAAI1C,OAAO,CAAC2U,SAAR,CAAkBK,QAAlB,CAA2B,gBAA3B,CAAJ,EAAkD;UAC9ChV,OAAO,CAAC2U,SAAR,CAAkBC,MAAlB,CAAyB,gBAAzB;QACH;MACJ;IACJ;;IACD,IAAIsM,IAAI,CAACxM,MAAT,EAAiB;MACbwM,IAAI,CAACxM,MAAL,CAAYC,SAAZ,CAAsBE,GAAtB,CAA0B,gBAA1B;IACH;;IACD,IAAIqM,IAAI,CAACxM,MAAL,CAAY5H,kBAAhB,EAAoC;MAChC,KAAKwiB,mBAAL,CAAyB3hB,QAAzB,GAAoC,KAApC;IACH,CAFD,MAGK;MACD,KAAK2hB,mBAAL,CAAyB3hB,QAAzB,GAAoC,IAApC;IACH;;IACD,IAAIuT,IAAI,CAACxM,MAAL,CAAYib,sBAAhB,EAAwC;MACpC,KAAKT,iBAAL,CAAuBvhB,QAAvB,GAAkC,KAAlC;IACH,CAFD,MAGK;MACD,KAAKuhB,iBAAL,CAAuBvhB,QAAvB,GAAkC,IAAlC;IACH;EACJ,CAzBD;;EA0BArP,YAAY,CAACkB,SAAb,CAAuBqvB,cAAvB,GAAwC,YAAY;IAChD,IAAIW,SAAS,GAAG1vB,QAAQ,CAACC,cAAT,CAAwB,KAAKT,SAAL,CAAeU,OAAf,CAAuBC,EAAvB,GAA4B,eAApD,CAAhB;;IACA,IAAIuvB,SAAS,CAAC1jB,QAAV,IAAsB0jB,SAAS,CAAC1jB,QAAV,CAAmBtJ,MAAnB,GAA4B,CAAtD,EAAyD;MACrD,KAAK,IAAIE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG8sB,SAAS,CAAC1jB,QAAV,CAAmBtJ,MAAvC,EAA+CE,CAAC,EAAhD,EAAoD;QAChD,IAAI1C,OAAO,GAAGwvB,SAAS,CAAC1jB,QAAV,CAAmBpJ,CAAnB,CAAd;;QACA,IAAI1C,OAAO,CAAC2U,SAAR,CAAkBK,QAAlB,CAA2B,gBAA3B,CAAJ,EAAkD;UAC9ChV,OAAO,CAAC2U,SAAR,CAAkBC,MAAlB,CAAyB,gBAAzB;UACA,KAAKjW,2BAAL,CAAiCyH,MAAjC,CAAwC1D,CAAxC,EAA2C,CAA3C;;UACA,IAAI1C,OAAO,CAAC2vB,sBAAZ,EAAoC;YAChC3vB,OAAO,CAAC2vB,sBAAR,CAA+Bhb,SAA/B,CAAyCE,GAAzC,CAA6C,gBAA7C;;YACA,IAAI,CAAC7U,OAAO,CAAC2vB,sBAAR,CAA+BA,sBAApC,EAA4D;cACxD,KAAKT,iBAAL,CAAuBvhB,QAAvB,GAAkC,IAAlC;YACH;UACJ,CALD,MAMK,IAAI3N,OAAO,CAAC8M,kBAAZ,EAAgC;YACjC9M,OAAO,CAAC8M,kBAAR,CAA2B6H,SAA3B,CAAqCE,GAArC,CAAyC,gBAAzC;;YACA,IAAI,CAAC7U,OAAO,CAAC8M,kBAAR,CAA2BA,kBAAhC,EAAoD;cAChD,KAAKwiB,mBAAL,CAAyB3hB,QAAzB,GAAoC,IAApC;YACH;UACJ;;UACD3N,OAAO,CAAC4U,MAAR;QACH;MACJ;IACJ;;IACD,IAAI4a,SAAS,CAAC1jB,QAAV,IAAsB0jB,SAAS,CAAC1jB,QAAV,CAAmBtJ,MAAnB,KAA8B,CAAxD,EAA2D;MACvD,KAAKssB,qBAAL,CAA2BnhB,QAA3B,GAAsC,IAAtC;MACA,KAAKuhB,iBAAL,CAAuBvhB,QAAvB,GAAkC,IAAlC;MACA,KAAK2hB,mBAAL,CAAyB3hB,QAAzB,GAAoC,IAApC;IACH;;IACD,IAAI6hB,SAAS,CAAC1jB,QAAV,IAAsB0jB,SAAS,CAAC1jB,QAAV,CAAmBtJ,MAAnB,KAA8B,CAAxD,EAA2D;MACvD,KAAKssB,qBAAL,CAA2BnhB,QAA3B,GAAsC,KAAtC;MACA,KAAKuhB,iBAAL,CAAuBvhB,QAAvB,GAAkC,IAAlC;MACA,KAAK2hB,mBAAL,CAAyB3hB,QAAzB,GAAoC,IAApC;IACH;EACJ,CAlCD;;EAmCArP,YAAY,CAACkB,SAAb,CAAuByvB,cAAvB,GAAwC,YAAY;IAChD,IAAIO,SAAS,GAAG1vB,QAAQ,CAACC,cAAT,CAAwB,KAAKT,SAAL,CAAeU,OAAf,CAAuBC,EAAvB,GAA4B,eAApD,CAAhB;;IACA,IAAIuvB,SAAS,CAAC1jB,QAAV,IAAsB0jB,SAAS,CAAC1jB,QAAV,CAAmBtJ,MAAnB,GAA4B,CAAtD,EAAyD;MACrD,KAAK,IAAIE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG8sB,SAAS,CAAC1jB,QAAV,CAAmBtJ,MAAvC,EAA+CE,CAAC,EAAhD,EAAoD;QAChD,IAAI1C,OAAO,GAAGwvB,SAAS,CAAC1jB,QAAV,CAAmBpJ,CAAnB,CAAd;;QACA,IAAI1C,OAAO,CAAC2U,SAAR,CAAkBK,QAAlB,CAA2B,gBAA3B,CAAJ,EAAkD;UAC9C,IAAIhV,OAAO,CAAC2vB,sBAAZ,EAAoC;YAChC3vB,OAAO,CAAC4vB,UAAR,CAAmBC,YAAnB,CAAgC7vB,OAAhC,EAAyCA,OAAO,CAAC2vB,sBAAjD;YACA,IAAI,CAAC3vB,OAAO,CAAC2vB,sBAAb,EACI,KAAKT,iBAAL,CAAuBvhB,QAAvB,GAAkC,IAAlC;UACP,CAJD,MAKK;YACD,KAAKuhB,iBAAL,CAAuBvhB,QAAvB,GAAkC,IAAlC;UACH;;UACD,IAAI3N,OAAO,CAAC8M,kBAAZ,EAAgC;YAC5B,KAAKwiB,mBAAL,CAAyB3hB,QAAzB,GAAoC,KAApC;UACH;QACJ;MACJ;IACJ;EACJ,CApBD;;EAqBArP,YAAY,CAACkB,SAAb,CAAuB6vB,gBAAvB,GAA0C,YAAY;IAClD,IAAIrvB,OAAJ;IACA,IAAIwvB,SAAS,GAAG1vB,QAAQ,CAACC,cAAT,CAAwB,KAAKT,SAAL,CAAeU,OAAf,CAAuBC,EAAvB,GAA4B,eAApD,CAAhB;;IACA,IAAIuvB,SAAS,CAAC1jB,QAAV,IAAsB0jB,SAAS,CAAC1jB,QAAV,CAAmBtJ,MAAnB,GAA4B,CAAtD,EAAyD;MACrD,KAAK,IAAIE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG8sB,SAAS,CAAC1jB,QAAV,CAAmBtJ,MAAvC,EAA+CE,CAAC,EAAhD,EAAoD;QAChD1C,OAAO,GAAGwvB,SAAS,CAAC1jB,QAAV,CAAmBpJ,CAAnB,CAAV;;QACA,IAAI1C,OAAO,CAAC2U,SAAR,CAAkBK,QAAlB,CAA2B,gBAA3B,CAAJ,EAAkD;UAC9C,IAAIhV,OAAO,CAAC8M,kBAAZ,EAAgC;YAC5B9M,OAAO,CAAC4vB,UAAR,CAAmBC,YAAnB,CAAgC7vB,OAAO,CAAC8M,kBAAxC,EAA4D9M,OAA5D;YACA;UACH,CAHD,MAIK;YACD,KAAKsvB,mBAAL,CAAyB3hB,QAAzB,GAAoC,IAApC;UACH;QACJ;MACJ;IACJ;;IACD,IAAI,CAAC3N,OAAO,CAAC8M,kBAAb,EAAiC;MAC7B,KAAKwiB,mBAAL,CAAyB3hB,QAAzB,GAAoC,IAApC;IACH;;IACD,IAAI3N,OAAO,CAAC2vB,sBAAZ,EAAoC;MAChC,KAAKT,iBAAL,CAAuBvhB,QAAvB,GAAkC,KAAlC;IACH;EACJ,CAvBD;;EAwBArP,YAAY,CAACkB,SAAb,CAAuBivB,iBAAvB,GAA2C,UAAUe,SAAV,EAAqB;IAC5D,IAAIrB,eAAe,GAAG,KAAK7uB,SAAL,CAAe8b,aAAf,CAA6BE,UAA7B,CAAwC,CAAxC,CAAtB;;IACA,IAAI6S,eAAJ,EAAqB;MACjB,IAAIA,eAAe,CAAC9pB,OAAhB,IAA2B8pB,eAAe,CAAC9pB,OAAhB,CAAwB7B,MAAxB,GAAiC,CAAhE,EAAmE;QAC/D,KAAK,IAAIE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGyrB,eAAe,CAAC9pB,OAAhB,CAAwB7B,MAA5C,EAAoDE,CAAC,EAArD,EAAyD;UACrD,IAAI6sB,aAAa,GAAGpB,eAAe,CAAC9pB,OAAhB,CAAwB3B,CAAxB,EAA2B6O,QAA/C;;UACA,IAAI,KAAK5S,2BAAL,CAAiC+D,CAAjC,MAAwCyrB,eAAe,CAAC9pB,OAAhB,CAAwB3B,CAAxB,EAA2B6O,QAAvE,EAAiF;YAC7E,KAAK5S,2BAAL,CAAiCoH,IAAjC,CAAsCwpB,aAAtC;YACA,IAAIE,eAAe,GAAGxyB,aAAa,CAAC,IAAD,EAAO;cAAEiF,SAAS,EAAE;YAAb,CAAP,CAAnC;YACAutB,eAAe,CAACze,gBAAhB,CAAiC,OAAjC,EAA0C,KAAK0e,eAAL,CAAqBxe,IAArB,CAA0B,IAA1B,CAA1C;YACAue,eAAe,CAACrtB,SAAhB,GAA4BmtB,aAA5B;YACAC,SAAS,CAAC5uB,WAAV,CAAsB6uB,eAAtB;UACH;QACJ;;QACDD,SAAS,CAAC1jB,QAAV,CAAmB0jB,SAAS,CAAC1jB,QAAV,CAAmBtJ,MAAnB,GAA4B,CAA/C,EAAkDmS,SAAlD,CAA4DE,GAA5D,CAAgE,gBAAhE;MACH;IACJ;;IACD,OAAO2a,SAAS,CAAC1jB,QAAV,CAAmBtJ,MAA1B;EACH,CAlBD;;EAmBAlE,YAAY,CAACkB,SAAb,CAAuBmtB,qBAAvB,GAA+C,UAAUmD,QAAV,EAAoB;IAC/D,IAAIC,cAAc,GAAG9yB,aAAa,CAAC,KAAD,EAAQ;MAAEiF,SAAS,EAAE;IAAb,CAAR,CAAlC;IACApC,QAAQ,CAACoQ,IAAT,CAActP,WAAd,CAA0BmvB,cAA1B;IACA,IAAI7G,KAAK,GAAGjsB,aAAa,CAAC,MAAD,EAAS;MAAEgD,EAAE,EAAE6vB,QAAQ,GAAG,QAAjB;MAA2B5tB,SAAS,EAAE;IAAtC,CAAT,CAAzB;IACAgnB,KAAK,CAAChc,WAAN,GAAoB,KAAK5N,SAAL,CAAe6f,SAAf,CAAyBC,WAAzB,CAAqC,gBAArC,CAApB;IACA,IAAI4Q,aAAa,GAAG/yB,aAAa,CAAC,KAAD,EAAQ;MAAEgD,EAAE,EAAE6vB,QAAQ,GAAG;IAAjB,CAAR,CAAjC;IACA,KAAKhD,eAAL,GAAuB,IAAIjvB,MAAJ,CAAW;MAAEwK,IAAI,EAAE,UAAR;MAAoB8f,QAAQ,EAAE,kCAA9B;MAAkEje,GAAG,EAAE,EAAvE;MAA2EE,GAAG,EAAE;IAAhF,CAAX,CAAvB,CAN+D,CAO/D;;IACA,KAAK8iB,kBAAL,GAA0BjwB,aAAa,CAAC,KAAD,EAAQ;MAAEgD,EAAE,EAAE6vB,QAAQ,GAAG,sBAAjB;MAAyC5tB,SAAS,EAAE;IAApD,CAAR,CAAvC;IACA,KAAKgrB,kBAAL,CAAwBhgB,WAAxB,GAAsC,MAAtC;;IACA,IAAI,CAAC,KAAK5N,SAAL,CAAeyhB,SAApB,EAA+B;MAC3BgP,cAAc,CAACnvB,WAAf,CAA2BsoB,KAA3B;MACA6G,cAAc,CAACnvB,WAAf,CAA2BovB,aAA3B;MACA,KAAKlD,eAAL,CAAqB7L,QAArB,CAA8B+O,aAA9B;MACAD,cAAc,CAACnvB,WAAf,CAA2B,KAAKssB,kBAAhC;IACH,CALD,MAMK;MACD6C,cAAc,CAACnvB,WAAf,CAA2B,KAAKssB,kBAAhC;MACA6C,cAAc,CAACnvB,WAAf,CAA2BovB,aAA3B;MACA,KAAKlD,eAAL,CAAqB/L,SAArB,GAAiC,IAAjC;MACA,KAAK+L,eAAL,CAAqB7L,QAArB,CAA8B+O,aAA9B;MACAD,cAAc,CAACnvB,WAAf,CAA2BsoB,KAA3B;IACH;;IACD,KAAK4D,eAAL,CAAqB9sB,OAArB,CAA6B8U,aAA7B,CAA2CH,SAA3C,CAAqDE,GAArD,CAAyD,4CAAzD;IACA,OAAOkb,cAAP;EACH,CAzBD;;EA0BAzxB,YAAY,CAACkB,SAAb,CAAuB2rB,iBAAvB,GAA2C,UAAU2E,QAAV,EAAoBrsB,KAApB,EAA2B;IAClE,IAAI0O,YAAY,GAAGlV,aAAa,CAAC,OAAD,EAAU;MAAEgD,EAAE,EAAE6vB,QAAQ,GAAG;IAAjB,CAAV,CAAhC;IACAhwB,QAAQ,CAACoQ,IAAT,CAActP,WAAd,CAA0BuR,YAA1B;IACA,IAAI8d,WAAW,GAAG,IAAIryB,WAAJ,CAAgB;MAC9BsyB,MAAM,EAAE,IADsB;MAChB1U,IAAI,EAAE,SADU;MACC2M,QAAQ,EAAE,cADX;MAC2BgI,aAAa,EAAE,KAD1C;MAE9B7sB,KAAK,EAAEG,KAFuB;MAEhB2sB,WAAW,EAAE,KAFG;MAEIC,YAAY,EAAE;IAFlB,CAAhB,CAAlB;;IAIA,IAAI,KAAK/wB,SAAL,CAAeyhB,SAAnB,EAA8B;MAC1BkP,WAAW,CAAClP,SAAZ,GAAwB,IAAxB;IACH;;IACDkP,WAAW,CAAChP,QAAZ,CAAqB9O,YAArB;IACA,OAAO8d,WAAP;EACH,CAZD;;EAaA3xB,YAAY,CAACkB,SAAb,CAAuBkrB,gBAAvB,GAA0C,UAAUxJ,IAAV,EAAgB;IACtD,IAAIA,IAAI,CAACxM,MAAT,EAAiB;MACb,IAAIwM,IAAI,CAACxM,MAAL,CAAYzU,EAAZ,CAAemJ,OAAf,CAAuB,gBAAvB,MAA6C,CAAC,CAAlD,EAAqD;QACjD,IAAIuY,IAAI,GAAIT,IAAI,CAACxM,MAAL,CAAYzU,EAAZ,CAAemJ,OAAf,CAAuB,oBAAvB,MAAiD,CAAC,CAAnD,GAAwD8X,IAAI,CAACxM,MAA7D,GAAsEwM,IAAI,CAACxM,MAAL,CAAYI,aAA7F;QACA,IAAI6M,IAAI,CAAChN,SAAL,CAAeK,QAAf,CAAwB,gBAAxB,CAAJ,EACI,KAAKxP,MAAL,GAAc,IAAd;QACJ,KAAKA,MAAL,GAAc,CAAC,KAAKA,MAApB;;QACA,IAAI,KAAKA,MAAT,EAAiB;UACb,KAAK8gB,aAAL,GAAqB,MAArB;UACA3E,IAAI,CAAChN,SAAL,CAAeE,GAAf,CAAmB,gBAAnB;QACH,CAHD,MAIK;UACD,KAAKyR,aAAL,GAAqB,QAArB;UACA3E,IAAI,CAAChN,SAAL,CAAeC,MAAf,CAAsB,gBAAtB;QACH;MACJ,CAbD,MAcK,IAAIsM,IAAI,CAACxM,MAAL,CAAYzU,EAAZ,CAAemJ,OAAf,CAAuB,kBAAvB,MAA+C,CAAC,CAApD,EAAuD;QACxD,IAAIuY,IAAI,GAAIT,IAAI,CAACxM,MAAL,CAAYzU,EAAZ,CAAemJ,OAAf,CAAuB,sBAAvB,MAAmD,CAAC,CAArD,GAA0D8X,IAAI,CAACxM,MAA/D,GAAwEwM,IAAI,CAACxM,MAAL,CAAYI,aAA/F;QACA,IAAI6M,IAAI,CAAChN,SAAL,CAAeK,QAAf,CAAwB,gBAAxB,CAAJ,EACI,KAAKvP,QAAL,GAAgB,IAAhB;QACJ,KAAKA,QAAL,GAAgB,CAAC,KAAKA,QAAtB;;QACA,IAAI,KAAKA,QAAT,EAAmB;UACf,KAAK+gB,eAAL,GAAuB,QAAvB;UACA7E,IAAI,CAAChN,SAAL,CAAeE,GAAf,CAAmB,gBAAnB;QACH,CAHD,MAIK;UACD,KAAK2R,eAAL,GAAuB,QAAvB;UACA7E,IAAI,CAAChN,SAAL,CAAeC,MAAf,CAAsB,gBAAtB;QACH;MACJ,CAbI,MAcA,IAAIsM,IAAI,CAACxM,MAAL,CAAYzU,EAAZ,CAAemJ,OAAf,CAAuB,qBAAvB,MAAkD,CAAC,CAAvD,EAA0D;QAC3D,IAAIuY,IAAI,GAAIT,IAAI,CAACxM,MAAL,CAAYzU,EAAZ,CAAemJ,OAAf,CAAuB,mCAAvB,MAAgE,CAAC,CAAlE,GAAuE8X,IAAI,CAACxM,MAA5E,GAAqFwM,IAAI,CAACxM,MAAL,CAAYI,aAA5G;QACA,IAAI6M,IAAI,CAAChN,SAAL,CAAeK,QAAf,CAAwB,gBAAxB,CAAJ,EACI,KAAKrP,WAAL,GAAmB,IAAnB;QACJ,KAAKA,WAAL,GAAmB,CAAC,KAAKA,WAAzB;;QACA,IAAI,KAAKA,WAAT,EAAsB;UAClB,KAAK8gB,kBAAL,GAA0B,WAA1B;UACA,KAAK6J,eAAL,GAAuB,KAAvB;UACA3O,IAAI,CAAChN,SAAL,CAAeE,GAAf,CAAmB,gBAAnB;QACH,CAJD,MAKK;UACD,KAAK4R,kBAAL,GAA0B,MAA1B;UACA9E,IAAI,CAAChN,SAAL,CAAeC,MAAf,CAAsB,gBAAtB;QACH;MACJ,CAdI,MAeA,IAAIsM,IAAI,CAACxM,MAAL,CAAYzU,EAAZ,CAAemJ,OAAf,CAAuB,qBAAvB,MAAkD,CAAC,CAAvD,EAA0D;QAC3D,IAAIuY,IAAI,GAAIT,IAAI,CAACxM,MAAL,CAAYzU,EAAZ,CAAemJ,OAAf,CAAuB,yBAAvB,MAAsD,CAAC,CAAxD,GAA6D8X,IAAI,CAACxM,MAAlE,GAA2EwM,IAAI,CAACxM,MAAL,CAAYI,aAAlG;QACA,IAAI6M,IAAI,CAAChN,SAAL,CAAeK,QAAf,CAAwB,gBAAxB,CAAJ,EACI,KAAKsb,eAAL,GAAuB,IAAvB;QACJ,KAAKA,eAAL,GAAuB,CAAC,KAAKA,eAA7B;;QACA,IAAI,KAAKA,eAAT,EAA0B;UACtB,KAAK5J,kBAAL,GAA0B,cAA1B;UACA,KAAK/gB,WAAL,GAAmB,KAAnB;UACAgc,IAAI,CAAChN,SAAL,CAAeE,GAAf,CAAmB,gBAAnB;QACH,CAJD,MAKK;UACD,KAAK6R,kBAAL,GAA0B,MAA1B;UACA/E,IAAI,CAAChN,SAAL,CAAeC,MAAf,CAAsB,gBAAtB;QACH;MACJ;IACJ;EACJ,CA7DD;;EA8DAtW,YAAY,CAACkB,SAAb,CAAuB+wB,2BAAvB,GAAqD,UAAUC,cAAV,EAA0B;IAC3E,KAAK,IAAI9tB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG8tB,cAAc,CAAC1kB,QAAf,CAAwBtJ,MAA5C,EAAoDE,CAAC,EAArD,EAAyD;MACrD,IAAI8tB,cAAc,CAAC1kB,QAAf,CAAwBpJ,CAAxB,EAA2BiS,SAA3B,CAAqCK,QAArC,CAA8C,gBAA9C,CAAJ,EAAqE;QACjEwb,cAAc,CAAC1kB,QAAf,CAAwBpJ,CAAxB,EAA2BiS,SAA3B,CAAqCC,MAArC,CAA4C,gBAA5C;MACH;IACJ;EACJ,CAND;;EAOAtW,YAAY,CAACkB,SAAb,CAAuBurB,gBAAvB,GAA0C,UAAU7J,IAAV,EAAgB;IACtD,IAAIA,IAAI,CAACxM,MAAT,EAAiB;MACbwM,IAAI,CAACxM,MAAL,CAAYC,SAAZ,CAAsBC,MAAtB,CAA6B,gBAA7B;;MACA,IAAIsM,IAAI,CAACxM,MAAL,CAAYzU,EAAZ,CAAemJ,OAAf,CAAuB,uBAAvB,MAAoD,CAAC,CAAzD,EAA4D;QACxD,IAAIuY,IAAI,GAAIT,IAAI,CAACxM,MAAL,CAAYzU,EAAZ,CAAemJ,OAAf,CAAuB,2BAAvB,MAAwD,CAAC,CAA1D,GAA+D8X,IAAI,CAACxM,MAApE,GAA6EwM,IAAI,CAACxM,MAAL,CAAYI,aAApG;QACA,KAAK2N,cAAL,GAAsB,MAAtB;QACA,KAAK8N,2BAAL,CAAiCrP,IAAI,CAACrN,aAAtC;QACA8N,IAAI,CAAChN,SAAL,CAAeE,GAAf,CAAmB,gBAAnB;MACH,CALD,MAMK,IAAIqM,IAAI,CAACxM,MAAL,CAAYzU,EAAZ,CAAemJ,OAAf,CAAuB,wBAAvB,MAAqD,CAAC,CAA1D,EAA6D;QAC9D,IAAIuY,IAAI,GAAIT,IAAI,CAACxM,MAAL,CAAYzU,EAAZ,CAAemJ,OAAf,CAAuB,4BAAvB,MAAyD,CAAC,CAA3D,GAAgE8X,IAAI,CAACxM,MAArE,GAA8EwM,IAAI,CAACxM,MAAL,CAAYI,aAArG;QACA,KAAK2N,cAAL,GAAsB,OAAtB;QACA,KAAK8N,2BAAL,CAAiCrP,IAAI,CAACrN,aAAtC;QACA8N,IAAI,CAAChN,SAAL,CAAeE,GAAf,CAAmB,gBAAnB;MACH,CALI,MAMA;QACD,IAAI8M,IAAI,GAAIT,IAAI,CAACxM,MAAL,CAAYzU,EAAZ,CAAemJ,OAAf,CAAuB,6BAAvB,MAA0D,CAAC,CAA5D,GAAiE8X,IAAI,CAACxM,MAAtE,GAA+EwM,IAAI,CAACxM,MAAL,CAAYI,aAAtG;QACA,KAAK2N,cAAL,GAAsB,QAAtB;QACA,KAAK8N,2BAAL,CAAiCrP,IAAI,CAACrN,aAAtC;QACA8N,IAAI,CAAChN,SAAL,CAAeE,GAAf,CAAmB,gBAAnB;MACH;IACJ;EACJ,CAtBD;;EAuBAvW,YAAY,CAACkB,SAAb,CAAuB4rB,iBAAvB,GAA2C,UAAUlK,IAAV,EAAgB;IACvD,KAAK6B,cAAL,GAAuB7B,IAAI,CAACuP,YAAL,CAAkBjoB,GAAlB,KAA0B,EAA3B,GAAiC,WAAjC,GAA+C0Y,IAAI,CAACuP,YAAL,CAAkBjoB,GAAvF;IACA,KAAK+iB,iBAAL,CAAuB,KAAKN,gBAA5B,EAA8C,KAAKlI,cAAnD;IACA,KAAKsI,iBAAL,CAAuBqF,MAAvB;EACH,CAJD;;EAKApyB,YAAY,CAACkB,SAAb,CAAuBysB,mBAAvB,GAA6C,UAAU/K,IAAV,EAAgB;IACzD,KAAK8B,oBAAL,GAA6B9B,IAAI,CAACuP,YAAL,CAAkBjoB,GAAlB,KAA0B,EAA3B,GAAiC,WAAjC,GAA+C0Y,IAAI,CAACuP,YAAL,CAAkBjoB,GAA7F;IACA,KAAK+iB,iBAAL,CAAuB,KAAKQ,oBAA5B,EAAkD,KAAK/I,oBAAvD;IACA,KAAKkJ,aAAL,CAAmBwE,MAAnB;EACH,CAJD;EAKA;AACJ;AACA;;;EACIpyB,YAAY,CAACkB,SAAb,CAAuB+rB,iBAAvB,GAA2C,UAAUvrB,OAAV,EAAmByD,KAAnB,EAA0B;IACjEzD,OAAO,CAAC2wB,UAAR,CAAmB,CAAnB,EAAsB3uB,KAAtB,CAA4B4uB,iBAA5B,GAAgDntB,KAAhD;EACH,CAFD;;EAGAnF,YAAY,CAACkB,SAAb,CAAuB8sB,oBAAvB,GAA8C,UAAUpL,IAAV,EAAgB;IAC1D,KAAK+B,gBAAL,GAAyB/B,IAAI,CAACuP,YAAL,CAAkBjoB,GAAlB,KAA0B,EAA3B,GAAiC,WAAjC,GAA+C0Y,IAAI,CAACuP,YAAL,CAAkBjoB,GAAzF;IACA,KAAK+iB,iBAAL,CAAuB,KAAKa,qBAA5B,EAAmD,KAAKnJ,gBAAxD;IACA,KAAKsJ,cAAL,CAAoBmE,MAApB;EACH,CAJD;;EAKApyB,YAAY,CAACkB,SAAb,CAAuB8rB,oBAAvB,GAA8C,UAAUtrB,OAAV,EAAmB6wB,SAAnB,EAA8Bnc,MAA9B,EAAsC;IAChF;IACA,IAAIoc,cAAc,GAAG,IAAInzB,cAAJ,CAAmB;MAAEozB,OAAO,EAAEF,SAAS,GAAG,YAAvB;MAAqCnc,MAAM,EAAEA;IAA7C,CAAnB,CAArB;;IACA,IAAI,KAAKpV,SAAL,CAAeyhB,SAAnB,EAA8B;MAC1B+P,cAAc,CAAC/P,SAAf,GAA2B,IAA3B;IACH;;IACD+P,cAAc,CAAC7P,QAAf,CAAwBjhB,OAAxB;IACA,OAAO8wB,cAAP;EACH,CARD;EASA;AACJ;AACA;;;EACIxyB,YAAY,CAACkB,SAAb,CAAuBmrB,gBAAvB,GAA0C,UAAUmF,QAAV,EAAoB5tB,SAApB,EAA+B8uB,eAA/B,EAAgD;IACtF,IAAIhxB,OAAO,GAAG/C,aAAa,CAAC,KAAD,EAAQ;MAAEgD,EAAE,EAAE,KAAKX,SAAL,CAAeU,OAAf,CAAuBC,EAAvB,GAA4B6vB,QAA5B,GAAuC;IAA7C,CAAR,CAA3B;IACA9vB,OAAO,CAAC2U,SAAR,CAAkBE,GAAlB,CAAsB3S,SAAS,GAAG,MAAlC;IACA,IAAIO,WAAW,GAAGxF,aAAa,CAAC,MAAD,EAAS;MAAEgD,EAAE,EAAE,KAAKX,SAAL,CAAeU,OAAf,CAAuBC,EAAvB,GAA4B6vB,QAA5B,GAAuC;IAA7C,CAAT,CAA/B;IACArtB,WAAW,CAACkS,SAAZ,CAAsBE,GAAtB,CAA0B3S,SAA1B;IACAO,WAAW,CAACkS,SAAZ,CAAsBE,GAAtB,CAA0B,WAA1B;;IACA,QAAQ3S,SAAR;MACI,KAAK,gBAAL;QACI,KAAK0N,UAAL,CAAgB,KAAKtQ,SAAL,CAAe6f,SAAf,CAAyBC,WAAzB,CAAqC,MAArC,CAAhB,EAA8Dpf,OAA9D;QACA;;MACJ,KAAK,kBAAL;QACI,KAAK4P,UAAL,CAAgB,KAAKtQ,SAAL,CAAe6f,SAAf,CAAyBC,WAAzB,CAAqC,QAArC,CAAhB,EAAgEpf,OAAhE;QACA;;MACJ,KAAK,yBAAL;QACI,KAAK4P,UAAL,CAAgB,KAAKtQ,SAAL,CAAe6f,SAAf,CAAyBC,WAAzB,CAAqC,YAArC,CAAhB,EAAoEpf,OAApE;QACA;;MACJ,KAAK,qBAAL;QACI,KAAK4P,UAAL,CAAgB,KAAKtQ,SAAL,CAAe6f,SAAf,CAAyBC,WAAzB,CAAqC,gBAArC,CAAhB,EAAwEpf,OAAxE;QACA;;MACJ,KAAK,sBAAL;QACI,KAAK4P,UAAL,CAAgB,KAAKtQ,SAAL,CAAe6f,SAAf,CAAyBC,WAAzB,CAAqC,YAArC,CAAhB,EAAoEpf,OAApE;QACA;;MACJ,KAAK,wBAAL;QACI,KAAK4P,UAAL,CAAgB,KAAKtQ,SAAL,CAAe6f,SAAf,CAAyBC,WAAzB,CAAqC,QAArC,CAAhB,EAAgEpf,OAAhE;QACA;;MACJ,KAAK,uBAAL;QACI,KAAK4P,UAAL,CAAgB,KAAKtQ,SAAL,CAAe6f,SAAf,CAAyBC,WAAzB,CAAqC,aAArC,CAAhB,EAAqEpf,OAArE;QACA;IArBR;;IAuBA,IAAIgxB,eAAJ,EACIhxB,OAAO,CAAC2U,SAAR,CAAkBE,GAAlB,CAAsB,gBAAtB;IACJ7U,OAAO,CAACY,WAAR,CAAoB6B,WAApB;IACA,OAAOzC,OAAP;EACH,CAjCD,CAjyK0C,CAm0K1C;;;EACA1B,YAAY,CAACkB,SAAb,CAAuB0qB,kBAAvB,GAA4C,UAAU+G,SAAV,EAAqBnc,aAArB,EAAoCoc,aAApC,EAAmDhvB,SAAnD,EAA8D4tB,QAA9D,EAAwE;IAChH,IAAIqB,SAAS,GAAGl0B,aAAa,CAAC,KAAD,EAAQ;MAAEgD,EAAE,EAAE6vB,QAAQ,GAAG,YAAjB;MAA+B5tB,SAAS,EAAEA,SAAS,GAAG;IAAtD,CAAR,CAA7B;IACA,IAAIgnB,KAAK,GAAG,IAAZ;;IACA,IAAIgI,aAAJ,EAAmB;MACfhI,KAAK,GAAGjsB,aAAa,CAAC,KAAD,EAAQ;QAAEgD,EAAE,EAAE6vB,QAAQ,GAAG,QAAjB;QAA2B5tB,SAAS,EAAEA;MAAtC,CAAR,CAArB;MACAgnB,KAAK,CAAChc,WAAN,GAAoB+jB,SAApB;MACAE,SAAS,CAACvwB,WAAV,CAAsBsoB,KAAtB;IACH;;IACDpU,aAAa,CAAClU,WAAd,CAA0BsoB,KAA1B;EACH,CATD;;EAUA5qB,YAAY,CAACkB,SAAb,CAAuBma,sBAAvB,GAAgD,UAAUwH,YAAV,EAAwB3L,UAAxB,EAAoC;IAChF,KAAK,IAAI9S,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKpD,SAAL,CAAe4G,mBAAf,CAAmC1D,MAAvD,EAA+DE,CAAC,EAAhE,EAAoE;MAChE,IAAIiT,SAAS,GAAG,KAAKrW,SAAL,CAAe4G,mBAAf,CAAmCxD,CAAnC,CAAhB;;MACA,IAAIiT,SAAS,CAACjW,uBAAV,KAAsCyhB,YAAY,CAACzhB,uBAAnD,IAA8EiW,SAAS,CAACtT,IAAV,KAAmB8e,YAAY,CAAC9e,IAA9G,IAAsHsT,SAAS,CAAC1V,EAAV,KAAiBkhB,YAAY,CAAClhB,EAAxJ,EAA4J;QACxJ0V,SAAS,CAAC/R,UAAV,GAAuB4R,UAAvB;;QACA,QAAQG,SAAS,CAACjW,uBAAlB;UACI,KAAK,SAAL;UACA,KAAK,eAAL;UACA,KAAK,cAAL;UACA,KAAK,SAAL;UACA,KAAK,gBAAL;UACA,KAAK,cAAL;YACI,IAAIyS,YAAY,GAAGrS,QAAQ,CAACC,cAAT,CAAwB4V,SAAS,CAAC1V,EAAV,GAAe,uBAAvC,EAAgEmM,iBAAhE,CAAkFA,iBAArG;YACA,KAAKsN,oBAAL,CAA0B/D,SAA1B,EAAqCxD,YAArC,EAAmDqD,UAAnD;YACA;;UACJ,KAAK,aAAL;YACI,IAAIsC,wBAAwB,GAAGhY,QAAQ,CAACC,cAAT,CAAwB4V,SAAS,CAAC1V,EAAV,GAAe,uBAAvC,EAAgEmM,iBAAhE,CAAkFA,iBAAlF,CAAoGA,iBAAnI;YACA,KAAKsN,oBAAL,CAA0B/D,SAA1B,EAAqCmC,wBAArC,EAA+DtC,UAA/D;YACA;;UACJ,KAAK,UAAL;YACI,IAAIuC,kBAAkB,GAAGjY,QAAQ,CAACC,cAAT,CAAwB4V,SAAS,CAAC1V,EAAV,GAAe,uBAAvC,EAAgEmM,iBAAhE,CAAkFA,iBAAlF,CAAoGC,gBAA7H;YACA,KAAKqN,oBAAL,CAA0B/D,SAA1B,EAAqCoC,kBAArC,EAAyDvC,UAAzD;YACA;QAjBR;MAmBH;IACJ;EACJ,CA1BD;EA2BA;AACJ;AACA;;;EACIlX,YAAY,CAACkB,SAAb,CAAuB4xB,wBAAvB,GAAkD,UAAUC,wBAAV,EAAoC;IAClF,IAAIC,gBAAgB,GAAG,KAAK/xB,aAAL,CAAmBqH,yBAAnB,CAA6C,eAA7C,CAAvB,CADkF,CAElF;;IACA,IAAII,WAAJ;;IACA,IAAIsqB,gBAAJ,EAAsB;MAClB;MACA,IAAIC,gBAAgB,GAAGzqB,IAAI,CAACC,KAAL,CAAWuqB,gBAAX,CAAvB;;MACA,KAAK,IAAI5uB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG6uB,gBAAgB,CAAC/uB,MAArC,EAA6CE,CAAC,EAA9C,EAAkD;QAC9CsE,WAAW,GAAGuqB,gBAAgB,CAAC7uB,CAAD,CAAhB,CAAoB4D,SAAlC;;QACA,IAAIU,WAAW,CAACtH,uBAAZ,KAAwC,gBAA5C,EAA8D;UAC1D;UACAsH,WAAW,CAAC,UAAD,CAAX,GAA0BA,WAAW,CAAC/G,EAAZ,CAAeuxB,OAAf,CAAuB,UAAvB,EAAmC,EAAnC,CAA1B;UACAH,wBAAwB,CAACtrB,IAAzB,CAA8BwrB,gBAAgB,CAAC7uB,CAAD,CAA9C;QACH;MACJ;IACJ;;IACD,OAAO2uB,wBAAP;EACH,CAjBD;;EAkBA/yB,YAAY,CAACkB,SAAb,CAAuBqa,sBAAvB,GAAgD,UAAUsH,YAAV,EAAwBpd,UAAxB,EAAoC;IAChF,KAAK,IAAIrB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKpD,SAAL,CAAe4G,mBAAf,CAAmC1D,MAAvD,EAA+DE,CAAC,EAAhE,EAAoE;MAChE,IAAIiT,SAAS,GAAG,KAAKrW,SAAL,CAAe4G,mBAAf,CAAmCxD,CAAnC,CAAhB;;MACA,IAAIiT,SAAS,CAACjW,uBAAV,KAAsCyhB,YAAY,CAACzhB,uBAAnD,IAA8EiW,SAAS,CAACtT,IAAV,KAAmB8e,YAAY,CAAC9e,IAA9G,IAAsHsT,SAAS,CAAC1V,EAAV,KAAiBkhB,YAAY,CAAClhB,EAAxJ,EAA4J;QACxJ0V,SAAS,CAAC5R,UAAV,GAAuBA,UAAvB;;QACA,QAAQ4R,SAAS,CAACjW,uBAAlB;UACI,KAAK,SAAL;UACA,KAAK,eAAL;UACA,KAAK,cAAL;UACA,KAAK,gBAAL;UACA,KAAK,cAAL;YACI,IAAIyS,YAAY,GAAGrS,QAAQ,CAACC,cAAT,CAAwB4V,SAAS,CAAC1V,EAAV,GAAe,uBAAvC,EAAgEmM,iBAAhE,CAAkFA,iBAArG;YACA,KAAKwN,oBAAL,CAA0BjE,SAA1B,EAAqCxD,YAArC,EAAmDpO,UAAnD;YACA;;UACJ,KAAK,aAAL;YACI,IAAI+T,wBAAwB,GAAGhY,QAAQ,CAACC,cAAT,CAAwB4V,SAAS,CAAC1V,EAAV,GAAe,uBAAvC,EAAgEmM,iBAAhE,CAAkFA,iBAAlF,CAAoGA,iBAAnI;YACA,KAAKwN,oBAAL,CAA0BjE,SAA1B,EAAqCmC,wBAArC,EAA+D/T,UAA/D;YACA,KAAKuQ,0BAAL,CAAgCqB,SAAhC;YACA;;UACJ,KAAK,UAAL;YACI,IAAIoC,kBAAkB,GAAGjY,QAAQ,CAACC,cAAT,CAAwB4V,SAAS,CAAC1V,EAAV,GAAe,uBAAvC,EAAgEmM,iBAAhE,CAAkFA,iBAAlF,CAAoGC,gBAA7H;YACA,KAAKuN,oBAAL,CAA0BjE,SAA1B,EAAqCoC,kBAArC,EAAyDhU,UAAzD;YACA;;UACJ;YACI;QAnBR;MAqBH;IACJ;EACJ,CA5BD;;EA6BAzF,YAAY,CAACkB,SAAb,CAAuBka,oBAAvB,GAA8C,UAAUyH,YAAV,EAAwBhP,YAAxB,EAAsCqD,UAAtC,EAAkD;IAC5F,IAAIA,UAAJ,EAAgB;MACZrD,YAAY,CAACxE,QAAb,GAAwB,IAAxB;;MACA,IAAIwT,YAAY,CAACzhB,uBAAb,KAAyC,aAA7C,EAA4D;QACxDyS,YAAY,CAAC2C,aAAb,CAA2B9S,KAA3B,CAAiC2Q,MAAjC,GAA0C,SAA1C;QACAR,YAAY,CAAC2C,aAAb,CAA2B9S,KAA3B,CAAiC0B,eAAjC,GAAmD,aAAnD;MACH,CAHD,MAIK;QACDyO,YAAY,CAACnQ,KAAb,CAAmB2Q,MAAnB,GAA4B,SAA5B;QACAR,YAAY,CAACnQ,KAAb,CAAmB0B,eAAnB,GAAqC,aAArC;MACH;IACJ,CAVD,MAWK;MACDyO,YAAY,CAACxE,QAAb,GAAwB,KAAxB;;MACA,IAAIwT,YAAY,CAACzhB,uBAAb,KAAyC,aAA7C,EAA4D;QACxDyS,YAAY,CAAC2C,aAAb,CAA2B9S,KAA3B,CAAiC0B,eAAjC,GAAmDyd,YAAY,CAACzd,eAAhE;MACH,CAFD,MAGK,IAAIyd,YAAY,CAACzhB,uBAAb,IAAwC,gBAAxC,IAA4DyhB,YAAY,CAACzhB,uBAAb,IAAwC,cAAxG,EAAwH;QACzHyS,YAAY,CAACnQ,KAAb,CAAmB0B,eAAnB,GAAqC,aAArC;MACH,CAFI,MAGA;QACDyO,YAAY,CAACnQ,KAAb,CAAmB0B,eAAnB,GAAqCyd,YAAY,CAACzd,eAAlD;MACH;IACJ;EACJ,CAxBD;;EAyBApF,YAAY,CAACkB,SAAb,CAAuBoa,oBAAvB,GAA8C,UAAUuH,YAAV,EAAwBhP,YAAxB,EAAsCpO,UAAtC,EAAkD;IAC5F,IAAIA,UAAJ,EAAgB;MACZoO,YAAY,CAACkL,QAAb,GAAwB,IAAxB;MACAlL,YAAY,CAACnQ,KAAb,CAAmByL,MAAnB,GAA4B,eAA5B;;MACA,IAAI0T,YAAY,CAACzhB,uBAAb,KAAyC,aAA7C,EAA4D;QACxD,IAAI0E,SAAS,GAAG+c,YAAY,CAAC/c,SAAb,KAA2B,CAA3B,GAA+B,CAA/B,GAAmC+c,YAAY,CAAC/c,SAAhE;QACA+N,YAAY,CAAC2C,aAAb,CAA2B9S,KAA3B,CAAiCuR,SAAjC,GAA6C,qBAAqBnP,SAArB,GAAiC,IAA9E;MACH;IACJ,CAPD,MAQK;MACD+N,YAAY,CAACkL,QAAb,GAAwB,KAAxB;MACAlL,YAAY,CAACnQ,KAAb,CAAmB2K,WAAnB,GAAiCwU,YAAY,CAAC/c,SAA9C;MACA+N,YAAY,CAACnQ,KAAb,CAAmBmC,WAAnB,GAAiCgd,YAAY,CAAChd,WAA9C;;MACA,IAAIgd,YAAY,CAACzhB,uBAAb,KAAyC,aAA7C,EAA4D;QACxDyS,YAAY,CAAC2C,aAAb,CAA2B9S,KAA3B,CAAiCuR,SAAjC,GAA6C4N,YAAY,CAAChd,WAAb,GAA2B,eAA3B,GAA6Cgd,YAAY,CAAC/c,SAA1D,GAAsE,IAAnH;MACH;IACJ;EACJ,CAjBD;EAkBA;AACJ;AACA;;;EACI9F,YAAY,CAACkB,SAAb,CAAuB8gB,uBAAvB,GAAiD,YAAY;IACzD,KAAK3hB,2BAAL,GAAmC,EAAnC;IACA,KAAKC,2BAAL,GAAmC,EAAnC;IACA,KAAKikB,mBAAL,GAA2B,IAA3B;IACA,KAAKC,iBAAL,GAAyB,IAAzB;IACA,KAAKL,cAAL,GAAsB,IAAtB;IACA,KAAKM,cAAL,GAAsB,IAAtB;IACA,KAAKC,oBAAL,GAA4B,IAA5B;IACA,KAAKC,gBAAL,GAAwB,IAAxB;IACA,KAAKC,oBAAL,GAA4B,IAA5B;IACA,KAAKX,aAAL,GAAqB,IAArB;IACA,KAAK+C,gBAAL,GAAwB,IAAxB;IACA,KAAKnC,iBAAL,GAAyB,IAAzB;IACA,KAAKC,iBAAL,GAAyB,IAAzB;IACA,KAAKT,gBAAL,GAAwB,IAAxB;IACA,KAAKD,iBAAL,GAAyB,IAAzB;IACA,KAAKrB,kBAAL,GAA0B,IAA1B;IACA,KAAKuB,mBAAL,GAA2B,IAA3B;IACA,IAAI6O,aAAa,GAAG,KAAKlyB,aAAL,CAAmB2L,UAAnB,CAA8B,oBAA9B,CAApB;;IACA,IAAIumB,aAAJ,EAAmB;MACfA,aAAa,CAAC3c,aAAd,CAA4BzE,WAA5B,CAAwCohB,aAAxC;IACH;EACJ,CAtBD;EAuBA;AACJ;AACA;;;EACInzB,YAAY,CAACkB,SAAb,CAAuBkyB,OAAvB,GAAiC,YAAY;IACzC,KAAKpR,uBAAL;EACH,CAFD;;EAGAhiB,YAAY,CAACkB,SAAb,CAAuBgJ,GAAvB,GAA6B,UAAUlH,CAAV,EAAa;IACtC,OAAO,CAAC,MAAMA,CAAC,CAAC6H,QAAF,CAAW,EAAX,CAAP,EAAuBT,KAAvB,CAA6B,CAAC,CAA9B,CAAP;EACH,CAFD;EAGA;AACJ;AACA;;;EACIpK,YAAY,CAACkB,SAAb,CAAuBmyB,aAAvB,GAAuC,YAAY;IAC/C,OAAO,cAAP;EACH,CAFD;;EAGArzB,YAAY,CAACkB,SAAb,CAAuBkf,sBAAvB,GAAgD,UAAU1T,MAAV,EAAkBwT,SAAlB,EAA6BC,UAA7B,EAAyCna,UAAzC,EAAqD;IACjG,IAAI8G,KAAK,GAAG,KAAK7L,aAAL,CAAmB8L,YAAnB,EAAZ;IACAL,MAAM,CAAC3J,KAAP,GAAemd,SAAS,GAAGpT,KAA3B;IACAJ,MAAM,CAAC5J,MAAP,GAAgBqd,UAAU,GAAGrT,KAA7B;IACAJ,MAAM,CAAChJ,KAAP,CAAaX,KAAb,GAAqBmd,SAAS,GAAG,IAAjC;IACAxT,MAAM,CAAChJ,KAAP,CAAaZ,MAAb,GAAsBqd,UAAU,GAAG,IAAnC;IACAzT,MAAM,CAAChJ,KAAP,CAAaM,QAAb,GAAwB,UAAxB;IACA0I,MAAM,CAAChJ,KAAP,CAAa4vB,MAAb,GAAsB,GAAtB;IACA,KAAKryB,aAAL,CAAmBsf,kBAAnB,CAAsC7T,MAAtC,EAA8C1G,UAA9C;EACH,CATD;;EAUAhG,YAAY,CAACkB,SAAb,CAAuB4d,aAAvB,GAAuC,UAAU7Z,UAAV,EAAsB;IACzD,IAAIsuB,eAAe,GAAG,CAAC,WAAD,EAAc,SAAd,EAAyB,YAAzB,EAAuC,QAAvC,EAAiD,cAAjD,CAAtB;IACA,OAAOA,eAAe,CAACzoB,OAAhB,CAAwB7F,UAAxB,IAAsC,CAAC,CAAvC,GAA2C,IAA3C,GAAkD,KAAzD;EACH,CAHD;;EAIAjF,YAAY,CAACkB,SAAb,CAAuB8S,gCAAvB,GAA0D,UAAU7Q,aAAV,EAAyBkO,4BAAzB,EAAuD7Q,kBAAvD,EAA2E;IACjI,IAAIgzB,iBAAiB,GAAG,KAAKxyB,SAAL,CAAewyB,iBAAvC;;IACA,IAAI,CAACniB,4BAA4B,IAAI7Q,kBAAjC,KAAwD,CAACvB,iBAAiB,CAACu0B,iBAAiB,CAACtc,UAAnB,CAA9E,EAA8G;MAC1G/T,aAAa,CAACmC,UAAd,GAA2BkuB,iBAAiB,CAACtc,UAA7C;IACH;;IACD,IAAI,CAAC7F,4BAA4B,IAAI7Q,kBAAjC,KAAwD,CAACvB,iBAAiB,CAACu0B,iBAAiB,CAAC/tB,UAAnB,CAA9E,EAA8G;MAC1GtC,aAAa,CAACsC,UAAd,GAA2B+tB,iBAAiB,CAAC/tB,UAA7C;IACH;;IACD,IAAI,CAAC4L,4BAA4B,IAAI7Q,kBAAjC,KAAwDgzB,iBAAiB,CAACxuB,KAA9E,EAAqF;MACjF7B,aAAa,CAAC6B,KAAd,GAAsBwuB,iBAAiB,CAACxuB,KAAxC;IACH;;IACD,IAAI,CAACqM,4BAA4B,IAAI7Q,kBAAjC,KAAwDgzB,iBAAiB,CAACpuB,eAAlB,KAAsC,OAAlG,EAA2G;MACvGjC,aAAa,CAACiC,eAAd,GAAgCouB,iBAAiB,CAACpuB,eAAlD;IACH;;IACD,IAAI,CAACiM,4BAA4B,IAAI7Q,kBAAjC,KAAwDgzB,iBAAiB,CAAC3tB,WAAlB,KAAkC,OAA9F,EAAuG;MACnG1C,aAAa,CAAC0C,WAAd,GAA4B2tB,iBAAiB,CAAC3tB,WAA9C;IACH;;IACD,IAAI,CAACwL,4BAA4B,IAAI7Q,kBAAjC,KAAwDgzB,iBAAiB,CAACnuB,SAAlB,KAAgC,MAA5F,EAAoG;MAChGlC,aAAa,CAACkC,SAAd,GAA0BmuB,iBAAiB,CAACnuB,SAA5C;IACH;;IACD,IAAI,CAACgM,4BAA4B,IAAI7Q,kBAAjC,KAAwDgzB,iBAAiB,CAACruB,KAAlB,KAA4B,OAAxF,EAAiG;MAC7FhC,aAAa,CAACgC,KAAd,GAAsBquB,iBAAiB,CAACruB,KAAxC;IACH;;IACD,IAAI,CAACkM,4BAA4B,IAAI7Q,kBAAjC,KAAwDgzB,iBAAiB,CAACvuB,UAAlB,KAAiC,WAA7F,EAA0G;MACtG9B,aAAa,CAAC8B,UAAd,GAA2BuuB,iBAAiB,CAACvuB,UAA7C;IACH;;IACD,IAAI,CAACoM,4BAA4B,IAAI7Q,kBAAjC,KAAwDgzB,iBAAiB,CAAC7vB,QAAlB,KAA+B,EAA3F,EAA+F;MAC3FR,aAAa,CAACQ,QAAd,GAAyB6vB,iBAAiB,CAAC7vB,QAA3C;IACH;;IACD,IAAI,CAAC0N,4BAA4B,IAAI7Q,kBAAjC,KAAwDgzB,iBAAiB,CAACtuB,SAA9E,EAAyF;MACrF/B,aAAa,CAAC+B,SAAd,GAA0B,KAAKuuB,gBAAL,CAAsBD,iBAAiB,CAACtuB,SAAxC,EAAmD/B,aAAnD,CAA1B;MACA;IACH;;IACD,IAAI,CAACkO,4BAA4B,IAAI7Q,kBAAjC,KAAwDgzB,iBAAiB,CAACzvB,IAA9E,EAAoF;MAChFZ,aAAa,CAACY,IAAd,GAAqByvB,iBAAiB,CAACzvB,IAAvC;IACH;;IACD,IAAI,CAACsN,4BAA4B,IAAI7Q,kBAAjC,KAAwDgzB,iBAAiB,CAAC5tB,OAA9E,EAAuF;MACnFzC,aAAa,CAACyC,OAAd,GAAwB4tB,iBAAiB,CAAC5tB,OAA1C;IACH;;IACD,IAAI,CAACyL,4BAA4B,IAAI7Q,kBAAjC,KAAwDgzB,iBAAiB,CAAC1tB,SAAlB,KAAgC,CAA5F,EAA+F;MAC3F3C,aAAa,CAAC2C,SAAd,GAA0B0tB,iBAAiB,CAAC1tB,SAA5C;IACH;;IACD,IAAI,CAACuL,4BAA4B,IAAI7Q,kBAAjC,KAAwDgzB,iBAAiB,CAAChuB,SAA9E,EAAyF;MACrFrC,aAAa,CAACqC,SAAd,GAA0BguB,iBAAiB,CAAChuB,SAA5C;IACH;;IACD,IAAI,CAAC6L,4BAA4B,IAAI7Q,kBAAjC,KAAwDgzB,iBAAiB,CAACjuB,UAA9E,EAA0F;MACtFpC,aAAa,CAACoC,UAAd,GAA2BiuB,iBAAiB,CAACjuB,UAA7C;IACH;;IACD,IAAI,CAAC8L,4BAA4B,IAAI7Q,kBAAjC,KAAwD,CAACvB,iBAAiB,CAACu0B,iBAAiB,CAAC9tB,OAAnB,CAA9E,EAA2G;MACvGvC,aAAa,CAACuC,OAAd,GAAwB8tB,iBAAiB,CAAC9tB,OAA1C;IACH;;IACD,IAAI,CAAC2L,4BAA4B,IAAI7Q,kBAAjC,KAAwD,CAACvB,iBAAiB,CAACu0B,iBAAiB,CAAC7sB,WAAnB,CAA9E,EAA+G;MAC3GxD,aAAa,CAACwD,WAAd,GAA4B6sB,iBAAiB,CAAC7sB,WAA9C;IACH;EACJ,CAtDD;;EAuDA3G,YAAY,CAACkB,SAAb,CAAuB4T,oCAAvB,GAA8D,UAAU3R,aAAV,EAAyBkO,4BAAzB,EAAuD7Q,kBAAvD,EAA2E;IACrI,IAAIkzB,qBAAqB,GAAG,KAAK1yB,SAAL,CAAe0yB,qBAA3C;;IACA,IAAI,CAACriB,4BAA4B,IAAI7Q,kBAAjC,KAAwD,CAACvB,iBAAiB,CAACy0B,qBAAqB,CAACxc,UAAvB,CAA9E,EAAkH;MAC9G/T,aAAa,CAACmC,UAAd,GAA2BouB,qBAAqB,CAACxc,UAAjD;IACH;;IACD,IAAI,CAAC7F,4BAA4B,IAAI7Q,kBAAjC,KAAwD,CAACvB,iBAAiB,CAACy0B,qBAAqB,CAACjuB,UAAvB,CAA9E,EAAkH;MAC9GtC,aAAa,CAACsC,UAAd,GAA2BiuB,qBAAqB,CAACjuB,UAAjD;IACH;;IACD,IAAI,CAAC4L,4BAA4B,IAAI7Q,kBAAjC,KAAwDkzB,qBAAqB,CAAC1uB,KAAlF,EAAyF;MACrF7B,aAAa,CAAC6B,KAAd,GAAsB0uB,qBAAqB,CAAC1uB,KAA5C;IACH;;IACD,IAAI,CAACqM,4BAA4B,IAAI7Q,kBAAjC,KAAwDkzB,qBAAqB,CAACtuB,eAAtB,KAA0C,OAAtG,EAA+G;MAC3GjC,aAAa,CAACiC,eAAd,GAAgCsuB,qBAAqB,CAACtuB,eAAtD;IACH;;IACD,IAAI,CAACiM,4BAA4B,IAAI7Q,kBAAjC,KAAwDkzB,qBAAqB,CAAC7tB,WAAtB,KAAsC,OAAlG,EAA2G;MACvG1C,aAAa,CAAC0C,WAAd,GAA4B6tB,qBAAqB,CAAC7tB,WAAlD;IACH;;IACD,IAAI,CAACwL,4BAA4B,IAAI7Q,kBAAjC,KAAwDkzB,qBAAqB,CAACruB,SAAtB,KAAoC,MAAhG,EAAwG;MACpGlC,aAAa,CAACkC,SAAd,GAA0BquB,qBAAqB,CAACruB,SAAhD;IACH;;IACD,IAAI,CAACgM,4BAA4B,IAAI7Q,kBAAjC,KAAwDkzB,qBAAqB,CAACvuB,KAAtB,KAAgC,OAA5F,EAAqG;MACjGhC,aAAa,CAACgC,KAAd,GAAsBuuB,qBAAqB,CAACvuB,KAA5C;IACH;;IACD,IAAI,CAACkM,4BAA4B,IAAI7Q,kBAAjC,KAAwDkzB,qBAAqB,CAACzuB,UAAtB,KAAqC,WAAjG,EAA8G;MAC1G9B,aAAa,CAAC8B,UAAd,GAA2ByuB,qBAAqB,CAACzuB,UAAjD;IACH;;IACD,IAAI,CAACoM,4BAA4B,IAAI7Q,kBAAjC,KAAwDkzB,qBAAqB,CAAC/vB,QAAtB,KAAmC,EAA/F,EAAmG;MAC/FR,aAAa,CAACQ,QAAd,GAAyB+vB,qBAAqB,CAAC/vB,QAA/C;IACH;;IACD,IAAI,CAAC0N,4BAA4B,IAAI7Q,kBAAjC,KAAwDkzB,qBAAqB,CAACxuB,SAAlF,EAA6F;MACzF/B,aAAa,CAAC+B,SAAd,GAA0B,KAAKuuB,gBAAL,CAAsBC,qBAAqB,CAACxuB,SAA5C,EAAuD/B,aAAvD,CAA1B;IACH;;IACD,IAAI,CAACkO,4BAA4B,IAAI7Q,kBAAjC,KAAwDkzB,qBAAqB,CAAC3vB,IAAlF,EAAwF;MACpFZ,aAAa,CAACY,IAAd,GAAqB2vB,qBAAqB,CAAC3vB,IAA3C;IACH;;IACD,IAAI,CAACsN,4BAA4B,IAAI7Q,kBAAjC,KAAwDkzB,qBAAqB,CAAC9tB,OAAlF,EAA2F;MACvFzC,aAAa,CAACyC,OAAd,GAAwB8tB,qBAAqB,CAAC9tB,OAA9C;IACH;;IACD,IAAI,CAACyL,4BAA4B,IAAI7Q,kBAAjC,KAAwDkzB,qBAAqB,CAAC5tB,SAAtB,KAAoC,CAAhG,EAAmG;MAC/F3C,aAAa,CAAC2C,SAAd,GAA0B4tB,qBAAqB,CAAC5tB,SAAhD;IACH;;IACD,IAAI,CAACuL,4BAA4B,IAAI7Q,kBAAjC,KAAwDkzB,qBAAqB,CAACluB,SAAlF,EAA6F;MACzFrC,aAAa,CAACqC,SAAd,GAA0BkuB,qBAAqB,CAACluB,SAAhD;IACH;;IACD,IAAI,CAAC6L,4BAA4B,IAAI7Q,kBAAjC,KAAwDkzB,qBAAqB,CAACnuB,UAAlF,EAA8F;MAC1FpC,aAAa,CAACoC,UAAd,GAA2BmuB,qBAAqB,CAACnuB,UAAjD;IACH;;IACD,IAAI,CAAC8L,4BAA4B,IAAI7Q,kBAAjC,KAAwD,CAACvB,iBAAiB,CAACy0B,qBAAqB,CAAChuB,OAAvB,CAA9E,EAA+G;MAC3GvC,aAAa,CAACuC,OAAd,GAAwBguB,qBAAqB,CAAChuB,OAA9C;IACH;EACJ,CAlDD;;EAmDA1F,YAAY,CAACkB,SAAb,CAAuBsT,qCAAvB,GAA+D,UAAUrR,aAAV,EAAyBkO,4BAAzB,EAAuD7Q,kBAAvD,EAA2E;IACtI,IAAImzB,qBAAqB,GAAG,KAAK3yB,SAAL,CAAe2yB,qBAA3C;;IACA,IAAI,CAACtiB,4BAA4B,IAAI7Q,kBAAjC,KAAwD,CAACvB,iBAAiB,CAAC00B,qBAAqB,CAACzc,UAAvB,CAA9E,EAAkH;MAC9G/T,aAAa,CAACmC,UAAd,GAA2BquB,qBAAqB,CAACzc,UAAjD;IACH;;IACD,IAAI,CAAC7F,4BAA4B,IAAI7Q,kBAAjC,KAAwD,CAACvB,iBAAiB,CAAC00B,qBAAqB,CAACluB,UAAvB,CAA9E,EAAkH;MAC9GtC,aAAa,CAACsC,UAAd,GAA2BkuB,qBAAqB,CAACluB,UAAjD;IACH;;IACD,IAAI,CAAC4L,4BAA4B,IAAI7Q,kBAAjC,KAAwDmzB,qBAAqB,CAACvuB,eAAtB,KAA0C,OAAtG,EAA+G;MAC3GjC,aAAa,CAACiC,eAAd,GAAgCuuB,qBAAqB,CAACvuB,eAAtD;IACH;;IACD,IAAI,CAACiM,4BAA4B,IAAI7Q,kBAAjC,KAAwDmzB,qBAAqB,CAAC9tB,WAAtB,KAAsC,OAAlG,EAA2G;MACvG1C,aAAa,CAAC0C,WAAd,GAA4B8tB,qBAAqB,CAAC9tB,WAAlD;IACH;;IACD,IAAI,CAACwL,4BAA4B,IAAI7Q,kBAAjC,KAAwDmzB,qBAAqB,CAAC5vB,IAAlF,EAAwF;MACpFZ,aAAa,CAACY,IAAd,GAAqB4vB,qBAAqB,CAAC5vB,IAA3C;IACH;;IACD,IAAI,CAACsN,4BAA4B,IAAI7Q,kBAAjC,KAAwDmzB,qBAAqB,CAAC/tB,OAAlF,EAA2F;MACvFzC,aAAa,CAACyC,OAAd,GAAwB+tB,qBAAqB,CAAC/tB,OAA9C;IACH;;IACD,IAAI,CAACyL,4BAA4B,IAAI7Q,kBAAjC,KAAwDmzB,qBAAqB,CAAC7tB,SAAtB,KAAoC,CAAhG,EAAmG;MAC/F3C,aAAa,CAAC2C,SAAd,GAA0B6tB,qBAAqB,CAAC7tB,SAAhD;IACH;;IACD,IAAI,CAACuL,4BAA4B,IAAI7Q,kBAAjC,KAAwDmzB,qBAAqB,CAACpuB,UAAlF,EAA8F;MAC1FpC,aAAa,CAACoC,UAAd,GAA2BouB,qBAAqB,CAACpuB,UAAjD;IACH;;IACD,IAAI,CAAC8L,4BAA4B,IAAI7Q,kBAAjC,KAAwD,CAACvB,iBAAiB,CAAC00B,qBAAqB,CAACjuB,OAAvB,CAA9E,EAA+G;MAC3GvC,aAAa,CAACuC,OAAd,GAAwBiuB,qBAAqB,CAACjuB,OAA9C;IACH;;IACD,IAAI,CAAC2L,4BAA4B,IAAI7Q,kBAAjC,KAAwD,CAACvB,iBAAiB,CAAC00B,qBAAqB,CAAC1tB,SAAvB,CAA9E,EAAiH;MAC7G9C,aAAa,CAAC8C,SAAd,GAA0B0tB,qBAAqB,CAAC1tB,SAAhD;IACH;EACJ,CAhCD;;EAiCAjG,YAAY,CAACkB,SAAb,CAAuBmU,uCAAvB,GAAiE,UAAUlS,aAAV,EAAyBkO,4BAAzB,EAAuD7Q,kBAAvD,EAA2E;IACxI,IAAIozB,wBAAwB,GAAG,KAAK5yB,SAAL,CAAe4yB,wBAA9C;;IACA,IAAI,CAACviB,4BAA4B,IAAI7Q,kBAAjC,KAAwD,CAACvB,iBAAiB,CAAC20B,wBAAwB,CAAC1c,UAA1B,CAA9E,EAAqH;MACjH/T,aAAa,CAACmC,UAAd,GAA2BsuB,wBAAwB,CAAC1c,UAApD;IACH;;IACD,IAAI,CAAC7F,4BAA4B,IAAI7Q,kBAAjC,KAAwD,CAACvB,iBAAiB,CAAC20B,wBAAwB,CAACnuB,UAA1B,CAA9E,EAAqH;MACjHtC,aAAa,CAACsC,UAAd,GAA2BmuB,wBAAwB,CAACnuB,UAApD;IACH;;IACD,IAAI,CAAC4L,4BAA4B,IAAI7Q,kBAAjC,KAAwDozB,wBAAwB,CAACxuB,eAAzB,KAA6C,OAAzG,EAAkH;MAC9GjC,aAAa,CAACiC,eAAd,GAAgCwuB,wBAAwB,CAACxuB,eAAzD;IACH;;IACD,IAAI,CAACiM,4BAA4B,IAAI7Q,kBAAjC,KAAwDozB,wBAAwB,CAAC/tB,WAAzB,KAAyC,OAArG,EAA8G;MAC1G1C,aAAa,CAAC0C,WAAd,GAA4B+tB,wBAAwB,CAAC/tB,WAArD;IACH;;IACD,IAAI,CAACwL,4BAA4B,IAAI7Q,kBAAjC,KAAwDozB,wBAAwB,CAAC7vB,IAArF,EAA2F;MACvFZ,aAAa,CAACY,IAAd,GAAqB6vB,wBAAwB,CAAC7vB,IAA9C;IACH;;IACD,IAAI,CAACsN,4BAA4B,IAAI7Q,kBAAjC,KAAwDozB,wBAAwB,CAAChuB,OAArF,EAA8F;MAC1FzC,aAAa,CAACyC,OAAd,GAAwBguB,wBAAwB,CAAChuB,OAAjD;IACH;;IACD,IAAI,CAACyL,4BAA4B,IAAI7Q,kBAAjC,KAAwDozB,wBAAwB,CAAC9tB,SAAzB,KAAuC,CAAnG,EAAsG;MAClG3C,aAAa,CAAC2C,SAAd,GAA0B8tB,wBAAwB,CAAC9tB,SAAnD;IACH;;IACD,IAAI,CAACuL,4BAA4B,IAAI7Q,kBAAjC,KAAwDozB,wBAAwB,CAACruB,UAArF,EAAiG;MAC7FpC,aAAa,CAACoC,UAAd,GAA2BquB,wBAAwB,CAACruB,UAApD;IACH;;IACD,IAAI,CAAC8L,4BAA4B,IAAI7Q,kBAAjC,KAAwD,CAACvB,iBAAiB,CAAC20B,wBAAwB,CAACluB,OAA1B,CAA9E,EAAkH;MAC9GvC,aAAa,CAACuC,OAAd,GAAwBkuB,wBAAwB,CAACluB,OAAjD;IACH;;IACD,IAAI,CAAC2L,4BAA4B,IAAI7Q,kBAAjC,KAAwD,CAACvB,iBAAiB,CAAC20B,wBAAwB,CAAC1tB,UAA1B,CAA9E,EAAqH;MACjH/C,aAAa,CAAC+C,UAAd,GAA2B0tB,wBAAwB,CAAC1tB,UAApD;IACH;EACJ,CAhCD;;EAiCAlG,YAAY,CAACkB,SAAb,CAAuB2R,qCAAvB,GAA+D,UAAU1P,aAAV,EAAyBkO,4BAAzB,EAAuD7Q,kBAAvD,EAA2E;IACtI,IAAIqzB,qBAAqB,GAAG,KAAK7yB,SAAL,CAAe8yB,qBAA3C;;IACA,IAAI,CAACziB,4BAA4B,IAAI7Q,kBAAjC,KAAwD,CAACvB,iBAAiB,CAAC40B,qBAAqB,CAAC3c,UAAvB,CAA9E,EAAkH;MAC9G/T,aAAa,CAACmC,UAAd,GAA2BuuB,qBAAqB,CAAC3c,UAAjD;IACH;;IACD,IAAI,CAAC7F,4BAA4B,IAAI7Q,kBAAjC,KAAwD,CAACvB,iBAAiB,CAAC40B,qBAAqB,CAACpuB,UAAvB,CAA9E,EAAkH;MAC9GtC,aAAa,CAACsC,UAAd,GAA2BouB,qBAAqB,CAACpuB,UAAjD;IACH;;IACD,IAAI,CAAC4L,4BAA4B,IAAI7Q,kBAAjC,KAAwDqzB,qBAAqB,CAACzuB,eAAtB,KAA0C,OAAtG,EAA+G;MAC3GjC,aAAa,CAACiC,eAAd,GAAgCyuB,qBAAqB,CAACzuB,eAAtD;IACH;;IACD,IAAI,CAACiM,4BAA4B,IAAI7Q,kBAAjC,KAAwDqzB,qBAAqB,CAAChuB,WAAtB,KAAsC,OAAlG,EAA2G;MACvG1C,aAAa,CAAC0C,WAAd,GAA4BguB,qBAAqB,CAAChuB,WAAlD;IACH;;IACD,IAAI,CAACwL,4BAA4B,IAAI7Q,kBAAjC,KAAwDqzB,qBAAqB,CAACxuB,SAAtB,KAAoC,MAAhG,EAAwG;MACpGlC,aAAa,CAACkC,SAAd,GAA0BwuB,qBAAqB,CAACxuB,SAAhD;IACH;;IACD,IAAI,CAACgM,4BAA4B,IAAI7Q,kBAAjC,KAAwDqzB,qBAAqB,CAAC1uB,KAAtB,KAAgC,OAA5F,EAAqG;MACjGhC,aAAa,CAACgC,KAAd,GAAsB0uB,qBAAqB,CAAC1uB,KAA5C;IACH;;IACD,IAAI,CAACkM,4BAA4B,IAAI7Q,kBAAjC,KAAwDqzB,qBAAqB,CAAC5uB,UAAtB,KAAqC,WAAjG,EAA8G;MAC1G9B,aAAa,CAAC8B,UAAd,GAA2B4uB,qBAAqB,CAAC5uB,UAAjD;IACH;;IACD,IAAI,CAACoM,4BAA4B,IAAI7Q,kBAAjC,KAAwDqzB,qBAAqB,CAAClwB,QAAtB,KAAmC,EAA/F,EAAmG;MAC/FR,aAAa,CAACQ,QAAd,GAAyBkwB,qBAAqB,CAAClwB,QAA/C;IACH;;IACD,IAAI,CAAC0N,4BAA4B,IAAI7Q,kBAAjC,KAAwDqzB,qBAAqB,CAAC3uB,SAAlF,EAA6F;MACzF/B,aAAa,CAAC+B,SAAd,GAA0B,KAAKuuB,gBAAL,CAAsBI,qBAAqB,CAAC3uB,SAA5C,EAAuD/B,aAAvD,CAA1B;MACA;IACH;;IACD,IAAI,CAACkO,4BAA4B,IAAI7Q,kBAAjC,KAAwDqzB,qBAAqB,CAAC9vB,IAAlF,EAAwF;MACpFZ,aAAa,CAACY,IAAd,GAAqB8vB,qBAAqB,CAAC9vB,IAA3C;IACH;;IACD,IAAI,CAACsN,4BAA4B,IAAI7Q,kBAAjC,KAAwDqzB,qBAAqB,CAACjuB,OAAlF,EAA2F;MACvFzC,aAAa,CAACyC,OAAd,GAAwBiuB,qBAAqB,CAACjuB,OAA9C;IACH;;IACD,IAAI,CAACyL,4BAA4B,IAAI7Q,kBAAjC,KAAwDqzB,qBAAqB,CAAC/tB,SAAtB,KAAoC,CAAhG,EAAmG;MAC/F3C,aAAa,CAAC2C,SAAd,GAA0B+tB,qBAAqB,CAAC/tB,SAAhD;IACH;;IACD,IAAI,CAACuL,4BAA4B,IAAI7Q,kBAAjC,KAAwDqzB,qBAAqB,CAACtuB,UAAlF,EAA8F;MAC1FpC,aAAa,CAACoC,UAAd,GAA2BsuB,qBAAqB,CAACtuB,UAAjD;IACH;;IACD,IAAI,CAAC8L,4BAA4B,IAAI7Q,kBAAjC,KAAwD,CAACvB,iBAAiB,CAAC40B,qBAAqB,CAACnuB,OAAvB,CAA9E,EAA+G;MAC3GvC,aAAa,CAACuC,OAAd,GAAwBmuB,qBAAqB,CAACnuB,OAA9C;IACH;;IACD,IAAI,CAAC2L,4BAA4B,IAAI7Q,kBAAjC,KAAwDqzB,qBAAqB,CAAC9tB,OAAlF,EAA2F;MACvF5C,aAAa,CAAC4C,OAAd,GAAwB5C,aAAa,CAAC4C,OAAd,IAAyB5C,aAAa,CAAC4C,OAAd,CAAsB7B,MAAtB,GAA+B,CAAxD,GAA4Df,aAAa,CAAC4C,OAA1E,GAAoF8tB,qBAAqB,CAAC9tB,OAAlI;IACH;EACJ,CAhDD;;EAiDA/F,YAAY,CAACkB,SAAb,CAAuBmS,oCAAvB,GAA8D,UAAUlQ,aAAV,EAAyBkO,4BAAzB,EAAuD7Q,kBAAvD,EAA2E;IACrI,IAAIuzB,oBAAoB,GAAG,KAAK/yB,SAAL,CAAe+yB,oBAA1C;;IACA,IAAI,CAAC1iB,4BAA4B,IAAI7Q,kBAAjC,KAAwD,CAACvB,iBAAiB,CAAC80B,oBAAoB,CAAC7c,UAAtB,CAA9E,EAAiH;MAC7G/T,aAAa,CAACmC,UAAd,GAA2ByuB,oBAAoB,CAAC7c,UAAhD;IACH;;IACD,IAAI,CAAC7F,4BAA4B,IAAI7Q,kBAAjC,KAAwD,CAACvB,iBAAiB,CAAC80B,oBAAoB,CAACtuB,UAAtB,CAA9E,EAAiH;MAC7GtC,aAAa,CAACsC,UAAd,GAA2BsuB,oBAAoB,CAACtuB,UAAhD;IACH;;IACD,IAAI,CAAC4L,4BAA4B,IAAI7Q,kBAAjC,KAAwDuzB,oBAAoB,CAAC3uB,eAArB,KAAyC,OAArG,EAA8G;MAC1GjC,aAAa,CAACiC,eAAd,GAAgC2uB,oBAAoB,CAAC3uB,eAArD;IACH;;IACD,IAAI,CAACiM,4BAA4B,IAAI7Q,kBAAjC,KAAwDuzB,oBAAoB,CAACluB,WAArB,KAAqC,OAAjG,EAA0G;MACtG1C,aAAa,CAAC0C,WAAd,GAA4BkuB,oBAAoB,CAACluB,WAAjD;IACH;;IACD,IAAI,CAACwL,4BAA4B,IAAI7Q,kBAAjC,KAAwDuzB,oBAAoB,CAAC1uB,SAArB,KAAmC,MAA/F,EAAuG;MACnGlC,aAAa,CAACkC,SAAd,GAA0B0uB,oBAAoB,CAAC1uB,SAA/C;IACH;;IACD,IAAI,CAACgM,4BAA4B,IAAI7Q,kBAAjC,KAAwDuzB,oBAAoB,CAAC5uB,KAArB,KAA+B,OAA3F,EAAoG;MAChGhC,aAAa,CAACgC,KAAd,GAAsB4uB,oBAAoB,CAAC5uB,KAA3C;IACH;;IACD,IAAI,CAACkM,4BAA4B,IAAI7Q,kBAAjC,KAAwDuzB,oBAAoB,CAAC9uB,UAArB,KAAoC,WAAhG,EAA6G;MACzG9B,aAAa,CAAC8B,UAAd,GAA2B8uB,oBAAoB,CAAC9uB,UAAhD;IACH;;IACD,IAAI,CAACoM,4BAA4B,IAAI7Q,kBAAjC,KAAwDuzB,oBAAoB,CAACpwB,QAArB,KAAkC,EAA9F,EAAkG;MAC9FR,aAAa,CAACQ,QAAd,GAAyBowB,oBAAoB,CAACpwB,QAA9C;IACH;;IACD,IAAI,CAAC0N,4BAA4B,IAAI7Q,kBAAjC,KAAwDuzB,oBAAoB,CAAC7uB,SAAjF,EAA4F;MACxF/B,aAAa,CAAC+B,SAAd,GAA0B,KAAKuuB,gBAAL,CAAsBM,oBAAoB,CAAC7uB,SAA3C,EAAsD/B,aAAtD,CAA1B;MACA;IACH;;IACD,IAAI,CAACkO,4BAA4B,IAAI7Q,kBAAjC,KAAwDuzB,oBAAoB,CAAChwB,IAAjF,EAAuF;MACnFZ,aAAa,CAACY,IAAd,GAAqBgwB,oBAAoB,CAAChwB,IAA1C;IACH;;IACD,IAAI,CAACsN,4BAA4B,IAAI7Q,kBAAjC,KAAwDuzB,oBAAoB,CAACnuB,OAAjF,EAA0F;MACtFzC,aAAa,CAACyC,OAAd,GAAwBmuB,oBAAoB,CAACnuB,OAA7C;IACH;;IACD,IAAI,CAACyL,4BAA4B,IAAI7Q,kBAAjC,KAAwDuzB,oBAAoB,CAACjuB,SAArB,KAAmC,CAA/F,EAAkG;MAC9F3C,aAAa,CAAC2C,SAAd,GAA0BiuB,oBAAoB,CAACjuB,SAA/C;IACH;;IACD,IAAI,CAACuL,4BAA4B,IAAI7Q,kBAAjC,KAAwDuzB,oBAAoB,CAACxuB,UAAjF,EAA6F;MACzFpC,aAAa,CAACoC,UAAd,GAA2BwuB,oBAAoB,CAACxuB,UAAhD;IACH;;IACD,IAAI,CAAC8L,4BAA4B,IAAI7Q,kBAAjC,KAAwD,CAACvB,iBAAiB,CAAC80B,oBAAoB,CAACruB,OAAtB,CAA9E,EAA8G;MAC1GvC,aAAa,CAACuC,OAAd,GAAwBquB,oBAAoB,CAACruB,OAA7C;IACH;;IACD,IAAI,CAAC2L,4BAA4B,IAAI7Q,kBAAjC,KAAwDuzB,oBAAoB,CAAChuB,OAAjF,EAA0F;MACtF5C,aAAa,CAAC4C,OAAd,GAAwB5C,aAAa,CAAC4C,OAAd,IAAyB5C,aAAa,CAAC4C,OAAd,CAAsB7B,MAAtB,GAA+B,CAAxD,GAA4Df,aAAa,CAAC4C,OAA1E,GAAoFguB,oBAAoB,CAAChuB,OAAjI;IACH;EACJ,CAhDD;;EAiDA/F,YAAY,CAACkB,SAAb,CAAuBkQ,gCAAvB,GAA0D,UAAU/D,cAAV,EAA0B9M,cAA1B,EAA0C8Q,4BAA1C,EAAwE7Q,kBAAxE,EAA4F;IAClJ,IAAI6P,oBAAoB,GAAG,KAAKrP,SAAL,CAAeqP,oBAA1C;IACA,IAAIf,sBAAsB,GAAG,KAAKtO,SAAL,CAAesO,sBAA5C;;IACA,IAAI/O,cAAJ,EAAoB;MAChB,IAAI,CAAC8Q,4BAA4B,IAAI7Q,kBAAjC,KAAwD,CAACvB,iBAAiB,CAACoR,oBAAoB,CAAC6G,UAAtB,CAA9E,EAAiH;QAC7G7J,cAAc,CAAC/H,UAAf,GAA4B+K,oBAAoB,CAAC6G,UAAjD;MACH;;MACD,IAAI,CAAC7F,4BAA4B,IAAI7Q,kBAAjC,KAAwD,CAACvB,iBAAiB,CAACoR,oBAAoB,CAAC5K,UAAtB,CAA9E,EAAiH;QAC7G4H,cAAc,CAAC5H,UAAf,GAA4B4K,oBAAoB,CAAC5K,UAAjD;MACH;;MACD,IAAI,CAAC4L,4BAA4B,IAAI7Q,kBAAjC,KAAwD6P,oBAAoB,CAAC9K,UAAjF,EAA6F;QACzF8H,cAAc,CAAC9H,UAAf,GAA4B8K,oBAAoB,CAAC9K,UAAjD;MACH;;MACD,IAAI,CAAC8L,4BAA4B,IAAI7Q,kBAAjC,KAAwD6P,oBAAoB,CAACzK,OAAjF,EAA0F;QACtFyH,cAAc,CAACzH,OAAf,GAAyByK,oBAAoB,CAACzK,OAA9C;MACH;;MACD,IAAI,CAACyL,4BAA4B,IAAI7Q,kBAAjC,KAAwD6P,oBAAoB,CAACtM,IAAjF,EAAuF;QACnFsJ,cAAc,CAACtJ,IAAf,GAAsBsM,oBAAoB,CAACtM,IAA3C;MACH;;MACD,IAAI,CAACsN,4BAA4B,IAAI7Q,kBAAjC,KAAwD,CAACvB,iBAAiB,CAACoR,oBAAoB,CAAC3K,OAAtB,CAA9E,EAA8G;QAC1G2H,cAAc,CAAC3H,OAAf,GAAyB2K,oBAAoB,CAAC3K,OAA9C;MACH;IACJ,CAnBD,MAoBK;MACD,IAAI,CAAC2L,4BAA4B,IAAI7Q,kBAAjC,KAAwD,CAACvB,iBAAiB,CAACqQ,sBAAsB,CAAC4H,UAAxB,CAA9E,EAAmH;QAC/G7J,cAAc,CAAC/H,UAAf,GAA4BgK,sBAAsB,CAAC4H,UAAnD;MACH;;MACD,IAAI,CAAC7F,4BAA4B,IAAI7Q,kBAAjC,KAAwD,CAACvB,iBAAiB,CAACqQ,sBAAsB,CAAC7J,UAAxB,CAA9E,EAAmH;QAC/G4H,cAAc,CAAC5H,UAAf,GAA4B6J,sBAAsB,CAAC7J,UAAnD;MACH;;MACD,IAAI,CAAC4L,4BAA4B,IAAI7Q,kBAAjC,KAAwD8O,sBAAsB,CAAC/J,UAAnF,EAA+F;QAC3F8H,cAAc,CAAC9H,UAAf,GAA4B+J,sBAAsB,CAAC/J,UAAnD;MACH;;MACD,IAAI,CAAC8L,4BAA4B,IAAI7Q,kBAAjC,KAAwD8O,sBAAsB,CAAC1J,OAAnF,EAA4F;QACxFyH,cAAc,CAACzH,OAAf,GAAyB0J,sBAAsB,CAAC1J,OAAhD;MACH;;MACD,IAAI,CAACyL,4BAA4B,IAAI7Q,kBAAjC,KAAwD8O,sBAAsB,CAACvL,IAAnF,EAAyF;QACrFsJ,cAAc,CAACtJ,IAAf,GAAsBuL,sBAAsB,CAACvL,IAA7C;MACH;;MACD,IAAI,CAACsN,4BAA4B,IAAI7Q,kBAAjC,KAAwD,CAACvB,iBAAiB,CAACqQ,sBAAsB,CAAC5J,OAAxB,CAA9E,EAAgH;QAC5G2H,cAAc,CAAC3H,OAAf,GAAyB4J,sBAAsB,CAAC5J,OAAhD;MACH;IACJ;EACJ,CA3CD;;EA4CA1F,YAAY,CAACkB,SAAb,CAAuBuyB,gBAAvB,GAA0C,UAAUvuB,SAAV,EAAqB/B,aAArB,EAAoC;IAC1E,IAAI6wB,aAAa,GAAG,MAApB;;IACA,IAAI9uB,SAAS,KAAK,CAAlB,EAAqB;MACjB/B,aAAa,CAAC8D,IAAd,CAAmBC,MAAnB,GAA4B,IAA5B;MACA8sB,aAAa,GAAG,MAAhB;IACH;;IACD,IAAI9uB,SAAS,KAAK,CAAlB,EAAqB;MACjB/B,aAAa,CAAC8D,IAAd,CAAmBE,QAAnB,GAA8B,IAA9B;MACA6sB,aAAa,GAAG,QAAhB;IACH;;IACD,IAAI9uB,SAAS,KAAK,CAAlB,EAAqB;MACjB/B,aAAa,CAAC8D,IAAd,CAAmBG,WAAnB,GAAiC,IAAjC;MACA4sB,aAAa,GAAG,eAAhB;IACH;;IACD,IAAI9uB,SAAS,KAAK,CAAlB,EAAqB;MACjB/B,aAAa,CAAC8D,IAAd,CAAmBI,WAAnB,GAAiC,IAAjC;MACA2sB,aAAa,GAAG,WAAhB;IACH;;IACD,OAAOA,aAAP;EACH,CAnBD;;EAoBAh0B,YAAY,CAACkB,SAAb,CAAuBwrB,YAAvB,GAAsC,UAAUrnB,SAAV,EAAqB;IACvD,IAAI4uB,KAAJ;;IACA,IAAI5uB,SAAS,KAAK,MAAlB,EAA0B;MACtB4uB,KAAK,GAAG,MAAR;IACH,CAFD,MAGK,IAAI5uB,SAAS,KAAK,OAAlB,EAA2B;MAC5B4uB,KAAK,GAAG,OAAR;IACH,CAFI,MAGA,IAAI5uB,SAAS,KAAK,QAAlB,EAA4B;MAC7B4uB,KAAK,GAAG,QAAR;IACH;;IACD,KAAK9P,cAAL,GAAsB8P,KAAtB;EACH,CAZD;;EAaAj0B,YAAY,CAACkB,SAAb,CAAuBorB,YAAvB,GAAsC,UAAUrlB,IAAV,EAAgB;IAClD,IAAIA,IAAI,CAACC,MAAT,EAAiB;MACb,KAAK8gB,aAAL,GAAqB,MAArB;IACH;;IACD,IAAI/gB,IAAI,CAACE,QAAT,EAAmB;MACf,KAAK+gB,eAAL,GAAuB,QAAvB;IACH;;IACD,IAAIjhB,IAAI,CAACI,WAAT,EAAsB;MAClB,KAAK8gB,kBAAL,GAA0B,WAA1B;IACH;;IACD,IAAIlhB,IAAI,CAACG,WAAT,EAAsB;MAClB,KAAKghB,kBAAL,GAA0B,cAA1B;IACH;EACJ,CAbD;;EAcA,OAAOpoB,YAAP;AACH,CAv2LiC,EAAlC;;AAw2LA,SAASA,YAAT"},"metadata":{},"sourceType":"module"}